{"version":3,"sources":["assets/images/bg.jpg","assets/images/GrandPiano.png","assets/images/star.png","assets/images/au_logo_shadow.png","assets/images/Chembalo.png","assets/images/UpRightPiano.png","hooks/useColorScheme.ts","constants/Colors.ts","components/Themed.tsx","api/operations/mutations/login.ts","components/WaitDialog.tsx","models/models.ts","api/asyncStorage.ts","components/ErrorDialog.tsx","api/client.ts","api/operations/queries/lang.ts","screens/Login.tsx","api/operations/queries/degrees.ts","hooks/useDegrees.ts","api/operations/queries/departments.ts","hooks/useDepartments.ts","screens/Signup/components/Agreement.tsx","components/CustomPicker/CustomPicker.tsx","components/CustomPicker/CustomPickerField.tsx","api/operations/mutations/signUp.ts","components/InfoDialog.tsx","screens/Signup/SignUp.tsx","screens/ForgotPassword.tsx","screens/ForgotPasswordSuccess.tsx","api/operations/queries/users.ts","hooks/useUsers.ts","helpers/helpers.ts","components/UserInfo.tsx","screens/Users.tsx","navigation/CustomSidebarMenu.tsx","api/operations/queries/schedule.ts","screens/Schedule.tsx","api/operations/queries/me.ts","screens/Profile.tsx","screens/Signup/SignUpStepTwo.tsx","screens/Signup/Verification.tsx","api/operations/queries/classrooms.ts","api/operations/subscriptions/classrooms.ts","hooks/useClassrooms.tsx","components/InstrumentInfo.tsx","components/InstrumentItem.tsx","hooks/useLocal.ts","helpers/queue/addToFilteredList.ts","hooks/useTimeLeft.ts","helpers/constants.ts","components/ClassroomCell.tsx","screens/ClassroomsList/InstrumentsList.tsx","components/CustomRating/CustomRating.tsx","screens/ClassroomsList/InstrumentFilters.tsx","screens/ClassroomsList/Filters.tsx","api/operations/mutations/addUserToQueue.ts","helpers/queue/getInLine.ts","api/operations/queries/usersSkips.ts","components/ClassroomInfo.tsx","screens/ClassroomsList/helpers.ts","components/InlineDialog.tsx","api/operations/mutations/removeUserFromQueue.ts","helpers/queue/removeFromLine.ts","components/ConfirmLineOut.tsx","screens/ClassroomsList/MyClassroomCell.tsx","helpers/filterDisabledForQueue.ts","helpers/filterSavedFIlters.ts","screens/ClassroomsList/SavedFilters.tsx","screens/ClassroomsList/ClassroomsList.tsx","screens/Signup/Frozen.tsx","screens/Loading.tsx","screens/Splash.tsx","screens/PrivacyPolicy.tsx","navigation/index.tsx","App.tsx","assets/images/ua.png","assets/images/en.png","node_modules/moment/locale sync /^/.//.*$","assets/images/au_logo.png","assets/images/key.png","assets/images/specialPiano.png"],"names":["module","exports","useColorScheme","_useColorScheme","light","text","background","tint","tabIconDefault","tabIconSelected","dark","red","blue","darkBlue","orange","useThemeColor","props","colorName","theme","colorFromProps","Colors","Text","style","lightColor","darkColor","otherProps","color","View","backgroundColor","LOGIN","gql","WaitDialog","visible","message","Portal","Dialog","dismissable","Title","textAlign","Content","Paragraph","ProgressBar","indeterminate","marginTop","ACCESS_RIGHTS","Mode","ErrorCodesUa","ErrorCodes","EmploymentTypes","EmploymentTypesUa","UserTypes","UserTypesUa","UserTypeColors","ActivityTypesColor","ActivityTypes","NotificationsTypes","AccountStatuses","OccupiedState","DisabledState","ClassroomsFilterTypes","QueueState","QueueType","Langs","setItem","key","value","a","async","AsyncStorage","JSON","stringify","console","log","getItem","then","result","parse","removeItem","ErrorDialog","hideDialog","onDismiss","marginBottom","Actions","Button","onPress","wsLink","WebSocketLink","uri","options","reconnect","httpLink","createHttpLink","authLink","setContext","_","headers","token","authorization","splitLink","split","query","definition","getMainDefinition","kind","operation","client","ApolloClient","link","concat","cache","InMemoryCache","typePolicies","Query","fields","me","read","meVar","lang","langVar","accessRights","accessRightsVar","mode","modeVar","minimalClassroomIds","minimalClassroomIdsVar","desirableClassroomIds","desirableClassroomIdsVar","isMinimalSetup","isMinimalSetupVar","makeVar","UA","USER","PRIMARY","GET_LANG","Login","route","navigation","useMutation","login","loading","useState","email","setEmail","password","setPassword","showPassword","setShowPassword","modalActivator","setModalActivator","showError","setShowError","errorMessage","setErrorMessage","pushNotificationToken","useQuery","data","useEffect","res","handleChangeLang","lng","styles","container","ImageBackground","source","require","bg","Image","logo","langSwitcher","TouchableHighlight","langImageSelected","langImage","EN","title","Surface","inputs","TextInput","label","input","onChangeText","e","secureTextEntry","selectionColor","right","Icon","name","prevState","length","variables","notificationToken","userErrors","code","user","queue","minimal","filter","type","state","MINIMAL","ACTIVE","desired","DESIRED","INLINE","map","classroom","id","graphQLErrors","button","disabled","navigate","uppercase","labelStyle","footer","StyleSheet","create","flex","alignItems","justifyContent","overflow","width","resizeMode","fontSize","fontWeight","elevation","borderRadius","paddingLeft","paddingRight","paddingBottom","height","opacity","flexDirection","GET_DEGREES","useDegrees","updateList","degrees","setDegrees","where","fetchPolicy","slice","sort","b","GET_DEPARTMENTS","useDepartments","departments","setDepartments","Agreement","setCheckAgreement","wrapper","ScrollView","position","top","bottom","CustomPicker","setSelected","selected","items","searchText","setSearchText","filteredItems","setFilteredItems","filtered","String","toLowerCase","includes","Modal","contentContainerStyle","Searchbar","placeholder","search","clearButtonMode","item","handlePress","borderBottomWidth","borderStyle","borderBottomColor","padding","margin","CustomPickerField","setIsVisited","checkValidation","underlineColor","visiblePicker","setVisiblePicker","showPicker","picker","pickerField","numberOfLines","IconButton","icon","pickerIcon","paddingVertical","SIGN_UP","InfoDialog","navigateToLogin","marginRight","currentYear","parseInt","moment","format","startYearsItems","windowHeight","Dimensions","get","SignUp","selectedDepartment","setSelectedDepartment","selectedDegree","setSelectedDegree","selectedStartYear","setSelectedStartYear","setVisible","visibleAgreement","setVisibleAgreement","visibleBackDialog","setVisibleBackDialog","firstName","setFirstName","lastName","setLastName","patronymic","setPatronymic","phoneNumber","setPhoneNumber","passwordConfirm","setPasswordConfirm","checkAgreement","isSignupTouched","setIsSignupTouched","isLastNameValidated","setIsLastNameValidated","isFirstNameValidated","setIsFirstNameValidated","isEmailValidated","setIsEmailValidated","isPhoneValidated","setIsPhoneValidated","isPasswordValidated","setIsPasswordValidated","isPasswordConfirmValidated","setIsPasswordConfirmValidated","isStartYearValidated","setIsStartYearValidated","isDepartmentValidated","setIsDepartmentValidated","isDegreeValidated","setIsDegreeValidated","isStartYearModalVisited","setIsStartYearModalVisited","setIsDepartmentModalVisited","isDegreeModalVisited","setIsDegreeModalVisited","signup","checkLastNameValidation","error","checkFirstNameValidation","checkEmailValidation","test","checkPhoneValidation","checkPasswordValidation","checkPasswordConfirmValidation","checkStartYearValidation","checkDepartmentValidation","checkDegreeValidation","goBack","Error","validator","HelperText","Appbar","BackAction","subtitle","scrollView","Banner","actions","infoPanel","onBlur","keyboardType","forceTextInputFocus","agreement","Checkbox","status","uncheckedColor","navButtons","department","degree","startYear","alert","signUpButton","left","paddingTop","textDecorationLine","ForgotPassword","ForgotPasswordSuccess","loginButton","GET_USERS","GET_USER_BY_ID","useUsers","users","setUsers","formatMinutesToMM","fullName","withInitials","nameTemp","charAt","typeStyle","occupied","student","isNotFree","STUDENT","POST_GRADUATE","ISODateString","d","pad","n","getUTCFullYear","getUTCMonth","getUTCDate","isTeacherType","TEACHER","CONCERTMASTER","ILLUSTRATOR","isPendingForMe","PENDING","RESERVED","isOwnClassroom","OCCUPIED","FREE","getIsMeOccupied","classrooms","find","UserInfo","userId","hideModal","openPhoneNumber","Linking","openURL","containerStyle","ActivityIndicator","animating","occupantName","Divider","divider","phoneRow","extraPhoneNumbers","number","index","borderWidth","borderColor","Users","pages","setPages","currentPage","setCurrentPage","currentUserId","setCurrentUserId","UserElement","DataTable","Row","showModal","Cell","Header","header","alignSelf","list","Pagination","pagination","page","numberOfPages","onPageChange","sideMenuProfileIcon","iconStyle","marginHorizontal","customItem","userData","userName","logout","marginVertical","CustomSidebarMenu","SafeAreaView","size","DrawerContentScrollView","DrawerItemList","GET_SCHEDULE_UNIT","GET_SCHEDULE","windowWidth","Schedule","timeline","date","Date","hour","Action","pointerEvents","schedule","lastValue","row","from","unit","to","gap","onTouchEnd","activity","INDIVIDUAL_LESSON","marginLeft","borderLeftColor","borderLeftWidth","paddingHorizontal","flexWrap","zIndex","GET_ME","Profile","setUser","expireDate","SignUpStepTwo","useNavigation","lineHeight","Verification","storageUser","setStorageUser","update","setUpdate","isLoading","setIsLoading","u","GET_CLASSROOMS","FOLLOW_CLASSROOMS","useClassrooms","setClassrooms","subscribeToMore","document","InstrumentInfo","instrument","instrumentType","intRate","Math","round","rate","Array","fill","toFixed","star","InstrumentItem","expanded","imageSource","useLocal","localVarName","addToFilteredList","classroomId","elementIndex","findIndex","filteredArray","splice","useTimeLeft","minutesDuration","timeLeft","setTimeLeft","timeLeftInPer","setTimeLeftInPer","interval","useRef","current","setInterval","until","lastIndex","differenceInMs","diff","tempTime","duration","resultHHMMSS","hours","minutes","seconds","resultPercents","getTimeFromUntil","leftPer","min","sec","clearInterval","cellWidth","ClassroomsCell","filteredList","special","instruments","userFullName","occupiedTotalTime","handleTouch","NOT_DISABLED","ProgressBackground","timeLeftProgress","QUEUE_SETUP","underlayColor","DISABLED","onLongPress","cell","free","checkMark","keyImage","cellHeader","notSpecial","occupationInfo","comment","space","tintColor","InstrumentsList","isGrandPianoOnly","setIsGrandPianoOnly","RadioButton","Group","onValueChange","newValue","handleSelect","CustomRating","count","setCount","stars","TouchableOpacity","handleRate","InstrumentFilters","setInstruments","visibleList","setVisibleList","visibleRate","setVisibleRate","showModalList","body","instrumentRow","newArray","removeInstrument","noInstrumentsLabel","newInstrumentRow","newInstrument","buttons","radioItem","checkbox","countInput","Filters","apply","setSpecial","withWing","setWithWing","onlyOperaStudio","setOnlyOperaStudio","visibleInstrumentFilters","setVisibleInstrumentFilters","Headline","getEnding","ADD_USER_TO_QUEUE","getInLine","minimalClassroomsIds","allClassroomIds","Set","minimalData","desirableData","mutate","mutation","GET_USERS_SKIPS","ClassroomInfo","params","isWing","isOperaStudio","chair","description","floor","classroomName","visibleBanner","setVisibleBanner","skips","setSkips","queueInfo","getUsersSkips","isAlreadyFilteredClassroom","addOneClassroomToQueue","isMinimal","tags","Chip","selectedColor","tag","occupantType","progress","colors","progressBar","occupiedUntil","getHours","getMinutes","freeText","queueSetupButtons","occupiedClassroom","spaceBottom30","scheduleHeader","instrumentTypeOrder","GrandPiano","UpRightPiano","getClassroomsFilteredByInstruments","userInstrumentFilterInput","instrumentsFilterSorted","instA","instB","instrumentsFilter","classroomInstruments","classroomGrandPianoInd","getMinimumSatisfactoryInstrumentIndex","pop","classroomInstrumentInd","minimumRate","bestIndex","forEach","i","InlineDialog","queueLength","paragraph","REMOVE_USER_FROM_QUEUE","removeFromLine","equals","ConfirmLineOut","MyClassroomCell","ownClassroom","setOwnClassroom","own","gridDivider","grid","filterDisabledForQueue","isHidden","filterSavedFilter","savedFilter","enabledClassrooms","minimalIds","desireIds","SavedFilters","savedFilters","setSavedFilters","isSaving","setIsSaving","inputName","setInputName","selectedFilter","setSelectedFilter","saveAsMainFilter","setSaveAsMainFilter","filterItem","itemRow","selectedItem","handleSelectFilter","main","bin","newFilters","handleRemoveFilter","newFilterSection","mainFilterCheckbox","Stack","createStackNavigator","screenHeight","Home","Navigator","screenOptions","headerShown","initialRouteName","Screen","component","ClassroomsList","followClassrooms","visibleSavedFilters","setVisibleSavedFilters","visibleModalInline","setVisibleModalInline","visibleLineOut","setVisibleLineOut","queueSize","freeClassroomsAmount","setFreeClassroomsAmount","inlineTitle","unsubscribeRef","myClassroom","occupiedClassrooms","filterHiddenClassrooms","filterDisabledClassrooms","filterMyPendingClassrooms","filterQueuedClassrooms","dispatch","DrawerActions","openDrawer","queueSwitcher","OWNER","mainFilter","approve","getOutLine","getOutLineSingle","operaStudioOnly","filteredIds","Frozen","Loading","Splash","PrivacyPolicy","Navigation","colorScheme","NavigationContainer","DarkTheme","DefaultTheme","RootNavigator","Drawer","createDrawerNavigator","accountStatus","setAccountStatus","appIsReady","setAppIsReady","getAccountStatus","studentInfo","employeeInfo","getMe","SplashScreen","warn","drawerStyle","drawer","drawerContentOptions","activeBackgroundColor","drawerContent","UNVERIFIED","FROZEN","ACADEMIC_LEAVE","checkStatus","initialParams","App","roundness","primary","accent","Provider","StatusBar","webpackContext","req","webpackContextResolve","__webpack_require__","o","keys","Object","resolve"],"mappings":"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","file":"static/js/app.b2553716.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/bg.5326a7ca.jpg\";","module.exports = __webpack_public_path__ + \"static/media/GrandPiano.5e053f8a.png\";","module.exports = __webpack_public_path__ + \"static/media/star.f99f6a14.png\";","module.exports = __webpack_public_path__ + \"static/media/au_logo_shadow.0250c21a.png\";","module.exports = __webpack_public_path__ + \"static/media/Chembalo.5e053f8a.png\";","module.exports = __webpack_public_path__ + \"static/media/UpRightPiano.791ce387.png\";","import { ColorSchemeName, useColorScheme as _useColorScheme } from 'react-native';\n\n// The useColorScheme value is always either light or dark, but the built-in\n// type suggests that it can be null. This will not happen in practice, so this\n// makes it a bit easier to work with.\nexport default function useColorScheme(): NonNullable<ColorSchemeName> {\n  return _useColorScheme() as NonNullable<ColorSchemeName>;\n}\n","const tintColorLight = '#2f95dc';\nconst tintColorDark = '#fff';\n\nexport default {\n  light: {\n    text: '#000',\n    background: '#fff',\n    tint: tintColorLight,\n    tabIconDefault: '#ccc',\n    tabIconSelected: tintColorLight,\n  },\n  dark: {\n    text: '#fff',\n    background: '#000',\n    tint: tintColorDark,\n    tabIconDefault: '#ccc',\n    tabIconSelected: tintColorDark,\n  },\n  red: '#f91354',\n  blue: '#2b5dff',\n  darkBlue: '#2e287c',\n  orange: '#ffc000',\n};\n","/**\n * Learn more about Light and Dark modes:\n * https://docs.expo.io/guides/color-schemes/\n */\n\nimport * as React from 'react';\nimport { Text as DefaultText, View as DefaultView } from 'react-native';\n\nimport Colors from '../constants/Colors';\nimport useColorScheme from '../hooks/useColorScheme';\n\nexport function useThemeColor(\n  props: { light?: string; dark?: string },\n  colorName: keyof typeof Colors.light & keyof typeof Colors.dark\n) {\n  const theme = useColorScheme();\n  const colorFromProps = props[theme];\n\n  if (colorFromProps) {\n    return colorFromProps;\n  } else {\n    return Colors[theme][colorName];\n  }\n}\n\ntype ThemeProps = {\n  lightColor?: string;\n  darkColor?: string;\n};\n\nexport type TextProps = ThemeProps & DefaultText['props'];\nexport type ViewProps = ThemeProps & DefaultView['props'];\n\nexport function Text(props: TextProps) {\n  const { style, lightColor, darkColor, ...otherProps } = props;\n  const color = useThemeColor({ light: lightColor, dark: darkColor }, 'text');\n\n  return <DefaultText style={[{ color }, style]} {...otherProps} />;\n}\n\nexport function View(props: ViewProps) {\n  const { style, lightColor, darkColor, ...otherProps } = props;\n  const backgroundColor = useThemeColor({ light: lightColor, dark: darkColor }, 'background');\n\n  return <DefaultView style={[{ backgroundColor }, style]} {...otherProps} />;\n}\n","import { gql } from \"@apollo/client\";\r\n\r\nexport const LOGIN = gql`\r\n    mutation login($input: LoginInput!) {\r\n        login(input: $input) {\r\n            token\r\n            user {\r\n                id\r\n                firstName\r\n                patronymic\r\n                lastName\r\n                type\r\n                phoneNumber\r\n                extraPhoneNumbers\r\n                email\r\n                department {\r\n                  id\r\n                  name  \r\n                }\r\n                occupiedClassrooms {\r\n                state\r\n                until\r\n                classroom {\r\n                 id\r\n                 name\r\n                }\r\n                }\r\n                studentInfo {\r\n                  degree {\r\n                    name\r\n                  }\r\n                  startYear\r\n                  accountStatus\r\n                }\r\n                employeeInfo {\r\n                  employmentType\r\n                  accountStatus\r\n                }\r\n                queue {\r\n                  id\r\n                  classroom {\r\n                    id\r\n                    name\r\n                  }\r\n                  state\r\n                  type\r\n                }\r\n            }\r\n               \r\n            userErrors {\r\n                message\r\n                code\r\n            }\r\n        }\r\n    }\r\n`;","import * as React from 'react';\nimport {Paragraph, Dialog, Portal, ProgressBar} from 'react-native-paper';\n\ninterface PropTypes {\n  message: string;\n  visible: boolean;\n}\n\nexport default function WaitDialog({visible, message}: PropTypes) {\n  return (\n      <Portal>\n        <Dialog visible={visible} dismissable={false}>\n          <Dialog.Title style={{textAlign: 'center'}}>Зачекайте, будь ласка!</Dialog.Title>\n          <Dialog.Content>\n            <Paragraph style={{textAlign: 'center'}}>{message}</Paragraph>\n            <ProgressBar indeterminate style={{marginTop: 16}}/>\n          </Dialog.Content>\n        </Dialog>\n      </Portal>\n  );\n};","export enum ACCESS_RIGHTS {\r\n  USER,\r\n  DISPATCHER,\r\n  ADMIN\r\n}\r\n\r\nexport enum Mode {\r\n  PRIMARY = 'PRIMARY',\r\n  QUEUE_SETUP = 'QUEUE_SETUP',\r\n  INLINE = 'INLINE',\r\n  OWNER = 'OWNER'\r\n}\r\n\r\nexport enum ErrorCodesUa {\r\n  INVALID_PASSWORD = \"Невірний пароль\",\r\n  USER_NOT_FOUND = \"Користувача не знайдено\",\r\n}\r\n\r\nexport enum ErrorCodes {\r\n  INVALID_PASSWORD = \"INVALID_PASSWORD\",\r\n  USER_NOT_FOUND = \"USER_NOT_FOUND\",\r\n}\r\n\r\nexport enum EmploymentTypes {\r\n  FULL_TIME = 'FULL_TIME',\r\n  PART_TIME = 'PART_TIME',\r\n  HOURLY = 'HOURLY',\r\n}\r\n\r\nexport enum EmploymentTypesUa {\r\n  FULL_TIME = 'Штатний співробітник',\r\n  PART_TIME = 'Часткова',\r\n  HOURLY = 'Погодинна',\r\n}\r\n\r\nexport enum UserTypes {\r\n  STUDENT = \"STUDENT\",\r\n  TEACHER = \"TEACHER\",\r\n  POST_GRADUATE = \"POST_GRADUATE\",\r\n  ADMIN = \"ADMIN\",\r\n  DISPATCHER = \"DISPATCHER\",\r\n  PIANO_TUNER = \"PIANO_TUNER\",\r\n  STAFF = \"STAFF\",\r\n  CONCERTMASTER = \"CONCERTMASTER\",\r\n  ILLUSTRATOR = \"ILLUSTRATOR\",\r\n  OTHER = \"OTHER\",\r\n}\r\n\r\nexport enum UserTypesUa {\r\n  STUDENT = \"Студент\",\r\n  TEACHER = \"Викладач\",\r\n  POST_GRADUATE = \"Асистент/аспірант\",\r\n  ADMIN = \"Адмін\",\r\n  DISPATCHER = \"Диспетчер\",\r\n  PIANO_TUNER = \"Настроювач фортепіано\",\r\n  STAFF = \"Співробітник\",\r\n  CONCERTMASTER = \"Концертмейстер\",\r\n  ILLUSTRATOR = \"Іллюстратор\",\r\n  OTHER = \"Користувач\",\r\n}\r\n\r\nexport enum UserTypeColors {\r\n  STUDENT = \"#1e2c4f\",\r\n  TEACHER = \"#ffa200\",\r\n  POST_GRADUATE = \"#1e2c4f\",\r\n  ADMIN = \"#ffa200\",\r\n  DISPATCHER = \"#ffa200\",\r\n  PIANO_TUNER = \"#ffa200\",\r\n  STAFF = \"#ffa200\",\r\n  CONCERTMASTER = \"#ffa200\",\r\n  ILLUSTRATOR = \"#ffa200\",\r\n  OTHER = \"#ffa200\",\r\n}\r\n\r\nexport enum ActivityTypesColor {\r\n  LECTURE = '#ffa200',\r\n  INDIVIDUAL_LESSON = '#2b5dff'\r\n}\r\n\r\nexport enum ActivityTypes {\r\n  LECTURE = 'LECTURE',\r\n  INDIVIDUAL_LESSON = 'INDIVIDUAL_LESSON'\r\n}\r\n\r\nexport enum NotificationsTypes {\r\n  OK = \"ok\",\r\n  ALERT = \"alert\",\r\n  DEFAULT = \"default\",\r\n}\r\n\r\nexport enum AccountStatuses {\r\n  ACTIVE = 'ACTIVE',\r\n  UNVERIFIED = 'UNVERIFIED',\r\n  ACADEMIC_LEAVE = 'ACADEMIC_LEAVE',\r\n  FROZEN = 'FROZEN'\r\n}\r\n\r\nexport type User = {\r\n  id: number;\r\n  createdAt: Date;\r\n  firstName: string;\r\n  patronymic: string | null;\r\n  lastName: string;\r\n  type: string;\r\n  department: Department;\r\n  email: string;\r\n  phoneNumber: string;\r\n  extraPhoneNumbers: string | null;\r\n  nameTemp: string | null;\r\n  startYear: number;\r\n  studentInfo: StudentInfo;\r\n  employeeInfo: EmployeeInfo;\r\n  expireDate: Date | null;\r\n  classroom: ClassroomType;\r\n  queue: QueueRecord[];\r\n};\r\n\r\nexport type CurrentUser = {\r\n  id: number;\r\n  createdAt: Date;\r\n  firstName: string;\r\n  patronymic: string | null;\r\n  lastName: string;\r\n  type: string;\r\n  department: Department;\r\n  email: string;\r\n  phoneNumber: string;\r\n  extraPhoneNumbers: string | null;\r\n  nameTemp: string | null;\r\n  startYear: number;\r\n  studentInfo: StudentInfo;\r\n  employeeInfo: EmployeeInfo;\r\n  expireDate: Date | null;\r\n  occupiedClassrooms: {\r\n    id: number;\r\n    state: OccupiedState;\r\n    until: string;\r\n    classroom: ClassroomType;\r\n    user: User;\r\n  }[];\r\n  queue: QueueRecord[];\r\n}\r\n\r\nexport type StudentInfo = {\r\n  degree: Degree;\r\n  startYear: number;\r\n  accountStatus: AccountStatuses;\r\n};\r\n\r\nexport type EmployeeInfo = {\r\n  employmentType: EmploymentTypes;\r\n  accountStatus: AccountStatuses;\r\n};\r\n\r\nexport type OccupiedInfo = {\r\n  user: User | null;\r\n  until: Date | null;\r\n  state: OccupiedState;\r\n};\r\n\r\nexport enum OccupiedState {\r\n  FREE = 'FREE',\r\n  OCCUPIED = 'OCCUPIED',\r\n  PENDING = 'PENDING',\r\n  RESERVED = 'RESERVED'\r\n}\r\n\r\nexport type Comment = {\r\n  id: number;\r\n  user: User;\r\n  body: string;\r\n  date: Date;\r\n};\r\n\r\nexport type InstrumentType = {\r\n  id: number;\r\n  type: string;\r\n  name: string;\r\n  rate: number;\r\n  persNumber: number;\r\n  comments: Comment | null;\r\n  classroom: ClassroomType;\r\n};\r\n\r\nexport enum DisabledState {\r\n  DISABLED = 'DISABLED',\r\n  NOT_DISABLED = 'NOT_DISABLED'\r\n}\r\n\r\nexport type DisabledInfo = {\r\n  state: DisabledState;\r\n  comment: string;\r\n  until: Date;\r\n};\r\n\r\nexport type ScheduleUnitType = {\r\n  id: number;\r\n  user: User;\r\n  classroom: ClassroomType;\r\n  dateStart: Date;\r\n  dateEnd: Date;\r\n  dayOfWeek: number;\r\n  from: string;\r\n  to: string;\r\n  activity: string;\r\n};\r\n\r\nexport type ClassroomType = {\r\n  id: number;\r\n  name: string;\r\n  chair: Department | null;\r\n  special: string | null;\r\n  floor: number;\r\n  isWing: boolean;\r\n  isOperaStudio: boolean;\r\n  description: string | null;\r\n  occupied: OccupiedInfo;\r\n  instruments: Array<InstrumentType>;\r\n  disabled: DisabledInfo | null;\r\n  schedule: Array<ScheduleUnitType>;\r\n  isHidden: boolean;\r\n};\r\n\r\nexport type RegisterUnit = {\r\n  id: number;\r\n  user: User;\r\n  nameTemp: string;\r\n  classroom: {\r\n    id: number;\r\n    name: string;\r\n  };\r\n  start: string;\r\n  end: string;\r\n};\r\n\r\nexport type Degree = {\r\n  id: number\r\n  name: string;\r\n  startMonth: number;\r\n  startDay: number;\r\n  durationMonths: number;\r\n};\r\n\r\nexport type Faculty = {\r\n  id: number;\r\n  name: string;\r\n  departments: Department[];\r\n  users: User[];\r\n}\r\n\r\nexport type Department = {\r\n  id: number;\r\n  name: string;\r\n  faculty: Faculty;\r\n  users: User[];\r\n};\r\n\r\nexport type MenuElement = {\r\n  text: string;\r\n  path: string;\r\n  icon: string;\r\n  exact?: boolean;\r\n  rights: string;\r\n};\r\n\r\nexport enum ClassroomsFilterTypes {\r\n  ALL = 'ALL',\r\n  FREE = 'FREE',\r\n  SPECIAL = 'SPECIAL',\r\n  INLINE = 'INLINE'\r\n}\r\n\r\nexport enum QueueState {\r\n  ACTIVE = 'ACTIVE',\r\n  RESERVED = 'RESERVED'\r\n}\r\n\r\nexport enum QueueType {\r\n  MINIMAL = 'MINIMAL',\r\n  DESIRED = 'DESIRED'\r\n}\r\n\r\nexport type QueueRecord = {\r\n  id: number;\r\n  user: User;\r\n  date: string;\r\n  classroom: ClassroomType;\r\n  state: QueueState;\r\n  type: QueueType;\r\n}\r\n\r\nexport type SavedFilterT = {\r\n  minimalClassroomIds: number[];\r\n  desirableClassroomIds: number[];\r\n  name: string;\r\n  main: boolean;\r\n}\r\n\r\nexport enum Langs {\r\n  EN = 'EN',\r\n  UA = 'UA'\r\n}","import AsyncStorage from '@react-native-async-storage/async-storage'\n\n\nexport const setItem = async (key: string, value: any) => {\n  try {\n    await AsyncStorage.setItem(key, JSON.stringify(value));\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nexport const getItem = async (key: string) => {\n  let result;\n  try {\n    await AsyncStorage.getItem(key).then(value => {\n      if (value !== null) {\n        result = JSON.parse(value as string)\n      }\n    });\n    return result;\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nexport const removeItem = async (key: string) => {\n  try {\n    await AsyncStorage.removeItem(key);\n  } catch (e) {\n    console.log(e);\n  }\n};","import * as React from 'react';\nimport {Dialog, Portal, Button} from 'react-native-paper';\nimport {Text} from 'react-native';\n\ninterface PropTypes {\n  visible: boolean;\n  hideDialog: () => void;\n  message?: string;\n}\n\nexport default function ErrorDialog({visible, hideDialog, message}: PropTypes) {\n  return (\n    <Portal>\n      <Dialog visible={visible} onDismiss={hideDialog}>\n        <Dialog.Title style={{color: '#f91354'}}>Упс!</Dialog.Title>\n        <Dialog.Content>\n          <Text style={{marginBottom: -20}}>{!message ? 'Щось пішло не так' : message}!</Text>\n        </Dialog.Content>\n        <Dialog.Actions>\n          <Button onPress={hideDialog}>Закрити</Button>\n        </Dialog.Actions>\n      </Dialog>\n    </Portal>\n  );\n};","import {ApolloClient, createHttpLink, InMemoryCache, makeVar, split} from \"@apollo/client\";\r\nimport {ACCESS_RIGHTS, Langs, Mode, User} from \"../models/models\";\r\nimport {WebSocketLink} from '@apollo/client/link/ws';\r\nimport {getMainDefinition} from \"@apollo/client/utilities\";\r\nimport {setContext} from \"@apollo/client/link/context\";\r\nimport {getItem} from \"./asyncStorage\";\r\n\r\nconst wsLink = new WebSocketLink({\r\n  uri: 'ws://54.75.17.229:4000/',\r\n  options: {\r\n    reconnect: true,\r\n    // connectionParams: {\r\n    //   authToken: user.authToken,\r\n    // },\r\n  }\r\n});\r\n\r\nconst httpLink = createHttpLink({\r\n  uri: 'http://54.75.17.229:4000/'\r\n});\r\n\r\nconst authLink = setContext(async function(_, { headers }) {\r\n  const token = await getItem('token');\r\n  return {\r\n    headers: {\r\n      ...headers,\r\n      authorization: token ? `Bearer ${token}` : \"\",\r\n    }\r\n  }\r\n});\r\n\r\nconst splitLink = split(\r\n  ({ query }) => {\r\n    const definition = getMainDefinition(query);\r\n    return (\r\n      definition.kind === 'OperationDefinition' &&\r\n      definition.operation === 'subscription'\r\n    );\r\n  },\r\n  wsLink,\r\n  httpLink,\r\n);\r\n\r\nexport const client = new ApolloClient({\r\n  link: authLink.concat(splitLink),\r\n  cache: new InMemoryCache({\r\n    typePolicies: {\r\n      Query: {\r\n        fields: {\r\n          me: {\r\n            read() {\r\n              return meVar();\r\n            },\r\n          },\r\n          lang: {\r\n            read() {\r\n              return langVar();\r\n            },\r\n          },\r\n          accessRights: {\r\n            read() {\r\n              return accessRightsVar();\r\n            },\r\n          },\r\n          mode: {\r\n            read() {\r\n              return modeVar();\r\n            },\r\n          },\r\n          minimalClassroomIds: {\r\n            read() {\r\n              return minimalClassroomIdsVar();\r\n            },\r\n\r\n          },\r\n          desirableClassroomIds: {\r\n            read() {\r\n              return desirableClassroomIdsVar();\r\n            },\r\n          },\r\n          isMinimalSetup: {\r\n            read() {\r\n              return isMinimalSetupVar();\r\n            },\r\n          },\r\n        },\r\n      },\r\n    },\r\n  }),\r\n});\r\n\r\nexport const meVar = makeVar<User | null>(null);\r\nexport const langVar = makeVar<Langs>(Langs.UA);\r\nexport const accessRightsVar = makeVar(ACCESS_RIGHTS.USER);\r\nexport const modeVar = makeVar(Mode.PRIMARY);\r\nexport const minimalClassroomIdsVar = makeVar<number[]>([]);\r\nexport const desirableClassroomIdsVar = makeVar<number[]>([]);\r\nexport const isMinimalSetupVar = makeVar(true);","import {gql} from \"@apollo/client\";\r\n\r\nexport const GET_LANG = gql`\r\n    query langType {\r\n        lang @client\r\n    }\r\n`;","import * as React from 'react';\nimport {useEffect, useState} from 'react';\nimport {Image, ImageBackground, StyleSheet, TouchableHighlight} from 'react-native';\nimport {Button, Surface, TextInput} from 'react-native-paper';\nimport {Text, View} from '../components/Themed';\nimport {useMutation, useQuery} from \"@apollo/client\";\nimport {LOGIN} from \"../api/operations/mutations/login\";\nimport WaitDialog from \"../components/WaitDialog\";\nimport {getItem, setItem} from \"../api/asyncStorage\";\nimport ErrorDialog from \"../components/ErrorDialog\";\nimport {ErrorCodes, ErrorCodesUa, Langs, Mode, QueueState, QueueType, User} from \"../models/models\";\nimport {desirableClassroomIdsVar, langVar, meVar, minimalClassroomIdsVar, modeVar} from \"../api/client\";\nimport PushNotification from \"./PushNotification\";\nimport {GET_LANG} from \"../api/operations/queries/lang\";\n\nexport default function Login({route, navigation}: any) {\n  const [login, {loading}] = useMutation(LOGIN);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n  const [modalActivator, setModalActivator] = useState<boolean | null>(null);\n  const [showError, setShowError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [pushNotificationToken, setPushNotificationToken] = useState('');\n  const {data: {lang}} = useQuery(GET_LANG);\n\n  useEffect(() => {\n    if (modalActivator !== null) {\n      setShowError(true);\n    }\n  }, [modalActivator]);\n\n  useEffect(() => {\n    getItem('lang').then(res => {\n      if (res) {\n        langVar(res);\n      } else {\n        setItem('lang', lang);\n      }\n    });\n  }, []);\n\n  const handleChangeLang = async (lng: Langs) => {\n    await setItem('lang', lng);\n    langVar(lng);\n  };\n\n  const hideError = () => {\n    setShowError(false);\n  };\n\n  const handleSubmit = async () => {\n    let result: any;\n    if (email.length && password.length) {\n      try {\n        result = await login({\n          variables: {\n            input: {\n              email: email,\n              password: password,\n              notificationToken: pushNotificationToken\n            }\n          }\n        });\n        if (result?.data.login.userErrors?.length) {\n          setErrorMessage(ErrorCodesUa[result?.data.login.userErrors[0].code as ErrorCodes]);\n          setModalActivator(prevState => !prevState);\n        } else {\n          const user: User = result?.data.login.user;\n          const token: string = result?.data.login.token;\n          await setItem('user', user);\n          await setItem('token', token);\n          if (user.queue.length) {\n            const minimal = user.queue.filter(({type, state}) => {\n              return type === QueueType.MINIMAL && state === QueueState.ACTIVE;\n            });\n            const desired = user.queue.filter(({type, state}) => {\n              return type === QueueType.DESIRED && state === QueueState.ACTIVE;\n            });\n            modeVar(Mode.INLINE);\n            minimalClassroomIdsVar(minimal.map(({classroom: {id}}) => id));\n            desirableClassroomIdsVar(desired.map(({classroom: {id}}) => id));\n          }\n          meVar(user);\n        }\n      } catch (e) {\n        setErrorMessage(e?.graphQLErrors[0]?.message || JSON.stringify(e));\n        setModalActivator(prevState => !prevState);\n      }\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      {/*<PushNotification setPushNotificationToken={setPushNotificationToken}/>*/}\n      <ImageBackground source={require('../assets/images/bg.jpg')} style={styles.bg}>\n        <Image source={require('./../assets/images/au_logo_shadow.png')} style={styles.logo}/>\n        <View style={styles.langSwitcher}>\n          <TouchableHighlight onPress={() => handleChangeLang(Langs.UA)}>\n            <Image source={require('../assets/images/ua.png')}\n                   style={lang === Langs.UA ? styles.langImageSelected : styles.langImage}\n            />\n          </TouchableHighlight>\n          <TouchableHighlight onPress={() => handleChangeLang(Langs.EN)}>\n            <Image source={require('../assets/images/en.png')}\n                   style={lang === Langs.EN ? styles.langImageSelected : styles.langImage}\n            />\n          </TouchableHighlight>\n        </View>\n        <Text style={styles.title}>Вхід</Text>\n        <Surface style={styles.inputs}>\n          <TextInput label='Логін'\n                     style={styles.input}\n                     onChangeText={(e) => setEmail(e)}\n          />\n          <TextInput label='Пароль'\n                     style={styles.input}\n                     onChangeText={(e) => setPassword(e)}\n                     secureTextEntry={!showPassword}\n                     selectionColor='#2b5dff'\n                     right={<TextInput.Icon name={showPassword ? 'eye' : 'eye-off'} color='#2b5dff'\n                                            onPress={() => setShowPassword(prevState => !prevState)}\n                     />}\n          />\n\n          <Button onPress={handleSubmit} mode='contained' color='#2b5dff' loading={loading}\n                  style={styles.button} disabled={(!email || !password) || loading}>\n            Увійти\n          </Button>\n          <Button onPress={() => navigation.navigate('SignUp')} mode='contained' color='#f91354'\n                  style={styles.button}>\n            Реєстрація\n          </Button>\n        </Surface>\n        <Button onPress={() => navigation.navigate('ForgotPassword')} uppercase={false}\n                labelStyle={{color: '#fff'}} style={styles.button}>\n          Відновити пароль\n        </Button>\n        <View style={styles.footer}>\n          <Text style={{color: '#fff'}}>Національна музична академія України ім. П. І. Чайковського</Text>\n          <Text style={{color: '#fff', marginTop: 16}}>Auditorium © 2021</Text>\n        </View>\n      </ImageBackground>\n      <WaitDialog message='Відбувається вхід у систему' visible={loading}/>\n      <ErrorDialog visible={showError} hideDialog={hideError} message={errorMessage}/>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#2e287c',\n    overflow: 'hidden'\n  },\n  logo: {\n    width: '80%',\n    resizeMode: 'contain',\n    flex: 1\n  },\n  title: {\n    fontSize: 32,\n    fontWeight: 'bold',\n    color: '#fff',\n  },\n  input: {\n    width: '100%',\n    fontSize: 22,\n    backgroundColor: 'transparent',\n  },\n  inputs: {\n    width: '90%',\n    elevation: 16,\n    borderRadius: 8,\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingLeft: 16,\n    paddingRight: 16,\n    paddingBottom: 16,\n    marginTop: 32,\n  },\n  button: {\n    marginTop: 16,\n    width: '100%',\n    height: 50,\n    justifyContent: 'center',\n  }, bg: {\n    width: '100%',\n    height: '100%',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  footer: {\n    backgroundColor: 'transparent',\n    alignItems: 'center',\n    textAlign: 'center',\n    opacity: .5,\n    marginBottom: 16\n  },\n  langSwitcher: {\n    justifyContent: 'center',\n    flexDirection: \"row\",\n    marginBottom: 16\n  },\n  langImage: {\n    width: 50,\n    height: 35,\n    opacity: .3\n  },\n  langImageSelected: {\n    width: 50,\n    height: 35,\n  }\n});\n","import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_DEGREES = gql`\r\n    query getDegrees {\r\n        degrees {\r\n            id\r\n            name\r\n            startMonth\r\n            startDay\r\n            durationMonths\r\n        }\r\n    }\r\n`;","import {useEffect, useState} from \"react\";\nimport {client} from \"../api/client\";\nimport {Degree} from \"../models/models\";\nimport {GET_DEGREES} from \"../api/operations/queries/degrees\";\n\nconst useDegrees = (updateList: boolean = false): Array<Degree> => {\n  const [degrees, setDegrees] = useState<Degree[]>([]);\n\n  useEffect(() => {\n    client.query({query: GET_DEGREES, variables: {\n      where: {\n      }\n      },\n      fetchPolicy: 'network-only'\n    }).then((data) => {\n      setDegrees(data.data.degrees\n          .slice().sort((a: Degree, b: Degree) => a.id - b.id));\n      });\n  }, [updateList]);\n\n  return degrees;\n};\n\nexport default useDegrees;","import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_DEPARTMENTS = gql`\r\n    query getDepartments($where: DepartmentWhereInput!) {\r\n        departments(where: $where) {\r\n            id\r\n            name\r\n            faculty {\r\n              id\r\n              name\r\n            }\r\n        }\r\n    }\r\n`;","import {useEffect, useState} from \"react\";\nimport {client} from \"../api/client\";\nimport {Department} from \"../models/models\";\nimport {GET_DEPARTMENTS} from \"../api/operations/queries/departments\";\n\nconst useDepartments = (updateList: boolean): Array<Department> => {\n  const [departments, setDepartments] = useState<Department[]>([]);\n\n  useEffect(() => {\n    client.query({query: GET_DEPARTMENTS, variables: {\n      where: {\n      }\n      },\n      fetchPolicy: 'network-only'\n    }).then((data) => {\n      setDepartments(data.data.departments\n          .slice().sort((a: Department, b: Department) => a.id - b.id));\n      });\n  }, [updateList]);\n\n  return departments;\n};\n\nexport default useDepartments;","import React from 'react';\nimport {Button, Dialog, Paragraph, Portal, Title} from \"react-native-paper\";\nimport {ScrollView, StyleSheet} from \"react-native\";\nimport Colors from \"../../../constants/Colors\";\n\ninterface PropTypes {\n  visible: boolean;\n  hideDialog: () => void;\n  setCheckAgreement: (value: boolean) => void;\n}\n\nexport default function Agreement({visible, hideDialog, setCheckAgreement}: PropTypes) {\n  return <Portal>\n    <Dialog visible={visible} onDismiss={hideDialog} style={styles.wrapper}>\n      <Dialog.Title>Умови користування</Dialog.Title>\n      <Dialog.Content>\n        <ScrollView style={{height: '80%'}}>\n            <Title>Privacy Policy for Auditorium</Title>\n            <Paragraph>At auditorium, accessible from http://auditorium.com.ua, one of our main priorities is the privacy of our visitors. This Privacy Policy document contains types of information that is collected and recorded by auditorium and how we use it.\n            </Paragraph>\n            <Paragraph>\n              If you have additional questions or require more information about our Privacy Policy, do not hesitate to contact us.\n            </Paragraph>\n            <Paragraph>\n              This Privacy Policy applies only to our online activities and is valid for visitors to our website with regards to the information that they shared and/or collect in auditorium. This policy is not applicable to any information collected offline or via channels other than this website. Our Privacy Policy was created with the help of the Privacy Policy Generator.\n            </Paragraph>\n            <Paragraph>\n              Consent\n              By using our website, you hereby consent to our Privacy Policy and agree to its terms.\n            </Paragraph>\n            <Paragraph>\n              Information we collect\n              The personal information that you are asked to provide, and the reasons why you are asked to provide it, will be made clear to you at the point we ask you to provide your personal information.\n            </Paragraph>\n            <Paragraph>\n              If you contact us directly, we may receive additional information about you such as your name, email address, phone number, the contents of the message and/or attachments you may send us, and any other information you may choose to provide.\n            </Paragraph>\n            <Paragraph>\n              When you register for an Account, we may ask for your contact information, including items such as name, company name, address, email address, and telephone number.\n            </Paragraph>\n            <Paragraph>\n              How we use your information\n              We use the information we collect in various ways, including to:\n            </Paragraph>\n            <Paragraph>\n              Provide, operate, and maintain our website\n              Improve, personalize, and expand our website\n              Understand and analyze how you use our website\n              Develop new products, services, features, and functionality\n              Communicate with you, either directly or through one of our partners, including for customer service, to provide you with updates and other information relating to the website, and for marketing and promotional purposes\n              Send you emails\n              Find and prevent fraud\n              Log Files\n              auditorium follows a standard procedure of using log files. These files log visitors when they visit websites. All hosting companies do this and a part of hosting services' analytics. The information collected by log files include internet protocol (IP) addresses, browser type, Internet Service Provider (ISP), date and time stamp, referring/exit pages, and possibly the number of clicks. These are not linked to any information that is personally identifiable. The purpose of the information is for analyzing trends, administering the site, tracking users' movement on the website, and gathering demographic information.\n            </Paragraph>\n            <Paragraph>\n              Advertising Partners Privacy Policies\n              You may consult this list to find the Privacy Policy for each of the advertising partners of auditorium.\n            </Paragraph>\n            <Paragraph>\n              Third-party ad servers or ad networks uses technologies like cookies, JavaScript, or Web Beacons that are used in their respective advertisements and links that appear on auditorium, which are sent directly to users' browser. They automatically receive your IP address when this occurs. These technologies are used to measure the effectiveness of their advertising campaigns and/or to personalize the advertising content that you see on websites that you visit.\n            </Paragraph>\n            <Paragraph>\n              Note that auditorium has no access to or control over these cookies that are used by third-party advertisers.\n            </Paragraph>\n            <Paragraph>\n              Third Party Privacy Policies\n              auditorium's Privacy Policy does not apply to other advertisers or websites. Thus, we are advising you to consult the respective Privacy Policies of these third-party ad servers for more detailed information. It may include their practices and instructions about how to opt-out of certain options.\n            </Paragraph>\n            <Paragraph>\n              You can choose to disable cookies through your individual browser options. To know more detailed information about cookie management with specific web browsers, it can be found at the browsers' respective websites.\n            </Paragraph>\n            <Paragraph>\n              CCPA Privacy Rights (Do Not Sell My Personal Information)\n              Under the CCPA, among other rights, California consumers have the right to:\n            </Paragraph>\n            <Paragraph>\n              Request that a business that collects a consumer's personal data disclose the categories and specific pieces of personal data that a business has collected about consumers.\n            </Paragraph>\n            <Paragraph>\n              Request that a business delete any personal data about the consumer that a business has collected.\n            </Paragraph>\n            <Paragraph>\n              Request that a business that sells a consumer's personal data, not sell the consumer's personal data.\n            </Paragraph>\n            <Paragraph>\n              If you make a request, we have one month to respond to you. If you would like to exercise any of these rights, please contact us.\n            </Paragraph>\n            <Paragraph>\n              GDPR Data Protection Rights\n              We would like to make sure you are fully aware of all of your data protection rights. Every user is entitled to the following:\n            </Paragraph>\n            <Paragraph>\n              The right to access – You have the right to request copies of your personal data. We may charge you a small fee for this service.\n            </Paragraph>\n            <Paragraph>\n              The right to rectification – You have the right to request that we correct any information you believe is inaccurate. You also have the right to request that we complete the information you believe is incomplete.\n            </Paragraph>\n            <Paragraph>\n              The right to erasure – You have the right to request that we erase your personal data, under certain conditions.\n            </Paragraph>\n            <Paragraph>\n              The right to restrict processing – You have the right to request that we restrict the processing of your personal data, under certain conditions.\n            </Paragraph>\n            <Paragraph>\n              The right to object to processing – You have the right to object to our processing of your personal data, under certain conditions.\n            </Paragraph>\n            <Paragraph>\n              The right to data portability – You have the right to request that we transfer the data that we have collected to another organization, or directly to you, under certain conditions.\n            </Paragraph>\n            <Paragraph>\n              If you make a request, we have one month to respond to you. If you would like to exercise any of these rights, please contact us.\n            </Paragraph>\n            <Paragraph>\n              Children's Information\n              Another part of our priority is adding protection for children while using the internet. We encourage parents and guardians to observe, participate in, and/or monitor and guide their online activity.\n            </Paragraph>\n            <Paragraph>\n              auditorium does not knowingly collect any Personal Identifiable Information from children under the age of 13. If you think that your child provided this kind of information on our website, we strongly encourage you to contact us immediately and we will do our best efforts to promptly remove such information from our records.\n            </Paragraph>\n        </ScrollView>\n      </Dialog.Content>\n      <Dialog.Actions style={{height: 20, marginBottom: 20}}>\n        <Button onPress={() => {\n          hideDialog();\n          setCheckAgreement(false);\n        }} style={{height: 20}} color={Colors.red}>Відхилити</Button>\n        <Button onPress={() => {\n          hideDialog();\n          setCheckAgreement(true);\n        }} style={{height: 20}}>Прийняти</Button>\n      </Dialog.Actions>\n    </Dialog>\n  </Portal>\n}\n\nconst styles = StyleSheet.create({\n  wrapper: {\n    position: 'absolute',\n    overflow: 'scroll',\n    top: 24,\n    bottom: 24\n  }\n})","import React, {useEffect, useState} from 'react';\nimport {Modal, Portal, Searchbar} from \"react-native-paper\";\nimport {ScrollView, Text, StyleSheet} from \"react-native\";\n\ninterface PropTypes {\n  visible: boolean;\n  hideDialog: () => void;\n  setSelected: (value: any) => void;\n  selected: any;\n  items: any[];\n}\n\nexport default function CustomPicker({visible, hideDialog, setSelected,selected, items}: PropTypes) {\n  const [searchText, setSearchText] = useState('');\n  const [filteredItems, setFilteredItems] = useState<any>([]);\n\n  useEffect(() => {\n    const filtered = items.length && items.filter(({name}) => {\n      if (searchText !== '') return String(name).toLowerCase().includes(searchText.toLowerCase());\n      return true;\n    });\n    setFilteredItems(filtered);\n  }, [items, searchText]);\n\n  const handlePress = (item: any) => {\n    setSelected({name: item.name, id: item.id});\n    hideDialog();\n  };\n\n  return (\n    <Portal>\n      <Modal visible={visible} onDismiss={hideDialog} contentContainerStyle={styles.container}>\n        <Searchbar\n          placeholder=\"Пошук\"\n          onChangeText={text => setSearchText(text)}\n          value={searchText}\n          style={styles.search}\n          clearButtonMode='while-editing'\n        />\n        <ScrollView style={{height: '80%'}}>\n          {filteredItems && [{name: 'Не вибрано', id: -1}, ...filteredItems].map(item => (\n                <Text key={item.id} style={selected.id === item.id ? styles.selected : styles.item}\n                      onPress={() => handlePress(item)}\n                >\n                  {item.name}\n                </Text>\n              )\n            )}\n        </ScrollView>\n      </Modal>\n    </Portal>\n  )\n};\n\nconst styles = StyleSheet.create({\n  item: {\n    fontSize: 20,\n    borderBottomWidth: 1,\n    borderStyle: 'solid',\n    borderBottomColor: '#ccc',\n    padding: 10,\n    color: '#000',\n  },\n  selected: {\n    fontSize: 20,\n    borderBottomWidth: 1,\n    borderStyle: 'solid',\n    borderBottomColor: '#2b5dff',\n    padding: 10,\n    color: '#2b5dff'\n  },\n  container: {\n    backgroundColor: 'white',\n    padding: 20,\n    margin: 10,\n    borderRadius: 8,\n    justifyContent: 'center',\n    height: '60%'\n  },\n  search: {\n    marginBottom: 10\n  }\n});","import React, {useEffect, useState} from 'react';\nimport {Text, StyleSheet} from \"react-native\";\nimport {IconButton} from \"react-native-paper\";\nimport {View} from \"../Themed\";\nimport CustomPicker from \"./CustomPicker\";\n\ntype Item = {\n  name: string;\n  id: number;\n}\n\ninterface PropTypes {\n  selected: Item;\n  setSelected: (value: Item) => void;\n  name: string;\n  items: any[];\n  checkValidation: (value: number) => void;\n  setIsVisited: (value: boolean) => void;\n  underlineColor: string;\n}\n\nexport default function CustomPickerField({\n                                            selected, name, setSelected, items, setIsVisited,\n                                            checkValidation, underlineColor\n                                          }: PropTypes) {\n  const [visiblePicker, setVisiblePicker] = useState(false);\n\n  useEffect(() => {\n    checkValidation(selected.id);\n  }, [selected]);\n\n  const showPicker = () => {\n    setVisiblePicker(true);\n    setIsVisited(true);\n  };\n\n  const hidePicker = () => {\n    checkValidation(selected.id);\n    setVisiblePicker(false);\n  };\n\n  return <View style={styles.picker}>\n    <Text style={[styles.pickerField, {borderBottomColor: underlineColor}]} numberOfLines={1}\n          onPress={showPicker}\n    >\n      {selected.id === -1 ? name : selected.name}\n    </Text>\n    <IconButton icon='chevron-down' style={styles.pickerIcon} color='#ccc'\n                onPress={showPicker}\n    />\n    <CustomPicker visible={visiblePicker} hideDialog={hidePicker}\n                  setSelected={setSelected} items={items}\n                  selected={selected}\n    />\n  </View>\n};\n\nconst styles = StyleSheet.create({\n  picker: {\n    flexDirection: 'row',\n    position: 'relative',\n    backgroundColor: '#fff',\n  },\n  pickerField: {\n    borderBottomWidth: 1,\n    borderStyle: 'solid',\n    paddingVertical: 10,\n    paddingLeft: 22,\n    paddingRight: 42,\n    fontSize: 22,\n    marginTop: 20,\n    color: '#6f6f6f',\n    width: '100%',\n  },\n  pickerIcon: {\n    position: 'absolute',\n    right: 0,\n    top: 20,\n  }\n});","import { gql } from \"@apollo/client\";\r\n\r\nexport const SIGN_UP = gql`\r\n    mutation signup($input: SignupInput!) {\r\n        signup(input: $input) {\r\n            token\r\n            user {\r\n                id\r\n                lastName\r\n            }\r\n            userErrors {\r\n                message\r\n                code\r\n            }\r\n        }\r\n    }\r\n`;","import * as React from 'react';\nimport {Paragraph, Dialog, Portal, Button} from 'react-native-paper';\n\ninterface PropTypes {\n  message: string;\n  visible: boolean;\n  hideDialog: () => void;\n  navigateToLogin: () => void;\n}\n\nexport default function InfoDialog({visible, message, hideDialog, navigateToLogin}: PropTypes) {\n  return (\n      <Portal>\n        <Dialog visible={visible} dismissable={false}>\n          <Dialog.Title style={{textAlign: 'center'}}>Увага</Dialog.Title>\n          <Dialog.Content>\n            <Paragraph style={{textAlign: 'center'}}>{message}</Paragraph>\n          </Dialog.Content>\n          <Dialog.Actions>\n            <Button onPress={hideDialog} mode='contained' color='#f91354'\n                    style={{width: 70, marginRight: 8}}>\n              Ні\n            </Button>\n            <Button onPress={() => {\n              hideDialog();\n              navigateToLogin();\n            }} mode='contained' style={{width: 70}}>\n              Так\n            </Button>\n          </Dialog.Actions>\n        </Dialog>\n      </Portal>\n  );\n};","import * as React from 'react';\nimport {Dimensions, ImageBackground, ScrollView, StyleSheet, Text} from 'react-native';\nimport {View} from '../../components/Themed';\nimport {Appbar, Banner, Button, Checkbox, HelperText, TextInput} from 'react-native-paper';\nimport {useState} from \"react\";\nimport useDegrees from \"../../hooks/useDegrees\";\nimport useDepartments from \"../../hooks/useDepartments\";\nimport Agreement from \"./components/Agreement\";\nimport CustomPickerField from \"../../components/CustomPicker/CustomPickerField\";\nimport moment from \"moment\";\nimport {useMutation} from \"@apollo/client\";\nimport {SIGN_UP} from \"../../api/operations/mutations/signUp\";\nimport InfoDialog from \"../../components/InfoDialog\";\nimport {ErrorCodes, ErrorCodesUa} from \"../../models/models\";\n\nconst currentYear: number = parseInt(moment().format('YYYY'));\n\nconst startYearsItems = [\n  {name: currentYear, id: currentYear},\n  {name: currentYear - 1, id: currentYear - 1},\n  {name: currentYear - 2, id: currentYear - 2},\n  {name: currentYear - 3, id: currentYear - 3},\n];\n\nconst windowHeight = Dimensions.get('window').height;\n\n\nexport default function SignUp({navigation}: any) {\n  const [selectedDepartment, setSelectedDepartment] = useState({name: '', id: -1});\n  const [selectedDegree, setSelectedDegree] = useState({name: '', id: -1});\n  const [selectedStartYear, setSelectedStartYear] = useState({name: '', id: -1});\n  const [visible, setVisible] = useState(true);\n  const [visibleAgreement, setVisibleAgreement] = useState(false);\n  const [visibleBackDialog, setVisibleBackDialog] = useState(false);\n  const backMessage = 'Ви дійсно бажаєте повернутись на сторінку входу?\\n Введені дані будуть стерті.';\n\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [patronymic, setPatronymic] = useState('');\n  const [email, setEmail] = useState('');\n  const [phoneNumber, setPhoneNumber] = useState('');\n  const [password, setPassword] = useState('');\n  const [passwordConfirm, setPasswordConfirm] = useState('');\n  const [checkAgreement, setCheckAgreement] = useState(false);\n  const degrees = useDegrees();\n  const departments = useDepartments(true);\n\n  const [isSignupTouched, setIsSignupTouched] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n\n  const [isLastNameValidated, setIsLastNameValidated] = useState<string | null>(null);\n  const [isFirstNameValidated, setIsFirstNameValidated] = useState<string | null>(null);\n  const [isEmailValidated, setIsEmailValidated] = useState<string | null>(null);\n  const [isPhoneValidated, setIsPhoneValidated] = useState<string | null>(null);\n  const [isPasswordValidated, setIsPasswordValidated] = useState<string | null>(null);\n  const [isPasswordConfirmValidated, setIsPasswordConfirmValidated] = useState<string | null>(null);\n  const [isStartYearValidated, setIsStartYearValidated] = useState<string | null>(null);\n  const [isDepartmentValidated, setIsDepartmentValidated] = useState<string | null>(null);\n  const [isDegreeValidated, setIsDegreeValidated] = useState<string | null>(null);\n\n  const [isStartYearModalVisited, setIsStartYearModalVisited] = useState(false);\n  const [isDepartmentModalVisited, setIsDepartmentModalVisited] = useState(false);\n  const [isDegreeModalVisited, setIsDegreeModalVisited] = useState(false);\n\n  const [signup, {loading, error}] = useMutation(SIGN_UP);\n\n  const checkLastNameValidation = (value: string) => {\n    if (!value) {\n      return setIsLastNameValidated(\"Обов'язкове поле\");\n    }\n    return setIsLastNameValidated(null);\n  };\n\n  const checkFirstNameValidation = (value: string) => {\n    if (!value) {\n      return setIsFirstNameValidated(\"Обов'язкове поле\");\n    }\n    return setIsFirstNameValidated(null);\n  };\n\n  const checkEmailValidation = (value: string) => {\n    const re = /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/\n\n    if (!value) {\n      return setIsEmailValidated(\"Обов'язкове поле\");\n    }\n    if (!re.test(value)) {\n      return setIsEmailValidated(\"Невірний формат\");\n    }\n    return setIsEmailValidated(null);\n  };\n\n  const checkPhoneValidation = (value: string) => {\n    const re = /\\(?([0-9]{3})\\)?([ .-]?)([0-9]{3})\\2([0-9]{4})/\n\n    if (!value) {\n      return setIsPhoneValidated(\"Обов'язкове поле\");\n    }\n    if (!re.test(value)) {\n      return setIsPhoneValidated(\"Невірний формат\");\n    }\n    return setIsPhoneValidated(null);\n  };\n\n  const checkPasswordValidation = (value: string) => {\n    const re = /^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})/;\n    const strongRe = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\\$%\\^&\\*])(?=.{8,})/;\n\n    if (!value) {\n      return setIsPasswordValidated(\"Обов'язкове поле\");\n    }\n    if (!re.test(value)) {\n      return setIsPasswordValidated(\"Невірний формат\");\n    }\n    return setIsPasswordValidated(null);\n  };\n\n  const checkPasswordConfirmValidation = (value: string) => {\n    if (!value) {\n      return setIsPasswordConfirmValidated(\"Обов'язкове поле\");\n    }\n    if (password && passwordConfirm && (password !== passwordConfirm)) {\n      return setIsPasswordConfirmValidated('Паролі не співпадають');\n    }\n    return setIsPasswordConfirmValidated(null);\n  };\n\n  const checkStartYearValidation = (value: number) => {\n    if (value === -1 && (isStartYearModalVisited || isSignupTouched)) {\n      return setIsStartYearValidated(\"Рік вступу не вибрано\");\n    }\n    return setIsStartYearValidated(null);\n  };\n\n  const checkDepartmentValidation = (value: number) => {\n    if (value === -1 && (isDegreeModalVisited || isSignupTouched)) {\n      return setIsDepartmentValidated(\"Кафедру не вибрано\");\n    }\n    return setIsDepartmentValidated(null);\n  };\n\n  const checkDegreeValidation = (value: number) => {\n    if (value === -1 && (isDegreeModalVisited || isSignupTouched)) {\n      return setIsDegreeValidated(\"Навчальний ступінь не вибрано\");\n    }\n    return setIsDegreeValidated(null);\n  };\n\n  const handleSubmit = async () => {\n    navigation.navigate('SignUpStepTwo');\n\n    checkLastNameValidation(lastName);\n    checkFirstNameValidation(firstName);\n    checkEmailValidation(email);\n    checkPhoneValidation(phoneNumber);\n    checkPasswordValidation(password);\n    checkPasswordConfirmValidation(passwordConfirm);\n    checkStartYearValidation(selectedStartYear.id);\n    checkDepartmentValidation(selectedDepartment.id);\n    checkDegreeValidation(selectedDegree.id);\n\n    if (!isLastNameValidated && !isFirstNameValidated && !isEmailValidated && !isPasswordValidated\n        && !isPasswordConfirmValidated && !isStartYearValidated && !isDepartmentValidated\n        && !isDegreeValidated) {\n      try {\n        const result = await signup({\n          variables: {\n            input: {\n              lastName: lastName,\n              firstName: firstName,\n              patronymic: patronymic,\n              password: password,\n              email: email,\n              phoneNumber: phoneNumber,\n              department: selectedDepartment.id,\n              degree: selectedDegree.id,\n              startYear: selectedStartYear.id,\n            }\n          }\n        });\n        const hasErrors = result?.data.login.userErrors?.length;\n\n        if (hasErrors) {\n          const errorMessage = ErrorCodesUa[result?.data.login.userErrors[0].code as ErrorCodes];\n\n          alert(errorMessage);\n        } else {\n          navigation.navigate('SignUpStepTwo');\n        }\n      } catch (e) {\n        alert(e)\n      }\n    }\n  }\n\n  const showAgreement = () => setVisibleAgreement(true);\n\n  const hideAgreement = () => setVisibleAgreement(false);\n\n  const showBackDialog = () => setVisibleBackDialog(true);\n\n  const hideBackDialog = () => setVisibleBackDialog(false);\n\n  const navigateToLogin = () => {\n    navigation.goBack();\n  };\n\n  const handleBack = () => {\n    if (lastName || firstName || patronymic || email || phoneNumber || password || passwordConfirm\n        || selectedStartYear.id !== -1 || selectedDepartment.id !== -1 || selectedDegree.id !== -1) {\n      showBackDialog();\n    } else {\n      navigateToLogin();\n    }\n  };\n\n  const Error = ({validator}: any) => (\n    <HelperText type=\"error\" style={{color: '#f91354', height: validator ? 'auto' : 0}}>\n      {validator}\n    </HelperText>\n  );\n\n  return (\n    <ImageBackground source={require('../../assets/images/bg.jpg')}\n                     style={{width: '100%', height: '100%'}}>\n      <View style={styles.container}>\n        <Appbar style={styles.top}>\n          <Appbar.BackAction onPress={handleBack} color='#fff'/>\n          <Appbar.Content title='Реєстрація' subtitle='Крок 1 із 3' color='#fff'/>\n        </Appbar>\n        <View style={styles.wrapper}>\n          <ScrollView style={styles.scrollView}>\n            <Banner\n              icon='alert-circle'\n              visible={visible}\n              actions={[\n                {\n                  label: 'Зрозуміло',\n                  onPress: () => setVisible(false),\n                }\n              ]}\n            >\n              Реєстрація педагогів та співробітників навчального закладу відбувається за допомогою диспетчера.\n            </Banner>\n            <Text style={styles.infoPanel}>\n              Введіть дані, що співпадають з вашим студентським квитком або іншим документом.\n            </Text>\n            <TextInput placeholder=\"Прізвище *\" style={styles.input} value={lastName}\n                       underlineColor={!isLastNameValidated ? '#ccc' : '#f91354'}\n                       onChangeText={text => {\n                         setLastName(text);\n                         checkLastNameValidation(text);\n                       }}\n                       onBlur={() => checkLastNameValidation(lastName)}\n            />\n            <Error validator={isLastNameValidated}/>\n            <TextInput placeholder=\"Ім'я *\" style={styles.input} value={firstName}\n                       underlineColor={!isFirstNameValidated ? '#ccc' : '#f91354'}\n                       onChangeText={text => {\n                         setFirstName(text);\n                         checkFirstNameValidation(text);\n                       }}\n                       onBlur={() => checkFirstNameValidation(firstName)}\n            />\n            <Error validator={isFirstNameValidated}/>\n            <TextInput placeholder=\"По-батькові\" style={styles.input} value={patronymic}\n                       onChangeText={text => setPatronymic(text)}\n            />\n            <View style={{height: 10, backgroundColor: '#fff'}}/>\n            <TextInput placeholder=\"E-mail *\" style={styles.input} value={email}\n                       underlineColor={!isEmailValidated ? '#ccc' : '#f91354'}\n                       onChangeText={text => {\n                         setEmail(text);\n                         checkEmailValidation(text);\n                       }}\n                       onBlur={() => checkEmailValidation(email)}\n                       keyboardType='email-address'\n            />\n            <Error validator={isEmailValidated}/>\n            <TextInput placeholder=\"Тел. номер *\" style={styles.input}\n                       underlineColor={!isEmailValidated ? '#ccc' : '#f91354'}\n                       onChangeText={text => {\n                         setPhoneNumber(text);\n                         checkPhoneValidation(text);\n                       }}\n                       onBlur={() => checkPhoneValidation(phoneNumber)}\n                       keyboardType='phone-pad'\n            />\n            <Error validator={isPhoneValidated}/>\n            <TextInput placeholder=\"Пароль *\" style={styles.input}\n                       underlineColor={!isPasswordValidated ? '#ccc' : '#f91354'}\n                       onChangeText={text => {\n                         setPassword(text);\n                         checkPasswordValidation(text);\n                       }}\n                       onBlur={() => checkPasswordValidation(password)}\n                       right={<TextInput.Icon name={showPassword ? 'eye' : 'eye-off'} color='#ccc'\n                                              onPress={() => setShowPassword(prevState => !prevState)}\n                                              forceTextInputFocus={false}\n                       />}\n                       secureTextEntry={!showPassword}\n            />\n            <Error validator={isPasswordValidated}/>\n            <TextInput placeholder=\"Повторіть пароль *\" style={styles.input}\n                       underlineColor={!isPasswordConfirmValidated ? '#ccc' : '#f91354'}\n                       onChangeText={text => {\n                         setPasswordConfirm(text);\n                         checkPasswordConfirmValidation(text);\n                       }}\n                       onBlur={() => checkPasswordConfirmValidation(passwordConfirm)}\n                       right={<TextInput.Icon name={showPassword ? 'eye' : 'eye-off'} color='#ccc'\n                                              onPress={() => setShowPassword(prevState => !prevState)}\n                                              forceTextInputFocus={false}\n                       />}\n                       secureTextEntry={!showPassword}\n            />\n            <Error validator={isPasswordConfirmValidated}/>\n            <CustomPickerField selected={selectedStartYear} setSelected={setSelectedStartYear}\n                               name='Рік початку навчання' items={startYearsItems}\n                               checkValidation={checkStartYearValidation}\n                               setIsVisited={setIsStartYearModalVisited}\n                               underlineColor={!isStartYearValidated ? '#ccc' : '#f91354'}\n\n            />\n            <Error validator={isStartYearValidated}/>\n            <CustomPickerField name='Кафедра' selected={selectedDepartment} items={departments}\n                               setSelected={setSelectedDepartment}\n                               checkValidation={checkDepartmentValidation}\n                               setIsVisited={setIsDepartmentModalVisited}\n                               underlineColor={!isDepartmentValidated ? '#ccc' : '#f91354'}\n\n            />\n            <Error validator={isDepartmentValidated}/>\n            <CustomPickerField name='Навчальний ступінь' selected={selectedDegree} items={degrees}\n                               setSelected={setSelectedDegree}\n                               checkValidation={checkDegreeValidation}\n                               setIsVisited={setIsDegreeModalVisited}\n                               underlineColor={!isDegreeValidated ? '#ccc' : '#f91354'}\n\n            />\n            <Error validator={isDegreeValidated}/>\n            <View style={styles.agreement}>\n              <Checkbox status={checkAgreement ? 'checked' : 'unchecked'} color='#2b5dff'\n                        uncheckedColor='#f91354'\n                        onPress={() => {\n                          setIsSignupTouched(true);\n                          setCheckAgreement(prevState => !prevState);\n                        }}/>\n              <Text style={{width: '90%', backgroundColor: '#fff'}}>Я прочитав і погоджуюсь з\n                <Text style={styles.link} onPress={showAgreement}> політикою конфіденційності</Text> *</Text>\n            </View>\n          </ScrollView>\n          <View style={styles.navButtons}>\n            <Button\n              onPress={handleSubmit}\n              mode='contained' color='#f91354'\n              style={styles.signUpButton}\n              disabled={!checkAgreement || loading}\n              loading={loading}\n            >\n              Зареєструватися\n            </Button>\n          </View>\n          <Agreement visible={visibleAgreement} hideDialog={hideAgreement}\n                     setCheckAgreement={setCheckAgreement}\n          />\n          <InfoDialog message={backMessage} visible={visibleBackDialog} hideDialog={hideBackDialog}\n                      navigateToLogin={navigateToLogin}\n          />\n        </View>\n      </View>\n    </ImageBackground>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    backgroundColor: 'transparent'\n  },\n  wrapper: {\n    backgroundColor: '#fff',\n    width: '100%',\n    height: windowHeight-80,\n    alignItems: 'center',\n  },\n  title: {\n    fontSize: 32,\n    fontWeight: 'bold',\n    color: '#fff',\n  },\n  navButtons: {\n    backgroundColor: 'transparent',\n    flexDirection: 'row',\n    marginBottom: 16,\n    marginTop: 16,\n  },\n  signUpButton: {\n    height: 50,\n    justifyContent: 'center',\n  },\n  scrollView: {\n    width: '90%',\n  },\n  input: {\n    width: '100%',\n    backgroundColor: 'transparent',\n    fontSize: 22,\n    paddingLeft: 10,\n    margin: 0,\n  },\n  top: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    paddingTop: 26,\n    height: 80,\n    backgroundColor: 'transparent',\n    elevation: 0\n  },\n  link: {\n    color: '#2b5dff',\n    textDecorationLine: 'underline'\n  },\n  agreement: {\n    paddingTop: 20,\n    paddingBottom: 5,\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: '#fff',\n  },\n  infoPanel: {\n    borderRadius: 8,\n    backgroundColor: '#b5e3ff',\n    padding: 8,\n    marginTop: 16\n  },\n});","import * as React from 'react';\nimport {View, StyleSheet, Text} from \"react-native\";\nimport {Button, TextInput} from \"react-native-paper\";\n\nexport default function ForgotPassword({navigation}: any) {\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.text}>\n        Введіть Вашу email адресу куди ми відправимо новий пароль.\n      </Text>\n      <TextInput placeholder=\"E-mail\" style={styles.input}/>\n      <Button onPress={()=>navigation.navigate('ForgotPasswordSuccess')} mode='contained' color='#2b5dff'\n        style={styles.button}>\n        Відновити пароль\n      </Button>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#2e287c',\n  },\n  text: {\n    color: '#fff',\n    fontSize: 20,\n    textAlign: 'center',\n    margin: 5,\n    width: '90%',\n    marginBottom: 32,\n  },\n  button: {\n    marginTop: 32,\n    height: 50,\n    justifyContent: 'center'\n  },\n  input: {\n    width: '90%',\n    height: 50\n  }\n});\n","import * as React from 'react';\nimport {View, StyleSheet, Text} from \"react-native\";\nimport {Button} from \"react-native-paper\";\n\nexport default function ForgotPasswordSuccess({navigation}: any) {\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.text}>\n        Пароль надіслано, перевірте пошту.\n      </Text>\n      <Button onPress={()=>navigation.navigate('Login')} mode='contained' color='#2b5dff'\n        style={styles.loginButton}>\n        На сторінку входу\n      </Button>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#2e287c',\n  },\n  text: {\n    color: '#fff',\n    fontSize: 20,\n    textAlign: 'center',\n    margin: 5,\n    width: '90%',\n    marginBottom: 32,\n  },\n  loginButton: {\n    marginTop: 32,\n    height: 50,\n    justifyContent: 'center'\n  },\n  input: {\n    width: '90%',\n    height: 50\n  }\n});\n","import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_USERS = gql`\r\n  query getUsers {\r\n    users {\r\n      id\r\n      firstName\r\n      patronymic\r\n      lastName\r\n      type\r\n      department {\r\n        name\r\n      }\r\n      email\r\n      phoneNumber\r\n      extraPhoneNumbers\r\n      nameTemp\r\n      studentInfo {\r\n        degree {\r\n          name\r\n        }\r\n        startYear\r\n        accountStatus\r\n      }\r\n      employeeInfo {\r\n        employmentType\r\n        accountStatus\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_USER_BY_ID = gql`\r\n  query getUserById($where: UserWhereUniqueInput!) {\r\n    user(where: $where) {\r\n      id\r\n      firstName\r\n      patronymic\r\n      lastName\r\n      type\r\n      department {\r\n        name\r\n      }\r\n      email\r\n      phoneNumber\r\n      extraPhoneNumbers\r\n      nameTemp\r\n      studentInfo {\r\n        degree {\r\n          name\r\n        }\r\n        startYear\r\n        accountStatus\r\n      }\r\n      employeeInfo {\r\n        employmentType\r\n        accountStatus\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import {useEffect, useState} from \"react\";\nimport {client} from \"../api/client\";\nimport {GET_CLASSROOMS} from \"../api/operations/queries/classrooms\";\nimport {ISODateString} from \"../helpers/helpers\";\nimport {ClassroomType, User} from \"../models/models\";\nimport {gql, useQuery} from \"@apollo/client\";\nimport {GET_USERS} from \"../api/operations/queries/users\";\n\nconst useUsers = (): Array<User> => {\n  const [users, setUsers] = useState<User[]>([]);\n\n  useEffect(() => {\n    client.query({query: GET_USERS, fetchPolicy: \"cache-first\"}).then((data) => {\n        setUsers(data.data.users.slice().sort((a: User, b: User) => a.id - b.id));\n      });\n  }, []);\n\n  return users;\n};\n\nexport default useUsers;","import {HOUR, MINUTE, TIME_SNIPPETS, WORKING_DAY_END, WORKING_DAY_START,} from \"./constants\";\nimport {\n  ACCESS_RIGHTS,\n  ClassroomType, CurrentUser,\n  Mode,\n  OccupiedInfo,\n  OccupiedState,\n  ScheduleUnitType,\n  User,\n  UserTypes,\n} from \"../models/models\";\nimport moment from \"moment\";\nimport {ReactElement} from \"react\";\nimport {accessRightsVar} from \"../api/client\";\n\nexport const getScheduleTimeline = (start: number, end: number): string[] => {\n  let timeSnippets: string[] = [];\n  for (let hour = start; hour <= end; hour++) {\n    if (hour === end) {\n      timeSnippets.push(hour + \":00\");\n    } else {\n      TIME_SNIPPETS.forEach((minutes) => {\n        timeSnippets.push(hour + minutes);\n      });\n    }\n  }\n  return timeSnippets;\n};\n\nconst getScheduleTimeInMilliseconds = (scheduleUnitTime: any) => {\n  return scheduleUnitTime\n    .split(\":\")\n    .map((el: any, index: number) => {\n      return index === 0 ? Number(el) * HOUR : Number(el) * MINUTE;\n    })\n    .reduce((acc: any, curr: any) => acc + curr);\n};\n\nexport const getPossiblyOccupied = (schedule: Array<any>) => {\n  const current =\n    new Date().getHours() * HOUR + new Date().getMinutes() * MINUTE;\n  const timeSnippets = schedule.map((el: any) => {\n    return {\n      from: getScheduleTimeInMilliseconds(el.from),\n      to: getScheduleTimeInMilliseconds(el.to),\n    };\n  });\n  return timeSnippets\n    .map((el: any) => {\n      return current >= el.from && current <= el.to;\n    })\n    .some((el: any) => el === true);\n};\n\nexport const getTimeHHMM = (date: Date) => {\n  return date.getHours() + \":\" + formatMinutesToMM(date.getMinutes());\n};\n\nexport const getScheduleUnitRowLength = (\n  schedule: Array<ScheduleUnitType>,\n  units: string\n) =>\n  schedule\n    .map((scheduleUnit: ScheduleUnitType) => {\n      return parseInt(scheduleUnit.to) - parseInt(scheduleUnit.from) + units;\n    })\n    .join(\" \");\n\nexport const formatMinutesToMM = (value: number) => {\n  if (value <= 9) return `0${value}`;\n  else return value;\n};\n\nexport const fullName = (user: User, withInitials = false) => {\n  if (user) {\n    if (user.nameTemp) return user.nameTemp\n    if (withInitials) {\n      return `${user.lastName} ${user.firstName.charAt(0)}. ${\n        user.patronymic ? user.patronymic.charAt(0) + \".\" : \"\"\n      }`;\n    } else {\n      return `${user.lastName} ${user.firstName} ${\n        user.patronymic ? user.patronymic : \"\"\n      }`;\n    }\n  }\n  return \"\";\n};\n\nexport const typeStyle = (occupied: OccupiedInfo) => {\n  const student = {backgroundColor: \"#2e287c\", color: \"#fff\"};\n  const employee = {backgroundColor: \"#ffc000\", color: \"#fff\"};\n  const vacant = {\n    backgroundColor: \"transparent\",\n    color: \"#000\",\n  };\n  if (isNotFree(occupied)) {\n    switch (occupied.user.type) {\n      case UserTypes.STUDENT:\n        return student;\n      case UserTypes.POST_GRADUATE:\n        return student;\n      default:\n        return employee;\n    }\n  }\n  return vacant;\n};\n\n//get int from time unit. ex: \"9:15\" -> 36 where each 15 min == 1; ex: \"00:15\" -> 1, \"10:00\" ->40\nconst simpleIntFromScheduleUnit = (time: string) => {\n  const reducer = (accumulator: any, currentValue: any) =>\n    accumulator + currentValue;\n  return time\n    .split(\":\")\n    .map((el: string, index: number) => {\n      if (index === 0) {\n        return parseInt(el) * 4;\n      } else {\n        switch (parseInt(el)) {\n          case 0:\n            return 0;\n          case 15:\n            return 1;\n          case 30:\n            return 2;\n          case 45:\n            return 3;\n        }\n      }\n    })\n    .reduce(reducer);\n};\n\n//get schedule units size in fr units for grids\nexport const getScheduleUnitSize = (\n  units: Array<ScheduleUnitType>,\n  fillEmpty = true\n) => {\n  const items = [];\n  if (fillEmpty) {\n    items.push(parseInt(units[0].from) - WORKING_DAY_START);\n  }\n  for (let item of units) {\n    const from = simpleIntFromScheduleUnit(item.from);\n    const to = simpleIntFromScheduleUnit(item.to);\n    items.push((to as number) - (from as number));\n  }\n  if (fillEmpty) {\n    items.push(WORKING_DAY_END - parseInt(units[units.length - 1].to));\n  }\n\n  return items.map((item) => `${item}fr`).join(\" \");\n};\n\nexport const ISODateString = (d: Date) => {\n  function pad(n: any) {\n    return n < 10 ? \"0\" + n : n;\n  }\n\n  return (\n    d.getUTCFullYear() +\n    \"-\" +\n    pad(d.getUTCMonth() + 1) +\n    \"-\" +\n    pad(d.getUTCDate())\n  );\n};\n\nexport const scheduleUnitToDate = (item: ScheduleUnitType) => {\n  const from = item.from.split(':');\n  const to = item.to.split(':');\n  const fromHours = +from[0];\n  const fromMinutes = +from[1];\n  const toHours = +to[0];\n  const toMinutes = +to[1];\n  const fromDate = moment({hours: fromHours, minutes: fromMinutes, seconds: 0, milliseconds: 0});\n  const toDate = moment({hours: toHours, minutes: toMinutes, seconds: 0, milliseconds: 0});\n\n  return {\n    from: fromDate,\n    to: toDate\n  };\n};\n\nexport const isOccupiedOnSchedule = (scheduleUnits: ScheduleUnitType[]) => {\n  const result: any = [];\n\n  scheduleUnits.forEach(item => result.push(scheduleUnitToDate(item)));\n\n  return result.some((item: { from: Date, to: Date }) => {\n    const current = moment();\n\n    return current.isAfter(item.from) && current.isBefore(item.to);\n  });\n};\n\nexport const showNotification = (dispatcher: any, data: string[] | HTMLElement[] | ReactElement[]) => {\n  dispatcher({\n    header: data[0],\n    message: data[1],\n    type: data[2],\n  });\n};\n\nexport const setAccessRights = (user: User) => {\n  let accessRights = ACCESS_RIGHTS.USER;\n\n  if (user && user?.type) {\n    switch (user.type) {\n      case UserTypes.ADMIN:\n        accessRights = ACCESS_RIGHTS.ADMIN;\n        break;\n      case UserTypes.DISPATCHER:\n        accessRights = ACCESS_RIGHTS.DISPATCHER;\n        break;\n      default:\n        accessRights = ACCESS_RIGHTS.USER;\n    }\n  }\n\n  accessRightsVar(accessRights);\n};\n\nexport const isTeacherType = (type: UserTypes) => {\n  return type === UserTypes.TEACHER || type === UserTypes.CONCERTMASTER || type === UserTypes.ILLUSTRATOR;\n};\n\nexport const getTimeFromUntil = (until: string, minutesDuration = 2) => {\n  if (until) {\n    const lastIndex = until.length - 5;\n    const differenceInMs = moment(until.slice(0, lastIndex)).diff(moment());\n    const tempTime = moment.duration(differenceInMs);\n\n    const resultHHMMSS = tempTime.hours() + ':' + tempTime.minutes() + ':' + tempTime.seconds();\n    const resultPercents = differenceInMs / ((MINUTE * minutesDuration) / 100);\n\n    return [resultHHMMSS, resultPercents];\n  }\n};\n\nexport const isPendingForMe = (occupied: OccupiedInfo, me: User, mode: Mode) => {\n  return (\n    (occupied.state === OccupiedState.PENDING || occupied.state === OccupiedState.RESERVED) &&\n    occupied.user.id === me.id\n    && mode === Mode.INLINE\n  );\n}\n\nexport const isOwnClassroom = (occupied: OccupiedInfo, me: User) => {\n  return occupied.state === OccupiedState.OCCUPIED && occupied.user.id === me.id;\n};\n\nexport const isNotFree = (occupied: OccupiedInfo) => {\n  return occupied.state !== OccupiedState.FREE;\n};\n\nexport const getIsMeOccupied = (me: CurrentUser, classrooms: ClassroomType[]) => {\n  return !!classrooms.find(({occupied}) => occupied.state === OccupiedState.OCCUPIED && me.id === occupied.user.id);\n};","import React from 'react';\nimport {View, Text, StyleSheet} from \"react-native\";\nimport {ActivityIndicator, Divider, Modal, Portal, Title} from \"react-native-paper\";\nimport {fullName, isTeacherType} from \"../helpers/helpers\";\nimport {useQuery} from \"@apollo/client\";\nimport {GET_USER_BY_ID} from \"../api/operations/queries/users\";\nimport {UserTypes, UserTypesUa} from \"../models/models\";\nimport {Linking} from 'react-native'\n\ninterface PropTypes {\n  userId: number;\n  hideModal: () => void;\n  visible: boolean;\n}\n\nexport default function UserInfo({userId, hideModal, visible}: PropTypes) {\n  const {data, loading, error} = useQuery(GET_USER_BY_ID, {\n    variables: {where: {id: userId}}\n  });\n\n  const openPhoneNumber = (phoneNumber: string) => Linking.openURL(`tel:${phoneNumber}`);\n\n  return <Portal>\n    <Modal visible={visible} onDismiss={hideModal} contentContainerStyle={styles.containerStyle}>\n      {!loading && !error ? <>\n          <Title style={styles.occupantName}>{data.user.nameTemp === null ? fullName(data.user) :\n            data.user.nameTemp}</Title>\n          <Divider style={styles.divider}/>\n          <Text>Статус: {UserTypesUa[data.user.type as UserTypes]}</Text>\n          <Text>Кафедра: {data.user.department?.name}</Text>\n          <Divider style={styles.divider}/>\n        {isTeacherType(data.user.type) && <>\n            <View style={styles.phoneRow}><Text>Тел: </Text>\n                <Text onPress={() => openPhoneNumber(data.user.phoneNumber)} style={styles.phoneNumber}>\n                  {data.user.phoneNumber}\n                </Text>\n            </View>\n          {JSON.parse(data.user.extraPhoneNumbers).map((number: string, index: number) => {\n            return <View key={index} style={styles.phoneRow}>\n              <Text>{`Тел. ${index + 2}: `}</Text>\n              <Text onPress={() => openPhoneNumber(number)} style={styles.phoneNumber}>\n                {number}\n              </Text>\n            </View>\n          })}\n        </>}\n      </> : <ActivityIndicator animating={true} color='#2e287c'/>}\n    </Modal>\n  </Portal>\n};\n\nconst styles = StyleSheet.create(({\n  occupantName: {},\n  containerStyle: {\n    backgroundColor: 'white',\n    padding: 20,\n    margin: 10,\n    borderRadius: 8\n  },\n  divider: {\n    marginTop: 16,\n    marginBottom: 16\n  },\n  phoneRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between'\n  },\n  phoneNumber: {\n    borderRadius: 8,\n    borderWidth: 1,\n    borderStyle: 'solid',\n    borderColor: '#eee',\n    padding: 8,\n    fontSize: 16,\n    marginTop: 8,\n    color: '#2b5dff'\n  }\n}));","import React, {useEffect, useState} from 'react';\nimport {StyleSheet, View, ScrollView, Dimensions} from \"react-native\";\nimport useUsers from \"../hooks/useUsers\";\nimport {ActivityIndicator, DataTable, Searchbar} from \"react-native-paper\";\nimport {UserTypes, UserTypesUa} from \"../models/models\";\nimport {fullName, isTeacherType} from \"../helpers/helpers\";\nimport UserInfo from \"../components/UserInfo\";\n\nconst windowHeight = Dimensions.get('window').height;\n\nexport default function Users() {\n  const users = useUsers();\n  const [pages, setPages] = useState(0);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [visible, setVisible] = useState(false);\n  const [currentUserId, setCurrentUserId] = useState(0);\n  const [searchText, setSearchText] = useState('');\n  const UserElement = ({user}: any) => <DataTable.Row onPress={() => showModal(user.id)}>\n    <DataTable.Cell>{fullName(user)}</DataTable.Cell>\n    <DataTable.Cell>{UserTypesUa[user.type as UserTypes]}</DataTable.Cell>\n  </DataTable.Row>;\n\n  const showModal = (userId: number) => {\n    setVisible(true);\n    setCurrentUserId(userId);\n  };\n\n  const hideModal = () => setVisible(false);\n\n  useEffect(() => {\n    setPages(users.length / 13)\n  }, [users]);\n\n  return <View>\n    <Searchbar\n      placeholder=\"Пошук\"\n      onChangeText={text => {\n        setSearchText(text);\n        setCurrentPage(0);\n      }}\n      value={searchText}\n      style={styles.search}\n    />\n    <DataTable>\n      <DataTable.Header style={styles.header}>\n        <DataTable.Title>П.І.Б.</DataTable.Title>\n        <DataTable.Title style={{alignSelf: 'center'}}>Статус</DataTable.Title>\n      </DataTable.Header>\n      {users.length ? <>\n        <View style={styles.list}>\n          <ScrollView>\n            {users?.filter(user => isTeacherType(user.type as UserTypes))\n              .slice()\n              //@ts-ignore\n              .sort((a , b) => fullName(a).toLowerCase() > fullName(b).toLowerCase())\n              .filter(user => fullName(user).toLowerCase().includes(searchText.toLowerCase()))\n              .slice(currentPage * 13, (currentPage * 13) + 13)\n              .map(user =>\n              <UserElement user={user}/>)}\n          </ScrollView>\n        </View>\n        <DataTable.Pagination\n          style={styles.pagination}\n          page={currentPage}\n          numberOfPages={pages}\n          onPageChange={page => {\n            setCurrentPage(page);\n          }}\n          label={`${currentPage * 13} - ${(currentPage * 13) + 13} з ${users.length}`}\n        />\n      </> : <ActivityIndicator animating={true} color='#2e287c'/>}\n    </DataTable>\n    {currentUserId ? <UserInfo userId={currentUserId} hideModal={hideModal} visible={visible}/> : null}\n  </View>\n}\n\nconst styles = StyleSheet.create(({\n  search: {\n    marginTop: 40,\n    marginBottom: -40\n  },\n  header: {\n    marginTop: 40,\n  },\n  list: {\n    height: windowHeight - 175\n  },\n  pagination: {\n    justifyContent: 'center',\n  }\n}));\n","import React, {useState} from 'react';\nimport {\n  SafeAreaView,\n  View,\n  StyleSheet,\n  Image,\n  Text,\n  Linking,\n} from 'react-native';\n\nimport {\n  DrawerContentScrollView,\n  DrawerItemList,\n} from '@react-navigation/drawer';\nimport {Avatar, Button, Dialog, IconButton, Portal} from \"react-native-paper\";\nimport {removeItem} from \"../api/asyncStorage\";\nimport {meVar} from \"../api/client\";\n\nconst CustomSidebarMenu = (props: any) => {\n  const [visible, setVisible] = useState(false);\n\n  const showDialog = () => setVisible(true);\n\n  const hideDialog = () => setVisible(false);\n\n  const logout = async () => {\n    await removeItem('user');\n    meVar(null);\n    hideDialog();\n  };\n\n  return (\n    <SafeAreaView style={{flex: 1}}>\n      <Image\n        source={require('../assets/images/au_logo.png')}\n        style={styles.sideMenuProfileIcon}\n      />\n      <View style={styles.userData}>\n        <Avatar.Icon size={44} icon='account'/>\n        <Text style={styles.userName}>{meVar()?.firstName}, вітаємо!</Text>\n        <IconButton\n          icon=\"logout\"\n          color=\"#f91354\"\n          size={30}\n          onPress={showDialog}\n          style={styles.logout}\n        />\n      </View>\n      <DrawerContentScrollView {...props}>\n        <DrawerItemList {...props} />\n      </DrawerContentScrollView>\n      <Text\n        style={{\n          fontSize: 16,\n          textAlign: 'center',\n          color: '#fff',\n          marginBottom: 16\n        }}\n        onPress={() => Linking.openURL('https://knmau.com.ua/')}\n      >\n        НМАУ ім. П.І.Чайковського\n      </Text>\n      <Portal>\n        <Dialog visible={visible} onDismiss={hideDialog}>\n          <Dialog.Title>Ви дійсно бажаєте вийти з аккаунту?</Dialog.Title>\n          <Dialog.Actions>\n            <Button onPress={hideDialog}>Відміна</Button>\n            <Button onPress={logout}>Так</Button>\n          </Dialog.Actions>\n        </Dialog>\n      </Portal>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  sideMenuProfileIcon: {\n    resizeMode: 'center',\n    width: 200,\n    height: 70,\n    marginTop: 50,\n    alignSelf: 'center',\n  },\n  iconStyle: {\n    width: 15,\n    height: 15,\n    marginHorizontal: 5,\n  },\n  customItem: {\n    padding: 16,\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  userData: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginTop: 20,\n    marginHorizontal: 10,\n    borderRadius: 8,\n    borderWidth: 1,\n    padding: 12,\n    borderColor: '#ffffff22',\n    flexDirection: 'row'\n  },\n  userName: {\n    color: '#fff',\n    fontSize: 20,\n    paddingLeft: 10\n  },\n  logout: {\n    marginRight: -10,\n    marginVertical: -10\n  }\n});\n\nexport default CustomSidebarMenu;","import {gql} from \"@apollo/client\";\r\n\r\nexport const GET_SCHEDULE_UNIT = gql`\r\n  query getScheduleUnit($classroomName: String!, $date: Date!) {\r\n    schedule(classroomName: $classroomName, date: $date) {\r\n      id\r\n      user {\r\n        id\r\n        lastName\r\n        firstName\r\n        patronymic\r\n      }\r\n      from\r\n      to\r\n      activity\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_SCHEDULE = gql`\r\n  query getClassrooms($date: Date!) {\r\n    classrooms {\r\n      id\r\n      name\r\n      schedule(date: $date) {\r\n        id\r\n        from\r\n        to\r\n        activity\r\n        user {\r\n          id\r\n          lastName\r\n          firstName\r\n          patronymic\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import React, {useState} from 'react';\nimport {StyleSheet, View, Text, ScrollView, Dimensions} from \"react-native\";\nimport {Appbar, Surface, TextInput} from \"react-native-paper\";\nimport {ActivityTypes, ClassroomType} from \"../models/models\";\nimport {fullName, ISODateString} from \"../helpers/helpers\";\nimport {GET_SCHEDULE} from \"../api/operations/queries/schedule\";\nimport {useQuery} from \"@apollo/client\";\nimport UserInfo from \"../components/UserInfo\";\n\nconst windowWidth = Dimensions.get('window').width;\n\nexport default function Schedule() {\n  const timeline = ['', 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20];\n  const {data, loading, error} = useQuery(GET_SCHEDULE, {\n    variables: {date: ISODateString(new Date())}\n  });\n  const hour = (windowWidth - 40) / (timeline.length - 1);\n  const [visible, setVisible] = useState(false);\n  const [currentUserId, setCurrentUserId] = useState(0);\n\n  const showModal = (userId: number) => {\n    setCurrentUserId(userId);\n    setVisible(true);\n  };\n\n  const hideModal = () => setVisible(false);\n\n  return <>\n    <Appbar style={styles.top}>\n      <Appbar.Action icon=\"menu\" onPress={() => {}}/>\n      <Appbar.Content title=\"Розклад\"/>\n      <Appbar.Action icon=\"calendar-range\" onPress={() => {}}/>\n    </Appbar>\n    <View style={styles.timeline} pointerEvents='none'>\n      {timeline.slice(1).map(item => <Text style={{width: hour, ...styles.hour}}>{item}</Text>)}\n    </View>\n    <ScrollView style={styles.schedule}>\n      {!loading && !error && (data.classrooms as ClassroomType[])?.slice().sort((a, b) => {\n        return a.name - b.name\n      }).map(classroom => {\n        let lastValue = timeline[1] as number;\n        return <View style={styles.row}>\n          <Text style={{width: 40, textAlign: 'center'}}>{classroom.name}</Text>\n          {classroom.schedule.slice().sort((a, b) => {\n            return parseInt(a.from) - parseInt(b.from)\n          }).map(unit => {\n            const from = parseInt(unit.from);\n            const to = parseInt(unit.to);\n            const length = (to - from) * hour;\n            const gap = (from - lastValue) * hour;\n            lastValue = to;\n            return <View style={{flexDirection: 'row'}} onTouchEnd={() => showModal(unit.user.id)}>\n              <View style={{...styles.gap, width: gap}}/>\n              <Surface style={{\n                ...styles.item,\n                width: length,\n                backgroundColor: unit.activity === ActivityTypes.INDIVIDUAL_LESSON ? '#2b5dff' : '#ffc000'\n              }}>\n                <Text style={{color: '#fff'}} numberOfLines={1}>\n                  {fullName(unit.user, true)}\n                </Text>\n              </Surface>\n            </View>\n          })}\n        </View>\n      })}\n    </ScrollView>\n    {currentUserId ? <UserInfo userId={currentUserId} hideModal={hideModal} visible={visible}/> : null}\n  </>\n};\n\nconst styles = StyleSheet.create({\n  timeline: {\n    marginTop: 90,\n    height: '100%',\n    marginLeft: 40,\n    flexDirection: 'row',\n    position: 'absolute',\n    elevation: 10,\n  },\n  hour: {\n    borderLeftColor: 'rgba(221 ,221 ,221, .2)',\n    borderLeftWidth: 1\n  },\n  schedule: {\n    marginTop: 120,\n  },\n  row: {\n    flexDirection: 'row',\n    borderBottomColor: 'rgba(221 ,221 ,221, .5)',\n    borderBottomWidth: 1,\n    alignItems: 'center',\n  },\n  gap: {\n    height: 40,\n  },\n  item: {\n    borderRadius: 4,\n    elevation: 4,\n    margin: 1,\n    height: 40,\n    justifyContent: 'center',\n    paddingHorizontal: 8,\n    flexWrap: 'nowrap'\n  },\n  top: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    paddingTop: 26,\n    height: 80,\n    backgroundColor: '#2e287c',\n    zIndex: 1\n  },\n});","import {gql} from \"@apollo/client\";\r\n\r\nexport const GET_ME = gql`\r\n    query meType {\r\n        me @client\r\n    }\r\n`;","import React, {useEffect, useState} from 'react';\nimport {StyleSheet, View, Text} from \"react-native\";\nimport {Appbar, Divider, Title} from \"react-native-paper\";\nimport {useQuery} from \"@apollo/client\";\nimport {GET_ME} from \"../api/operations/queries/me\";\nimport {fullName} from \"../helpers/helpers\";\nimport {UserTypes, UserTypesUa} from \"../models/models\";\nimport {getItem} from \"../api/asyncStorage\";\n\nexport default function Profile({navigation}: any) {\n  const {data: {me}} = useQuery(GET_ME);\n  const [user, setUser] = useState();\n\n  useEffect(() => {\n    getItem('user').then(res => {\n      setUser(JSON.stringify(res))\n    })\n  }, [])\n\n  const goBack = () => navigation.goBack();\n\n  return (\n    <View>\n      <Appbar style={styles.top}>\n        <Appbar.BackAction onPress={goBack}/>\n        <Appbar.Content\n          title='Мій профіль'\n        />\n      </Appbar>\n      <View style={styles.wrapper}>\n        <Title>П.І.Б.</Title>\n        <Text style={{marginBottom: 10}}>{fullName(me)}</Text>\n        <Divider/>\n        <Title>Персональний номер (ID)</Title>\n        <Text style={{marginBottom: 10}}>{me.id}</Text>\n        <Divider/>\n        <Title>Тип аккаунту</Title>\n        <Text style={{marginBottom: 10}}>{UserTypesUa[me.type as UserTypes]}</Text>\n        <Divider/>\n        {me.department && (\n          <>\n            <Title>Кафедра</Title>\n            <Text style={{marginBottom: 10}}>{me.department?.name}</Text>\n            <Divider/>\n          </>\n        )}\n        <Title>E-mail</Title>\n        <Text style={{marginBottom: 10}}>{me.email}</Text>\n        <Divider/>\n        <Title>Телефон</Title>\n        <Text style={{marginBottom: 10}}>{me.phoneNumber}</Text>\n        <Divider/>\n        <Title>Термін дії аккаунту</Title>\n        <Text style={{marginBottom: 10}}>{me.expireDate}</Text>\n        <Divider/>\n        <Text>\n          {user}\n        </Text>\n      </View>\n    </View>\n  )\n}\n\nconst styles = StyleSheet.create({\n  top: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    paddingTop: 26,\n    height: 80,\n    backgroundColor: '#2e287c',\n  },\n  wrapper: {\n    marginTop: 100,\n    marginLeft: 16,\n    marginRight: 16,\n  },\n});","import {useNavigation} from '@react-navigation/native';\nimport React from 'react';\nimport {View, Text, StyleSheet, ImageBackground} from \"react-native\";\nimport {Appbar, Button, Title} from \"react-native-paper\";\n\nexport default function SignUpStepTwo() {\n  const navigation = useNavigation();\n  const message1 = 'Щоб підтвердити вказаний e-mail, перейдіть за посиланням, яке ми' +\n    ' надіслали на Вашу адресу.';\n  const message2 = 'Далі увійдіть до свого аккаунту та пройдіть верифікацію в учбовій частині.';\n\n\n  const navigateToLogin = () => {\n    navigation.navigate('Login');\n  };\n\n  return <ImageBackground source={require('../../assets/images/bg.jpg')}\n                          style={{width: '100%', height: '100%'}}>\n    <View style={styles.container}>\n      <Appbar style={styles.top}>\n        <Appbar.BackAction onPress={navigateToLogin}/>\n        <Appbar.Content title='Реєстрація' subtitle='Крок 2 із 3' color='#fff'/>\n      </Appbar>\n      <View style={styles.wrapper}>\n        <Title style={styles.title}>Вітаємо! Реєстрація успішна!</Title>\n        <Text style={styles.message}>{message1}</Text>\n        <Text style={styles.message}>{message2}</Text>\n        <Button mode='contained' style={styles.button} onPress={navigateToLogin}>На сторінку входу</Button>\n      </View>\n    </View>\n  </ImageBackground>\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n  },\n  top: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    paddingTop: 26,\n    height: 80,\n    backgroundColor: 'transparent',\n    elevation: 0\n  },\n  wrapper: {},\n  title: {\n    textAlign: 'center',\n    fontSize: 32,\n    padding: 20,\n    lineHeight: 40,\n    fontWeight: 'bold',\n    color: '#fff',\n    marginBottom: 30\n  },\n  message: {\n    textAlign: 'center',\n    borderRadius: 8,\n    backgroundColor: '#b5e3ff77',\n    padding: 8,\n    marginHorizontal: 20,\n    marginBottom: 10,\n    fontSize: 20,\n  },\n  button: {\n    width: 200,\n    alignSelf: 'center',\n    marginTop: 50,\n    height: 50,\n    justifyContent: 'center'\n  }\n});","import React, {useEffect, useState} from 'react';\nimport {View, Text, StyleSheet, ImageBackground} from \"react-native\";\nimport {Appbar, Button, Title} from \"react-native-paper\";\nimport {client, meVar} from \"../../api/client\";\nimport {GET_USER_BY_ID} from \"../../api/operations/queries/users\";\nimport {getItem, removeItem, setItem} from \"../../api/asyncStorage\";\n\nexport default function Verification() {\n  const message1 = 'Для доступу до застосунку підтвердіть свій аккаунт в учбовій частині. \\n' +\n    'Ваш номер користувача:';\n  const message2 = 'Після верифікації оновіть сторінку або поверніться на сторінку входу.';\n  const [storageUser, setStorageUser] = useState<any>(null);\n  const [update, setUpdate] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    getItem('user').then(u => setStorageUser(u));\n  },[]);\n\n  useEffect(() => {\n    if (storageUser) {\n      setIsLoading(true);\n      client.query({\n        query: GET_USER_BY_ID,\n        variables: {\n          where: {id: storageUser.id}\n        },\n        fetchPolicy: 'network-only',\n      }).then(({data: {user}}) => {\n        setItem('user', user).then(() => {\n          setIsLoading(false);\n        });\n      });\n    }\n  }, [update]);\n\n  const navigateToLogin = async () => {\n    await removeItem('user');\n    meVar(null);\n  };\n\n  return <ImageBackground source={require('../../assets/images/bg.jpg')}\n                          style={{width: '100%', height: '100%'}}>\n    <View style={styles.container}>\n      <Appbar style={styles.top}>\n        <Appbar.BackAction onPress={navigateToLogin}/>\n        <Appbar.Content title='Реєстрація' subtitle='Крок 3 із 3' color='#fff'/>\n      </Appbar>\n      <View style={styles.wrapper}>\n        <Title style={styles.title}>Верифікація в учбовій частині</Title>\n        <Text style={styles.message}>{message1}</Text>\n        <Title style={styles.number}>{storageUser ? storageUser.id : ''}</Title>\n        <Text style={styles.message}>{message2}</Text>\n        <Button mode='contained' style={styles.button} loading={isLoading} disabled={isLoading}\n                onPress={() => setUpdate(prevState => !prevState)}\n        >\n          Оновити\n        </Button>\n        <Button mode='contained' style={styles.button} onPress={navigateToLogin}>\n          На сторінку входу\n        </Button>\n      </View>\n    </View>\n  </ImageBackground>\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n  },\n  top: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    paddingTop: 26,\n    height: 80,\n    backgroundColor: 'transparent',\n    elevation: 0\n  },\n  wrapper: {},\n  title: {\n    textAlign: 'center',\n    fontSize: 32,\n    padding: 10,\n    lineHeight: 40,\n    fontWeight: 'bold',\n    color: '#fff',\n    marginBottom: 15\n  },\n  number: {\n    textAlign: 'center',\n    fontSize: 50,\n    padding: 30,\n    lineHeight: 60,\n    marginHorizontal: 20,\n    marginBottom: 12,\n    color: '#fff',\n    borderRadius: 8,\n    borderStyle: \"solid\",\n    borderColor: '#ffffff33',\n    borderWidth: 1,\n  },\n  message: {\n    textAlign: 'center',\n    borderRadius: 8,\n    backgroundColor: '#b5e3ff77',\n    padding: 8,\n    marginHorizontal: 20,\n    marginBottom: 10,\n    fontSize: 20,\n  },\n  button: {\n    width: 200,\n    alignSelf: 'center',\n    marginTop: 10,\n    height: 50,\n    justifyContent: 'center'\n  }\n});","import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_CLASSROOMS = gql`\r\n  query getClassrooms($date: Date!, $where: ClassroomWhereInput) {\r\n    classrooms(where: $where) {\r\n      id\r\n      description\r\n      name\r\n      floor\r\n      special\r\n      isHidden\r\n      chair {\r\n          name\r\n      }\r\n      isWing\r\n      isOperaStudio\r\n      occupied {\r\n        user {\r\n          id\r\n          firstName\r\n          patronymic\r\n          lastName\r\n          type\r\n          nameTemp\r\n          email\r\n          phoneNumber\r\n        }\r\n        until\r\n        state\r\n      }\r\n      schedule(date: $date) {\r\n        from\r\n        to\r\n        activity\r\n      }\r\n      instruments {\r\n        name\r\n        type\r\n        rate\r\n      }\r\n      disabled {\r\n        comment\r\n        until\r\n        state\r\n      }\r\n    }\r\n  }\r\n`;","import {gql} from \"@apollo/client/core\";\n\nexport const FOLLOW_CLASSROOMS = gql`\n  subscription {\n  classroomUpdate {\n  classroom {\n        id\n        occupied {\n          user {\n            id\n            firstName\n            lastName\n            patronymic\n            type\n          }\n          until\n          state\n        }\n        disabled {\n        comment\n        state\n        until\n      }\n      }\n    }\n  }\n`;","import {useEffect, useState} from \"react\";\nimport {GET_CLASSROOMS} from \"../api/operations/queries/classrooms\";\nimport {ISODateString} from \"../helpers/helpers\";\nimport {ClassroomType} from \"../models/models\";\nimport {useQuery} from \"@apollo/client\";\nimport {FOLLOW_CLASSROOMS} from \"../api/operations/subscriptions/classrooms\";\n\nconst useClassrooms = (props?: any): [Array<ClassroomType>, any] => {\n  const [classrooms, setClassrooms] = useState<ClassroomType[]>([]);\n  const {data, loading, error, subscribeToMore} = useQuery(GET_CLASSROOMS, {\n    variables: {\n      date: ISODateString(props?.date ? props.date : new Date()),\n    }\n  })\n  const followClassrooms = () => subscribeToMore({\n    document: FOLLOW_CLASSROOMS\n  });\n\n  useEffect(() => {\n    !loading && !error && setClassrooms(\n      data.classrooms\n        .slice()\n        .sort(\n          (a: ClassroomType, b: ClassroomType) =>\n            parseInt(a.name) - parseInt(b.name)\n        )\n    );\n  }, [data, loading, error]);\n\n  return [classrooms, followClassrooms];\n};\n\nexport default useClassrooms;","import React from 'react';\nimport {View, Text, StyleSheet, Image} from \"react-native\";\nimport {Divider, Modal, Portal, Title} from \"react-native-paper\";\nimport {fullName, isTeacherType} from \"../helpers/helpers\";\nimport {useQuery} from \"@apollo/client\";\nimport {GET_USER_BY_ID} from \"../api/operations/queries/users\";\nimport {InstrumentType, UserTypes, UserTypesUa} from \"../models/models\";\nimport {Linking} from 'react-native'\n\ninterface PropTypes {\n  instrument: InstrumentType;\n  hideModal: () => void;\n  visible: boolean;\n  imageSource: string;\n}\n\nexport default function InstrumentInfo({instrument, hideModal, visible}: PropTypes) {\n  let instrumentType: any = `./../assets/images/UpRightPiano.png`;\n  // @ts-ignore\n  const intRate = Math.round(instrument.rate);\n  const rate = new Array(10).fill(1);\n\n  switch (instrument.type) {\n    case 'Chembalo':\n      instrumentType = <Image source={require(`./../assets/images/Chembalo.png`)} style={styles.icon}/>;\n      break;\n    case 'GrandPiano':\n      instrumentType = <Image source={require(`./../assets/images/GrandPiano.png`)} style={styles.icon}/>;\n      break;\n    case 'UpRightPiano':\n      instrumentType = <Image source={require(`./../assets/images/UpRightPiano.png`)} style={styles.icon}/>;\n      break;\n    default:\n      instrumentType = <Image source={require(`./../assets/images/GrandPiano.png`)} style={styles.icon}/>;\n  }\n\n  return <Portal>\n    <Modal visible={visible} onDismiss={hideModal} contentContainerStyle={styles.containerStyle}>\n      <Title style={{textAlign: 'center'}}>{instrumentType} {instrument.name}</Title>\n      <Divider style={styles.divider}/>\n      <Text style={{textAlign: 'center'}}>Тип: {instrument.type}</Text>\n      <Divider style={styles.divider}/>\n      <Text style={{textAlign: 'center'}}>Рейтинг: {instrument.rate.toFixed(1)}</Text>\n      <View style={styles.rate}>\n        {rate.map((item, index) => <Image key={index}\n          style={{...styles.star, opacity: index < intRate ? 1 : .3}}\n          source={require('../assets/images/star.png')}\n        />)}\n      </View>\n    </Modal>\n  </Portal>\n};\n\nconst styles = StyleSheet.create(({\n  containerStyle: {\n    backgroundColor: 'white',\n    padding: 20,\n    margin: 10,\n    borderRadius: 8\n  },\n  divider: {\n    marginTop: 16,\n    marginBottom: 16\n  },\n  phoneRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between'\n  },\n  phoneNumber: {\n    borderRadius: 8,\n    borderWidth: 1,\n    borderStyle: 'solid',\n    borderColor: '#eee',\n    padding: 8,\n    fontSize: 16,\n    marginTop: 8,\n    color: '#2b5dff'\n  },\n  icon: {\n    width: 20,\n    height: 20,\n    marginRight: 8,\n    marginLeft: 4,\n    opacity: .6\n  },\n  star: {\n    width: 20,\n    height: 20\n  },\n  rate: {\n    marginTop: 8,\n    flexDirection: 'row',\n    justifyContent: 'center'\n  }\n}));","import React, {useState} from 'react';\nimport {View, StyleSheet, Text, Dimensions, Image} from \"react-native\";\nimport {ClassroomType, InstrumentType} from \"../models/models\";\nimport InstrumentInfo from \"./InstrumentInfo\";\n\ninterface PropTypes {\n  instrument: InstrumentType;\n  expanded?: boolean;\n}\n\nexport default function InstrumentItem({instrument, expanded = false}: PropTypes) {\n  const {type, rate, name} = instrument;\n  let instrumentType: any = `./../assets/images/UpRightPiano.png`;\n  const [visible, setVisible] = useState(false);\n\n  const showModal = () => setVisible(true);\n\n  const hideModal = () => setVisible(false);\n\n  switch (type) {\n    case 'Chembalo':\n      instrumentType = <Image source={require(`./../assets/images/Chembalo.png`)} style={styles.icon}/>;\n      break;\n    case 'GrandPiano':\n      instrumentType = <Image source={require(`./../assets/images/GrandPiano.png`)} style={styles.icon}/>;\n      break;\n    case 'UpRightPiano':\n      instrumentType = <Image source={require(`./../assets/images/UpRightPiano.png`)} style={styles.icon}/>;\n      break;\n    default:\n      instrumentType = <Image source={require(`./../assets/images/GrandPiano.png`)} style={styles.icon}/>;\n  }\n\n  return <View style={styles.wrapper} onTouchEnd={expanded ? showModal : () => {}}>\n    {instrumentType}\n    {expanded && <>\n        <Text style={styles.name}>{name}</Text>\n        <Image style={styles.star} source={require('../assets/images/star.png')}/>\n    </>}\n    <Text>{rate.toFixed(1)}</Text>\n    <InstrumentInfo instrument={instrument} hideModal={hideModal} visible={visible}\n                    imageSource={instrumentType}/>\n  </View>\n};\n\nconst styles = StyleSheet.create({\n  wrapper: {\n    flexDirection: 'row',\n    marginTop: 4,\n    marginBottom: 4,\n    marginRight: 2,\n    backgroundColor: 'rgba(0, 0, 0, .05)',\n    paddingTop: 4,\n    paddingBottom: 4,\n    paddingLeft: 4,\n    paddingRight: 8,\n    borderRadius: 4,\n    alignItems: 'center'\n  },\n  icon: {\n    width: 20,\n    height: 20,\n    marginRight: 8,\n    marginLeft: 4,\n    opacity: .6\n  },\n  name: {\n    marginLeft: 4,\n    marginRight: 4\n  },\n  star: {\n    width: 20,\n    height: 20\n  }\n});","import {gql, useQuery} from \"@apollo/client\";\n\nexport const useLocal = (localVarName: string) => {\n  return useQuery(gql`\n      query ${localVarName} {\n        ${localVarName} @client\n      }\n  `);\n};","import {desirableClassroomIdsVar, minimalClassroomIdsVar} from \"../../api/client\";\n\nconst addToFilteredList = (classroomId: number, isMinimalSetup: boolean,\n                           minimalClassroomIds: any, desirableClassroomIds: any) => {\n\n  if (isMinimalSetup) {\n    const elementIndex = minimalClassroomIds.findIndex((id: number) => id === classroomId);\n\n    if (elementIndex === -1) {\n      minimalClassroomIdsVar([...minimalClassroomIds, classroomId]);\n    } else {\n      const filteredArray = minimalClassroomIds.slice();\n\n      filteredArray.splice(elementIndex, 1);\n      minimalClassroomIdsVar(filteredArray);\n    }\n  } else {\n    const elementIndex = desirableClassroomIds.findIndex((id: number) => id === classroomId);\n\n    if (elementIndex === -1) {\n      desirableClassroomIdsVar([...desirableClassroomIds, classroomId]);\n    } else {\n      const filteredArray = desirableClassroomIds.slice();\n\n      filteredArray.splice(elementIndex, 1);\n      desirableClassroomIdsVar(filteredArray);\n    }\n  }\n};\n\nexport default addToFilteredList;\n\n","import {Mode, OccupiedInfo, OccupiedState, User} from \"../models/models\";\nimport React, {useEffect, useRef, useState} from \"react\";\nimport {useQuery} from \"@apollo/client\";\nimport {GET_ME} from \"../api/operations/queries/me\";\nimport {useLocal} from \"./useLocal\";\nimport {getTimeFromUntil, isNotFree, isPendingForMe} from \"../helpers/helpers\";\n\nconst useTimeLeft = (occupied: OccupiedInfo, minutesDuration: number) => {\n  const [timeLeft, setTimeLeft] = useState('');\n  const [timeLeftInPer, setTimeLeftInPer] = useState(100);\n  const interval = useRef<any>({current: null});\n  const {data: {me}} = useQuery(GET_ME);\n\n  useEffect(() => {\n    if (isNotFree(occupied) && occupied.user.id === me.id  && interval.current !== null) {\n      // @ts-ignore\n      interval.current = setInterval(() => {\n        // @ts-ignore\n        const [left, leftPer] = getTimeFromUntil(occupied.until, minutesDuration);\n        const hour: string = (left as string).split(':')?.[0] + ' год. ';\n        const min: string = (left as string).split(':')?.[1] + ' хв. ';\n        const sec: string = (left as string).split(':')?.[2] + ' сек. ';\n\n        setTimeLeft(hour + min + sec);\n        setTimeLeftInPer(leftPer as number);\n        if (timeLeftInPer <= 0) clearInterval(interval.current);\n      }, 1000);\n    } else {\n      clearInterval(interval.current);\n      interval.current = null;\n      setTimeLeft('');\n    }\n  }, [occupied.state]);\n\n  return [timeLeft, timeLeftInPer];\n};\n\nexport default useTimeLeft;","export const HOUR = 3600000;\r\nexport const MINUTE = 60000;\r\nexport const TIME_SNIPPETS = [\":00\", \":15\", \":30\", \":45\"];\r\nexport const WORKING_DAY_END = 21;\r\nexport const WORKING_DAY_START = 8;","import React, {useState} from 'react';\nimport {Dimensions, Image, StyleSheet, Text, TouchableHighlight, View} from \"react-native\";\nimport {ClassroomType, DisabledInfo, DisabledState, Mode, OccupiedInfo, OccupiedState} from \"../models/models\";\nimport {fullName, isNotFree, isOccupiedOnSchedule, isOwnClassroom, isPendingForMe, typeStyle} from \"../helpers/helpers\";\nimport {IconButton, Surface} from \"react-native-paper\";\nimport InstrumentItem from \"./InstrumentItem\";\nimport {useNavigation} from '@react-navigation/native';\nimport ErrorDialog from \"./ErrorDialog\";\nimport moment from \"moment\";\nimport {useLocal} from \"../hooks/useLocal\";\nimport addToFilteredList from \"../helpers/queue/addToFilteredList\";\nimport {useQuery} from \"@apollo/client\";\nimport {GET_ME} from \"../api/operations/queries/me\";\nimport useTimeLeft from \"../hooks/useTimeLeft\";\nimport Colors from \"../constants/Colors\";\n\ninterface PropTypes {\n  classroom: ClassroomType;\n  filteredList: number[];\n}\n\nconst windowWidth = Dimensions.get('window').width;\nconst cellWidth = ((windowWidth - 10) / 3);\n\nexport default function ClassroomsCell({\n                                         classroom, filteredList\n                                       }: PropTypes) {\n  const {name, occupied, schedule, special, instruments, disabled, id} = classroom;\n  const navigation = useNavigation();\n  // const occupiedOnSchedule = isOccupiedOnSchedule(schedule);\n  const userFullName = isNotFree(occupied) ? fullName(occupied.user, true) : '';\n  const [visible, setVisible] = useState(false);\n  const {data: {mode}} = useLocal('mode');\n  const {data: {isMinimalSetup}} = useLocal('isMinimalSetup');\n  const {data: {desirableClassroomIds}} = useLocal('desirableClassroomIds');\n  const {data: {minimalClassroomIds}} = useLocal('minimalClassroomIds');\n  const {data: {me}} = useQuery(GET_ME);\n  const occupiedTotalTime = occupied.state === OccupiedState.OCCUPIED ? 180 : 2;\n  const [timeLeft, timeLeftInPer] = useTimeLeft(occupied, occupiedTotalTime);\n\n  const handleTouch = (disabled: DisabledInfo) => {\n    disabled?.state === DisabledState.NOT_DISABLED && navigation.navigate('ClassroomInfo', {classroom});\n    disabled?.state === DisabledState.NOT_DISABLED && setVisible(true);\n  };\n\n  const ProgressBackground = () => (\n    <View\n      style={{\n        ...styles.timeLeftProgress,\n        width: (cellWidth / 100) * (timeLeftInPer as number)\n      }}\n    />\n  );\n\n  return <TouchableHighlight\n    onPress={mode === Mode.QUEUE_SETUP && isNotFree(occupied)\n      ? () => addToFilteredList(id, isMinimalSetup, minimalClassroomIds, desirableClassroomIds)\n      : () => handleTouch(disabled)\n    }\n    underlayColor={disabled?.state === DisabledState.DISABLED ? '#f91354' : '#2b5dff'}\n    style={{borderRadius: 4}}\n    onLongPress={mode === Mode.QUEUE_SETUP ? () => handleTouch(disabled) : null}\n  >\n    <Surface style={[styles.cell,\n      disabled?.state === DisabledState.DISABLED ? styles.disabled : isNotFree(occupied) ?\n        styles.occupied : styles.free]}\n    >\n      {filteredList.includes(id) && mode === Mode.QUEUE_SETUP && (\n        <IconButton icon='check-bold' style={styles.checkMark} color='#0f0'/>\n      )}\n      {isPendingForMe(occupied, me, mode) && (\n        <>\n          {occupied?.state === OccupiedState.RESERVED && (\n            <Image source={require('../assets/images/key.png')} style={styles.keyImage}/>\n          )}\n          <ProgressBackground/>\n        </>\n      )}\n      {isOwnClassroom(occupied, me) && <ProgressBackground/>}\n      <View style={styles.cellHeader}>\n        <Text style={styles.name}>{name}</Text>\n        <Image source={require('./../assets/images/specialPiano.png')}\n               style={[special ? styles.special : styles.notSpecial]}/>\n      </View>\n      {isPendingForMe(occupied, me, mode) ||\n      isOwnClassroom(occupied, me) ? (\n        <Text style={styles.timeLeft}>{timeLeft}</Text>\n      ) : (\n        <Text style={[styles.occupationInfo, typeStyle(occupied)]} numberOfLines={1}>\n          {disabled?.state === DisabledState.DISABLED ? disabled?.comment : isNotFree(occupied)\n            ? userFullName : 'Вільно'}\n        </Text>\n      )}\n      <View style={styles.instruments}>\n        {instruments?.length\n          ? instruments\n            .slice()\n            .sort((a, b) => b.rate - a.rate).slice(0, 2)\n            .map(instrument => <InstrumentItem instrument={instrument} key={instrument.id}/>)\n          : <View style={styles.space}/>}\n      </View>\n      <ErrorDialog message={'Аудиторія відключена до ' + moment(disabled?.until)\n        .format('DD.MM.YYYY HH:MM') +\n      '\\n' + disabled?.comment} visible={visible}\n                   hideDialog={() => setVisible(false)}\n      />\n    </Surface>\n  </TouchableHighlight>\n};\n\nconst styles = StyleSheet.create({\n  cell: {\n    width: cellWidth,\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: 100,\n    margin: 1,\n    elevation: 2,\n    borderRadius: 4,\n    position: 'relative',\n    overflow: 'hidden'\n  },\n  cellHeader: {\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: cellWidth,\n    paddingLeft: 16,\n    paddingRight: 16,\n    flexDirection: 'row',\n  },\n  name: {\n    fontSize: 35,\n    fontWeight: 'bold',\n  },\n  special: {\n    width: 20,\n    height: 20,\n    opacity: 1\n  },\n  notSpecial: {\n    width: 20,\n    height: 20,\n    opacity: 0\n  },\n  occupied: {},\n  free: {\n    backgroundColor: '#4bfd63'\n  },\n  disabled: {\n    backgroundColor: '#ccc',\n  },\n  occupationInfo: {\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center'\n  },\n  instruments: {\n    flexDirection: 'row'\n  },\n  space: {\n    height: 20,\n    margin: 8,\n  },\n  checkMark: {\n    position: 'absolute',\n    zIndex: 2,\n    backgroundColor: '#00000088'\n  },\n  timeLeftProgress: {\n    left: 0,\n    position: 'absolute',\n    zIndex: 1000,\n    backgroundColor: '#00000033',\n    height: 100,\n    width: cellWidth,\n  },\n  timeLeft: {\n    fontSize: 12,\n    backgroundColor: '#f91354',\n    color: '#fff',\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center'\n  },\n  keyImage: {\n    position: \"absolute\",\n    top: 8,\n    right: 8,\n    width: 30,\n    height: 30,\n    resizeMode: \"stretch\",\n    tintColor: Colors.red\n  }\n});","import React from 'react';\nimport {StyleSheet, Text, View} from \"react-native\";\nimport {\n  Modal,\n  Portal,\n  RadioButton,\n} from \"react-native-paper\";\n\ninterface PropTypes {\n  hideModal: () => void;\n  visible: boolean;\n  isGrandPianoOnly: boolean;\n  setIsGrandPianoOnly: (value: boolean) => void;\n}\n\nexport default function InstrumentsList({hideModal, visible, isGrandPianoOnly,\n                                          setIsGrandPianoOnly}: PropTypes) {\n\n  const handleSelect = (newValue: string) => {\n    setIsGrandPianoOnly(newValue === '0')\n    hideModal();\n  };\n\n  return <Portal>\n    <Modal visible={visible} onDismiss={hideModal} contentContainerStyle={styles.containerStyle}>\n      <View>\n        <RadioButton.Group onValueChange={newValue => handleSelect(newValue)}\n                           value={isGrandPianoOnly ? '0' : '1'}>\n          <View style={styles.item}>\n            <RadioButton value=\"0\" />\n            <Text>Рояль</Text>\n          </View>\n          <View style={styles.item}>\n            <RadioButton value=\"1\" />\n            <Text>Піаніно або рояль</Text>\n          </View>\n        </RadioButton.Group>\n      </View>\n    </Modal>\n  </Portal>\n};\n\nconst styles = StyleSheet.create(({\n  containerStyle: {\n    position: 'absolute',\n    width: '90%',\n    backgroundColor: 'white',\n    margin: 20,\n    padding: 20,\n    borderRadius: 8,\n    justifyContent: 'center',\n    alignItems: 'flex-start',\n  },\n  item: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  }\n}));","import React from 'react'\nimport {StyleSheet, View, TouchableOpacity, Image} from 'react-native'\nimport {Dialog, Paragraph, Portal, ProgressBar} from \"react-native-paper\";\n\ntype PropTypes = {\n  size: number;\n  count: number;\n  setCount: (count: number) => void;\n  visible: boolean;\n  hideDialog: () => void;\n}\n\nexport default function CustomRating({size = 5, count, setCount, visible, hideDialog}: PropTypes) {\n  const stars = new Array(size).fill(null);\n\n  const handleRate = (value: number) => {\n    setCount(value);\n    hideDialog();\n  };\n\n\n  return (\n    <Portal>\n      <Dialog visible={visible} onDismiss={hideDialog}>\n        <Dialog.Title style={{textAlign: 'center'}}>Виберіть мінімальний рейтинг</Dialog.Title>\n        <Dialog.Content>\n          <View style={styles.rate}>\n            {stars.map((value, index) => (\n              <TouchableOpacity key={index} onPress={() => handleRate(index + 1)}>\n                <Image source={require('../../assets/images/star.png')}\n                       style={{...styles.star, opacity: index < count ? 1 : .3}}\n                />\n              </TouchableOpacity>\n            ))}\n          </View>\n        </Dialog.Content>\n      </Dialog>\n    </Portal>\n  )\n}\n\nconst styles = StyleSheet.create({\n  rate: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n  },\n  star: {\n    width: 20,\n    height: 20\n  },\n})","import React, {useState} from 'react';\nimport {StyleSheet, Text, View, Dimensions, ScrollView} from \"react-native\";\nimport {\n  Button,\n  IconButton,\n  Modal,\n  Portal,\n  TextInput\n} from \"react-native-paper\";\nimport {InstrumentType} from \"../../models/models\";\nimport InstrumentsList from \"./InstrumentsList\";\nimport CustomRating from \"../../components/CustomRating/CustomRating\";\nimport Colors from \"../../constants/Colors\";\n\nexport type SpecialT = 'with' | 'only' | 'without';\n\ninterface PropTypes {\n  hideModal: () => void;\n  visible: boolean;\n  instruments: InstrumentType[];\n  setInstruments: any;\n}\n\nconst windowWidth = Dimensions.get('window').width;\n\nexport default function InstrumentFilters({hideModal, visible, instruments, setInstruments}: PropTypes) {\n  const [isGrandPianoOnly, setIsGrandPianoOnly] = useState(false);\n  const [count, setCount] = useState(0);\n  const [visibleList, setVisibleList] = useState(false);\n  const [visibleRate, setVisibleRate] = useState(false);\n\n  const showModalList = () => setVisibleList(true);\n\n  const hideModalList = () => setVisibleList(false);\n\n  const showModalRate = () => setVisibleRate(true);\n\n  const hideModalRate = () => setVisibleRate(false);\n\n  const addInstrument = () => {\n    const newInstrument = {type: isGrandPianoOnly ? 'GrandPiano' : 'UpRightPiano', rate: count};\n    setInstruments((prevState: InstrumentType[]) => [...prevState, newInstrument]);\n    setCount(0);\n    setIsGrandPianoOnly(false);\n  };\n\n  const removeInstrument = (index: number) => {\n    const newArray = instruments.slice();\n    newArray.splice(index, 1);\n\n    setInstruments(newArray);\n  };\n\n  return <Portal>\n    <Modal visible={visible} onDismiss={hideModal} contentContainerStyle={styles.containerStyle}>\n      <View style={styles.body}>\n        <ScrollView>\n          {instruments.length ? instruments.map((instrument, index) => (\n            <View key={index} style={styles.instrumentRow}>\n              <Text style={{width: '40%'}}>\n                {instrument.type === 'UpRightPiano' ? 'Рояль або піаніно' : 'Рояль'}\n              </Text>\n              <View style={{flexDirection: 'row', alignItems: 'center', width: '20%'}}>\n                <Button icon='star' color={Colors.orange} disabled>\n                  {instrument.rate} +\n                </Button>\n              </View>\n              <IconButton icon='trash-can-outline' onPress={() => removeInstrument(index)}/>\n            </View>\n          )) : <Text style={styles.noInstrumentsLabel}>Інструменти не вибрані</Text>}\n          <View style={styles.newInstrumentRow}>\n            <View style={{width: '40%', flexDirection: 'row', alignItems: 'center'}}>\n              <Text onPress={showModalList}>\n                {!isGrandPianoOnly ? 'Рояль або піаніно' : 'Рояль'}\n              </Text>\n              <IconButton icon='menu-down' onPress={showModalList}/>\n            </View>\n            <View style={{flexDirection: 'row', alignItems: 'center', width: '20%'}}>\n              <Button onPress={showModalRate} icon='star' color={Colors.orange}>{count} +</Button>\n              <CustomRating size={10} count={count} setCount={setCount} hideDialog={hideModalRate}\n                            visible={visibleRate}\n              />\n            </View>\n            <IconButton icon='plus' onPress={addInstrument}/>\n          </View>\n        </ScrollView>\n        <View style={styles.buttons}>\n          <Button mode='contained' onPress={hideModal}>Закрити</Button>\n        </View>\n      </View>\n      <InstrumentsList hideModal={hideModalList} visible={visibleList}\n                       isGrandPianoOnly={isGrandPianoOnly} setIsGrandPianoOnly={setIsGrandPianoOnly} />\n    </Modal>\n  </Portal>\n};\n\nconst styles = StyleSheet.create(({\n  containerStyle: {\n    position: 'absolute',\n    height: 300,\n    width: '90%',\n    backgroundColor: 'white',\n    margin: 20,\n    borderRadius: 8,\n    justifyContent: 'center',\n    alignItems: 'flex-start',\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: '#dddddd',\n    width: '100%',\n    backgroundColor: '#f1f1f1'\n  },\n  body: {\n    padding: 20,\n  },\n  radioItem: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  divider: {\n    borderBottomColor: '#eee',\n    alignSelf: 'center',\n    borderBottomWidth: 1,\n    borderStyle: 'solid',\n    width: windowWidth - 80,\n    height: 1,\n    marginVertical: 16\n  },\n  checkbox: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  buttons: {\n    paddingTop: 16,\n    flexDirection: 'row',\n    justifyContent: 'flex-end'\n  },\n  instrumentRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: '100%',\n    borderBottomWidth: 1,\n    borderBottomColor: '#ccc',\n    padding: 10,\n  },\n  newInstrumentRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: '100%',\n    padding: 10,\n  },\n  countInput: {\n    height: 40,\n    width: 40,\n    backgroundColor: 'transparent',\n    paddingLeft: 5\n  },\n  noInstrumentsLabel: {\n    textAlign: 'center',\n    paddingBottom: 15,\n    color: '#ccc',\n    fontSize: 18,\n    borderBottomColor: '#eee',\n    borderBottomWidth: 1,\n  }\n}));","import React, {useState} from 'react';\nimport {StyleSheet, Text, View, Dimensions} from \"react-native\";\nimport {Button, Checkbox, Divider, Headline, Modal, Portal, RadioButton} from \"react-native-paper\";\nimport InstrumentFilters from \"./InstrumentFilters\";\nimport {InstrumentType} from \"../../models/models\";\n\nexport type SpecialT = 'with' | 'only' | 'without';\n\ninterface PropTypes {\n  hideModal: () => void;\n  visible: boolean;\n  apply: (instruments: InstrumentType[], withWing: boolean, operaStudioOnly: boolean, special: SpecialT) => void;\n}\n\nconst windowWidth = Dimensions.get('window').width;\n\nexport default function Filters({hideModal, visible, apply}: PropTypes) {\n  const [instruments, setInstruments] = useState<InstrumentType[]>([]);\n  const [special, setSpecial] = useState<SpecialT>('with');\n  const [withWing, setWithWing] = useState(true);\n  const [onlyOperaStudio, setOnlyOperaStudio] = useState(false);\n  const [visibleInstrumentFilters, setVisibleInstrumentFilters] = useState(false);\n\n\n  const showModalInstrumentFilters = () => setVisibleInstrumentFilters(true);\n\n  const hideModalInstrumentFilters= () => setVisibleInstrumentFilters(false);\n\n  const handleApply = () => {\n    apply(instruments, withWing, onlyOperaStudio, special);\n    hideModal();\n  };\n\n  const getEnding = () => {\n    switch (instruments.length) {\n      case 1: return '';\n      case 2: return 'а';\n      case 3: return 'и';\n      case 4: return 'и';\n      case 5: return 'ів';\n      default: return '...';\n    }\n  };\n\n  return <Portal>\n    <Modal visible={visible} onDismiss={hideModal} contentContainerStyle={styles.containerStyle}>\n      <View style={styles.header}>\n        <Headline>Фільтри аудиторій для черги</Headline>\n      </View>\n      <View style={styles.body}>\n        <Button icon='pencil' onPress={showModalInstrumentFilters}>\n          <Text>\n            { !instruments.length\n              ? 'Будь-які або без інструментів'\n              : `${instruments.length} інструмент${getEnding()}` }\n          </Text>\n        </Button>\n        <Divider style={styles.divider}/>\n        <View style={styles.checkbox}>\n          <Checkbox status={!withWing ? 'checked' : 'unchecked'}\n                    onPress={() => setWithWing(prevState => !prevState)}/>\n          <Text>Без флігеля</Text>\n        </View>\n        <View style={styles.checkbox}>\n          <Checkbox status={onlyOperaStudio ? 'checked' : 'unchecked'}\n                    onPress={() => setOnlyOperaStudio(prevState => !prevState)}/>\n          <Text>Тільки оперна студія</Text>\n        </View>\n        <Divider style={styles.divider}/>\n        <RadioButton.Group onValueChange={newValue => setSpecial(newValue as SpecialT)} value={special}>\n          <View style={styles.radioItem}>\n            <RadioButton value='with' />\n            <Text>Зі спеціалізованими (ф-но)</Text>\n          </View>\n          <View style={styles.radioItem}>\n            <RadioButton value='only' />\n            <Text>Тільки спеціалізовані (ф-но)</Text>\n          </View>\n          <View style={styles.radioItem}>\n            <RadioButton value='without' />\n            <Text>Без спеціалізованих (ф-но)</Text>\n          </View>\n        </RadioButton.Group>\n        <Divider style={styles.divider}/>\n        <View style={styles.buttons}>\n          <Button mode='contained'>Збережені фільтри</Button>\n          <Button mode='contained' onPress={handleApply}>Застосувати</Button>\n        </View>\n        <InstrumentFilters hideModal={hideModalInstrumentFilters} visible={visibleInstrumentFilters}\n                           instruments={instruments} setInstruments={setInstruments} />\n      </View>\n    </Modal>\n  </Portal>\n};\n\nconst styles = StyleSheet.create({\n  containerStyle: {\n    backgroundColor: 'white',\n    margin: 20,\n    borderRadius: 8,\n    justifyContent: 'center',\n    alignItems: 'flex-start',\n    overflow: 'hidden'\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: '#dddddd',\n    width: '100%',\n    backgroundColor: '#f1f1f1'\n  },\n  body: {\n    padding: 20,\n  },\n  radioItem: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  divider: {\n    borderBottomColor: '#eee',\n    alignSelf: 'center',\n    borderBottomWidth: 1,\n    borderStyle: 'solid',\n    width: windowWidth - 80,\n    height: 1,\n    marginVertical: 16\n  },\n  checkbox: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  buttons: {\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  }\n});","import {gql} from \"@apollo/client\";\n\nexport const ADD_USER_TO_QUEUE = gql`\n    mutation addUserToQueue($input: [AddUserToQueueInputType!]!) {\n        addUserToQueue(input: $input) {\n          count\n        }\n    }\n`;","import {client, meVar, minimalClassroomIdsVar, modeVar} from \"../../api/client\";\nimport {Mode, QueueState, QueueType, User} from \"../../models/models\";\nimport {ADD_USER_TO_QUEUE} from \"../../api/operations/mutations/addUserToQueue\";\n\nconst getInLine = async (minimalClassroomsIds: number[], desirableClassroomIds: number[]) => {\n  const user: User | null = meVar();\n\n  const allClassroomIds = [...(new Set([...minimalClassroomsIds, ...desirableClassroomIds]))];\n\n  const minimalData = allClassroomIds.map(id => ({\n    userId: (user as unknown as User).id,\n    classroomId: id,\n    state: QueueState.ACTIVE,\n    type: QueueType.MINIMAL\n  }));\n\n  const desirableData = desirableClassroomIds.map(id => ({\n    userId: (user as unknown as User).id,\n    classroomId: id,\n    state: QueueState.ACTIVE,\n    type: QueueType.DESIRED\n  }));\n\n  try {\n    await client.mutate({\n      mutation: ADD_USER_TO_QUEUE, variables: {\n        input: [...minimalData, ...desirableData]\n      }\n    })\n    modeVar(Mode.INLINE);\n    minimalClassroomIdsVar(allClassroomIds);\n  } catch (e) {\n    alert(JSON.stringify(e));\n  }\n};\n\nexport  default getInLine;","import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_USERS_SKIPS = gql`\r\n  query getUserSkips($where: UserWhereUniqueInput!) {\r\n    user(where: $where) {\r\n      id\r\n      queueInfo {\r\n        skips\r\n      }\r\n    }\r\n  }\r\n`;","import React, {useEffect, useState} from 'react';\nimport {View, Text, StyleSheet} from \"react-native\";\nimport {\n  InstrumentType, Mode, OccupiedInfo, OccupiedState, QueueState, QueueType,\n  ScheduleUnitType, User,\n  UserTypeColors,\n  UserTypes,\n  UserTypesUa\n} from \"../models/models\";\nimport {\n  ActivityIndicator,\n  Appbar, Banner,\n  Button,\n  Chip,\n  Divider,\n  Paragraph,\n  ProgressBar,\n  Surface\n} from \"react-native-paper\";\nimport InstrumentItem from \"./InstrumentItem\";\nimport {useNavigation} from \"@react-navigation/native\";\nimport ScheduleItem from \"./ScheduleItem\";\nimport {useQuery} from \"@apollo/client\";\nimport {GET_SCHEDULE_UNIT} from \"../api/operations/queries/schedule\";\nimport {\n  fullName,\n  getTimeHHMM, isNotFree,\n  isOccupiedOnSchedule,\n  ISODateString,\n  isOwnClassroom,\n  isPendingForMe\n} from \"../helpers/helpers\";\nimport UserInfo from \"./UserInfo\";\nimport {useLocal} from \"../hooks/useLocal\";\nimport getInLine from \"../helpers/queue/getInLine\";\nimport addToFilteredList from \"../helpers/queue/addToFilteredList\";\nimport {GET_ME} from \"../api/operations/queries/me\";\nimport {client} from \"../api/client\";\nimport {ADD_USER_TO_QUEUE} from \"../api/operations/mutations/addUserToQueue\";\nimport useTimeLeft from \"../hooks/useTimeLeft\";\nimport colors from \"../constants/Colors\";\nimport {GET_USERS_SKIPS} from \"../api/operations/queries/usersSkips\";\n\ninterface PropTypes {\n  route: any;\n}\n\nexport default function ClassroomInfo({route: {params: {classroom}}}: PropTypes) {\n  const {\n    name, id, isWing, isOperaStudio, chair, description, special, floor, instruments,\n    schedule, occupied\n  } = classroom;\n  const navigation = useNavigation();\n  const {data, loading, error} = useQuery(GET_SCHEDULE_UNIT, {\n    variables: {\n      classroomName: name,\n      date: ISODateString(new Date()),\n    },\n  });\n  const {data: {me}} = useQuery(GET_ME);\n  const userFullName = isNotFree(occupied) ? fullName(occupied?.user) : '';\n  // const occupiedOnSchedule = isOccupiedOnSchedule(schedule);\n  const [visible, setVisible] = useState(false);\n  const {data: {mode}} = useLocal('mode');\n  const {data: {isMinimalSetup}} = useLocal('isMinimalSetup');\n  const {data: {desirableClassroomIds}} = useLocal('desirableClassroomIds');\n  const {data: {minimalClassroomIds}} = useLocal('minimalClassroomIds');\n  const occupiedTotalTime = occupied.state === OccupiedState.OCCUPIED ? 180 : 2;\n  const [timeLeft, timeLeftInPer] = useTimeLeft(occupied, occupiedTotalTime);\n  const [visibleBanner, setVisibleBanner] = useState(true);\n  const [skips, setSkips] = useState(0);\n\n  const getUsersSkips = async () => {\n    try {\n      const data: any = await client.query({\n        query: GET_USERS_SKIPS,\n        variables: {\n          where: {\n            id: me.id\n          }\n        }\n      });\n      setSkips(data.data.user.queueInfo.skips)\n    } catch (e) {\n      alert(JSON.stringify(e));\n    }\n  };\n\n  useEffect(() => {\n    setVisibleBanner(true);\n  }, [])\n\n  useEffect(() => {\n    me && getUsersSkips();\n  }, [me]);\n\n  const showModal = () => setVisible(true);\n\n  const hideModal = () => setVisible(false);\n\n  const goBack = () => navigation.goBack();\n\n  const isAlreadyFilteredClassroom = (classroomId: number) => {\n    if (isMinimalSetup) {\n      return minimalClassroomIds.includes(classroomId);\n    } else {\n      return desirableClassroomIds.includes(classroomId);\n    }\n  };\n\n  const handleAddToLine = () => {\n    addToFilteredList(id, isMinimalSetup, minimalClassroomIds, desirableClassroomIds);\n    isAlreadyFilteredClassroom(id);\n    goBack();\n  };\n\n  const addOneClassroomToQueue = async (isMinimal: boolean) => {\n    try {\n      await client.mutate({\n        mutation: ADD_USER_TO_QUEUE,\n        variables: {\n          input: [{\n            userId: me.id,\n            classroomId: id,\n            state: QueueState.ACTIVE,\n            type: isMinimal ? QueueType.MINIMAL : QueueType.DESIRED\n          }]\n        }\n      });\n      addToFilteredList(id, isMinimal, minimalClassroomIds, desirableClassroomIds);\n      goBack();\n    } catch (e) {\n      alert(JSON.stringify(e));\n    }\n  };\n\n  const removeOneClassroomFromQueue = (isMinimal: boolean) => {\n    //TODO remove classroom from queue mutation\n  };\n\n  return <View style={styles.container}>\n    <Appbar style={styles.top}>\n      <Appbar.BackAction onPress={goBack}/>\n      <Appbar.Content\n        title={`${isOwnClassroom(occupied, me) ? 'Моя аудиторія' : 'Аудиторія'} ${name}`}\n        subtitle={chair ? chair.name : ''}\n      />\n    </Appbar>\n    <View style={styles.wrapper}>\n      {(isWing || isOperaStudio || special) && <>\n          <View style={styles.tags}>\n            {isWing && <Chip selected selectedColor='#00f' mode='outlined'\n                             style={styles.tag}>Флігель</Chip>}\n            {isOperaStudio && <Chip selected selectedColor='#00f' mode='outlined'\n                                    style={styles.tag}>Оперна студія</Chip>}\n            {special && <Chip selected selectedColor='#00f' mode='outlined'\n                              style={styles.tag}>Спеціалізована</Chip>}\n          </View>\n          <Divider style={styles.divider}/>\n      </>}\n      <Text style={styles.description}>\n        {description}\n      </Text>\n      <Divider style={styles.divider}/>\n      <Text style={styles.description}>\n        Поверх: {floor}\n      </Text>\n      <Divider style={styles.divider}/>\n      <View>\n        {!!instruments.length && <>\n          {instruments?.map((instrument: InstrumentType) => <InstrumentItem\n            key={instrument.id} instrument={instrument} expanded/>)}\n            <Divider style={styles.divider}/>\n        </>}\n      </View>\n      {/*<Text style={styles.scheduleHeader}>Розклад на сьогодні</Text>*/}\n      {/*{!loading && !error ? data.schedule*/}\n      {/*    ?.map((scheduleUnit: ScheduleUnitType) => (*/}\n      {/*      <ScheduleItem scheduleUnit={scheduleUnit} key={scheduleUnit.id}/>*/}\n      {/*    )) :*/}\n      {/*  <ActivityIndicator animating={true} color='#2e287c'/>}*/}\n      <Divider style={styles.divider}/>\n      {!isNotFree(occupied)\n        ? <Text style={styles.freeText}>Вільно</Text>\n        : !isPendingForMe(occupied, me, mode) && (\n        <Surface style={[{elevation: visible ? 0 : 4}, styles.occupationInfo]}\n                 onTouchEnd={showModal}\n        >\n          <Text style={styles.occupantName}>{userFullName}</Text>\n          <Text style={[{\n            backgroundColor: UserTypeColors[occupied.user.type as UserTypes]},\n            styles.occupantType\n          ]}\n          >\n            {UserTypesUa[occupied.user.type as UserTypes]}\n          </Text>\n          {isOwnClassroom(occupied, me) ? (\n            timeLeftInPer > 0 && <View style={{marginTop: 30}}>\n                <Paragraph>\n                    Часу на заняття залишилось: {timeLeft}\n                </Paragraph>\n                <ProgressBar progress={timeLeftInPer as number / 100} visible color={colors.red}\n                             style={styles.progressBar}\n                />\n            </View>\n          ) : (\n            <Text style={styles.occupiedUntil}>Зайнято до {getTimeHHMM(new Date(occupied.until))}</Text>\n          )}\n          <UserInfo userId={occupied.user.id} hideModal={hideModal} visible={visible}/>\n        </Surface>\n      )}\n      <View style={styles.queueSetupButtons}>\n        {mode === Mode.INLINE && isNotFree(occupied) && occupied.user.id !== me.id && <>\n          {minimalClassroomIds.includes(id) ? (\n            <Button mode='contained' style={{marginBottom: 8}}>\n              Видалити з черги (мінімальні)\n            </Button>\n          ) : (\n            <Button mode='contained' style={{marginBottom: 8}}\n                    onPress={() => addOneClassroomToQueue(true)}\n            >\n              Додати до черги (мінімальні)\n            </Button>\n          )}\n          {desirableClassroomIds.includes(id) ? (\n            <Button mode='contained'>\n              Видалити з черги (бажані)\n            </Button>\n          ) : (\n            <Button mode='contained'\n                    onPress={() => addOneClassroomToQueue(false)}\n            >\n              Додати до черги (бажані)\n            </Button>\n          )}\n        </>}\n        {!occupied && <Button mode='contained'>\n            Взяти аудиторію\n        </Button>}\n        {/*TODO occupiedClassrooms*/}\n        {mode === Mode.PRIMARY && !me.occupiedClassroom && (\n          occupied && (\n            <Button mode='contained'\n                    onPress={() => getInLine([id], [])}\n            >Стати в чергу за цією аудиторією</Button>\n          )\n        )}\n        {/*TODO occupiedClassrooms*/}\n\n        {mode === Mode.QUEUE_SETUP && !me.occupiedClassroom && (\n          isNotFree(occupied) && (\n            <Button mode='contained' onPress={handleAddToLine}>\n              {isAlreadyFilteredClassroom(id) ? 'Видалити з черги' : 'Додати до черги'}\n            </Button>\n          )\n        )}\n        {occupied.state === OccupiedState.RESERVED &&\n        occupied.user.id === me.id && mode === Mode.INLINE && (\n          <>\n            {timeLeftInPer > 0 && <View style={styles.spaceBottom30}>\n                <Banner visible={visibleBanner} actions={[{\n                  label: 'Зрозуміло',\n                  onPress: () => setVisibleBanner(false)\n                }]}\n                        style={styles.spaceBottom30}\n                >Заберіть ключі від аудиторії в учбовій частині. Максимальний час знаходження в аудиторії - 3 години.\n                </Banner>\n                <Paragraph>\n                    Часу на прийняття рішення залишилось: {timeLeft}\n                </Paragraph>\n                <ProgressBar progress={timeLeftInPer as number / 100} visible color={colors.red}\n                             style={styles.progressBar}\n                />\n            </View>}\n          </>\n        )}\n        {occupied.state === OccupiedState.PENDING &&\n        occupied.user.id === me.id && mode === Mode.INLINE && (\n          <>\n            {timeLeftInPer > 0 && <View style={styles.spaceBottom30}>\n                <Banner visible={visibleBanner} actions={[{\n                  label: 'Зрозуміло',\n                  onPress: () => setVisibleBanner(false)\n                }]}\n                        style={styles.spaceBottom30}\n                >\n                  {\n                    `Ви можете відхилити аудиторію ${skips} раз${skips === 2 || skips === 3 || skips === 4 ? 'и.' : '.'\n                    } Якщо аудиторія не буде підтверджена на протязі визначеного часу, вона буде відхилена автоматично. Якщо показник допустимих відхилень дорівнює нулю і Ви не підтверджуєте та не відхиляєте аудиторію, вона автоматично відхиляється і Ви вибуваєте з черги.`\n                  }\n                </Banner>\n                <Paragraph>\n                    Часу на прийняття рішення залишилось: {timeLeft}\n                </Paragraph>\n                <ProgressBar progress={timeLeftInPer as number / 100} visible color={colors.red}\n                             style={styles.progressBar}\n                />\n            </View>}\n            <View>\n              <Button mode='contained' style={{marginBottom: 8}} color='#f91354'>\n                Відхилити аудиторію\n              </Button>\n              <Button mode='contained'>Підтвердити аудиторію</Button>\n            </View>\n          </>\n        )}\n      </View>\n    </View>\n  </View>\n};\n\nconst styles = StyleSheet.create({\n  top: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    paddingTop: 26,\n    height: 80,\n    backgroundColor: '#2e287c',\n  },\n  container: {\n    backgroundColor: '#ffffff'\n  },\n  wrapper: {\n    marginTop: 100,\n    paddingLeft: 16,\n    paddingRight: 16,\n    backgroundColor: '#fff',\n    height: '100%'\n  },\n  divider: {\n    marginTop: 16,\n    marginBottom: 16\n  },\n  department: {\n    fontSize: 20,\n    marginBottom: 16,\n    textAlign: 'center'\n  },\n  tags: {\n    flexDirection: 'row',\n    justifyContent: 'center'\n  },\n  tag: {\n    marginRight: 8\n  },\n  description: {\n    fontSize: 16,\n  },\n  scheduleHeader: {\n    textAlign: 'center',\n    marginBottom: 16,\n  },\n  occupationInfo: {\n    borderRadius: 8,\n    padding: 16\n  },\n  freeText: {\n    textAlign: 'center',\n    fontSize: 20,\n    borderColor: '#ddd',\n    borderWidth: 1,\n    borderStyle: 'solid',\n    alignSelf: 'center',\n    paddingVertical: 8,\n    paddingHorizontal: 32,\n    borderRadius: 32,\n    color: '#bbb'\n  },\n  occupantName: {\n    textAlign: 'center',\n    fontSize: 16,\n  },\n  occupantType: {\n    color: '#fff',\n    textAlign: 'center',\n    alignSelf: 'center',\n    paddingVertical: 2,\n    paddingHorizontal: 4,\n    marginTop: 8,\n    borderRadius: 4,\n  },\n  occupiedUntil: {\n    textAlign: 'center',\n    marginTop: 8\n  },\n  queueSetupButtons: {\n    marginTop: 32,\n    backgroundColor: '#ffffff'\n  },\n  progressBar: {\n    height: 24,\n    borderRadius: 6,\n  },\n  spaceBottom30: {\n    marginBottom: 30,\n    backgroundColor: '#ffffff'\n  }\n});","import {ClassroomType, InstrumentType} from \"../../models/models\";\n\ntype InstrumentTypeOrderT = {\n  [index: string]: number;\n};\n\nconst instrumentTypeOrder: InstrumentTypeOrderT = {\n  GrandPiano: 0,\n  UpRightPiano: 1\n};\n\nexport function getClassroomsFilteredByInstruments(classrooms: ClassroomType[],\n                                                   userInstrumentFilterInput: InstrumentType[]) {\n  const instrumentsFilterSorted = sortUserFilterInstruments(userInstrumentFilterInput);\n\n  return classrooms.filter((classroom) => {\n    const instrumentsFilter = [...instrumentsFilterSorted];\n    let classroomInstruments = [...classroom.instruments];\n\n    if (instrumentsFilter.length > classroomInstruments.length) {\n      return false;\n    }\n\n    // first checking all the required grand pianos\n    while (instrumentsFilter[instrumentsFilter.length - 1]?.type === 'GrandPiano') {\n      const classroomGrandPianoInd = getMinimumSatisfactoryInstrumentIndex(\n        classroomInstruments,\n        'GrandPiano',\n        instrumentsFilter[instrumentsFilter.length - 1].rate\n      );\n      if (classroomGrandPianoInd === -1) {\n        return false;\n      }\n\n      instrumentsFilter.pop();\n      classroomInstruments.splice(classroomGrandPianoInd, 1);\n    }\n\n    // checking all the other instruments\n    while (instrumentsFilter.length) {\n      const classroomInstrumentInd = getMinimumSatisfactoryInstrumentIndex(\n        classroomInstruments, null, instrumentsFilter[instrumentsFilter.length - 1].rate\n      );\n      if (classroomInstrumentInd === -1) {\n        return false;\n      }\n\n      instrumentsFilter.pop();\n      classroomInstruments.splice(classroomInstrumentInd, 1);\n    }\n\n    return true;\n  })\n}\n\nfunction sortUserFilterInstruments(instruments: InstrumentType[]) {\n  return instruments.sort((instA, instB) => {\n\n    if (instrumentTypeOrder[instA.type] === instrumentTypeOrder[instB.type]) {\n      return instA.rate - instB.rate;\n    }\n\n    return instrumentTypeOrder[instB.type] - instrumentTypeOrder[instA.type]\n  })\n}\n\nfunction getMinimumSatisfactoryInstrumentIndex(instruments: InstrumentType[],\n                                               instrumentType: string | null, minimumRate: number) {\n  let bestIndex = -1;\n\n  instruments.forEach((instrument, i) => {\n    if (instrumentType && instrument.type !== instrumentType) return;\n\n    if (instrument.rate < minimumRate) return;\n\n    if (bestIndex === -1 || instrument.rate - minimumRate < instruments[bestIndex].rate - minimumRate) {\n      bestIndex = i;\n    }\n  });\n  return bestIndex;\n}","import * as React from 'react';\nimport {Portal, Button, Modal} from 'react-native-paper';\nimport {View, Text, StyleSheet} from \"react-native\";\nimport {useState} from \"react\";\n\ninterface PropTypes {\n  visible: boolean;\n  hideDialog: () => void;\n}\n\nexport default function InlineDialog({visible, hideDialog}: PropTypes) {\n  const [queueLength, setQueueLength] = useState(27);\n\n  return (\n    <Portal>\n      <Modal visible={visible} onDismiss={hideDialog} contentContainerStyle={styles.containerStyle}>\n        <View>\n          <Text style={styles.header}>Вітаємо!</Text>\n          <Text style={styles.paragraph}>Ви успішно стали в чергу!</Text>\n          <Text style={styles.paragraph}>{`Перед Вами ${queueLength} людей.`}</Text>\n          <View style={styles.buttons}>\n            <Button mode='outlined' icon='information-outline'>\n              Що робити далі?\n            </Button>\n            <Button mode='contained' onPress={hideDialog}>Закрити</Button>\n          </View>\n        </View>\n      </Modal>\n    </Portal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  containerStyle: {\n    backgroundColor: 'white',\n    padding: 20,\n    margin: 20,\n    borderRadius: 8\n  },\n  header: {\n    textAlign: 'center',\n    fontSize: 30,\n    fontWeight: 'bold',\n    marginBottom: 10,\n  },\n  paragraph: {\n    textAlign: 'center',\n    marginBottom: 5,\n    fontSize: 16\n  },\n  buttons: {\n    marginTop: 20,\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  }\n});","import {gql} from \"@apollo/client\";\n\nexport const REMOVE_USER_FROM_QUEUE = gql`\n    mutation removeUserFromQueue($where: QueueRecordWhereInput) {\n        removeUserFromQueue(where: $where) {\n          count\n        }\n    }\n`;","import {Mode, User} from \"../../models/models\";\nimport {getItem} from \"../../api/asyncStorage\";\nimport {client, desirableClassroomIdsVar, isMinimalSetupVar, minimalClassroomIdsVar, modeVar} from \"../../api/client\";\nimport {REMOVE_USER_FROM_QUEUE} from \"../../api/operations/mutations/removeUserFromQueue\";\n\nexport default async function removeFromLine() {\n  const user: User | undefined = await getItem('user');\n\n  try {\n    await client.mutate({\n      mutation: REMOVE_USER_FROM_QUEUE,\n      variables: {\n        where: {\n          userId: {\n            equals: (user as unknown as User).id\n          }\n        }\n      }\n    });\n    minimalClassroomIdsVar([]);\n    desirableClassroomIdsVar([]);\n    isMinimalSetupVar(true);\n    modeVar(Mode.PRIMARY);\n  } catch (e) {\n    alert(JSON.stringify(e))\n  }\n};","import {StyleSheet} from \"react-native\";\nimport {Button, Dialog, Paragraph, Portal} from \"react-native-paper\";\nimport {InstrumentType, Mode} from \"../models/models\";\nimport React from \"react\";\nimport {modeVar} from \"../api/client\";\nimport removeFromLine from \"../helpers/queue/removeFromLine\";\n\ninterface PropTypes {\n  hideDialog: () => void;\n  visible: boolean;\n}\n\nexport default function ConfirmLineOut({hideDialog, visible}: PropTypes) {\n\n  const handleOk = async () => {\n    await removeFromLine();\n    hideDialog();\n  }\n\n  return <Portal>\n    <Dialog visible={visible} onDismiss={hideDialog}>\n      <Dialog.Title>Увага!</Dialog.Title>\n      <Dialog.Content>\n        <Paragraph>Ви дійсно бажаєте покинути чергу? Цю дію неможливо буде відмінити.</Paragraph>\n      </Dialog.Content>\n      <Dialog.Actions>\n        <Button onPress={hideDialog}>Ні</Button>\n        <Button onPress={handleOk}>Так</Button>\n      </Dialog.Actions>\n    </Dialog>\n  </Portal>\n};","import {StyleSheet, Text, View} from \"react-native\";\nimport ClassroomsCell from \"../../components/ClassroomCell\";\nimport {ClassroomType, CurrentUser, OccupiedState} from \"../../models/models\";\nimport React, {useEffect, useState} from \"react\";\n\ntype PropTypes = {\n  me: CurrentUser;\n  classrooms: ClassroomType[];\n  isMinimalSetup: boolean;\n  minimalClassroomIds: number[];\n  desirableClassroomIds: number[];\n}\n\nexport default function MyClassroomCell({\n                                          me, classrooms, isMinimalSetup, minimalClassroomIds,\n                                          desirableClassroomIds\n                                        }: PropTypes) {\n  const [ownClassroom, setOwnClassroom] = useState(null);\n\n  useEffect(() => {\n    const own = classrooms.find(({occupied}) => {\n      return occupied.state === OccupiedState.OCCUPIED && me.id === occupied.user.id;\n    });\n    if (own) {\n      setOwnClassroom(own);\n    } else {\n      setOwnClassroom(null);\n    }\n  }, [classrooms, me]);\n\n  return ownClassroom ? (\n    <View style={styles.container}>\n      <Text style={styles.gridDivider}>\n        Моя аудиторія:\n      </Text>\n      <View style={styles.grid}>\n        <ClassroomsCell key={ownClassroom.id} classroom={ownClassroom}\n                        filteredList={isMinimalSetup ? minimalClassroomIds : desirableClassroomIds}\n        />\n      </View>\n    </View>\n  ) : <></>\n}\n\nconst styles = StyleSheet.create({\n  gridDivider: {\n    color: '#fff',\n    marginBottom: 10,\n    marginLeft: 3,\n    marginRight: 3,\n    paddingLeft: 17,\n    fontSize: 18,\n    borderBottomWidth: 1,\n    borderBottomColor: '#ffffff77',\n    paddingBottom: 10\n  },\n  container: {\n    marginBottom: 10,\n  },\n  grid: {\n    marginLeft: 2,\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: 'flex-start'\n  },\n});","import {ClassroomType, DisabledState, OccupiedState} from \"../models/models\";\n\nexport const filterDisabledForQueue = (classroom: ClassroomType) => {\n  return (\n    classroom.occupied.state === OccupiedState.FREE &&\n    classroom.disabled.state === DisabledState.DISABLED &&\n    !classroom.isHidden\n  );\n};","import {desirableClassroomIdsVar, minimalClassroomIdsVar} from \"../api/client\";\nimport {ClassroomType, SavedFilterT} from \"../models/models\";\nimport {filterDisabledForQueue} from \"./filterDisabledForQueue\";\n\nexport const filterSavedFilter = (savedFilter: SavedFilterT, classrooms: ClassroomType[]) => {\n  const enabledClassrooms = (classroom: ClassroomType, isMinimal: boolean) => {\n    return savedFilter[isMinimal ? 'minimalClassroomIds': 'desirableClassroomIds'].includes(classroom.id)\n      && filterDisabledForQueue(classroom)\n  };\n\n  const minimalIds = classrooms\n    .filter((classroom) => enabledClassrooms(classroom, true))\n    .map(({id}) => id);\n\n  const desireIds = classrooms\n    .filter((classroom) => enabledClassrooms(classroom, false))\n    .map(({id}) => id);\n\n  minimalClassroomIdsVar(minimalIds);\n  desirableClassroomIdsVar(desireIds);\n};","import React, {useEffect, useState} from 'react';\nimport {StyleSheet, Text, View, Dimensions, TextInput} from \"react-native\";\nimport {Button, Checkbox, Headline, IconButton, Modal, Portal} from \"react-native-paper\";\nimport {ClassroomType, SavedFilterT} from \"../../models/models\";\nimport {getItem, setItem} from \"../../api/asyncStorage\";\nimport {useLocal} from \"../../hooks/useLocal\";\nimport Colors from \"../../constants/Colors\";\nimport {filterSavedFilter} from \"../../helpers/filterSavedFIlters\";\nimport useClassrooms from \"../../hooks/useClassrooms\";\n\nexport type SpecialT = 'with' | 'only' | 'without';\n\ninterface PropTypes {\n  hideModal: () => void;\n  visible: boolean;\n}\n\nconst windowWidth = Dimensions.get('window').width;\n\nexport default function SavedFilters({hideModal, visible}: PropTypes) {\n  const classrooms: ClassroomType[] = useClassrooms();\n  const [savedFilters, setSavedFilters] = useState<SavedFilterT[]>([]);\n  const [isSaving, setIsSaving] = useState(false);\n  const [inputName, setInputName] = useState<string>('');\n  const {data: {desirableClassroomIds}} = useLocal('desirableClassroomIds');\n  const {data: {minimalClassroomIds}} = useLocal('minimalClassroomIds');\n  const [selectedFilter, setSelectedFilter] = useState(-1);\n  const [saveAsMainFilter, setSaveAsMainFilter] = useState(false);\n\n  useEffect(() => {\n    getItem('filters').then(data => {\n      setSavedFilters(data as any);\n    });\n    return () => {\n      setSelectedFilter(-1);\n      setInputName('');\n    };\n  }, []);\n\n  const handleSaveFilter = () => {\n    setIsSaving(true);\n\n    const item: SavedFilterT = {\n      minimalClassroomIds,\n      desirableClassroomIds,\n      name: inputName,\n      main: saveAsMainFilter\n    };\n\n    setItem('filters', savedFilters ? [...savedFilters?.map((filter: any) => {\n      return saveAsMainFilter ? ({...filter, main: false}) : filter\n    }), item] : [item]).then(res => {\n      setIsSaving(false);\n    });\n    // @ts-ignore\n    setSavedFilters(prevState => prevState ? [...prevState?.map((filter: any) => {\n      return saveAsMainFilter ? ({...filter, main: false}) : filter\n    }), item] : [item]);\n  };\n\n  const handleRemoveFilter = (index: number) => {\n    const newFilters = savedFilters;\n\n    newFilters.splice(index, 1);\n    setItem('filters', newFilters).then(res => {\n      getItem('filters').then((data: any) => setSavedFilters(data))\n    })\n    setSelectedFilter(-1);\n  };\n\n  const handleSelectFilter = (filterItem: any, index: number) => {\n    filterSavedFilter(filterItem, classrooms)\n    setSelectedFilter(index);\n    hideModal();\n  };\n\n  return <Portal>\n    <Modal visible={visible} onDismiss={hideModal} contentContainerStyle={styles.containerStyle}>\n      <View style={styles.header}>\n        <Headline>Збережені фільтри</Headline>\n      </View>\n      <View style={styles.body}>\n        {savedFilters?.map((filterItem: SavedFilterT, index) => (\n          <View key={index} style={styles.itemRow}>\n            <Text style={selectedFilter === index ? styles.selectedItem : styles.item}\n                  onPress={() => handleSelectFilter(filterItem, index)}>\n              {filterItem.main ? filterItem.name + ' (основний)' : filterItem.name}\n            </Text>\n            <IconButton icon='trash-can-outline' style={styles.bin}\n              onPress={() => handleRemoveFilter(index)}\n            />\n          </View>\n        ))}\n        <View style={styles.newFilterSection}>\n          <TextInput placeholder='Назва нового фільтру' value={inputName}\n                     onChangeText={text => setInputName(text)}\n          />\n          <View style={styles.mainFilterCheckbox}>\n            <Checkbox status={saveAsMainFilter ? 'checked' : 'unchecked'}\n                    onPress={() => setSaveAsMainFilter(prevState => !prevState)}\n            />\n            <Text>Застосувати як основний фільтр</Text>\n          </View>\n          <Button mode='contained'\n                  disabled={isSaving || !inputName}\n                  onPress={handleSaveFilter}\n          >\n            Зберегти новий сет аудиторій\n          </Button>\n        </View>\n      </View>\n    </Modal>\n  </Portal>\n};\n\nconst styles = StyleSheet.create({\n  containerStyle: {\n    backgroundColor: 'white',\n    margin: 20,\n    borderRadius: 8,\n    justifyContent: 'center',\n    alignItems: 'flex-start',\n    overflow: 'hidden'\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: '#dddddd',\n    width: '100%',\n    backgroundColor: '#f1f1f1'\n  },\n  body: {\n    padding: 20,\n    width: '100%',\n  },\n  itemRow: {\n    flexDirection: 'row',\n    width: '100%',\n    justifyContent: 'space-between'\n  },\n  item: {\n    paddingBottom: 10,\n    fontSize: 16,\n    borderBottomColor: '#eee',\n    borderBottomWidth: 1,\n    marginBottom: 10,\n    color: '#000',\n    width: '80%',\n  },\n  selectedItem: {\n    paddingBottom: 10,\n    fontSize: 16,\n    borderBottomColor: '#eee',\n    borderBottomWidth: 1,\n    marginBottom: 10,\n    color: Colors.blue,\n    width: '80%',\n  },\n  bin: {\n    width: '20%',\n  },\n  mainFilterCheckbox: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 10,\n    marginLeft: -10\n  },\n  newFilterSection: {\n    borderRadius: 6,\n    borderWidth: 1,\n    borderColor: '#eee',\n    padding: 16,\n    marginTop: 50\n  }\n});","import React, {useCallback, useEffect, useRef, useState} from 'react';\nimport {Dimensions, ImageBackground, ScrollView, StyleSheet, Text, View} from \"react-native\";\nimport {ActivityIndicator, Appbar, Button} from \"react-native-paper\";\nimport useClassrooms from \"../../hooks/useClassrooms\";\nimport {\n  ClassroomType,\n  DisabledState,\n  InstrumentType,\n  Mode,\n  OccupiedState,\n  QueueState,\n  QueueType,\n  SavedFilterT\n} from \"../../models/models\";\nimport ClassroomsCell from \"../../components/ClassroomCell\";\nimport Filters, {SpecialT} from \"./Filters\";\nimport {createStackNavigator} from \"@react-navigation/stack\";\nimport {RootStackParamList} from \"../../types\";\nimport ClassroomInfo from \"../../components/ClassroomInfo\";\nimport {DrawerActions, useNavigation} from '@react-navigation/native';\nimport {getClassroomsFilteredByInstruments} from \"./helpers\";\nimport {useLocal} from \"../../hooks/useLocal\";\nimport {desirableClassroomIdsVar, isMinimalSetupVar, meVar, minimalClassroomIdsVar, modeVar} from \"../../api/client\";\nimport getInLine from \"../../helpers/queue/getInLine\";\nimport InlineDialog from \"../../components/InlineDialog\";\nimport ConfirmLineOut from \"../../components/ConfirmLineOut\";\nimport {getIsMeOccupied, isNotFree} from \"../../helpers/helpers\";\nimport {useQuery} from \"@apollo/client\";\nimport {GET_ME} from \"../../api/operations/queries/me\";\nimport MyClassroomCell from \"./MyClassroomCell\";\nimport SavedFilters from \"./SavedFilters\";\nimport {getItem} from \"../../api/asyncStorage\";\nimport {filterSavedFilter} from \"../../helpers/filterSavedFIlters\";\nimport {filterDisabledForQueue} from \"../../helpers/filterDisabledForQueue\";\n\nconst Stack = createStackNavigator<RootStackParamList>();\nconst screenHeight = Dimensions.get('window').height;\n\nexport default function Home() {\n  // @ts-ignore\n  return <Stack.Navigator screenOptions={{headerShown: false}} initialRouteName='ClassroomsList'>\n    <Stack.Screen\n      name='ClassroomsList'\n      component={ClassroomsList}\n    />\n    <Stack.Screen\n      name='ClassroomInfo'\n      component={ClassroomInfo}\n    />\n  </Stack.Navigator>\n}\n\nfunction ClassroomsList() {\n  const [classrooms, followClassrooms] = useClassrooms();\n  const [visible, setVisible] = useState(false);\n  const [visibleSavedFilters, setVisibleSavedFilters] = useState(false);\n  const [visibleModalInline, setVisibleModalInline] = useState(false);\n  const [visibleLineOut, setVisibleLineOut] = useState(false);\n  const navigation = useNavigation();\n  const [queueSize, setQueueSize] = useState(27);\n  const [freeClassroomsAmount, setFreeClassroomsAmount] = useState(0);\n  const title = queueSize ? `Людей в черзі: ${queueSize}` : `Людей в черзі немає`;\n  const inlineTitle = `Ви в черзі: ${queueSize}-й`;\n  const {data: {mode}} = useLocal('mode');\n  const {data: {isMinimalSetup}} = useLocal('isMinimalSetup');\n  const {data: {desirableClassroomIds}} = useLocal('desirableClassroomIds');\n  const {data: {minimalClassroomIds}} = useLocal('minimalClassroomIds');\n  const {data: {me}} = useQuery(GET_ME);\n  const unsubscribeRef = useRef(null);\n\n  useEffect(() => {\n    if (me?.queue.length) {\n      const minimal = me?.queue.filter(({type, state}: { type: QueueType, state: QueueState }) => {\n        return type === QueueType.MINIMAL && state === QueueState.ACTIVE;\n      });\n      const desired = me?.queue.filter(({type, state}: { type: QueueType, state: QueueState }) => {\n        return type === QueueType.DESIRED && state === QueueState.ACTIVE;\n      });\n      modeVar(Mode.INLINE);\n      minimalClassroomIdsVar(minimal ? minimal.map(({classroom: {id}}) => id) : []);\n      desirableClassroomIdsVar(desired ? desired.map(({classroom: {id}}) => id) : []);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (classrooms) {\n      const myClassroom = classrooms.find(({occupied}) => {\n        return occupied.state === OccupiedState.OCCUPIED && occupied.user.id === me.id;\n      });\n      if (me && myClassroom) {\n        meVar({...me, occupiedClassrooms: [...me.occupiedClassrooms, myClassroom]});\n      }\n      setFreeClassroomsAmount(classrooms?.filter(({occupied}) => occupied.state === OccupiedState.FREE).length);\n    }\n  }, [classrooms]);\n\n  useEffect(() => {\n    if (followClassrooms) {\n      unsubscribeRef.current = followClassrooms();\n    }\n  }, [followClassrooms]);\n\n  useEffect(() => {\n    return () => unsubscribeRef.current();\n  }, []);\n\n  const showModalInline = () => setVisibleModalInline(true);\n\n  const hideModalInline = () => setVisibleModalInline(false);\n\n  const showModal = () => setVisible(true);\n\n  const hideModal = () => setVisible(false);\n\n  const showModalSavedFilters = () => setVisibleSavedFilters(true);\n\n  const hideModalSavedFilters = () => setVisibleSavedFilters(false);\n\n  const showConfirmLineOut = () => setVisibleLineOut(true);\n\n  const hideConfirmLineOut = () => setVisibleLineOut(false);\n\n  const applyGeneralFilter = (instruments: InstrumentType[], withWing: boolean,\n                              operaStudioOnly: boolean, special: SpecialT) => {\n\n    const filteredClassroomsByInstruments = instruments.length ?\n      getClassroomsFilteredByInstruments(classrooms, instruments) : classrooms;\n\n    const filteredIds = filteredClassroomsByInstruments\n      .filter(filterDisabledForQueue)\n      .filter(classroom => withWing ? true : !classroom.isWing)\n      .filter(classroom => operaStudioOnly ? classroom.isOperaStudio : true)\n      .filter(classroom => {\n        switch (special) {\n          case \"with\":\n            return true;\n          case \"only\":\n            return classroom.special;\n          case \"without\":\n            return !classroom.special;\n        }\n      })\n      .map(classroom => classroom.id);\n\n    if (isMinimalSetup) {\n      minimalClassroomIdsVar(filteredIds);\n    } else {\n      desirableClassroomIdsVar(filteredIds);\n    }\n  };\n\n  const handleReady = async () => {\n    await getInLine(minimalClassroomIds, desirableClassroomIds);\n    showModalInline();\n  };\n\n  const getInQueueSetup = async () => {\n    const savedFilters: SavedFilterT[] | undefined = await getItem('filters');\n    if (savedFilters) {\n      const mainFilter = savedFilters!.find(filter => filter.main);\n      if (mainFilter) {\n        filterSavedFilter(mainFilter, classrooms)\n      }\n    }\n    modeVar(Mode.QUEUE_SETUP);\n  };\n\n  const handleCancelQueueSetup = () => {\n    modeVar(Mode.PRIMARY);\n    minimalClassroomIdsVar([]);\n    desirableClassroomIdsVar([]);\n    isMinimalSetupVar(true);\n  }\n\n  const filterHiddenClassrooms = ({isHidden, occupied}: ClassroomType) => {\n    return mode === Mode.PRIMARY ? (!(isHidden && !isNotFree(occupied))) : !isHidden;\n  };\n\n  const filterDisabledClassrooms = ({disabled}: ClassroomType) => {\n    return mode === Mode.QUEUE_SETUP || mode === Mode.INLINE ?\n      disabled?.state === DisabledState.NOT_DISABLED\n      : true;\n  };\n\n  const filterMyPendingClassrooms = ({id, occupied}: ClassroomType) => {\n    return minimalClassroomIds.includes(id) && (\n      occupied.state === OccupiedState.PENDING || occupied.state === OccupiedState.RESERVED\n    );\n  };\n\n  const filterAllAnotherClassrooms = () => {\n    //TODO occupiedClassrooms\n    return ({id}: ClassroomType) => !!me?.occupiedClassroom.find((classroom: ClassroomType) => classroom.id === id);\n  };\n\n  const filterQueuedClassrooms = ({id, occupied}: ClassroomType) => {\n    return minimalClassroomIds.includes(id) && isNotFree(occupied) && me?.id !== occupied.user.id;\n  };\n\n  return (\n    <ImageBackground source={require('../../assets/images/bg.jpg')}\n                     style={{width: '100%', height: screenHeight}}>\n      {/*<Log data={me}/>*/}\n      <Appbar style={styles.top}>\n        <Appbar.Action icon=\"menu\" onPress={() => navigation.dispatch(DrawerActions.openDrawer())}\n                       color='#fff'\n        />\n        {mode === Mode.PRIMARY && (\n          <Appbar.Content style={{marginLeft: -10}} title={title} subtitle={'Вільних аудиторій: ' +\n          freeClassroomsAmount} color='#fff'/>\n        )}\n        {mode === Mode.QUEUE_SETUP && (\n          <>\n            <View style={{flexDirection: 'row', justifyContent: 'space-between', width: '88%'}}>\n              <View style={styles.queueSwitcher}>\n                <Button mode={isMinimalSetup ? 'contained' : 'text'}\n                        style={{position: 'relative', width: '45%'}}\n                        color='#fff'\n                        onPress={() => isMinimalSetupVar(true)}\n                >\n                  Мінімальні\n                </Button>\n                <Button\n                  mode={!isMinimalSetup ? 'contained' : 'text'}\n                  style={{position: 'relative', width: '35%'}}\n                  color='#fff'\n                  onPress={() => isMinimalSetupVar(false)}\n                >\n                  Бажані\n                </Button>\n              </View>\n            </View>\n            <Appbar.Action icon=\"content-save\" onPress={showModalSavedFilters} color='#fff'\n                           style={{position: 'absolute', right: 40, top: 28}}/>\n            <Appbar.Action icon=\"filter\" onPress={showModal} color='#fff'\n                           style={{position: 'absolute', right: 0, top: 28}}/>\n          </>\n        )}\n        {mode === Mode.INLINE && (\n          <Appbar.Content style={{marginLeft: -10}} title={inlineTitle} color='#fff'/>\n        )}\n      </Appbar>\n\n      <View style={styles.wrapper}>\n        {classrooms?.length ? <>\n\n          <ScrollView>\n            <MyClassroomCell me={me} classrooms={classrooms} isMinimalSetup={isMinimalSetup}\n                             minimalClassroomIds={minimalClassroomIds}\n                             desirableClassroomIds={desirableClassroomIds}\n            />\n            {(mode === Mode.PRIMARY || mode === Mode.QUEUE_SETUP || mode === Mode.OWNER) && (\n              <>\n                {getIsMeOccupied(me, classrooms) && (\n                  <Text style={styles.gridDivider}>\n                    Всі аудиторії:\n                  </Text>\n                )}\n                <View style={styles.grid}>\n                  {classrooms && classrooms\n                    .filter(filterHiddenClassrooms)\n                    .filter(filterDisabledClassrooms)\n                    .filter(filterAllAnotherClassrooms)\n                    .map(classroom => (\n                        <ClassroomsCell key={classroom.id} classroom={classroom}\n                                        filteredList={isMinimalSetup ? minimalClassroomIds : desirableClassroomIds}\n                        />\n                      )\n                    )}\n                </View>\n              </>\n            )}\n            {mode === Mode.INLINE && (\n              <>\n                {!!classrooms.filter(filterMyPendingClassrooms)?.length && (\n                  <>\n                    <Text style={styles.gridDivider}>\n                      Аудиторії, що очікують підтвердження:\n                    </Text>\n                    <View style={{...styles.grid, marginBottom: 10}}>\n                      {classrooms.filter(filterMyPendingClassrooms).map(classroom => (\n                        <ClassroomsCell key={classroom.id} classroom={classroom}\n                                        filteredList={isMinimalSetup ? minimalClassroomIds : desirableClassroomIds}\n                        />\n                      ))}\n                    </View>\n                  </>\n                )}\n                {!!(classrooms.filter(filterQueuedClassrooms).length) && <>\n                    <Text style={styles.gridDivider}>Аудиторії, за якими я стою в черзі:</Text>\n                    <View style={{...styles.grid, marginBottom: 10}}>\n                      {classrooms.filter(filterQueuedClassrooms).map(classroom => (\n                        <ClassroomsCell key={classroom.id} classroom={classroom}\n                                        filteredList={isMinimalSetup ? minimalClassroomIds : desirableClassroomIds}\n                        />\n                      ))}\n                    </View>\n                </>}\n                <Text style={styles.gridDivider}>Інші аудиторії: </Text>\n                <View style={styles.grid}>\n                  {classrooms\n                    .filter(({id}) => !(minimalClassroomIds.includes(id)))\n                    .filter(filterHiddenClassrooms)\n                    .filter(filterDisabledClassrooms)\n                    .map(classroom => (\n                      <ClassroomsCell key={classroom.id} classroom={classroom}\n                                      filteredList={isMinimalSetup ? minimalClassroomIds : desirableClassroomIds}\n                      />\n                    ))}\n                </View>\n              </>\n            )}\n          </ScrollView>\n          {mode === Mode.PRIMARY && !getIsMeOccupied(me, classrooms) && (\n            <Button style={styles.getInLine} mode='contained' color='#2b5dff'\n                    onPress={getInQueueSetup}>\n              <Text>Стати в чергу</Text>\n            </Button>\n          )}\n          {mode === Mode.QUEUE_SETUP && (\n            <>\n              <Button style={styles.approve} mode='contained' color='#2b5dff'\n                      onPress={handleReady} disabled={!minimalClassroomIds.length}\n              >\n                <Text>Готово ({queueSize + 1}-й)</Text>\n              </Button>\n              <Button style={styles.getOutLine} mode='contained' color='#f91354'\n                      onPress={handleCancelQueueSetup}>\n                <Text>Скасувати</Text>\n              </Button>\n            </>\n          )}\n          {mode === Mode.INLINE && (\n            <Button style={styles.getOutLineSingle} mode='contained' color='#f91354'\n                    onPress={showConfirmLineOut}\n            >\n              <Text>Вийти з черги</Text>\n            </Button>\n          )}\n        </> : <ActivityIndicator animating color='#fff'/>}\n        <SavedFilters hideModal={hideModalSavedFilters} visible={visibleSavedFilters}/>\n        <Filters hideModal={hideModal} visible={visible} apply={applyGeneralFilter}/>\n        <InlineDialog visible={visibleModalInline} hideDialog={hideModalInline}/>\n        <ConfirmLineOut hideDialog={hideConfirmLineOut} visible={visibleLineOut}/>\n      </View>\n    </ImageBackground>\n  )\n}\n\nconst styles = StyleSheet.create(\n{\n  top: {\n    position: 'absolute',\n      left: 0,\n      right: 0,\n      top: 0,\n      paddingTop: 26,\n      height: 80,\n      backgroundColor: 'transparent',\n      zIndex: 1\n  },\n  grid: {\n    marginBottom: 80,\n      marginLeft: 2,\n      flexDirection: 'row',\n      flexWrap: 'wrap',\n      justifyContent: 'flex-start'\n  },\n  getInLine: {\n    position: 'absolute',\n      zIndex: 1,\n      bottom: 15,\n      width: '55%',\n      height: 50,\n      justifyContent:'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n  },\n  getOutLine: {\n    position: 'absolute',\n      zIndex: 1,\n      bottom: 15,\n      left: 20,\n      width: '43%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n  },\n  getOutLineSingle: {\n    position: 'absolute',\n      zIndex: 1,\n      bottom: 15,\n      width: '55%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n  },\n  approve: {\n    position: 'absolute',\n      zIndex: 1,\n      right: 20,\n      bottom: 15,\n      width: '43%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n  },\n  wrapper: {\n    width: '100%',\n      height: '100%',\n      alignItems: 'center',\n      justifyContent: 'center',\n      backgroundColor: 'transparent',\n      paddingTop: 80,\n    // paddingBottom: 70,\n  },\n  queueSwitcher: {\n    flexDirection: 'row',\n      width: '76%',\n      justifyContent: 'center',\n      paddingHorizontal: 5,\n      marginHorizontal: 20,\n      alignItems: 'center',\n  },\n  gridDivider: {\n    color: '#fff',\n      marginBottom: 10,\n      marginLeft: 3,\n      marginRight: 3,\n      paddingLeft: 17,\n      borderBottomWidth: 1,\n      borderBottomColor: '#ffffff77',\n      paddingBottom: 10\n  }\n}\n);","import React, {useEffect, useState} from 'react';\nimport {View, Text, StyleSheet, ImageBackground} from \"react-native\";\nimport {Appbar, Button, Title} from \"react-native-paper\";\nimport {client, meVar} from \"../../api/client\";\nimport {GET_USER_BY_ID} from \"../../api/operations/queries/users\";\nimport {getItem, removeItem, setItem} from \"../../api/asyncStorage\";\nimport { useNavigation } from '@react-navigation/native';\n\nexport default function Frozen() {\n  const message1 = 'Ваш аккаунт заблоковано. Для отримання доступу разблокуйте аккаунт в учбовій частині. Ваш номер:';\n  const message2 = 'Після разблокування оновіть сторінку або поверніться на сторінку входу.';\n  const [storageUser, setStorageUser] = useState<any>(null);\n  const [update, setUpdate] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const navigation = useNavigation();\n\n  useEffect(() => {\n    getItem('user').then(u => setStorageUser(u));\n  },[]);\n\n  useEffect(() => {\n    if (storageUser) {\n      setIsLoading(true);\n      client.query({\n        query: GET_USER_BY_ID,\n        variables: {\n          where: {id: storageUser.id}\n        },\n        fetchPolicy: 'network-only',\n      }).then(({data: {user}}) => {\n        setItem('user', user).then(() => {\n          setIsLoading(false);\n        });\n      });\n    }\n  }, [update]);\n\n  const navigateToLogin = async () => {\n    await removeItem('user');\n    meVar(null);\n  };\n\n  return <ImageBackground source={require('../../assets/images/bg.jpg')}\n                          style={{width: '100%', height: '100%'}}>\n    <View style={styles.container}>\n      <View style={styles.wrapper}>\n        <Title style={styles.title}>Аккаунт заблоковано</Title>\n        <Text style={styles.message}>{message1}</Text>\n        <Title style={styles.number}>{storageUser ? storageUser.id : ''}</Title>\n        <Text style={styles.message}>{message2}</Text>\n        <Button mode='contained' style={styles.button} loading={isLoading} disabled={isLoading}\n                onPress={() => setUpdate(prevState => !prevState)}\n        >\n          Оновити\n        </Button>\n        <Button mode='contained' style={styles.button} onPress={navigateToLogin}>\n          На сторінку входу\n        </Button>\n      </View>\n    </View>\n  </ImageBackground>\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n  },\n  top: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    paddingTop: 26,\n    height: 80,\n    backgroundColor: 'transparent',\n    elevation: 0\n  },\n  wrapper: {},\n  title: {\n    textAlign: 'center',\n    fontSize: 32,\n    padding: 10,\n    lineHeight: 40,\n    fontWeight: 'bold',\n    color: '#fff',\n    marginBottom: 15\n  },\n  number: {\n    textAlign: 'center',\n    fontSize: 50,\n    padding: 30,\n    lineHeight: 60,\n    marginHorizontal: 20,\n    marginBottom: 12,\n    color: '#fff',\n    borderRadius: 8,\n    borderStyle: \"solid\",\n    borderColor: '#ffffff33',\n    borderWidth: 1,\n  },\n  message: {\n    textAlign: 'center',\n    borderRadius: 8,\n    backgroundColor: '#b5e3ff77',\n    padding: 8,\n    marginHorizontal: 20,\n    marginBottom: 10,\n    fontSize: 20,\n  },\n  button: {\n    width: 200,\n    alignSelf: 'center',\n    marginTop: 10,\n    height: 50,\n    justifyContent: 'center'\n  }\n});","import React from 'react';\nimport {StyleSheet, Text, ImageBackground, View} from \"react-native\";\nimport {ProgressBar} from \"react-native-paper\";\n\nexport default function Loading() {\n\n  return (\n    <ImageBackground source={require('../assets/images/bg.jpg')} style={styles.background}>\n      <Text style={styles.text}>Loading...</Text>\n      <View style={{width: '70%', marginTop: 40}}>\n        <ProgressBar indeterminate color='#fff'/>\n      </View>\n    </ImageBackground>\n  )\n}\n\nconst styles = StyleSheet.create({\n  background: {\n    width: '100%',\n    height: '100%',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  text: {\n    color: '#fff',\n    fontSize: 24\n  }\n});","import React from 'react';\nimport {ImageBackground, Image, View} from \"react-native\";\nimport {ProgressBar} from \"react-native-paper\";\n\nexport default function Splash() {\n\n  return (\n    <ImageBackground source={require('./../assets/images/bg.jpg')} style={{\n      width: '100%',\n      height: '100%',\n      alignItems: 'center',\n      justifyContent: 'center'\n    }}>\n      <Image source={require('./../assets/images/au_logo_shadow.png')} style={{\n        width: '80%',\n        resizeMode: 'contain',\n        height: 130,\n      }}/>\n      <View style={{width: '70%', marginTop: 40}}>\n        <ProgressBar indeterminate color='#fff'/>\n      </View>\n    </ImageBackground>\n  )\n};","import React from 'react';\nimport {ScrollView, StyleSheet, View} from \"react-native\";\nimport {Appbar, Paragraph, Title} from \"react-native-paper\";\n\nexport default function PrivacyPolicy({ navigation }: any) {\n\n  const goBack = () => navigation.goBack();\n\n  return (\n    <View>\n      <Appbar style={styles.top}>\n        <Appbar.BackAction onPress={goBack}/>\n        <Appbar.Content\n          title='Політика конфіденційності'\n        />\n      </Appbar>\n      <ScrollView style={styles.wrapper}>\n          <Title>Privacy Policy for Auditorium</Title>\n          <Paragraph>At auditorium, accessible from http://auditorium.com.ua, one of our main priorities is the privacy of our visitors. This Privacy Policy document contains types of information that is collected and recorded by auditorium and how we use it.\n          </Paragraph>\n          <Paragraph>\n          If you have additional questions or require more information about our Privacy Policy, do not hesitate to contact us.\n          </Paragraph>\n          <Paragraph>\n          This Privacy Policy applies only to our online activities and is valid for visitors to our website with regards to the information that they shared and/or collect in auditorium. This policy is not applicable to any information collected offline or via channels other than this website. Our Privacy Policy was created with the help of the Privacy Policy Generator.\n          </Paragraph>\n          <Paragraph>\n          Consent\n          By using our website, you hereby consent to our Privacy Policy and agree to its terms.\n          </Paragraph>\n          <Paragraph>\n          Information we collect\n          The personal information that you are asked to provide, and the reasons why you are asked to provide it, will be made clear to you at the point we ask you to provide your personal information.\n          </Paragraph>\n          <Paragraph>\n          If you contact us directly, we may receive additional information about you such as your name, email address, phone number, the contents of the message and/or attachments you may send us, and any other information you may choose to provide.\n          </Paragraph>\n          <Paragraph>\n          When you register for an Account, we may ask for your contact information, including items such as name, company name, address, email address, and telephone number.\n          </Paragraph>\n          <Paragraph>\n          How we use your information\n          We use the information we collect in various ways, including to:\n          </Paragraph>\n          <Paragraph>\n          Provide, operate, and maintain our website\n          Improve, personalize, and expand our website\n          Understand and analyze how you use our website\n          Develop new products, services, features, and functionality\n          Communicate with you, either directly or through one of our partners, including for customer service, to provide you with updates and other information relating to the website, and for marketing and promotional purposes\n          Send you emails\n          Find and prevent fraud\n          Log Files\n          auditorium follows a standard procedure of using log files. These files log visitors when they visit websites. All hosting companies do this and a part of hosting services' analytics. The information collected by log files include internet protocol (IP) addresses, browser type, Internet Service Provider (ISP), date and time stamp, referring/exit pages, and possibly the number of clicks. These are not linked to any information that is personally identifiable. The purpose of the information is for analyzing trends, administering the site, tracking users' movement on the website, and gathering demographic information.\n          </Paragraph>\n          <Paragraph>\n          Advertising Partners Privacy Policies\n          You may consult this list to find the Privacy Policy for each of the advertising partners of auditorium.\n          </Paragraph>\n          <Paragraph>\n          Third-party ad servers or ad networks uses technologies like cookies, JavaScript, or Web Beacons that are used in their respective advertisements and links that appear on auditorium, which are sent directly to users' browser. They automatically receive your IP address when this occurs. These technologies are used to measure the effectiveness of their advertising campaigns and/or to personalize the advertising content that you see on websites that you visit.\n          </Paragraph>\n          <Paragraph>\n          Note that auditorium has no access to or control over these cookies that are used by third-party advertisers.\n          </Paragraph>\n          <Paragraph>\n          Third Party Privacy Policies\n          auditorium's Privacy Policy does not apply to other advertisers or websites. Thus, we are advising you to consult the respective Privacy Policies of these third-party ad servers for more detailed information. It may include their practices and instructions about how to opt-out of certain options.\n          </Paragraph>\n          <Paragraph>\n          You can choose to disable cookies through your individual browser options. To know more detailed information about cookie management with specific web browsers, it can be found at the browsers' respective websites.\n          </Paragraph>\n          <Paragraph>\n          CCPA Privacy Rights (Do Not Sell My Personal Information)\n          Under the CCPA, among other rights, California consumers have the right to:\n          </Paragraph>\n          <Paragraph>\n          Request that a business that collects a consumer's personal data disclose the categories and specific pieces of personal data that a business has collected about consumers.\n          </Paragraph>\n          <Paragraph>\n          Request that a business delete any personal data about the consumer that a business has collected.\n          </Paragraph>\n          <Paragraph>\n          Request that a business that sells a consumer's personal data, not sell the consumer's personal data.\n          </Paragraph>\n          <Paragraph>\n          If you make a request, we have one month to respond to you. If you would like to exercise any of these rights, please contact us.\n          </Paragraph>\n          <Paragraph>\n          GDPR Data Protection Rights\n          We would like to make sure you are fully aware of all of your data protection rights. Every user is entitled to the following:\n          </Paragraph>\n          <Paragraph>\n          The right to access – You have the right to request copies of your personal data. We may charge you a small fee for this service.\n          </Paragraph>\n          <Paragraph>\n          The right to rectification – You have the right to request that we correct any information you believe is inaccurate. You also have the right to request that we complete the information you believe is incomplete.\n          </Paragraph>\n          <Paragraph>\n          The right to erasure – You have the right to request that we erase your personal data, under certain conditions.\n          </Paragraph>\n          <Paragraph>\n          The right to restrict processing – You have the right to request that we restrict the processing of your personal data, under certain conditions.\n          </Paragraph>\n          <Paragraph>\n          The right to object to processing – You have the right to object to our processing of your personal data, under certain conditions.\n          </Paragraph>\n          <Paragraph>\n          The right to data portability – You have the right to request that we transfer the data that we have collected to another organization, or directly to you, under certain conditions.\n          </Paragraph>\n          <Paragraph>\n          If you make a request, we have one month to respond to you. If you would like to exercise any of these rights, please contact us.\n          </Paragraph>\n          <Paragraph>\n          Children's Information\n          Another part of our priority is adding protection for children while using the internet. We encourage parents and guardians to observe, participate in, and/or monitor and guide their online activity.\n          </Paragraph>\n          <Paragraph>\n          auditorium does not knowingly collect any Personal Identifiable Information from children under the age of 13. If you think that your child provided this kind of information on our website, we strongly encourage you to contact us immediately and we will do our best efforts to promptly remove such information from our records.\n          </Paragraph>\n      </ScrollView>\n    </View>\n  )\n}\n\nconst styles = StyleSheet.create({\n  top: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    paddingTop: 26,\n    height: 80,\n    backgroundColor: '#2e287c',\n  },\n  wrapper: {\n    marginTop: 100,\n    marginLeft: 16,\n    marginRight: 16,\n  },\n});","import {DarkTheme, DefaultTheme, NavigationContainer} from '@react-navigation/native';\nimport {createStackNavigator} from '@react-navigation/stack';\nimport * as React from 'react';\nimport {useEffect, useState} from 'react';\nimport {ColorSchemeName, StyleSheet} from 'react-native';\nimport {RootStackParamList} from '../types';\nimport Login from \"../screens/Login\";\nimport SignUp from \"../screens/Signup/SignUp\";\nimport ForgotPassword from \"../screens/ForgotPassword\";\nimport ForgotPasswordSuccess from \"../screens/ForgotPasswordSuccess\";\nimport {createDrawerNavigator} from \"@react-navigation/drawer\";\nimport Users from \"../screens/Users\";\nimport CustomSidebarMenu from \"./CustomSidebarMenu\";\nimport Schedule from \"../screens/Schedule\";\nimport Profile from \"../screens/Profile\";\nimport Settings from \"../screens/Settings\";\nimport {getItem} from \"../api/asyncStorage\";\nimport {AccountStatuses, User} from \"../models/models\";\nimport SignUpStepTwo from \"../screens/Signup/SignUpStepTwo\";\nimport Verification from \"../screens/Signup/Verification\";\nimport Home from \"../screens/ClassroomsList/ClassroomsList\";\nimport {meVar} from \"../api/client\";\nimport {useQuery} from \"@apollo/client\";\nimport {GET_ME} from \"../api/operations/queries/me\";\nimport Frozen from \"../screens/Signup/Frozen\";\nimport Loading from \"../screens/Loading\";\nimport * as SplashScreen from \"expo-splash-screen\";\nimport Splash from \"../screens/Splash\";\nimport PrivacyPolicy from \"../screens/PrivacyPolicy\";\n\nexport default function Navigation({colorScheme}: { colorScheme: ColorSchemeName }) {\n  return (\n    <NavigationContainer\n      theme={colorScheme === 'dark' ? DarkTheme : DefaultTheme}>\n      <RootNavigator/>\n    </NavigationContainer>\n  );\n}\n\nconst Drawer = createDrawerNavigator();\nconst Stack = createStackNavigator<RootStackParamList>();\n\n\nfunction RootNavigator() {\n  const [accountStatus, setAccountStatus] = useState<AccountStatuses | null>(null);\n  const {data: {me}} = useQuery(GET_ME);\n  const [appIsReady, setAppIsReady] = useState(false);\n\n  const getAccountStatus = (user: User) => {\n    //@ts-ignore\n    const {studentInfo, employeeInfo} = user;\n\n    const isStudent = !!studentInfo;\n    const status = isStudent ? studentInfo?.accountStatus : employeeInfo?.accountStatus;\n    setAccountStatus(status);\n  }\n\n  const getMe = async () => {\n    if (!me) {\n      try {\n        const user: User | undefined = await getItem('user')\n        if (user) {\n          getAccountStatus(user);\n          meVar(user);\n        } else {\n        }\n      } catch (e) {\n        alert(JSON.stringify(e));\n      }\n    } else {\n      getAccountStatus(me);\n    }\n  }\n\n  useEffect(() => {\n    getMe();\n  }, [me]);\n\n  const checkStatus = ((accountStatus: AccountStatuses) => {\n    switch (accountStatus) {\n      case AccountStatuses.UNVERIFIED:\n        return Verification;\n      case AccountStatuses.FROZEN:\n      case AccountStatuses.ACADEMIC_LEAVE:\n        return Frozen;\n      case AccountStatuses.ACTIVE:\n        return Home;\n      default:\n        return Loading;\n    }\n  });\n\n\n  useEffect(() => {\n    async function prepare() {\n      try {\n        await getMe();\n        await SplashScreen.preventAutoHideAsync();\n      } catch (e) {\n        console.warn(e);\n      } finally {\n        setAppIsReady(true);\n      }\n    }\n\n    prepare();\n  }, []);\n\n return (\n    me ? <Drawer.Navigator initialRouteName=\"Home\" drawerStyle={styles.drawer} drawerContentOptions={{\n        activeBackgroundColor: '#2b5dff',\n        labelStyle: {\n          fontSize: 20,\n          color: '#fff'\n        },\n      }}\n                           drawerContent={(props: any) => <CustomSidebarMenu {...props}/>}\n      >\n        <Drawer.Screen name=\"Home\"\n          //TODO set !== to ===\n                       component={checkStatus(accountStatus as AccountStatuses)}\n                       options={{\n                         title: 'Аудиторії',\n                       }}\n                       initialParams={{id: meVar()?.id}}\n        />\n        <Drawer.Screen name=\"Users\" component={Users} options={{\n          title: 'Довідник',\n        }}/>\n        <Drawer.Screen name=\"Schedule\" component={Schedule} options={{\n          title: 'Розклад'\n        }}/>\n        <Drawer.Screen name=\"Profile\" component={Profile} options={{\n          title: 'Мій профіль'\n        }}/>\n        <Drawer.Screen name=\"PrivacyPolicy\" component={PrivacyPolicy} options={{\n          title: 'Політика конфіденційності'\n        }}/>\n      </Drawer.Navigator>\n      : <Stack.Navigator screenOptions={{headerShown: false}} initialRouteName=\"Login\">\n        <Stack.Screen\n          name=\"Login\"\n          component={appIsReady ? Login : Splash}\n        />\n        <Stack.Screen\n          name=\"SignUp\"\n          component={SignUp}\n        />\n        <Stack.Screen\n          name=\"SignUpStepTwo\"\n          component={SignUpStepTwo}\n        />\n        <Stack.Screen\n          name=\"ForgotPassword\"\n          component={ForgotPassword}\n        />\n        <Stack.Screen\n          name=\"ForgotPasswordSuccess\"\n          component={ForgotPasswordSuccess}\n        />\n      </Stack.Navigator>\n  );\n}\n\nconst styles = StyleSheet.create({\n  drawer: {\n    backgroundColor: '#2e287c',\n  }\n});\n","import {StatusBar} from 'expo-status-bar';\nimport React from 'react';\nimport {SafeAreaProvider} from 'react-native-safe-area-context';\n\nimport useColorScheme from './hooks/useColorScheme';\nimport Navigation from './navigation';\nimport {ApolloProvider} from \"@apollo/client\";\nimport {client} from \"./api/client\";\nimport {Provider, DefaultTheme} from \"react-native-paper\";\nimport PushNotification from \"./screens/PushNotification\";\n\nexport default function App() {\n  const colorScheme = useColorScheme();\n\n  const theme = {\n    ...DefaultTheme,\n    roundness: 8,\n    colors: {\n      ...DefaultTheme.colors,\n      primary: '#2b5dff',\n      accent: '#ffc000',\n    },\n  };\n\n  return (\n    <ApolloProvider client={client}>\n      <SafeAreaProvider>\n        <Provider theme={theme}>\n          <Navigation colorScheme={colorScheme}/>\n          <StatusBar/>\n        </Provider>\n      </SafeAreaProvider>\n    </ApolloProvider>\n  );\n}\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOAAAACICAYAAAD+iufWAAAB6klEQVR4Xu3TsS1AUQBA0T+ERIE5xBg6pVKisYAYxwB6iULQiE4kFKIwxuN/hQ3ebU5xijvAXQ6vnsdyejd2zu+BSdbntvf2Lx7GcnILTLa9Z0BoGBBCBoSQASFkQAgZEEIGhJABIWRACBkQQgaEkAEhZEAIGRBCBoSQASFkQAgZEEIGhJABIWRACBkQQgaEkAEhZEAIGRBCBoSQASFkQAgZEEIGhJABIWRACBkQQgaEkAEhZEAIGRBCBoSQASFkQAgZEEIGhJABIWRACBkQQgaEkAEhZEAIGRBCBoSQASFkQAgZEEIGhJABIWRACBkQQgaEkAEhZEAIGRBCBoSQASH0P+DxIzDZ9t7R5c3YPbsGJlvfW75f9sbX0wJMtr63jI9lAI2/AV+B6QwIIQNCyIAQMiCEDAghA0LIgBAyIIQMCCEDQsiAEDIghAwIIQNCyIAQMiCEDAghA0LIgBAyIIQMCCEDQsiAEDIghAwIIQNCyIAQMiCEDAghA0LIgBAyIIQMCCEDQsiAEDIghAwIIQNCyIAQMiCEDAghA0LIgBAyIIQMCCEDQsiAEDIghAwIIQNCyIAQMiCEDAghA0LIgBAyIIQMCCEDQsiAEDIghAwIIQNCyIAQMiCEtgE/D8Z4+413YJr1ud/3fgCFyrWhM9fD5QAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/en.d565fadc.png\";","var map = {\n\t\"./af\": 266,\n\t\"./af.js\": 266,\n\t\"./ar\": 267,\n\t\"./ar-dz\": 268,\n\t\"./ar-dz.js\": 268,\n\t\"./ar-kw\": 269,\n\t\"./ar-kw.js\": 269,\n\t\"./ar-ly\": 270,\n\t\"./ar-ly.js\": 270,\n\t\"./ar-ma\": 271,\n\t\"./ar-ma.js\": 271,\n\t\"./ar-sa\": 272,\n\t\"./ar-sa.js\": 272,\n\t\"./ar-tn\": 273,\n\t\"./ar-tn.js\": 273,\n\t\"./ar.js\": 267,\n\t\"./az\": 274,\n\t\"./az.js\": 274,\n\t\"./be\": 275,\n\t\"./be.js\": 275,\n\t\"./bg\": 276,\n\t\"./bg.js\": 276,\n\t\"./bm\": 277,\n\t\"./bm.js\": 277,\n\t\"./bn\": 278,\n\t\"./bn-bd\": 279,\n\t\"./bn-bd.js\": 279,\n\t\"./bn.js\": 278,\n\t\"./bo\": 280,\n\t\"./bo.js\": 280,\n\t\"./br\": 281,\n\t\"./br.js\": 281,\n\t\"./bs\": 282,\n\t\"./bs.js\": 282,\n\t\"./ca\": 283,\n\t\"./ca.js\": 283,\n\t\"./cs\": 284,\n\t\"./cs.js\": 284,\n\t\"./cv\": 285,\n\t\"./cv.js\": 285,\n\t\"./cy\": 286,\n\t\"./cy.js\": 286,\n\t\"./da\": 287,\n\t\"./da.js\": 287,\n\t\"./de\": 288,\n\t\"./de-at\": 289,\n\t\"./de-at.js\": 289,\n\t\"./de-ch\": 290,\n\t\"./de-ch.js\": 290,\n\t\"./de.js\": 288,\n\t\"./dv\": 291,\n\t\"./dv.js\": 291,\n\t\"./el\": 292,\n\t\"./el.js\": 292,\n\t\"./en-au\": 293,\n\t\"./en-au.js\": 293,\n\t\"./en-ca\": 294,\n\t\"./en-ca.js\": 294,\n\t\"./en-gb\": 295,\n\t\"./en-gb.js\": 295,\n\t\"./en-ie\": 296,\n\t\"./en-ie.js\": 296,\n\t\"./en-il\": 297,\n\t\"./en-il.js\": 297,\n\t\"./en-in\": 298,\n\t\"./en-in.js\": 298,\n\t\"./en-nz\": 299,\n\t\"./en-nz.js\": 299,\n\t\"./en-sg\": 300,\n\t\"./en-sg.js\": 300,\n\t\"./eo\": 301,\n\t\"./eo.js\": 301,\n\t\"./es\": 302,\n\t\"./es-do\": 303,\n\t\"./es-do.js\": 303,\n\t\"./es-mx\": 304,\n\t\"./es-mx.js\": 304,\n\t\"./es-us\": 305,\n\t\"./es-us.js\": 305,\n\t\"./es.js\": 302,\n\t\"./et\": 306,\n\t\"./et.js\": 306,\n\t\"./eu\": 307,\n\t\"./eu.js\": 307,\n\t\"./fa\": 308,\n\t\"./fa.js\": 308,\n\t\"./fi\": 309,\n\t\"./fi.js\": 309,\n\t\"./fil\": 310,\n\t\"./fil.js\": 310,\n\t\"./fo\": 311,\n\t\"./fo.js\": 311,\n\t\"./fr\": 312,\n\t\"./fr-ca\": 313,\n\t\"./fr-ca.js\": 313,\n\t\"./fr-ch\": 314,\n\t\"./fr-ch.js\": 314,\n\t\"./fr.js\": 312,\n\t\"./fy\": 315,\n\t\"./fy.js\": 315,\n\t\"./ga\": 316,\n\t\"./ga.js\": 316,\n\t\"./gd\": 317,\n\t\"./gd.js\": 317,\n\t\"./gl\": 318,\n\t\"./gl.js\": 318,\n\t\"./gom-deva\": 319,\n\t\"./gom-deva.js\": 319,\n\t\"./gom-latn\": 320,\n\t\"./gom-latn.js\": 320,\n\t\"./gu\": 321,\n\t\"./gu.js\": 321,\n\t\"./he\": 322,\n\t\"./he.js\": 322,\n\t\"./hi\": 323,\n\t\"./hi.js\": 323,\n\t\"./hr\": 324,\n\t\"./hr.js\": 324,\n\t\"./hu\": 325,\n\t\"./hu.js\": 325,\n\t\"./hy-am\": 326,\n\t\"./hy-am.js\": 326,\n\t\"./id\": 327,\n\t\"./id.js\": 327,\n\t\"./is\": 328,\n\t\"./is.js\": 328,\n\t\"./it\": 329,\n\t\"./it-ch\": 330,\n\t\"./it-ch.js\": 330,\n\t\"./it.js\": 329,\n\t\"./ja\": 331,\n\t\"./ja.js\": 331,\n\t\"./jv\": 332,\n\t\"./jv.js\": 332,\n\t\"./ka\": 333,\n\t\"./ka.js\": 333,\n\t\"./kk\": 334,\n\t\"./kk.js\": 334,\n\t\"./km\": 335,\n\t\"./km.js\": 335,\n\t\"./kn\": 336,\n\t\"./kn.js\": 336,\n\t\"./ko\": 337,\n\t\"./ko.js\": 337,\n\t\"./ku\": 338,\n\t\"./ku.js\": 338,\n\t\"./ky\": 339,\n\t\"./ky.js\": 339,\n\t\"./lb\": 340,\n\t\"./lb.js\": 340,\n\t\"./lo\": 341,\n\t\"./lo.js\": 341,\n\t\"./lt\": 342,\n\t\"./lt.js\": 342,\n\t\"./lv\": 343,\n\t\"./lv.js\": 343,\n\t\"./me\": 344,\n\t\"./me.js\": 344,\n\t\"./mi\": 345,\n\t\"./mi.js\": 345,\n\t\"./mk\": 346,\n\t\"./mk.js\": 346,\n\t\"./ml\": 347,\n\t\"./ml.js\": 347,\n\t\"./mn\": 348,\n\t\"./mn.js\": 348,\n\t\"./mr\": 349,\n\t\"./mr.js\": 349,\n\t\"./ms\": 350,\n\t\"./ms-my\": 351,\n\t\"./ms-my.js\": 351,\n\t\"./ms.js\": 350,\n\t\"./mt\": 352,\n\t\"./mt.js\": 352,\n\t\"./my\": 353,\n\t\"./my.js\": 353,\n\t\"./nb\": 354,\n\t\"./nb.js\": 354,\n\t\"./ne\": 355,\n\t\"./ne.js\": 355,\n\t\"./nl\": 356,\n\t\"./nl-be\": 357,\n\t\"./nl-be.js\": 357,\n\t\"./nl.js\": 356,\n\t\"./nn\": 358,\n\t\"./nn.js\": 358,\n\t\"./oc-lnc\": 359,\n\t\"./oc-lnc.js\": 359,\n\t\"./pa-in\": 360,\n\t\"./pa-in.js\": 360,\n\t\"./pl\": 361,\n\t\"./pl.js\": 361,\n\t\"./pt\": 362,\n\t\"./pt-br\": 363,\n\t\"./pt-br.js\": 363,\n\t\"./pt.js\": 362,\n\t\"./ro\": 364,\n\t\"./ro.js\": 364,\n\t\"./ru\": 365,\n\t\"./ru.js\": 365,\n\t\"./sd\": 366,\n\t\"./sd.js\": 366,\n\t\"./se\": 367,\n\t\"./se.js\": 367,\n\t\"./si\": 368,\n\t\"./si.js\": 368,\n\t\"./sk\": 369,\n\t\"./sk.js\": 369,\n\t\"./sl\": 370,\n\t\"./sl.js\": 370,\n\t\"./sq\": 371,\n\t\"./sq.js\": 371,\n\t\"./sr\": 372,\n\t\"./sr-cyrl\": 373,\n\t\"./sr-cyrl.js\": 373,\n\t\"./sr.js\": 372,\n\t\"./ss\": 374,\n\t\"./ss.js\": 374,\n\t\"./sv\": 375,\n\t\"./sv.js\": 375,\n\t\"./sw\": 376,\n\t\"./sw.js\": 376,\n\t\"./ta\": 377,\n\t\"./ta.js\": 377,\n\t\"./te\": 378,\n\t\"./te.js\": 378,\n\t\"./tet\": 379,\n\t\"./tet.js\": 379,\n\t\"./tg\": 380,\n\t\"./tg.js\": 380,\n\t\"./th\": 381,\n\t\"./th.js\": 381,\n\t\"./tk\": 382,\n\t\"./tk.js\": 382,\n\t\"./tl-ph\": 383,\n\t\"./tl-ph.js\": 383,\n\t\"./tlh\": 384,\n\t\"./tlh.js\": 384,\n\t\"./tr\": 385,\n\t\"./tr.js\": 385,\n\t\"./tzl\": 386,\n\t\"./tzl.js\": 386,\n\t\"./tzm\": 387,\n\t\"./tzm-latn\": 388,\n\t\"./tzm-latn.js\": 388,\n\t\"./tzm.js\": 387,\n\t\"./ug-cn\": 389,\n\t\"./ug-cn.js\": 389,\n\t\"./uk\": 390,\n\t\"./uk.js\": 390,\n\t\"./ur\": 391,\n\t\"./ur.js\": 391,\n\t\"./uz\": 392,\n\t\"./uz-latn\": 393,\n\t\"./uz-latn.js\": 393,\n\t\"./uz.js\": 392,\n\t\"./vi\": 394,\n\t\"./vi.js\": 394,\n\t\"./x-pseudo\": 395,\n\t\"./x-pseudo.js\": 395,\n\t\"./yo\": 396,\n\t\"./yo.js\": 396,\n\t\"./zh-cn\": 397,\n\t\"./zh-cn.js\": 397,\n\t\"./zh-hk\": 398,\n\t\"./zh-hk.js\": 398,\n\t\"./zh-mo\": 399,\n\t\"./zh-mo.js\": 399,\n\t\"./zh-tw\": 400,\n\t\"./zh-tw.js\": 400\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 567;","module.exports = __webpack_public_path__ + \"static/media/au_logo.de05cb10.png\";","module.exports = __webpack_public_path__ + \"static/media/key.5df04324.png\";","module.exports = __webpack_public_path__ + \"static/media/specialPiano.11c92757.png\";"],"sourceRoot":""}