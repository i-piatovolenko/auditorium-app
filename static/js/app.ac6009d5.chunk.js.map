{"version":3,"sources":["assets/images/bg.jpg","assets/images/specialPiano.png","assets/images/GrandPiano.png","assets/images/star.png","assets/images/au_logo_shadow.png","assets/images/Chembalo.png","assets/images/UpRightPiano.png","hooks/useColorScheme.ts","constants/Colors.ts","components/Themed.tsx","api/operations/mutations/login.ts","components/WaitDialog.tsx","models/models.ts","api/asyncStorage.ts","components/ErrorDialog.tsx","api/client.ts","screens/Login.tsx","screens/Signup/components/Agreement.tsx","components/CustomPicker/CustomPicker.tsx","components/CustomPicker/CustomPickerField.tsx","api/operations/mutations/signUp.ts","components/InfoDialog.tsx","api/operations/queries/unsignedDepartments.ts","api/operations/queries/unsignedDegrees.ts","screens/Signup/SignUp.tsx","screens/ForgotPassword.tsx","screens/ForgotPasswordSuccess.tsx","api/operations/queries/users.ts","hooks/useUsers.ts","helpers/helpers.ts","components/UserInfo.tsx","screens/Users.tsx","navigation/CustomSidebarMenu.tsx","api/operations/queries/me.ts","screens/Profile.tsx","api/operations/queries/classroom.ts","components/InstrumentInfo.tsx","components/InstrumentItem.tsx","hooks/useLocal.ts","hooks/useTimeLeft.ts","helpers/constants.ts","api/operations/mutations/makeDecisionOnPendingClassroom.ts","components/OccupantInfo.tsx","api/operations/mutations/addUserToQueue.ts","helpers/queue/getInLine.ts","api/operations/mutations/removeUserFromQueue.ts","helpers/queue/removeFromLine.ts","components/ClassroomQueueControlButtons.tsx","api/operations/mutations/reserveFreeClassroom.ts","helpers/getDistance.ts","constants/constants.ts","components/ClassroomInfo.tsx","helpers/sortAB.ts","components/ClassroomsBrowser/FreeClassroomCell.tsx","components/ClassroomsBrowser/OccupiedClassroomCell.tsx","components/ClassroomsBrowser/ReservedClassroomCell.tsx","components/ClassroomsBrowser/PendingClassroomCell.tsx","components/ClassroomsBrowser/OccupiedByCurrentUserClassroomCell.tsx","components/ClassroomsBrowser/ClassroomsBrowser.tsx","api/operations/queries/classrooms.ts","api/operations/subscriptions/classrooms.ts","api/operations/subscriptions/user.ts","helpers/filterDisabledForQueue.ts","helpers/filterSavedFIlters.ts","components/ConfirmLineOut.tsx","api/operations/queries/permittedActionHours.ts","screens/ClassroomsList/Buttons.tsx","api/operations/queries/generalQueueSize.ts","api/operations/subscriptions/generalQueueSize.ts","hooks/useClassrooms.tsx","screens/ClassroomsList/SavedFilters.tsx","screens/ClassroomsList/InstrumentsList.tsx","components/CustomRating/CustomRating.tsx","screens/ClassroomsList/InstrumentFilters.tsx","screens/ClassroomsList/Filters.tsx","screens/ClassroomsList/helpers.ts","api/operations/queries/generalQueuePosition.ts","api/operations/subscriptions/generalQueuePosition.ts","screens/ClassroomsList/ClassroomsAppBar.tsx","components/Log.tsx","components/ConfirmContinueDesiredQueue.tsx","hooks/usePrevious.ts","components/InlineDialog.tsx","components/QueueOutDialog.tsx","api/operations/mutations/returnToQueue.ts","components/ReturnToQueueDialog.tsx","screens/ClassroomsList/ClassroomsList.tsx","screens/Splash.tsx","screens/PrivacyPolicy.tsx","navigation/index.tsx","App.tsx","assets/images/help_white.png","assets/images/help.png","node_modules/moment/locale sync /^/.//.*$","assets/images/au_logo.png","assets/images/key.png"],"names":["module","exports","useColorScheme","_useColorScheme","light","text","background","tint","tabIconDefault","tabIconSelected","dark","red","blue","darkBlue","orange","useThemeColor","props","colorName","theme","colorFromProps","Colors","Text","style","lightColor","darkColor","otherProps","color","View","backgroundColor","LOGIN","gql","WaitDialog","visible","message","Portal","Dialog","dismissable","Title","textAlign","Content","Paragraph","ProgressBar","indeterminate","marginTop","ACCESS_RIGHTS","Mode","ErrorCodesUa","ErrorCodes","EmploymentTypes","EmploymentTypesUa","UserTypes","UserTypesUa","UserTypeColors","ActivityTypesColor","ActivityTypes","NotificationsTypes","AccountStatuses","UserQueueState","OccupiedState","DisabledState","QueuePolicyTypes","ClassroomsFilterTypes","QueueState","QueueType","Langs","EnqueuedBy","PermittedActionHoursTypes","setItem","key","value","a","async","AsyncStorage","JSON","stringify","console","log","getItem","then","result","parse","removeItem","ErrorDialog","hideDialog","buttonText","onDismiss","marginBottom","Actions","Button","onPress","wsLink","WebSocketLink","uri","options","reconnect","connectionParams","token","authorization","subscriptionMiddleware","applyMiddleware","next","subscriptionClient","use","httpLink","createHttpLink","authLink","setContext","_","headers","splitLink","split","query","definition","getMainDefinition","kind","operation","errorLink","onError","graphQLErrors","networkError","forEach","locations","path","noTokenVar","meVar","bodyText","noConnectionVar","client","ApolloClient","link","from","concat","cache","InMemoryCache","typePolicies","Query","fields","me","read","lang","langVar","accessRights","accessRightsVar","mode","modeVar","minimalClassroomIds","minimalClassroomIdsVar","desirableClassroomIds","desirableClassroomIdsVar","isMinimalSetup","isMinimalSetupVar","pushNotificationToken","pushNotificationTokenVar","noConnection","noToken","makeVar","UA","USER","PRIMARY","windowWidth","Dimensions","get","width","hintTexts","Login","route","navigation","useMutation","login","loading","useState","email","setEmail","password","setPassword","showPassword","setShowPassword","modalActivator","setModalActivator","showError","setShowError","errorMessage","setErrorMessage","carouselRef","React","setCurrentIndex","dontShowAgain","setDontShowAgain","showHints","setShowHints","useEffect","handleShowHints","prevState","styles","container","ImageBackground","source","require","bg","TouchableOpacity","helpImageButtonWrapper","Image","helpImageButton","Surface","hintsPopup","display","IconButton","icon","closeIcon","hintsTitle","hintsTitleText","helpImage","ref","data","Array","fill","renderItem","item","index","current","scrollToIndex","hintDescription","carousel","itemWidth","containerWidth","onScrollEnd","separatorWidth","checkbox","Checkbox","status","logo","title","i18n","t","inputs","TextInput","label","input","onChangeText","e","secureTextEntry","selectionColor","right","Icon","name","length","variables","notificationToken","userErrors","code","user","button","disabled","navigate","uppercase","labelStyle","footer","StyleSheet","create","flex","alignItems","justifyContent","overflow","resizeMode","fontSize","fontWeight","elevation","borderRadius","paddingLeft","paddingRight","paddingBottom","height","opacity","langSwitcher","flexDirection","langImage","langImageSelected","flexGrow","zIndex","position","paddingHorizontal","left","top","hintImage","Agreement","setCheckAgreement","wrapper","ScrollView","bottom","CustomPicker","setSelected","selected","items","searchText","setSearchText","filteredItems","setFilteredItems","filtered","filter","String","toLowerCase","includes","Modal","contentContainerStyle","Searchbar","placeholder","search","clearButtonMode","id","map","handlePress","borderBottomWidth","borderStyle","borderBottomColor","padding","margin","CustomPickerField","setIsVisited","checkValidation","underlineColor","visiblePicker","setVisiblePicker","showPicker","picker","pickerField","numberOfLines","pickerIcon","paddingVertical","SIGN_UP","InfoDialog","navigateToLogin","marginRight","GET_UNSIGNED_DEPARTMENTS","GET_UNSIGNED_DEGREES","currentYear","parseInt","moment","format","startYearsItems","userTypesData","STUDENT","POST_GRADUATE","windowHeight","SignUp","selectedDepartment","setSelectedDepartment","selectedDegree","setSelectedDegree","selectedStartYear","setSelectedStartYear","selectedType","setSelectedType","setVisible","visibleAgreement","setVisibleAgreement","visibleBackDialog","setVisibleBackDialog","firstName","setFirstName","lastName","setLastName","patronymic","setPatronymic","phoneNumber","setPhoneNumber","passwordConfirm","setPasswordConfirm","checkAgreement","departments","setDepartments","degrees","setDegrees","isSignupTouched","setIsSignupTouched","isLastNameValidated","setIsLastNameValidated","isFirstNameValidated","setIsFirstNameValidated","isEmailValidated","setIsEmailValidated","isPhoneValidated","setIsPhoneValidated","isPasswordValidated","setIsPasswordValidated","isPasswordConfirmValidated","setIsPasswordConfirmValidated","isStartYearValidated","setIsStartYearValidated","isDepartmentValidated","setIsDepartmentValidated","isDegreeValidated","setIsDegreeValidated","isStartYearModalVisited","setIsStartYearModalVisited","setIsDepartmentModalVisited","isDegreeModalVisited","setIsDegreeModalVisited","signup","error","fetchPolicy","signupDepartments","signupDegrees","checkLastNameValidation","checkFirstNameValidation","checkEmailValidation","test","checkPhoneValidation","checkPasswordValidation","checkPasswordConfirmValidation","checkStartYearValidation","checkDepartmentValidation","checkDegreeValidation","goBack","Error","validator","HelperText","type","Appbar","BackAction","subtitle","scrollView","Banner","actions","infoPanel","onBlur","keyboardType","forceTextInputFocus","agreement","uncheckedColor","navButtons","departmentId","degreeId","startYear","alert","signUpButton","paddingTop","textDecorationLine","ForgotPassword","ForgotPasswordSuccess","loginButton","GET_USERS","GET_USER_BY_ID","useUsers","users","setUsers","slice","sort","b","formatMinutesToMM","fullName","withInitials","nameTemp","charAt","typeStyle","occupied","isDisabled","student","employee","vacant","isNotFree","ISODateString","d","pad","n","getUTCFullYear","getUTCMonth","getUTCDate","isTeacherType","TEACHER","CONCERTMASTER","ILLUSTRATOR","state","FREE","hasOwnClassroom","occupiedClassrooms","ownClassroom","find","classroom","OCCUPIED","RESERVED","isEnabledForCurrentDepartment","currentUser","queuePolicy","queueInfo","policy","SELECTED_DEPARTMENTS","queueAllowedDepartments","some","department","isEnabledForQueue","ownClassroomId","isHidden","NOT_DISABLED","PENDING","UserInfo","userId","hideModal","useQuery","where","openPhoneNumber","Linking","openURL","containerStyle","ActivityIndicator","animating","occupantName","Divider","divider","phoneRow","extraPhoneNumbers","number","borderWidth","borderColor","Users","useNavigation","pages","setPages","currentPage","setCurrentPage","currentUserId","setCurrentUserId","UserElement","DataTable","Row","showModal","Cell","Action","dispatch","DrawerActions","openDrawer","dataTable","Header","header","alignSelf","list","Pagination","pagination","page","numberOfPages","onPageChange","sideMenuProfileIcon","iconStyle","marginHorizontal","customItem","userData","userName","logout","marginVertical","CustomSidebarMenu","SafeAreaView","size","DrawerContentScrollView","DrawerItemList","GET_ME","Profile","whiteText","marginBottomWhiteText","expireDate","marginLeft","GET_CLASSROOM","InstrumentInfo","instrument","instrumentType","intRate","Math","round","rate","toFixed","star","InstrumentItem","expanded","onTouchEnd","imageSource","useLocal","localVarName","useTimeLeft","minutesDuration","timeLeft","setTimeLeft","timeLeftInPer","setTimeLeftInPer","interval","useRef","setInterval","until","differenceInMs","diff","tempTime","duration","resultHHMMSS","hours","minutes","seconds","resultPercents","getTimeFromUntil","leftPer","hour","min","sec","clearInterval","MAKE_DECISION_ON_PENDING_CLASSROOM","occupationInfo","freeText","occupantType","occupiedUntil","progressBar","spaceBottom30","OccupantInfo","date","userFullName","occupiedTotalTime","visibleBanner","setVisibleBanner","setLoading","makeDecision","decision","mutate","mutation","classroomName","reserveClassroom","INLINE","isPendingForMe","progress","colors","Date","getHours","getMinutes","currentSession","skips","ADD_USER_TO_QUEUE","getInLine","minimalClassroomsIds","allClassroomIds","Set","minimalData","classroomId","MINIMAL","desirableData","DESIRED","enqueuedBy","SELF","REMOVE_USER_FROM_QUEUE","removeFromLine","deleteWhere","equals","IN_QUEUE_MINIMAL","ClassroomQueueControlButtons","queue","currentRecord","queueRecord","handleClassroomForQueue","minimalSet","has","delete","add","desiredSet","asyncHandleClassroomForQueue","exist","IN_QUEUE_DESIRED_AND_OCCUPYING","QUEUE_SETUP","RESERVE_FREE_CLASSROOM","getDistance","lat1","lon1","lat2","lon2","unit","radLat1","PI","radLat2","theta","radTheta","dist","sin","cos","acos","UNIVERSITY_LOCATION","ClassroomInfo","params","setClassroom","location","setLocation","errorMsg","setErrorMsg","isNear","setIsNear","distance","coords","latitude","longitude","getCurrentLocation","Location","chair","warning","warningText","DISABLED","comment","tags","isWing","Chip","selectedColor","tag","isOperaStudio","special","description","floor","instruments","OCCUPYING","reserveFreeClassroom","scheduleHeader","queueSetupButtons","sortAB","cellWidth","FreeClassroomCell","isEnabledForCurrentUser","TouchableHighlight","cell","free","cellHeader","notSpecial","space","checkMark","timeLeftProgress","keyImage","tintColor","OccupiedClassroomCell","handleCheck","handleLongPress","cellStyle","onLongPress","ReservedClassroomCell","PendingClassroomCell","grid","flexWrap","getOutLine","getOutLineSingle","approve","queueSwitcher","gridDivider","ClassroomsBrowser","classrooms","isFree","isOccupiedByCurrentUser","isOccupied","isPending","isReserved","OccupiedByCurrentUserClassroomCell","GET_CLASSROOMS","GET_CLASSROOMS_NO_SCHEDULE","FOLLOW_CLASSROOMS","FOLLOW_USER","filterDisabledForQueue","filterSavedFilter","savedFilter","enabledClassrooms","isMinimal","minimalIds","desireIds","ConfirmLineOut","PERMITTED_ACTION_HOURS","Buttons","sanctionedUntil","visibleModalError","setVisibleModalError","queueErrorMessage","visibleLineOut","setVisibleLineOut","permittedActionHours","availableClassroomsIds","savedFilters","mainFilter","main","hasAvailableClassroomsForQueue","GENERAL_QUEUE_SIZE","FOLLOW_GENERAL_QUEUE_SIZE","useClassrooms","setClassrooms","subscribeToMore","SavedFilters","setSavedFilters","isSaving","setIsSaving","inputName","setInputName","selectedFilter","setSelectedFilter","saveAsMainFilter","setSaveAsMainFilter","Headline","body","filterItem","itemRow","selectedItem","handleSelectFilter","bin","newFilters","splice","res","handleRemoveFilter","newFilterSection","mainFilterCheckbox","InstrumentsList","isGrandPianoOnly","setIsGrandPianoOnly","RadioButton","Group","onValueChange","newValue","handleSelect","CustomRating","count","setCount","stars","handleRate","InstrumentFilters","setInstruments","visibleList","setVisibleList","visibleRate","setVisibleRate","showModalList","instrumentRow","newArray","removeInstrument","noInstrumentsLabel","newInstrumentRow","newInstrument","buttons","radioItem","countInput","Filters","apply","setSpecial","withWing","setWithWing","onlyOperaStudio","setOnlyOperaStudio","visibleInstrumentFilters","setVisibleInstrumentFilters","instrumentsButton","getEnding","instrumentTypeOrder","GrandPiano","UpRightPiano","getClassroomsFilteredByInstruments","userInstrumentFilterInput","instrumentsFilterSorted","instA","instB","instrumentsFilter","classroomInstruments","classroomGrandPianoInd","getMinimumSatisfactoryInstrumentIndex","pop","classroomInstrumentInd","minimumRate","bestIndex","i","GENERAL_QUEUE_POSITION","FOLLOW_GENERAL_QUEUE_POSITION","ClassroomsAppBar","freeClassroomsAmount","dataPosition","loadingPosition","errorPosition","subscribeToMorePosition","visibleSavedFilters","setVisibleSavedFilters","generalQueueSize","setGeneralQueueSize","generalQueuePosition","setGeneralQueuePosition","unsubscribeSize","document","updateQuery","prev","subscriptionData","unsubscribePosition","operaStudioOnly","filteredIds","Log","maxHeight","ConfirmContinueDesiredQueue","usePrevious","InlineDialog","paragraph","QueueOutDialog","MAKE_DECISION_ON_QUEUE_RESERVED","ReturnToQueueDialog","remainingOccupationTime","handleReturnToQueue","returnToQueue","Stack","createStackNavigator","Home","appState","AppState","currentState","addEventListener","_handleAppStateChange","removeEventListener","nextAppState","match","Navigator","screenOptions","headerShown","initialRouteName","Screen","component","ClassroomsList","initialParams","showLog","setShowLog","setFreeClassroomsAmount","showQueueInSuccess","setShownQueueInSuccess","showQueueOutSuccess","setShownQueueOutSuccess","userLoading","userError","subscribeToMoreUser","prevUserData","prevSession","unsubscribeClassrooms","unsubscribeUser","freeClassrooms","hiddenLogButton","delayLongPress","fullHidden","QUEUE_RESERVED_NOT_OCCUPYING","Splash","PrivacyPolicy","Navigation","colorScheme","NavigationContainer","DarkTheme","DefaultTheme","RootNavigator","Drawer","createDrawerNavigator","setCurrentUser","appIsReady","setAppIsReady","SplashScreen","warn","prepare","backHandler","BackHandler","Alert","exitApp","remove","drawerStyle","drawer","drawerContentOptions","activeBackgroundColor","drawerContent","App","roundness","primary","accent","Provider","StatusBar","locale","Localization","fallbacks","translations","en","ua","webpackContext","req","webpackContextResolve","__webpack_require__","o","keys","Object","resolve"],"mappings":"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","file":"static/js/app.ac6009d5.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/bg.5326a7ca.jpg\";","module.exports = __webpack_public_path__ + \"static/media/specialPiano.11c92757.png\";","module.exports = __webpack_public_path__ + \"static/media/GrandPiano.5e053f8a.png\";","module.exports = __webpack_public_path__ + \"static/media/star.f99f6a14.png\";","module.exports = __webpack_public_path__ + \"static/media/au_logo_shadow.0250c21a.png\";","module.exports = __webpack_public_path__ + \"static/media/Chembalo.5e053f8a.png\";","module.exports = __webpack_public_path__ + \"static/media/UpRightPiano.791ce387.png\";","import { ColorSchemeName, useColorScheme as _useColorScheme } from 'react-native';\n\n// The useColorScheme value is always either light or dark, but the built-in\n// type suggests that it can be null. This will not happen in practice, so this\n// makes it a bit easier to work with.\nexport default function useColorScheme(): NonNullable<ColorSchemeName> {\n  return _useColorScheme() as NonNullable<ColorSchemeName>;\n}\n","const tintColorLight = '#2f95dc';\nconst tintColorDark = '#fff';\n\nexport default {\n  light: {\n    text: '#000',\n    background: '#fff',\n    tint: tintColorLight,\n    tabIconDefault: '#ccc',\n    tabIconSelected: tintColorLight,\n  },\n  dark: {\n    text: '#fff',\n    background: '#000',\n    tint: tintColorDark,\n    tabIconDefault: '#ccc',\n    tabIconSelected: tintColorDark,\n  },\n  red: '#f91354',\n  blue: '#2b5dff',\n  darkBlue: '#2e287c',\n  orange: '#ffc000',\n};\n","/**\n * Learn more about Light and Dark modes:\n * https://docs.expo.io/guides/color-schemes/\n */\n\nimport * as React from 'react';\nimport { Text as DefaultText, View as DefaultView } from 'react-native';\n\nimport Colors from '../constants/Colors';\nimport useColorScheme from '../hooks/useColorScheme';\n\nexport function useThemeColor(\n  props: { light?: string; dark?: string },\n  colorName: keyof typeof Colors.light & keyof typeof Colors.dark\n) {\n  const theme = useColorScheme();\n  const colorFromProps = props[theme];\n\n  if (colorFromProps) {\n    return colorFromProps;\n  } else {\n    return Colors[theme][colorName];\n  }\n}\n\ntype ThemeProps = {\n  lightColor?: string;\n  darkColor?: string;\n};\n\nexport type TextProps = ThemeProps & DefaultText['props'];\nexport type ViewProps = ThemeProps & DefaultView['props'];\n\nexport function Text(props: TextProps) {\n  const { style, lightColor, darkColor, ...otherProps } = props;\n  const color = useThemeColor({ light: lightColor, dark: darkColor }, 'text');\n\n  return <DefaultText style={[{ color }, style]} {...otherProps} />;\n}\n\nexport function View(props: ViewProps) {\n  const { style, lightColor, darkColor, ...otherProps } = props;\n  const backgroundColor = useThemeColor({ light: lightColor, dark: darkColor }, 'background');\n\n  return <DefaultView style={[{ backgroundColor }, style]} {...otherProps} />;\n}\n","import { gql } from \"@apollo/client\";\r\n\r\nexport const LOGIN = gql`\r\n    mutation login($input: LoginInput!) {\r\n        login(input: $input) {\r\n            token\r\n            user {\r\n                id\r\n                firstName\r\n                patronymic\r\n                lastName\r\n                type\r\n                phoneNumber\r\n                extraPhoneNumbers\r\n                email\r\n                department {\r\n                  id\r\n                  name  \r\n                }\r\n                occupiedClassrooms {\r\n                state\r\n                until\r\n                classroom {\r\n                 id\r\n                 name\r\n                }\r\n                }\r\n                studentInfo {\r\n                  degree {\r\n                    name\r\n                  }\r\n                  startYear\r\n                  accountStatus\r\n                }\r\n                employeeInfo {\r\n                  employmentType\r\n                  accountStatus\r\n                }\r\n                queue {\r\n                  id\r\n                  classroom {\r\n                    id\r\n                    name\r\n                  }\r\n                  state\r\n                  type\r\n                }\r\n            }\r\n               \r\n            userErrors {\r\n                message\r\n                code\r\n            }\r\n        }\r\n    }\r\n`;","import * as React from 'react';\nimport {Paragraph, Dialog, Portal, ProgressBar} from 'react-native-paper';\n\ninterface PropTypes {\n  message?: string;\n  visible: boolean;\n}\n\nexport default function WaitDialog({visible, message}: PropTypes) {\n  return (\n      <Portal>\n        <Dialog visible={visible} dismissable={false}>\n          <Dialog.Title style={{textAlign: 'center'}}>Зачекайте, будь ласка!</Dialog.Title>\n          <Dialog.Content>\n            {message && <Paragraph style={{textAlign: 'center'}}>{message}</Paragraph>}\n            <ProgressBar indeterminate style={{marginTop: 16}}/>\n          </Dialog.Content>\n        </Dialog>\n      </Portal>\n  );\n};","export enum ACCESS_RIGHTS {\r\n  USER,\r\n  DISPATCHER,\r\n  ADMIN\r\n}\r\n\r\nexport enum Mode {\r\n  PRIMARY = 'PRIMARY',\r\n  QUEUE_SETUP = 'QUEUE_SETUP',\r\n  INLINE = 'INLINE',\r\n  OWNER = 'OWNER'\r\n}\r\n\r\nexport enum ErrorCodesUa {\r\n  INVALID_PASSWORD = \"Невірний пароль\",\r\n  USER_NOT_FOUND = \"Користувача не знайдено\",\r\n  EMAIL_NOT_CONFIRMED = \"Будь-ласка, підтвердіть вашу e-mail адресу. Для цього перейдіть за посиланням яке було відправлене на вашу поштову скриньку.\",\r\n  USER_NOT_VERIFIED = \"Ви не верифіковані. Підтвердіть ваші дані в учбовій частині.\"\r\n}\r\n\r\nexport enum ErrorCodes {\r\n  INVALID_PASSWORD = \"INVALID_PASSWORD\",\r\n  USER_NOT_FOUND = \"USER_NOT_FOUND\",\r\n  EMAIL_NOT_CONFIRMED = \"EMAIL_NOT_CONFIRMED\",\r\n  USER_NOT_VERIFIED = \"USER_NOT_VERIFIED\"\r\n}\r\n\r\nexport enum EmploymentTypes {\r\n  FULL_TIME = 'FULL_TIME',\r\n  PART_TIME = 'PART_TIME',\r\n  HOURLY = 'HOURLY',\r\n}\r\n\r\nexport enum EmploymentTypesUa {\r\n  FULL_TIME = 'Штатний співробітник',\r\n  PART_TIME = 'Часткова',\r\n  HOURLY = 'Погодинна',\r\n}\r\n\r\nexport enum UserTypes {\r\n  STUDENT = \"STUDENT\",\r\n  TEACHER = \"TEACHER\",\r\n  POST_GRADUATE = \"POST_GRADUATE\",\r\n  ADMIN = \"ADMIN\",\r\n  DISPATCHER = \"DISPATCHER\",\r\n  PIANO_TUNER = \"PIANO_TUNER\",\r\n  STAFF = \"STAFF\",\r\n  CONCERTMASTER = \"CONCERTMASTER\",\r\n  ILLUSTRATOR = \"ILLUSTRATOR\",\r\n  OTHER = \"OTHER\",\r\n}\r\n\r\nexport enum UserTypesUa {\r\n  STUDENT = \"Студент\",\r\n  TEACHER = \"Викладач\",\r\n  POST_GRADUATE = \"Асистент/аспірант\",\r\n  ADMIN = \"Адмін\",\r\n  DISPATCHER = \"Диспетчер\",\r\n  PIANO_TUNER = \"Настроювач фортепіано\",\r\n  STAFF = \"Співробітник\",\r\n  CONCERTMASTER = \"Концертмейстер\",\r\n  ILLUSTRATOR = \"Іллюстратор\",\r\n  OTHER = \"Користувач\",\r\n}\r\n\r\nexport enum UserTypeColors {\r\n  STUDENT = \"#1e2c4f\",\r\n  TEACHER = \"#ffa200\",\r\n  POST_GRADUATE = \"#1e2c4f\",\r\n  ADMIN = \"#ffa200\",\r\n  DISPATCHER = \"#ffa200\",\r\n  PIANO_TUNER = \"#ffa200\",\r\n  STAFF = \"#ffa200\",\r\n  CONCERTMASTER = \"#ffa200\",\r\n  ILLUSTRATOR = \"#ffa200\",\r\n  OTHER = \"#ffa200\",\r\n}\r\n\r\nexport enum ActivityTypesColor {\r\n  LECTURE = '#ffa200',\r\n  INDIVIDUAL_LESSON = '#2b5dff'\r\n}\r\n\r\nexport enum ActivityTypes {\r\n  LECTURE = 'LECTURE',\r\n  INDIVIDUAL_LESSON = 'INDIVIDUAL_LESSON'\r\n}\r\n\r\nexport enum NotificationsTypes {\r\n  OK = \"ok\",\r\n  ALERT = \"alert\",\r\n  DEFAULT = \"default\",\r\n}\r\n\r\nexport enum AccountStatuses {\r\n  ACTIVE = 'ACTIVE',\r\n  UNVERIFIED = 'UNVERIFIED',\r\n  ACADEMIC_LEAVE = 'ACADEMIC_LEAVE',\r\n  FROZEN = 'FROZEN'\r\n}\r\n\r\nexport type User = {\r\n  id: number;\r\n  createdAt: Date;\r\n  firstName: string;\r\n  patronymic: string | null;\r\n  lastName: string;\r\n  type: string;\r\n  department: Department;\r\n  email: string;\r\n  phoneNumber: string;\r\n  extraPhoneNumbers: string | null;\r\n  nameTemp: string | null;\r\n  startYear: number;\r\n  studentInfo: StudentInfo;\r\n  employeeInfo: EmployeeInfo;\r\n  expireDate: string | null;\r\n  classroom: ClassroomType;\r\n  queue: QueueRecord[];\r\n  queueInfo: UserQueueInfo;\r\n};\r\n\r\nexport type UserQueueInfo = {\r\n  id: number;\r\n  user: User;\r\n  sanctionedUntil: string;\r\n  currentSession: QueueSession\r\n}\r\n\r\nexport type QueueSession = {\r\n  id: number;\r\n  queueInfo: UserQueueInfo;\r\n  state: UserQueueState;\r\n  enqueuedBy: EnqueuedBy;\r\n  skips: number;\r\n  remainingOccupationTime: string;\r\n}\r\n\r\nexport enum UserQueueState {\r\n  IN_QUEUE_MINIMAL = 'IN_QUEUE_MINIMAL',\r\n  IN_QUEUE_DESIRED_AND_OCCUPYING = 'IN_QUEUE_DESIRED_AND_OCCUPYING',\r\n  QUEUE_RESERVED_NOT_OCCUPYING = 'QUEUE_RESERVED_NOT_OCCUPYING',\r\n  OCCUPYING = 'OCCUPYING',\r\n}\r\n\r\nexport type CurrentUser = {\r\n  id: number;\r\n  createdAt: Date;\r\n  firstName: string;\r\n  patronymic: string | null;\r\n  lastName: string;\r\n  type: string;\r\n  department: Department;\r\n  email: string;\r\n  phoneNumber: string;\r\n  extraPhoneNumbers: string | null;\r\n  nameTemp: string | null;\r\n  startYear: number;\r\n  studentInfo: StudentInfo;\r\n  employeeInfo: EmployeeInfo;\r\n  expireDate: Date | null;\r\n  occupiedClassrooms: {\r\n    id: number;\r\n    state: OccupiedState;\r\n    until: string;\r\n    classroom: ClassroomType;\r\n    user: User;\r\n  }[];\r\n  queue: QueueRecord[];\r\n}\r\n\r\nexport type StudentInfo = {\r\n  degree: Degree;\r\n  startYear: number;\r\n  accountStatus: AccountStatuses;\r\n};\r\n\r\nexport type EmployeeInfo = {\r\n  employmentType: EmploymentTypes;\r\n  accountStatus: AccountStatuses;\r\n};\r\n\r\nexport type OccupiedInfo = {\r\n  user: User | null;\r\n  until: Date | null;\r\n  state: OccupiedState;\r\n};\r\n\r\nexport enum OccupiedState {\r\n  FREE = 'FREE',\r\n  OCCUPIED = 'OCCUPIED',\r\n  PENDING = 'PENDING',\r\n  RESERVED = 'RESERVED'\r\n}\r\n\r\nexport type Comment = {\r\n  id: number;\r\n  user: User;\r\n  body: string;\r\n  date: Date;\r\n};\r\n\r\nexport type InstrumentType = {\r\n  id: number;\r\n  type: string;\r\n  name: string;\r\n  rate: number;\r\n  persNumber: number;\r\n  comments: Comment | null;\r\n  classroom: ClassroomType;\r\n};\r\n\r\nexport enum DisabledState {\r\n  DISABLED = 'DISABLED',\r\n  NOT_DISABLED = 'NOT_DISABLED'\r\n}\r\n\r\nexport type DisabledInfo = {\r\n  state: DisabledState;\r\n  comment: string;\r\n  until: string;\r\n};\r\n\r\nexport type ScheduleUnitType = {\r\n  id: number;\r\n  user: User;\r\n  classroom: ClassroomType;\r\n  dateStart: Date;\r\n  dateEnd: Date;\r\n  dayOfWeek: number;\r\n  from: string;\r\n  to: string;\r\n  activity: string;\r\n};\r\n\r\nexport type ClassroomType = {\r\n  id: number;\r\n  name: string;\r\n  chair: {\r\n    id: number;\r\n    name: string;\r\n    faculty: Faculty;\r\n    users: User[];\r\n    exclusivelyQueueAllowedDepartmentsInfo: {\r\n      department: Department | null\r\n    }[];\r\n  } | null;\r\n  special: string | null;\r\n  floor: number;\r\n  isWing: boolean;\r\n  isOperaStudio: boolean;\r\n  description: string | null;\r\n  occupied: OccupiedInfo;\r\n  instruments: Array<InstrumentType>;\r\n  disabled: DisabledInfo | null;\r\n  schedule: Array<ScheduleUnitType>;\r\n  isHidden: boolean;\r\n  queueInfo: ClassroomQueueInfo;\r\n};\r\n\r\nexport type ClassroomQueueInfo = {\r\n  classroom: ClassroomType;\r\n  queuePolicy: QueuePolicyInfo;\r\n}\r\n\r\nexport type QueuePolicyInfo = {\r\n  classroomQueueInfo: ClassroomQueueInfo;\r\n  policy: QueuePolicyTypes;\r\n  queueAllowedDepartments: ExclusivelyQueueAllowedDepartmentsInfo[];\r\n}\r\n\r\nexport type ExclusivelyQueueAllowedDepartmentsInfo = {\r\n  department: Department;\r\n  queuePolicyInfo: QueuePolicyInfo;\r\n}\r\n\r\nexport enum QueuePolicyTypes {\r\n  ALL_DEPARTMENTS = 'ALL_DEPARTMENTS',\r\n  SELECTED_DEPARTMENTS = 'SELECTED_DEPARTMENTS'\r\n}\r\n\r\nexport type RegisterUnit = {\r\n  id: number;\r\n  user: User;\r\n  nameTemp: string;\r\n  classroom: {\r\n    id: number;\r\n    name: string;\r\n  };\r\n  start: string;\r\n  end: string;\r\n};\r\n\r\nexport type Degree = {\r\n  id: number\r\n  name: string;\r\n  startMonth: number;\r\n  startDay: number;\r\n  durationMonths: number;\r\n};\r\n\r\nexport type Faculty = {\r\n  id: number;\r\n  name: string;\r\n  departments: Department[];\r\n  users: User[];\r\n}\r\n\r\nexport type Department = {\r\n  id: number;\r\n  name: string;\r\n  faculty: Faculty;\r\n  users: User[];\r\n};\r\n\r\nexport type MenuElement = {\r\n  text: string;\r\n  path: string;\r\n  icon: string;\r\n  exact?: boolean;\r\n  rights: string;\r\n};\r\n\r\nexport enum ClassroomsFilterTypes {\r\n  ALL = 'ALL',\r\n  FREE = 'FREE',\r\n  SPECIAL = 'SPECIAL',\r\n  INLINE = 'INLINE'\r\n}\r\n\r\nexport enum QueueState {\r\n  ACTIVE = 'ACTIVE',\r\n  RESERVED = 'RESERVED'\r\n}\r\n\r\nexport enum QueueType {\r\n  MINIMAL = 'MINIMAL',\r\n  DESIRED = 'DESIRED'\r\n}\r\n\r\nexport type QueueRecord = {\r\n  id: number;\r\n  user: User;\r\n  date: string;\r\n  classroom: ClassroomType;\r\n  state: QueueState;\r\n  type: QueueType;\r\n}\r\n\r\nexport type SavedFilterT = {\r\n  minimalClassroomIds: number[];\r\n  desirableClassroomIds: number[];\r\n  name: string;\r\n  main: boolean;\r\n}\r\n\r\nexport enum Langs {\r\n  EN = 'EN',\r\n  UA = 'UA'\r\n}\r\n\r\nexport enum EnqueuedBy {\r\n  SELF = 'SELF',\r\n  DISPATCHER = 'DISPATCHER'\r\n}\r\n\r\nexport enum PermittedActionHoursTypes {\r\n  RESERVE_FREE_CLASSROOM = 'RESERVE_FREE_CLASSROOM',\r\n  QUEUE_ACTION = 'QUEUE_ACTION'\r\n}","import AsyncStorage from '@react-native-async-storage/async-storage'\n\n\nexport const setItem = async (key: string, value: any) => {\n  try {\n    await AsyncStorage.setItem(key, JSON.stringify(value));\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nexport const getItem = async (key: string) => {\n  let result;\n  try {\n    await AsyncStorage.getItem(key).then(value => {\n      if (value !== null) {\n        result = JSON.parse(value as string)\n      }\n    });\n    return result;\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nexport const removeItem = async (key: string) => {\n  try {\n    await AsyncStorage.removeItem(key);\n  } catch (e) {\n    console.log(e);\n  }\n};","import * as React from 'react';\nimport {Dialog, Portal, Button} from 'react-native-paper';\nimport {Text} from 'react-native';\n\ninterface PropTypes {\n  visible: boolean;\n  hideDialog: () => void;\n  message?: string;\n  buttonText?: string;\n}\n\nexport default function ErrorDialog({visible, hideDialog, message, buttonText = 'Закрити'}: PropTypes) {\n  return (\n    <Portal>\n      <Dialog visible={visible} onDismiss={hideDialog}>\n        <Dialog.Title style={{color: '#f91354'}}>Упс!</Dialog.Title>\n        <Dialog.Content>\n          <Text style={{marginBottom: -20}}>{!message ? 'Щось пішло не так' : message}</Text>\n        </Dialog.Content>\n        <Dialog.Actions>\n          <Button onPress={hideDialog}>{buttonText}</Button>\n        </Dialog.Actions>\n      </Dialog>\n    </Portal>\n  );\n};","import {ApolloClient, createHttpLink, from, InMemoryCache, makeVar, split} from \"@apollo/client\";\r\nimport {ACCESS_RIGHTS, Langs, Mode, User} from \"../models/models\";\r\nimport {WebSocketLink} from '@apollo/client/link/ws';\r\nimport {getMainDefinition} from \"@apollo/client/utilities\";\r\nimport {setContext} from \"@apollo/client/link/context\";\r\nimport {getItem, removeItem} from \"./asyncStorage\";\r\nimport {onError} from \"@apollo/client/link/error\";\r\n\r\nconst wsLink: any = new WebSocketLink({\r\n    uri: 'wss://api.auditoriu.me/',\r\n    options: {\r\n      reconnect: true,\r\n      connectionParams: async () => {\r\n        const token = await getItem('token');\r\n        return {\r\n          authorization: token ? `Bearer ${token}` : \"\",\r\n        }\r\n      }\r\n    }\r\n  }\r\n);\r\n\r\nconst subscriptionMiddleware = {\r\n  applyMiddleware: async (options: any, next: any) => {\r\n    const token = await getItem('token');\r\n    options.authorization = token ? `Bearer ${token}` : \"\"\r\n    next()\r\n  },\r\n}\r\n\r\nwsLink.subscriptionClient.use([subscriptionMiddleware]);\r\n\r\nconst httpLink = createHttpLink({\r\n  uri: 'https://api.auditoriu.me/'\r\n});\r\n\r\nconst authLink = setContext(async function (_, {headers}) {\r\n  const token = await getItem('token');\r\n  return {\r\n    headers: {\r\n      ...headers,\r\n      authorization: token ? `Bearer ${token}` : \"\",\r\n    }\r\n  }\r\n});\r\n\r\nconst splitLink = split(\r\n  ({query}) => {\r\n    const definition = getMainDefinition(query);\r\n    return (\r\n      definition.kind === 'OperationDefinition' &&\r\n      definition.operation === 'subscription'\r\n    );\r\n  },\r\n  wsLink,\r\n  httpLink,\r\n);\r\n\r\nconst errorLink = onError(({ graphQLErrors, networkError }) => {\r\n  if (graphQLErrors)\r\n    graphQLErrors.forEach(({ message,\r\n                             locations,\r\n                             path }) => {\r\n      if (message === 'AUTHENTICATION_ERROR') {\r\n        noTokenVar(true);\r\n        removeItem('token');\r\n        removeItem('user');\r\n        meVar(null);\r\n      }\r\n      console.log(\r\n          `[GraphQL error]: Message: ${message}, Location: ${locations}, Path: ${path}`,\r\n        )\r\n      }\r\n    );\r\n\r\n  // @ts-ignore\r\n  if (networkError && networkError.bodyText === 'Invalid options provided to ApolloServer: BAD_TOKEN') {\r\n    noTokenVar(true);\r\n    removeItem('token');\r\n    removeItem('user');\r\n  } else if (networkError && networkError.message === 'Failed to fetch') {\r\n    noConnectionVar(true);\r\n  } else {\r\n    noTokenVar(false);\r\n    noConnectionVar(false);\r\n  }\r\n});\r\n\r\nexport const client = new ApolloClient({\r\n  link: from([errorLink, authLink.concat(splitLink)]),\r\n  cache: new InMemoryCache({\r\n    typePolicies: {\r\n      Query: {\r\n        fields: {\r\n          me: {\r\n            read() {\r\n              return meVar();\r\n            },\r\n          },\r\n          lang: {\r\n            read() {\r\n              return langVar();\r\n            },\r\n          },\r\n          accessRights: {\r\n            read() {\r\n              return accessRightsVar();\r\n            },\r\n          },\r\n          mode: {\r\n            read() {\r\n              return modeVar();\r\n            },\r\n          },\r\n          minimalClassroomIds: {\r\n            read() {\r\n              return minimalClassroomIdsVar();\r\n            },\r\n\r\n          },\r\n          desirableClassroomIds: {\r\n            read() {\r\n              return desirableClassroomIdsVar();\r\n            },\r\n          },\r\n          isMinimalSetup: {\r\n            read() {\r\n              return isMinimalSetupVar();\r\n            },\r\n          },\r\n          pushNotificationToken: {\r\n            read() {\r\n              return pushNotificationTokenVar();\r\n            },\r\n          },\r\n          noConnection: {\r\n            read() {\r\n              return noConnectionVar();\r\n            },\r\n          },\r\n          noToken: {\r\n            read() {\r\n              return noTokenVar();\r\n            },\r\n          },\r\n        },\r\n      },\r\n    },\r\n  }),\r\n});\r\n\r\nexport const meVar = makeVar<User | null>(null);\r\nexport const langVar = makeVar<Langs>(Langs.UA);\r\nexport const accessRightsVar = makeVar(ACCESS_RIGHTS.USER);\r\nexport const modeVar = makeVar(Mode.PRIMARY);\r\nexport const minimalClassroomIdsVar = makeVar<number[]>([]);\r\nexport const desirableClassroomIdsVar = makeVar<number[]>([]);\r\nexport const isMinimalSetupVar = makeVar(true);\r\nexport const pushNotificationTokenVar = makeVar('');\r\nexport const noConnectionVar = makeVar(false);\r\nexport const noTokenVar = makeVar(false);","import * as React from 'react';\nimport {useEffect, useRef, useState} from 'react';\nimport {CheckBox, Dimensions, Image, ImageBackground, StyleSheet, TouchableOpacity} from 'react-native';\nimport {Button, Checkbox, IconButton, Paragraph, Surface, TextInput, Title} from 'react-native-paper';\nimport {Text, View} from '../components/Themed';\nimport {useMutation} from \"@apollo/client\";\nimport {LOGIN} from \"../api/operations/mutations/login\";\nimport WaitDialog from \"../components/WaitDialog\";\nimport {getItem, removeItem, setItem} from \"../api/asyncStorage\";\nimport ErrorDialog from \"../components/ErrorDialog\";\nimport {ErrorCodes, ErrorCodesUa, Langs, User} from \"../models/models\";\nimport {meVar, noTokenVar} from \"../api/client\";\nimport PushNotification from \"./PushNotification\";\nimport i18n from \"i18n-js\";\n// @ts-ignore\nimport Carousel from 'react-native-anchor-carousel';\nimport Colors from \"../constants/Colors\";\nimport SimplePaginationDot from \"../components/SimplePaginationDot\";\n\nconst {width: windowWidth} = Dimensions.get('window');\n\nconst INITIAL_INDEX = 0;\n\nconst hintTexts = [\n  'Ви можете зберегти додаток на головному екрані.',\n  'Щоб користуватись додатком, пройдіть реєстрацію. Вкажіть дійсні дані, які співпадають з Вашим студентським квитком або іншим документом.',\n  'Вкажіть дійсний e-mail. На нього буде відправлено повідомлення з підтвердженням.',\n  'Після реєстрації перевірте електронну пошту. В надісланому повідомленні перейдіть за посиланням. Після цього повідомте верифікаційний номер в учбовій частині.'\n]\n\nexport default function Login({route, navigation}: any) {\n  const [login, {loading}] = useMutation(LOGIN);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n  const [modalActivator, setModalActivator] = useState<boolean | null>(null);\n  const [showError, setShowError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [pushNotificationToken, setPushNotificationToken] = useState('');\n  const carouselRef = React.useRef(null);\n  const [currentIndex, setCurrentIndex] = useState(INITIAL_INDEX);\n  const [dontShowAgain, setDontShowAgain] = useState(false);\n  const [showHints, setShowHints] = useState(false);\n\n  function handleCarouselScrollEnd(item: any, index: number) {\n    setCurrentIndex(index);\n  }\n\n  const renderItem = ({item, index}: any) => {\n    return (\n      <TouchableOpacity\n        style={styles.item}\n        onPress={() => {\n          carouselRef.current.scrollToIndex(index);\n        }}>\n        <View>\n          {/*<Image source={require(`../assets/images/hint_${index + 1}.jpg`)} style={styles.hintImage}/>*/}\n        </View>\n        <Paragraph style={styles.hintDescription}>\n          {hintTexts[index]}\n        </Paragraph>\n      </TouchableOpacity>\n    );\n  }\n  // const {data: {lang}} = useQuery(GET_LANG);\n\n  useEffect(() => {\n    getItem('dontShowLoginHints').then(result => {\n      setShowHints(!result);\n      setDontShowAgain(result);\n    });\n  }, []);\n\n  useEffect(() => {\n    if (modalActivator !== null) {\n      setShowError(true);\n    }\n  }, [modalActivator]);\n\n  // useEffect(() => {\n  //   getItem('lang').then(res => {\n  //     if (res) {\n  //       langVar(res);\n  //     } else {\n  //       setItem('lang', lang);\n  //     }\n  //   });\n  // }, []);\n\n  const handleChangeLang = async (lng: Langs) => {\n    // await setItem('lang', lng);\n    // langVar(lng);\n  };\n\n  const hideError = () => {\n    setShowError(false);\n  };\n\n  const handleSubmit = async () => {\n    let result: any;\n    if (email.length && password.length) {\n      try {\n        result = await login({\n          variables: {\n            input: {\n              email: email,\n              password: password,\n              notificationToken: pushNotificationToken\n            }\n          }\n        });\n        if (result?.data.login.userErrors?.length) {\n          setErrorMessage(ErrorCodesUa[result?.data.login.userErrors[0].code as ErrorCodes]);\n          setModalActivator(prevState => !prevState);\n        } else {\n          const user: User = result?.data.login.user;\n          const token: string = result?.data.login.token;\n          await setItem('user', user);\n          await setItem('token', token);\n          // if (user.queue.length) {\n          //   const minimal = user.queue.filter(({type, state}) => {\n          //     return type === QueueType.MINIMAL && state === QueueState.ACTIVE;\n          //   });\n          //   const desired = user.queue.filter(({type, state}) => {\n          //     return type === QueueType.DESIRED && state === QueueState.ACTIVE;\n          //   });\n          //   modeVar(Mode.INLINE);\n          //   minimalClassroomIdsVar(minimal.map(({classroom: {id}}) => id));\n          //   desirableClassroomIdsVar(desired.map(({classroom: {id}}) => id));\n          // }\n          meVar(user);\n          noTokenVar(false);\n        }\n      } catch (e) {\n        setErrorMessage(e?.graphQLErrors[0]?.message || JSON.stringify(e));\n        setModalActivator(prevState => !prevState);\n      }\n    }\n  };\n\n  const handleShowHints = () => {\n    setShowHints(prevState => !prevState);\n  };\n\n  const handleRememberDontShowHints = async () => {\n    if (!dontShowAgain) {\n      await setItem('dontShowLoginHints', true);\n    } else {\n      await removeItem('dontShowLoginHints');\n    }\n    setDontShowAgain(!dontShowAgain);\n  }\n\n  return (\n    <View style={styles.container}>\n      {/*<PushNotification setPushNotificationToken={setPushNotificationToken}/>*/}\n      <ImageBackground source={require('../assets/images/bg.jpg')} style={styles.bg}>\n        <TouchableOpacity onPress={handleShowHints}\n                          style={styles.helpImageButtonWrapper}>\n          <Image source={require('../assets/images/help_white.png')} style={styles.helpImageButton}/>\n        </TouchableOpacity>\n        <Surface style={[styles.hintsPopup, {display: showHints ? 'flex' : 'none'}]}>\n          <IconButton icon='close' color={Colors.red} onPress={handleShowHints} style={styles.closeIcon}/>\n          <View style={styles.hintsTitle}>\n            <Text style={styles.hintsTitleText}>Корисні поради</Text>\n            <Image source={require('../assets/images/help.png')} style={styles.helpImage}/>\n          </View>\n          <Carousel\n            ref={carouselRef}\n            data={Array(4).fill(0)}\n            renderItem={renderItem}\n            style={styles.carousel}\n            itemWidth={windowWidth * 0.75}\n            containerWidth={windowWidth * 0.85}\n            onScrollEnd={handleCarouselScrollEnd}\n            separatorWidth={8}\n          />\n          <View style={styles.checkbox}>\n            <Checkbox\n              status={dontShowAgain ? 'checked' : 'unchecked'}\n              onPress={handleRememberDontShowHints}\n            />\n            <Paragraph>Більше не показувати</Paragraph>\n          </View>\n          {/*<SimplePaginationDot currentIndex={currentIndex} length={4} />*/}\n        </Surface>\n        <Image source={require('./../assets/images/au_logo_shadow.png')} style={styles.logo}/>\n        {/*<View style={styles.langSwitcher}>*/}\n        {/*  <TouchableHighlight onPress={() => handleChangeLang(Langs.UA)}>*/}\n        {/*    <Image source={require('../assets/images/ua.png')}*/}\n        {/*           style={lang === Langs.UA ? styles.langImageSelected : styles.langImage}*/}\n        {/*    />*/}\n        {/*  </TouchableHighlight>*/}\n        {/*  <TouchableHighlight onPress={() => handleChangeLang(Langs.EN)}>*/}\n        {/*    <Image source={require('../assets/images/en.png')}*/}\n        {/*           style={lang === Langs.EN ? styles.langImageSelected : styles.langImage}*/}\n        {/*    />*/}\n        {/*  </TouchableHighlight>*/}\n        {/*</View>*/}\n        <Text style={styles.title}>{i18n.t('login')}</Text>\n        <Surface style={styles.inputs}>\n          <TextInput label='Логін'\n                     style={styles.input}\n                     onChangeText={(e) => setEmail(e)}\n          />\n          <TextInput label='Пароль'\n                     style={styles.input}\n                     onChangeText={(e) => setPassword(e)}\n                     secureTextEntry={!showPassword}\n                     selectionColor='#2b5dff'\n                     right={<TextInput.Icon name={showPassword ? 'eye' : 'eye-off'} color='#2b5dff'\n                                            onPress={() => setShowPassword(prevState => !prevState)}\n                     />}\n          />\n          <Button onPress={handleSubmit} mode='contained' color='#2b5dff' loading={loading}\n                  style={styles.button} disabled={(!email || !password) || loading}>\n            Увійти\n          </Button>\n          <Button onPress={() => navigation.navigate('SignUp')} mode='contained' color='#f91354'\n                  style={styles.button}>\n            Реєстрація\n          </Button>\n        </Surface>\n        <Button onPress={() => navigation.navigate('ForgotPassword')} uppercase={false}\n                labelStyle={{color: '#fff'}} style={styles.button}>\n          Відновити пароль\n        </Button>\n        <View style={styles.footer}>\n          <Text style={{color: '#fff'}}>Національна музична академія України ім. П. І. Чайковського</Text>\n          <Text style={{color: '#fff', marginTop: 16}}>Auditorium © 2021</Text>\n        </View>\n      </ImageBackground>\n      <WaitDialog message='Відбувається вхід у систему' visible={loading}/>\n      <ErrorDialog visible={showError} hideDialog={hideError} message={errorMessage}/>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#2e287c',\n    overflow: 'hidden'\n  },\n  logo: {\n    width: '80%',\n    resizeMode: 'contain',\n    flex: 1\n  },\n  title: {\n    fontSize: 32,\n    fontWeight: 'bold',\n    color: '#fff',\n  },\n  input: {\n    width: '100%',\n    fontSize: 22,\n    backgroundColor: 'transparent',\n  },\n  inputs: {\n    width: '90%',\n    elevation: 16,\n    borderRadius: 8,\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingLeft: 16,\n    paddingRight: 16,\n    paddingBottom: 16,\n    marginTop: 32,\n  },\n  button: {\n    marginTop: 16,\n    width: '100%',\n    height: 50,\n    justifyContent: 'center',\n  }, bg: {\n    width: '100%',\n    height: '100%',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  footer: {\n    backgroundColor: 'transparent',\n    alignItems: 'center',\n    textAlign: 'center',\n    opacity: .5,\n    marginBottom: 16\n  },\n  langSwitcher: {\n    justifyContent: 'center',\n    flexDirection: \"row\",\n    marginBottom: 16\n  },\n  langImage: {\n    width: 50,\n    height: 35,\n    opacity: .3\n  },\n  langImageSelected: {\n    width: 50,\n    height: 35,\n  },\n  carousel: {\n    flexGrow: 0,\n    height: 300,\n  },\n  item: {},\n  hintsPopup: {\n    elevation: 25,\n    zIndex: 1000,\n    borderRadius: 9,\n    position: 'absolute',\n    width: windowWidth * .9,\n    backgroundColor: '#fff',\n// overflow: 'hidden',\n    paddingHorizontal: 16\n  },\n  hintsTitle: {\n    backgroundColor: 'transparent',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    position: 'relative',\n  },\n  hintsTitleText: {\n    marginTop: 24,\n    color: Colors.darkBlue,\n    fontSize: 16,\n    textAlign: 'center',\n    marginBottom: 16\n  },\n  helpImage: {\n    width: 48,\n    height: 48,\n    position: 'absolute',\n    left: 8,\n    top: 16,\n    opacity: .3\n  },\n  helpImageButton: {\n    width: 32,\n    height: 32,\n  },\n  helpImageButtonWrapper: {\n    position: 'absolute',\n    right: 16,\n    top: 16,\n  },\n  hintImage: {\n    height: 180\n  },\n  hintDescription: {\n    marginTop: 16\n  },\n  checkbox: {\n    backgroundColor: 'transparent',\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 16\n  },\n  closeIcon: {\n    position: 'absolute',\n    right: 8,\n    top: 8,\n    zIndex: 1001\n  }\n});\n","import React from 'react';\nimport {Button, Dialog, Paragraph, Portal, Title} from \"react-native-paper\";\nimport {ScrollView, StyleSheet, Text} from \"react-native\";\nimport Colors from \"../../../constants/Colors\";\n\ninterface PropTypes {\n  visible: boolean;\n  hideDialog: () => void;\n  setCheckAgreement: (value: boolean) => void;\n}\n\nexport default function Agreement({visible, hideDialog, setCheckAgreement}: PropTypes) {\n  return <Portal>\n    <Dialog visible={visible} onDismiss={hideDialog} style={styles.wrapper}>\n      <Dialog.Title>Умови користування</Dialog.Title>\n      <Dialog.Content>\n        <ScrollView style={{height: '80%'}}>\n          <Title> Політика конфіденційності </Title>\n          <Paragraph> Останнє оновлення: 25 серпня 2021 р.</Paragraph>\n          <Paragraph> Ця Політика конфіденційності описує нашу політику та процедури щодо збору, використання та\n            розкриття\n            вашої\n            інформації під час користування Сервісом та розповідає вам про ваші права на конфіденційність та про те, як\n            закон\n            захищає вас. </Paragraph>\n          <Paragraph> Ми використовуємо Ваші персональні дані для надання та покращення Послуги. Користуючись Послугою,\n            ви\n            погоджуєтесь на\n            збір та використання інформації відповідно до цієї Політики конфіденційності.</Paragraph>\n          <Title> Інтерпретація та визначення </Title>\n          <Title> Інтерпретація </Title>\n          <Paragraph> Слова, у яких початкова буква написана з великої букви, мають значення, визначені за таких умов.\n            Наступні визначення\n            мають однакове значення незалежно від того, чи входять вони в однині чи множині. </Paragraph>\n          <Title style={{fontSize: 16}}> Визначення </Title>\n          <Paragraph> Для цілей цієї Політики конфіденційності: </Paragraph>\n\n          <Paragraph>\n            <Paragraph><Text style={{fontWeight: '600'}}> Обліковий запис </Text> означає унікальний обліковий запис,\n              створений для доступу до нашого\n              Сервісу або частин нашого Сервісу. </Paragraph>\n          </Paragraph>\n          <Paragraph>\n            <Paragraph><Text style={{fontWeight: '600'}}> Додаток </Text> означає програмне забезпечення, надане\n              Компанією, завантажене Вами на будь -якому\n              електронному пристрої під назвою Auditorium </Paragraph>\n          </Paragraph>\n          <Paragraph>\n            <Paragraph><Text style={{fontWeight: '600'}}> Компанія </Text> (в даній Угоді також згадується як\n              \"Компанія\",\n              \"Ми\", \"Ми\" або \"Наша\" або\n              \"Auditorium\"). </Paragraph>\n          </Paragraph>\n          <Paragraph>\n            <Paragraph><Text style={{fontWeight: '600'}}> Країна </Text> відноситься до: Україна </Paragraph>\n          </Paragraph>\n          <Paragraph>\n            <Paragraph><Text style={{fontWeight: '600'}}> Пристрій </Text> означає будь -який пристрій, який має доступ\n              до\n              Доатку, наприклад комп’ютер,\n              мобільний телефон або цифровий планшет. </Paragraph>\n          </Paragraph>\n          <Paragraph>\n            <Paragraph><Text style={{fontWeight: '600'}}> Особисті дані </Text> - це будь -яка інформація, що стосується\n              ідентифікованої особи або особи, що\n              ідентифікується. </Paragraph>\n          </Paragraph>\n          <Paragraph>\n            <Paragraph><Text style={{fontWeight: '600'}}> Послуга </Text> відноситься до Програми. </Paragraph>\n          </Paragraph>\n          <Paragraph>\n            <Paragraph><Text style={{fontWeight: '600'}}> Постачальник послуг </Text> означає будь -яку фізичну або\n              юридичну особу, яка обробляє дані від\n              імені Компанії. Він відноситься до сторонніх компаній або приватних осіб, зайнятих Компанією для сприяння\n              Службі, надання Послуги від імені Компанії, для надання послуг, пов'язаних із Послугою, або для надання\n              допомоги Компанії в аналізі використання Сервісу. </Paragraph>\n          </Paragraph>\n          <Paragraph>\n            <Paragraph><Text style={{fontWeight: '600'}}> Дані про використання </Text> відносяться до даних, зібраних\n              автоматично, або генерованих шляхом\n              використання Сервісу, або з інфраструктури самої Сервісу (наприклад, тривалість відвідування сторінки).\n            </Paragraph>\n          </Paragraph>\n          <Paragraph>\n            <Paragraph><Text style={{fontWeight: '600'}}> Ви </Text> означає фізичну особу, яка отримує доступ або\n              користується Послугою, або компанію чи\n              іншу юридичну особу, від імені якої така особа отримує доступ або користується Службою, якщо це можливо.\n            </Paragraph>\n          </Paragraph>\n\n          <Title> Збір та використання ваших особистих даних </Title>\n          <Title style={{fontSize: 16}}> Типи зібраних даних </Title>\n          <Title style={{fontSize: 14}}>Особисті дані </Title>\n          <Paragraph> Під час користування нашим Сервісом ми можемо попросити вас надати нам певну особисту інформацію,\n            яка може бути\n            використана для зв’язку або ідентифікації вас. Інформація, що ідентифікує особу, може включати, але не\n            обмежуватися\n            ними: </Paragraph>\n\n          <Paragraph>\n            <Paragraph> Адреса електронної пошти </Paragraph>\n          </Paragraph>\n          <Paragraph>\n            <Paragraph> Ім'я та прізвище </Paragraph>\n          </Paragraph>\n          <Paragraph>\n            <Paragraph> Номер телефону </Paragraph>\n          </Paragraph>\n          <Paragraph>\n            <Paragraph> Дані про місце Вашого навчання або роботи </Paragraph>\n          </Paragraph>\n          <Paragraph>\n            <Paragraph> Дані використання </Paragraph>\n          </Paragraph>\n\n          <Title style={{fontSize: 14}}>Дані використання </Title>\n          <Paragraph> Дані про використання збираються автоматично під час використання Сервісу. </Paragraph>\n          <Paragraph> Дані про використання можуть включати таку інформацію, як адреса Інтернет -протоколу вашого\n            пристрою\n            (наприклад, IP\n            -адреса), тип веб -переглядача, версія браузера, сторінки нашої Служби, які ви відвідуєте, час і дата вашого\n            відвідування, час, витрачений на ці сторінки , унікальні ідентифікатори пристрою та інші діагностичні\n            дані. </Paragraph>\n          <Paragraph> Коли ви отримуєте доступ до Служби через або через мобільний пристрій, ми можемо автоматично\n            збирати\n            певну\n            інформацію, включаючи, але не обмежуючись, тип мобільного пристрою, яким ви користуєтесь, унікальний\n            ідентифікатор\n            вашого мобільного пристрою, IP -адресу вашого мобільного пристрою , Ваша мобільна операційна система, тип\n            мобільного\n            Інтернет -браузера, який ви використовуєте, унікальні ідентифікатори пристрою та інші діагностичні\n            дані. </Paragraph>\n          <Paragraph> Ми також можемо збирати інформацію, яку надсилає ваш веб -переглядач, коли ви відвідуєте наш\n            Сервіс\n            або коли ви\n            отримуєте доступ до Служби за допомогою мобільного пристрою або через нього. </Paragraph>\n          <Title style={{fontSize: 16}}> Використання ваших особистих даних </Title>\n          <Paragraph> Компанія може використовувати Персональні дані для таких цілей: </Paragraph>\n\n          <Paragraph>\n            <Paragraph><Text style={{fontWeight: '600'}}> Для надання та підтримки нашого Застосунку </Text>, зокрема\n              для\n              контролю за його використанням.\n            </Paragraph>\n          </Paragraph>\n          <Paragraph>\n            <Paragraph><Text style={{fontWeight: '600'}}> Щоб керувати своїм обліковим записом: </Text> керуйте своєю\n              реєстрацією як користувач Додатку.\n              Надані Вами персональні дані можуть надати Вам доступ до різних функцій Сервісу, які доступні Вам як\n              зареєстрованому користувачу. </Paragraph>\n          </Paragraph>\n          <Paragraph>\n            <Paragraph><Text style={{fontWeight: '600'}}> Щоб зв’язатися з Вами: </Text> Щоб зв’язатися з Вами\n              електронною\n              поштою, телефонними дзвінками,\n              SMS або іншими еквівалентними формами\n              електронного зв'язку, наприклад, push -сповіщення мобільних додатків щодо оновлень або інформативні\n              комунікації, пов'язані з функціональними можливостями, продуктами або контрактними послугами, включаючи\n              безпеку\n              оновлення, коли це необхідно або розумно для їх впровадження. </Paragraph>\n          </Paragraph>\n          <Paragraph>\n            <Paragraph><Text style={{fontWeight: '600'}}> Щоб надати Вам </Text> новини, спеціальні пропозиції та\n              загальну\n              інформацію про інші товари,\n              послуги\n              та події, які ми пропонуємо, подібні до тих, які ви вже придбали чи запитали про них, крім випадків, коли\n              це\n              відбувається\n              Ви вирішили не отримувати таку інформацію. </Paragraph>\n          </Paragraph>\n          <Paragraph>\n            <Paragraph><Text style={{fontWeight: '600'}}> Щоб керувати Вашими запитами: </Text> Щоб відвідувати та\n              керувати Вашими запитами до нас. </Paragraph>\n          </Paragraph>\n          <Paragraph>\n            <Paragraph><Text style={{fontWeight: '600'}}> В інших цілях </Text>: Ми можемо використовувати Вашу\n              інформацію\n              в інших цілях, таких як аналіз\n              даних,\n              визначення тенденцій використанняб оцінка та\n              покращення наших послуг.</Paragraph>\n          </Paragraph>\n\n          <Paragraph> Ми можемо передавати Вашу особисту інформацію у таких ситуаціях: </Paragraph>\n\n          <Paragraph><Text style={{fontWeight: '600'}}> З постачальниками послуг. </Text> Ми можемо передавати Вашу\n            особисту інформацію постачальникам послуг\n            відстежувати та аналізувати використання нашого Сервісу, щоб зв’язатися з Вами.\n          </Paragraph>\n          <Paragraph><Text style={{fontWeight: '600'}}> З діловими партнерами: </Text> Ми можемо поділитися Вашою\n            інформацією з нашими діловими партнерами,\n            щоб запропонувати Вам\n            певні товари, послуги чи акції.\n          </Paragraph>\n          <Paragraph><Text style={{fontWeight: '600'}}> З іншими користувачами: </Text> коли ви ділитесь особистою\n            інформацією або іншим чином взаємодієте у\n            загальнодоступних місцях\n            з іншими користувачами таку інформацію можуть переглядати всі користувачі та публічно розповсюджувати їх за\n            межами.\n          </Paragraph>\n          <Paragraph><Text style={{fontWeight: '600'}}> З вашої згоди </Text>: Ми можемо розкривати Вашу особисту\n            інформацію для будь-яких інших цілейю</Paragraph>\n\n          <Title style={{fontSize: 16}}> Збереження ваших особистих даних</Title>\n          <Paragraph> Компанія зберігатиме Ваші персональні дані лише стільки часу, скільки це необхідно для цілей,\n            викладених у цій\n            Політиці Конфіденційності. Ми будемо зберігати та використовувати Ваші Персональні дані в обсязі,\n            необхідному\n            для виконання наших\n            юридичних зобов’язань (наприклад, якщо ми зобов’язані зберігати ваші дані відповідно до чинного\n            законодавства).</Paragraph>\n          <Paragraph> Компанія також зберігатиме дані про використання для цілей внутрішнього аналізу. Дані про\n            використання зазвичай\n            зберігаються для коротший період часу, за винятком випадків, коли ці дані використовуються для посилення\n            безпеки або покращення\n            функціональності. </Paragraph>\n          <Title style={{fontSize: 16}}> Передача ваших особистих даних </Title>\n          <Paragraph> Ваша інформація, включаючи персональні дані, обробляється в офісах компанії та в будь -яких інших\n            місцях\n            де знаходяться сторони, які беруть участь у обробці. Це означає, що ця інформація може бути передана\n            на комп'ютерах, що знаходяться за межами Вашого штату, провінції, країни чи іншої урядової юрисдикції, де\n            законодавство про захист даних може відрізнятися від законодавства Вашої юрисдикції. </Paragraph>\n          <Paragraph> Ваша згода з цією Політикою конфіденційності з подальшим поданням такої інформації є вашою згодою\n            на\n            це.</Paragraph>\n          <Paragraph> Компанія вживе всіх необхідних заходів, щоб забезпечити безпечне та відповідне поводження з Вашими\n            даними\n            згідно з цією Політикою конфіденційності, передача Ваших персональних даних не відбуватиметься до\n            організації\n            чи країни\n            якщо немає належного контролю, включаючи безпеку Ваших даних та іншої особистої інформації. </Paragraph>\n          <Title style={{fontSize: 16}}> Розкриття ваших особистих даних </Title>\n          <Title style={{fontSize: 14}}>Ділові операції </Title>\n          <Paragraph> Якщо Компанія бере участь у злитті, поглинанні або продажу активів, Ваші Персональні дані можуть\n            бути передані. Ми будемо\n            надіслати повідомлення до того, як Ваші Персональні дані будуть передані та стануть предметом іншої Політики\n            конфіденційності. </Paragraph>\n          <Title style={{fontSize: 14}}>Правоохоронні органи </Title>\n          <Paragraph> За певних обставин від Компанії може знадобитися розкриття ваших Персональних даних, якщо цього\n            вимагає закон\n            або у відповідь на дійсні запити державних органів (наприклад, суду чи державного органу). </Paragraph>\n          <Title style={{fontSize: 14}}>Інші законодавчі вимоги </Title>\n          <Paragraph> Компанія може добросовісно розкрити Ваші Персональні дані, що такі дії необхідні для: </Paragraph>\n\n          <Paragraph> Виконувати юридичні зобов’язання </Paragraph>\n          <Paragraph> Захищати та захищати права чи майно Компанії </Paragraph>\n          <Paragraph> Запобігайте або розслідувати можливі правопорушення, пов'язані з Додатком</Paragraph>\n          <Paragraph> Захищати особисту безпеку Користувачів Послуги</Paragraph>\n\n          <Title style={{fontSize: 16}}> Безпека ваших особистих даних </Title>\n          <Paragraph> Для нас важлива безпека ваших персональних даних, але пам’ятайте, що жоден спосіб передачі через\n            Інтернет,\n            або спосіб електронного зберігання не є 100% безпечним.</Paragraph>\n          <Title> Посилання на інші веб-сайти </Title>\n          <Paragraph> Наш Сервіс може містити посилання на інші веб-сайти, якими ми не керуємо. Якщо Ви натискаєте\n            посилання третьої сторони, Ви\n            буде перенаправлено на веб-сайт цієї третьої сторони. Ми наполегливо радимо Вам переглянути Політику\n            конфіденційності кожного Вашого сайту\n            відвідування. </Paragraph>\n          <Paragraph> Ми не контролюємо і не несемо відповідальності за зміст, політику конфіденційності чи практику\n            будь-якої третьої особи\n            вечірки або послуги. </Paragraph>\n          <Title> Зміни до цієї Політики конфіденційності </Title>\n          <Paragraph> Ми можемо час від часу оновлювати нашу Політику конфіденційності. Ми повідомимо Вас про будь-які\n            зміни, опублікувавши нову Політику Конфіденційности на цій сторінці. </Paragraph>\n          <Paragraph> Ми повідомимо Вас електронною поштою та/або помітним повідомленням про наш Додаток до того, як\n            зміна\n            набуде чинності та\n            оновлення. Дата останнього оновлення у верхній частині цієї Політики конфіденційності. </Paragraph>\n          <Paragraph> Радимо періодично переглядати цю Політику конфіденційності на предмет будь-яких змін. Зміни в цій\n            Політиці конфіденційності\n            набувають чинності, коли вони розміщені на цій сторінці. </Paragraph>\n          <Title> Зв’яжіться з нами </Title>\n          <Paragraph> Якщо у вас є запитання щодо цієї Політики конфіденційності, ви можете зв'язатися з\n            нами: </Paragraph>\n\n          <Paragraph> На електронну адресу: auditorium.knmau@gmail.com </Paragraph>\n        </ScrollView>\n      </Dialog.Content>\n      <Dialog.Actions style={{height: 20, marginBottom: 20}}>\n        <Button onPress={() => {\n          hideDialog();\n          setCheckAgreement(false);\n        }} style={{height: 20}} color={Colors.red}>Відхилити</Button>\n        <Button onPress={() => {\n          hideDialog();\n          setCheckAgreement(true);\n        }} style={{height: 20}}>Прийняти</Button>\n      </Dialog.Actions>\n    </Dialog>\n  </Portal>\n}\n\nconst styles = StyleSheet.create({\n  wrapper: {\n    position: 'absolute',\n    overflow: 'scroll',\n    top: 24,\n    bottom: 24\n  }\n})","import React, {useEffect, useState} from 'react';\nimport {Modal, Portal, Searchbar} from \"react-native-paper\";\nimport {ScrollView, Text, StyleSheet} from \"react-native\";\n\ninterface PropTypes {\n  visible: boolean;\n  hideDialog: () => void;\n  setSelected: (value: any) => void;\n  selected: any;\n  items: any[];\n}\n\nexport default function CustomPicker({visible, hideDialog, setSelected,selected, items}: PropTypes) {\n  const [searchText, setSearchText] = useState('');\n  const [filteredItems, setFilteredItems] = useState<any>([]);\n\n  useEffect(() => {\n    const filtered = items.length && items.filter(({name}) => {\n      if (searchText !== '') return String(name).toLowerCase().includes(searchText.toLowerCase());\n      return true;\n    });\n    setFilteredItems(filtered);\n  }, [items, searchText]);\n\n  const handlePress = (item: any) => {\n    setSelected({name: item.name, id: item.id});\n    hideDialog();\n  };\n\n  return (\n    <Portal>\n      <Modal visible={visible} onDismiss={hideDialog} contentContainerStyle={styles.container}>\n        <Searchbar\n          placeholder=\"Пошук\"\n          onChangeText={text => setSearchText(text)}\n          value={searchText}\n          style={styles.search}\n          clearButtonMode='while-editing'\n        />\n        <ScrollView style={{height: '80%'}}>\n          {filteredItems && [{name: 'Не вибрано', id: -1}, ...filteredItems].map(item => (\n                <Text key={item.id} style={selected.id === item.id ? styles.selected : styles.item}\n                      onPress={() => handlePress(item)}\n                >\n                  {item.name}\n                </Text>\n              )\n            )}\n        </ScrollView>\n      </Modal>\n    </Portal>\n  )\n};\n\nconst styles = StyleSheet.create({\n  item: {\n    fontSize: 20,\n    borderBottomWidth: 1,\n    borderStyle: 'solid',\n    borderBottomColor: '#ccc',\n    padding: 10,\n    color: '#000',\n  },\n  selected: {\n    fontSize: 20,\n    borderBottomWidth: 1,\n    borderStyle: 'solid',\n    borderBottomColor: '#2b5dff',\n    padding: 10,\n    color: '#2b5dff'\n  },\n  container: {\n    backgroundColor: 'white',\n    padding: 20,\n    margin: 10,\n    borderRadius: 8,\n    justifyContent: 'center',\n    height: '60%'\n  },\n  search: {\n    marginBottom: 10\n  }\n});","import React, {useEffect, useState} from 'react';\nimport {Text, StyleSheet} from \"react-native\";\nimport {IconButton} from \"react-native-paper\";\nimport {View} from \"../Themed\";\nimport CustomPicker from \"./CustomPicker\";\n\ntype Item = {\n  name: string;\n  id: number;\n}\n\ninterface PropTypes {\n  selected: Item;\n  setSelected: any;\n  name: string;\n  items: any[];\n  checkValidation: (value: number) => void;\n  setIsVisited: (value: boolean) => void;\n  underlineColor: string;\n}\n\nexport default function CustomPickerField({\n                                            selected, name, setSelected, items, setIsVisited,\n                                            checkValidation, underlineColor\n                                          }: PropTypes) {\n  const [visiblePicker, setVisiblePicker] = useState(false);\n\n  useEffect(() => {\n    checkValidation(selected.id);\n  }, [selected]);\n\n  const showPicker = () => {\n    setVisiblePicker(true);\n    setIsVisited(true);\n  };\n\n  const hidePicker = () => {\n    checkValidation(selected.id);\n    setVisiblePicker(false);\n  };\n\n  return <View style={styles.picker}>\n    <Text style={[styles.pickerField, {borderBottomColor: underlineColor}]} numberOfLines={1}\n          onPress={showPicker}\n    >\n      {selected.id === -1 ? name : selected.name}\n    </Text>\n    <IconButton icon='chevron-down' style={styles.pickerIcon} color='#ccc'\n                onPress={showPicker}\n    />\n    <CustomPicker visible={visiblePicker} hideDialog={hidePicker}\n                  setSelected={setSelected} items={items}\n                  selected={selected}\n    />\n  </View>\n};\n\nconst styles = StyleSheet.create({\n  picker: {\n    flexDirection: 'row',\n    position: 'relative',\n    backgroundColor: '#fff',\n  },\n  pickerField: {\n    borderBottomWidth: 1,\n    borderStyle: 'solid',\n    paddingVertical: 10,\n    paddingLeft: 22,\n    paddingRight: 42,\n    fontSize: 22,\n    marginTop: 20,\n    color: '#6f6f6f',\n    width: '100%',\n  },\n  pickerIcon: {\n    position: 'absolute',\n    right: 0,\n    top: 20,\n  }\n});","import { gql } from \"@apollo/client\";\r\n\r\nexport const SIGN_UP = gql`\r\n    mutation signup($input: SignupInput!) {\r\n        signup(input: $input) {\r\n            user {\r\n                id\r\n                lastName\r\n            }\r\n            userErrors {\r\n                message\r\n                code\r\n            }\r\n        }\r\n    }\r\n`;","import * as React from 'react';\nimport {Paragraph, Dialog, Portal, Button} from 'react-native-paper';\n\ninterface PropTypes {\n  message: string;\n  visible: boolean;\n  hideDialog: () => void;\n  navigateToLogin: () => void;\n}\n\nexport default function InfoDialog({visible, message, hideDialog, navigateToLogin}: PropTypes) {\n  return (\n      <Portal>\n        <Dialog visible={visible} dismissable={false}>\n          <Dialog.Title style={{textAlign: 'center'}}>Увага</Dialog.Title>\n          <Dialog.Content>\n            <Paragraph style={{textAlign: 'center'}}>{message}</Paragraph>\n          </Dialog.Content>\n          <Dialog.Actions>\n            <Button onPress={hideDialog} mode='contained' color='#f91354'\n                    style={{width: 70, marginRight: 8}}>\n              Ні\n            </Button>\n            <Button onPress={() => {\n              hideDialog();\n              navigateToLogin();\n            }} mode='contained' style={{width: 70}}>\n              Так\n            </Button>\n          </Dialog.Actions>\n        </Dialog>\n      </Portal>\n  );\n};","import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_UNSIGNED_DEPARTMENTS = gql`\r\n    query getUnsignedDepartments {\r\n        signupDepartments {\r\n            id\r\n            name\r\n        }\r\n    }\r\n`;","import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_UNSIGNED_DEGREES = gql`\r\n    query getUnsignedDegrees {\r\n        signupDegrees {\r\n            id\r\n            name\r\n        }\r\n    }\r\n`;","import * as React from 'react';\nimport {useEffect, useState} from 'react';\nimport {Dimensions, ImageBackground, ScrollView, StyleSheet, Text} from 'react-native';\nimport {View} from '../../components/Themed';\nimport {Appbar, Banner, Button, Checkbox, HelperText, TextInput} from 'react-native-paper';\nimport Agreement from \"./components/Agreement\";\nimport CustomPickerField from \"../../components/CustomPicker/CustomPickerField\";\nimport moment from \"moment\";\nimport {useMutation} from \"@apollo/client\";\nimport {SIGN_UP} from \"../../api/operations/mutations/signUp\";\nimport InfoDialog from \"../../components/InfoDialog\";\nimport {ErrorCodes, ErrorCodesUa, UserTypes, UserTypesUa} from \"../../models/models\";\nimport {GET_UNSIGNED_DEPARTMENTS} from \"../../api/operations/queries/unsignedDepartments\";\nimport {client} from \"../../api/client\";\nimport {GET_UNSIGNED_DEGREES} from \"../../api/operations/queries/unsignedDegrees\";\n\nconst currentYear: number = parseInt(moment().format('YYYY'));\n\nconst startYearsItems = [\n  {name: currentYear, id: currentYear},\n  {name: currentYear - 1, id: currentYear - 1},\n  {name: currentYear - 2, id: currentYear - 2},\n  {name: currentYear - 3, id: currentYear - 3},\n];\n\nconst userTypesData = [\n  {id: UserTypes.STUDENT, name: UserTypesUa[UserTypes.STUDENT as UserTypes]},\n  {id: UserTypes.POST_GRADUATE, name: UserTypesUa[UserTypes.POST_GRADUATE as UserTypes]},\n];\n\nconst windowHeight = Dimensions.get('window').height;\n\n\nexport default function SignUp({navigation}: any) {\n  const [selectedDepartment, setSelectedDepartment] = useState({name: '', id: -1});\n  const [selectedDegree, setSelectedDegree] = useState({name: '', id: -1});\n  const [selectedStartYear, setSelectedStartYear] = useState({name: '', id: -1});\n  const [selectedType, setSelectedType] = useState({name: userTypesData[0].name,\n    id: userTypesData[0].id});\n  const [visible, setVisible] = useState(true);\n  const [visibleAgreement, setVisibleAgreement] = useState(false);\n  const [visibleBackDialog, setVisibleBackDialog] = useState(false);\n  const backMessage = 'Ви дійсно бажаєте повернутись на сторінку входу?\\n Введені дані будуть стерті.';\n\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [patronymic, setPatronymic] = useState('');\n  const [email, setEmail] = useState('');\n  const [phoneNumber, setPhoneNumber] = useState('');\n  const [password, setPassword] = useState('');\n  const [passwordConfirm, setPasswordConfirm] = useState('');\n  const [checkAgreement, setCheckAgreement] = useState(false);\n  const [departments, setDepartments] = useState([{id: -1, name: 'DEFAULT_DEPARTMENT'}]);\n  const [degrees, setDegrees] = useState([{id: -1, name: 'DEFAULT_DEGREE'}]);\n\n  const [isSignupTouched, setIsSignupTouched] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n\n  const [isLastNameValidated, setIsLastNameValidated] = useState<string | null>(null);\n  const [isFirstNameValidated, setIsFirstNameValidated] = useState<string | null>(null);\n  const [isEmailValidated, setIsEmailValidated] = useState<string | null>(null);\n  const [isPhoneValidated, setIsPhoneValidated] = useState<string | null>(null);\n  const [isPasswordValidated, setIsPasswordValidated] = useState<string | null>(null);\n  const [isPasswordConfirmValidated, setIsPasswordConfirmValidated] = useState<string | null>(null);\n  const [isStartYearValidated, setIsStartYearValidated] = useState<string | null>(null);\n  const [isDepartmentValidated, setIsDepartmentValidated] = useState<string | null>(null);\n  const [isDegreeValidated, setIsDegreeValidated] = useState<string | null>(null);\n\n  const [isStartYearModalVisited, setIsStartYearModalVisited] = useState(false);\n  const [isDepartmentModalVisited, setIsDepartmentModalVisited] = useState(false);\n  const [isDegreeModalVisited, setIsDegreeModalVisited] = useState(false);\n\n  const [signup, {loading, error}] = useMutation(SIGN_UP);\n\n  useEffect(() => {\n    client.query({query: GET_UNSIGNED_DEPARTMENTS,\n      fetchPolicy: 'network-only',\n    }).then(({data}) => {\n      setDepartments(data.signupDepartments);\n    });\n    client.query({query: GET_UNSIGNED_DEGREES,\n      fetchPolicy: 'network-only',\n    }).then(({data}) => {\n      setDegrees(data.signupDegrees);\n    });\n  }, []);\n\n  const checkLastNameValidation = (value: string) => {\n    if (!value) {\n      return setIsLastNameValidated(\"Обов'язкове поле\");\n    }\n    return setIsLastNameValidated(null);\n  };\n\n  const checkFirstNameValidation = (value: string) => {\n    if (!value) {\n      return setIsFirstNameValidated(\"Обов'язкове поле\");\n    }\n    return setIsFirstNameValidated(null);\n  };\n\n  const checkEmailValidation = (value: string) => {\n    const re = /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/\n\n    if (!value) {\n      return setIsEmailValidated(\"Обов'язкове поле\");\n    }\n    if (!re.test(value)) {\n      return setIsEmailValidated(\"Невірний формат\");\n    }\n    return setIsEmailValidated(null);\n  };\n\n  const checkPhoneValidation = (value: string) => {\n    const re = /\\(?([0-9]{3})\\)?([ .-]?)([0-9]{3})\\2([0-9]{4})/\n\n    if (!value) {\n      return setIsPhoneValidated(\"Обов'язкове поле\");\n    }\n    if (!re.test(value)) {\n      return setIsPhoneValidated(\"Невірний формат\");\n    }\n    return setIsPhoneValidated(null);\n  };\n\n  const checkPasswordValidation = (value: string) => {\n    const re = /^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})/;\n    const strongRe = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\\$%\\^&\\*])(?=.{8,})/;\n\n    if (!value) {\n      return setIsPasswordValidated(\"Обов'язкове поле\");\n    }\n    if (!re.test(value)) {\n      return setIsPasswordValidated(\"Невірний формат\");\n    }\n    return setIsPasswordValidated(null);\n  };\n\n  const checkPasswordConfirmValidation = (value: string) => {\n    if (!value) {\n      return setIsPasswordConfirmValidated(\"Обов'язкове поле\");\n    }\n    if (password && passwordConfirm && (password !== passwordConfirm)) {\n      return setIsPasswordConfirmValidated('Паролі не співпадають');\n    }\n    return setIsPasswordConfirmValidated(null);\n  };\n\n  const checkStartYearValidation = (value: number) => {\n    if (value === -1 && (isStartYearModalVisited || isSignupTouched)) {\n      return setIsStartYearValidated(\"Рік вступу не вибрано\");\n    }\n    return setIsStartYearValidated(null);\n  };\n\n  const checkDepartmentValidation = (value: number) => {\n    if (value === -1 && (isDegreeModalVisited || isSignupTouched)) {\n      return setIsDepartmentValidated(\"Кафедру не вибрано\");\n    }\n    return setIsDepartmentValidated(null);\n  };\n\n  const checkDegreeValidation = (value: number) => {\n    if (value === -1 && (isDegreeModalVisited || isSignupTouched)) {\n      return setIsDegreeValidated(\"Навчальний ступінь не вибрано\");\n    }\n    return setIsDegreeValidated(null);\n  };\n\n  const handleSubmit = async () => {\n    checkLastNameValidation(lastName);\n    checkFirstNameValidation(firstName);\n    checkEmailValidation(email);\n    checkPhoneValidation(phoneNumber);\n    checkPasswordValidation(password);\n    checkPasswordConfirmValidation(passwordConfirm);\n    checkStartYearValidation(selectedStartYear.id);\n    checkDepartmentValidation(selectedDepartment.id);\n    checkDegreeValidation(selectedDegree.id);\n\n    if (!isLastNameValidated && !isFirstNameValidated && !isEmailValidated && !isPasswordValidated\n        && !isPasswordConfirmValidated && !isStartYearValidated && !isDepartmentValidated\n        && !isDegreeValidated) {\n      try {\n        const result = await signup({\n          variables: {\n            input: {\n              lastName: lastName,\n              firstName: firstName,\n              patronymic: patronymic,\n              password: password,\n              email: email,\n              phoneNumber: phoneNumber,\n              departmentId: selectedDepartment.id,\n              degreeId: selectedDegree.id,\n              startYear: selectedStartYear.id,\n              type: selectedType.id\n            }\n          }\n        });\n        const hasErrors = result?.data.login.userErrors?.length;\n\n        if (hasErrors) {\n          const errorMessage = ErrorCodesUa[result?.data.login.userErrors[0].code as ErrorCodes];\n\n          alert(errorMessage);\n        } else {\n          navigation.navigate('SignUpStepTwo');\n        }\n      } catch (e) {\n        alert(e)\n      }\n    }\n  }\n\n  const showAgreement = () => setVisibleAgreement(true);\n\n  const hideAgreement = () => setVisibleAgreement(false);\n\n  const showBackDialog = () => setVisibleBackDialog(true);\n\n  const hideBackDialog = () => setVisibleBackDialog(false);\n\n  const navigateToLogin = () => {\n    navigation.goBack();\n  };\n\n  const handleBack = () => {\n    if (lastName || firstName || patronymic || email || phoneNumber || password || passwordConfirm\n        || selectedStartYear.id !== -1 || selectedDepartment.id !== -1 || selectedDegree.id !== -1) {\n      showBackDialog();\n    } else {\n      navigateToLogin();\n    }\n  };\n\n  const Error = ({validator}: any) => (\n    <HelperText type=\"error\" style={{color: '#f91354', height: validator ? 'auto' : 0}}>\n      {validator}\n    </HelperText>\n  );\n\n  return (\n    <ImageBackground source={require('../../assets/images/bg.jpg')}\n                     style={{width: '100%', height: '100%'}}>\n      <View style={styles.container}>\n        <Appbar style={styles.top}>\n          <Appbar.BackAction onPress={handleBack} color='#fff'/>\n          <Appbar.Content title='Реєстрація' subtitle='Крок 1 із 3' color='#fff'/>\n        </Appbar>\n        <View style={styles.wrapper}>\n          <ScrollView style={styles.scrollView}>\n            <Banner\n              icon='alert-circle'\n              visible={visible}\n              actions={[\n                {\n                  label: 'Зрозуміло',\n                  onPress: () => setVisible(false),\n                }\n              ]}\n            >\n              Реєстрація педагогів та співробітників навчального закладу відбувається за допомогою диспетчера.\n            </Banner>\n            <Text style={styles.infoPanel}>\n              Введіть дані, що співпадають з вашим студентським квитком або іншим документом.\n            </Text>\n            <TextInput placeholder=\"Прізвище *\" style={styles.input} value={lastName}\n                       underlineColor={!isLastNameValidated ? '#ccc' : '#f91354'}\n                       onChangeText={text => {\n                         setLastName(text);\n                         checkLastNameValidation(text);\n                       }}\n                       onBlur={() => checkLastNameValidation(lastName)}\n            />\n            <Error validator={isLastNameValidated}/>\n            <TextInput placeholder=\"Ім'я *\" style={styles.input} value={firstName}\n                       underlineColor={!isFirstNameValidated ? '#ccc' : '#f91354'}\n                       onChangeText={text => {\n                         setFirstName(text);\n                         checkFirstNameValidation(text);\n                       }}\n                       onBlur={() => checkFirstNameValidation(firstName)}\n            />\n            <Error validator={isFirstNameValidated}/>\n            <TextInput placeholder=\"По-батькові\" style={styles.input} value={patronymic}\n                       onChangeText={text => setPatronymic(text)}\n            />\n            <View style={{height: 10, backgroundColor: '#fff'}}/>\n            <TextInput placeholder=\"E-mail *\" style={styles.input} value={email}\n                       underlineColor={!isEmailValidated ? '#ccc' : '#f91354'}\n                       onChangeText={text => {\n                         setEmail(text);\n                         checkEmailValidation(text);\n                       }}\n                       onBlur={() => checkEmailValidation(email)}\n                       keyboardType='email-address'\n            />\n            <Error validator={isEmailValidated}/>\n            <TextInput placeholder=\"Тел. номер *\" style={styles.input}\n                       underlineColor={!isEmailValidated ? '#ccc' : '#f91354'}\n                       onChangeText={text => {\n                         setPhoneNumber(text);\n                         checkPhoneValidation(text);\n                       }}\n                       onBlur={() => checkPhoneValidation(phoneNumber)}\n                       keyboardType='phone-pad'\n            />\n            <Error validator={isPhoneValidated}/>\n            <TextInput placeholder=\"Пароль *\" style={styles.input}\n                       underlineColor={!isPasswordValidated ? '#ccc' : '#f91354'}\n                       onChangeText={text => {\n                         setPassword(text);\n                         checkPasswordValidation(text);\n                       }}\n                       onBlur={() => checkPasswordValidation(password)}\n                       right={<TextInput.Icon name={showPassword ? 'eye' : 'eye-off'} color='#ccc'\n                                              onPress={() => setShowPassword(prevState => !prevState)}\n                                              forceTextInputFocus={false}\n                       />}\n                       secureTextEntry={!showPassword}\n            />\n            <Error validator={isPasswordValidated}/>\n            <TextInput placeholder=\"Повторіть пароль *\" style={styles.input}\n                       underlineColor={!isPasswordConfirmValidated ? '#ccc' : '#f91354'}\n                       onChangeText={text => {\n                         setPasswordConfirm(text);\n                         checkPasswordConfirmValidation(text);\n                       }}\n                       onBlur={() => checkPasswordConfirmValidation(passwordConfirm)}\n                       right={<TextInput.Icon name={showPassword ? 'eye' : 'eye-off'} color='#ccc'\n                                              onPress={() => setShowPassword(prevState => !prevState)}\n                                              forceTextInputFocus={false}\n                       />}\n                       secureTextEntry={!showPassword}\n            />\n            <Error validator={isPasswordConfirmValidated}/>\n            <CustomPickerField selected={selectedStartYear} setSelected={setSelectedStartYear}\n                               name='Рік початку навчання' items={startYearsItems}\n                               checkValidation={checkStartYearValidation}\n                               setIsVisited={setIsStartYearModalVisited}\n                               underlineColor={!isStartYearValidated ? '#ccc' : '#f91354'}\n\n            />\n            <Error validator={isStartYearValidated}/>\n            <CustomPickerField name='Кафедра' selected={selectedDepartment} items={departments}\n                               setSelected={setSelectedDepartment}\n                               checkValidation={checkDepartmentValidation}\n                               setIsVisited={setIsDepartmentModalVisited}\n                               underlineColor={!isDepartmentValidated ? '#ccc' : '#f91354'}\n\n            />\n            <Error validator={isDepartmentValidated}/>\n            <CustomPickerField name='Навчальний ступінь' selected={selectedDegree} items={degrees}\n                               setSelected={setSelectedDegree}\n                               checkValidation={checkDegreeValidation}\n                               setIsVisited={setIsDegreeModalVisited}\n                               underlineColor={!isDegreeValidated ? '#ccc' : '#f91354'}\n\n            />\n            <CustomPickerField name='Статус' selected={selectedType} items={userTypesData}\n                               checkValidation={() => {}}\n                               setIsVisited={() => {}}\n                               setSelected={setSelectedType}\n                               underlineColor='#ccc'\n\n            />\n            <Error validator={isDegreeValidated}/>\n            <View style={styles.agreement}>\n              <Checkbox status={checkAgreement ? 'checked' : 'unchecked'} color='#2b5dff'\n                        uncheckedColor='#f91354'\n                        onPress={() => {\n                          setIsSignupTouched(true);\n                          setCheckAgreement(prevState => !prevState);\n                        }}/>\n              <Text style={{width: '90%', backgroundColor: '#fff'}}>Я прочитав і погоджуюсь з\n                <Text style={styles.link} onPress={showAgreement}> політикою конфіденційності</Text> *</Text>\n            </View>\n          </ScrollView>\n          <View style={styles.navButtons}>\n            <Button\n              onPress={handleSubmit}\n              mode='contained' color='#f91354'\n              style={styles.signUpButton}\n              disabled={!checkAgreement || loading}\n              loading={loading}\n            >\n              Зареєструватися\n            </Button>\n          </View>\n          <Agreement visible={visibleAgreement} hideDialog={hideAgreement}\n                     setCheckAgreement={setCheckAgreement}\n          />\n          <InfoDialog message={backMessage} visible={visibleBackDialog} hideDialog={hideBackDialog}\n                      navigateToLogin={navigateToLogin}\n          />\n        </View>\n      </View>\n    </ImageBackground>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    backgroundColor: 'transparent'\n  },\n  wrapper: {\n    backgroundColor: '#fff',\n    width: '100%',\n    height: windowHeight-80,\n    alignItems: 'center',\n  },\n  title: {\n    fontSize: 32,\n    fontWeight: 'bold',\n    color: '#fff',\n  },\n  navButtons: {\n    backgroundColor: 'transparent',\n    flexDirection: 'row',\n    marginBottom: 16,\n    marginTop: 16,\n  },\n  signUpButton: {\n    height: 50,\n    justifyContent: 'center',\n  },\n  scrollView: {\n    width: '90%',\n  },\n  input: {\n    width: '100%',\n    backgroundColor: 'transparent',\n    fontSize: 22,\n    paddingLeft: 10,\n    margin: 0,\n  },\n  top: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    paddingTop: 26,\n    height: 80,\n    backgroundColor: 'transparent',\n    elevation: 0\n  },\n  link: {\n    color: '#2b5dff',\n    textDecorationLine: 'underline'\n  },\n  agreement: {\n    paddingTop: 20,\n    paddingBottom: 5,\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: '#fff',\n  },\n  infoPanel: {\n    borderRadius: 8,\n    backgroundColor: '#b5e3ff',\n    padding: 8,\n    marginTop: 16\n  },\n});","import * as React from 'react';\nimport {View, StyleSheet, Text} from \"react-native\";\nimport {Button, TextInput} from \"react-native-paper\";\n\nexport default function ForgotPassword({navigation}: any) {\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.text}>\n        Введіть Вашу email адресу куди ми відправимо новий пароль.\n      </Text>\n      <TextInput placeholder=\"E-mail\" style={styles.input}/>\n      <Button onPress={()=>navigation.navigate('ForgotPasswordSuccess')} mode='contained' color='#2b5dff'\n        style={styles.button}>\n        Відновити пароль\n      </Button>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#2e287c',\n  },\n  text: {\n    color: '#fff',\n    fontSize: 20,\n    textAlign: 'center',\n    margin: 5,\n    width: '90%',\n    marginBottom: 32,\n  },\n  button: {\n    marginTop: 32,\n    height: 50,\n    justifyContent: 'center'\n  },\n  input: {\n    width: '90%',\n    height: 50\n  }\n});\n","import * as React from 'react';\nimport {View, StyleSheet, Text} from \"react-native\";\nimport {Button} from \"react-native-paper\";\n\nexport default function ForgotPasswordSuccess({navigation}: any) {\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.text}>\n        Пароль надіслано, перевірте пошту.\n      </Text>\n      <Button onPress={()=>navigation.navigate('Login')} mode='contained' color='#2b5dff'\n        style={styles.loginButton}>\n        На сторінку входу\n      </Button>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#2e287c',\n  },\n  text: {\n    color: '#fff',\n    fontSize: 20,\n    textAlign: 'center',\n    margin: 5,\n    width: '90%',\n    marginBottom: 32,\n  },\n  loginButton: {\n    marginTop: 32,\n    height: 50,\n    justifyContent: 'center'\n  },\n  input: {\n    width: '90%',\n    height: 50\n  }\n});\n","import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_USERS = gql`\r\n  query getUsers {\r\n    users {\r\n      id\r\n      firstName\r\n      patronymic\r\n      lastName\r\n      type\r\n      department {\r\n        id\r\n        name\r\n      }\r\n      email\r\n      phoneNumber\r\n      extraPhoneNumbers\r\n      nameTemp\r\n      studentInfo {\r\n        degree {\r\n          id\r\n          name\r\n        }\r\n        startYear\r\n        accountStatus\r\n      }\r\n      employeeInfo {\r\n        employmentType\r\n        accountStatus\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_USER_BY_ID = gql`\r\n  query getUserById($where: UserWhereUniqueInput!) {\r\n    user(where: $where) {\r\n      id\r\n      firstName\r\n      patronymic\r\n      lastName\r\n      type\r\n      department {\r\n        id\r\n        name\r\n      }\r\n      occupiedClassrooms {\r\n        id\r\n        state \r\n        classroom {\r\n          id\r\n          name\r\n        }\r\n      }\r\n      queue {\r\n        id\r\n        state\r\n        type\r\n        classroom {\r\n          id\r\n        }\r\n      }\r\n      queueInfo {\r\n        id\r\n        sanctionedUntil\r\n        currentSession {\r\n          id\r\n          state\r\n          skips\r\n        }\r\n      }\r\n      email\r\n      phoneNumber\r\n      extraPhoneNumbers\r\n      nameTemp\r\n      studentInfo {\r\n        degree {\r\n          name\r\n        }\r\n        startYear\r\n        accountStatus\r\n      }\r\n      employeeInfo {\r\n        employmentType\r\n        accountStatus\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import {useEffect, useState} from \"react\";\nimport {client} from \"../api/client\";\nimport {User} from \"../models/models\";\nimport {GET_USERS} from \"../api/operations/queries/users\";\n\nconst useUsers = (): Array<User> => {\n  const [users, setUsers] = useState<User[]>([]);\n\n  useEffect(() => {\n    client.query({query: GET_USERS, fetchPolicy: \"cache-first\"}).then((data) => {\n        setUsers(data.data.users.slice().sort((a: User, b: User) => a.id - b.id));\n      });\n  }, []);\n\n  return users;\n};\n\nexport default useUsers;","import {HOUR, MINUTE, TIME_SNIPPETS, WORKING_DAY_END, WORKING_DAY_START,} from \"./constants\";\nimport {\n  ACCESS_RIGHTS,\n  ClassroomType,\n  CurrentUser,\n  DisabledState,\n  Mode,\n  OccupiedInfo,\n  OccupiedState,\n  QueuePolicyTypes,\n  ScheduleUnitType,\n  User,\n  UserTypes,\n} from \"../models/models\";\nimport moment from \"moment\";\nimport {ReactElement} from \"react\";\nimport {accessRightsVar} from \"../api/client\";\n\nexport const getScheduleTimeline = (start: number, end: number): string[] => {\n  let timeSnippets: string[] = [];\n  for (let hour = start; hour <= end; hour++) {\n    if (hour === end) {\n      timeSnippets.push(hour + \":00\");\n    } else {\n      TIME_SNIPPETS.forEach((minutes) => {\n        timeSnippets.push(hour + minutes);\n      });\n    }\n  }\n  return timeSnippets;\n};\n\nconst getScheduleTimeInMilliseconds = (scheduleUnitTime: any) => {\n  return scheduleUnitTime\n    .split(\":\")\n    .map((el: any, index: number) => {\n      return index === 0 ? Number(el) * HOUR : Number(el) * MINUTE;\n    })\n    .reduce((acc: any, curr: any) => acc + curr);\n};\n\nexport const getPossiblyOccupied = (schedule: Array<any>) => {\n  const current =\n    new Date().getHours() * HOUR + new Date().getMinutes() * MINUTE;\n  const timeSnippets = schedule.map((el: any) => {\n    return {\n      from: getScheduleTimeInMilliseconds(el.from),\n      to: getScheduleTimeInMilliseconds(el.to),\n    };\n  });\n  return timeSnippets\n    .map((el: any) => {\n      return current >= el.from && current <= el.to;\n    })\n    .some((el: any) => el === true);\n};\n\nexport const getTimeHHMM = (date: Date) => {\n  return date.getHours() + \":\" + formatMinutesToMM(date.getMinutes());\n};\n\nexport const getScheduleUnitRowLength = (\n  schedule: Array<ScheduleUnitType>,\n  units: string\n) =>\n  schedule\n    .map((scheduleUnit: ScheduleUnitType) => {\n      return parseInt(scheduleUnit.to) - parseInt(scheduleUnit.from) + units;\n    })\n    .join(\" \");\n\nexport const formatMinutesToMM = (value: number) => {\n  if (value <= 9) return `0${value}`;\n  else return value;\n};\n\nexport const fullName = (user: User, withInitials = false) => {\n  if (user) {\n    if (user.nameTemp) return user.nameTemp\n    if (withInitials) {\n      return `${user.lastName} ${user.firstName.charAt(0)}. ${\n        user.patronymic ? user.patronymic.charAt(0) + \".\" : \"\"\n      }`;\n    } else {\n      return `${user.lastName} ${user.firstName} ${\n        user.patronymic ? user.patronymic : \"\"\n      }`;\n    }\n  }\n  return \"\";\n};\n\nexport const typeStyle = (occupied: OccupiedInfo, isDisabled = false) => {\n  const student = {backgroundColor: \"#2e287c\", color: \"#fff\"};\n  const employee = {backgroundColor: \"#ffc000\", color: \"#fff\"};\n  const vacant = {\n    backgroundColor: \"transparent\",\n    color: \"#000\",\n  };\n  const disabled = {\n    backgroundColor: \"#00000011\",\n    color: \"#454545\",\n  };\n  if (isDisabled) return disabled;\n  if (isNotFree(occupied)) {\n    switch (occupied.user.type) {\n      case UserTypes.STUDENT:\n        return student;\n      case UserTypes.POST_GRADUATE:\n        return student;\n      default:\n        return employee;\n    }\n  }\n  return vacant;\n};\n\n//get int from time unit. ex: \"9:15\" -> 36 where each 15 min == 1; ex: \"00:15\" -> 1, \"10:00\" ->40\nconst simpleIntFromScheduleUnit = (time: string) => {\n  const reducer = (accumulator: any, currentValue: any) =>\n    accumulator + currentValue;\n  return time\n    .split(\":\")\n    .map((el: string, index: number) => {\n      if (index === 0) {\n        return parseInt(el) * 4;\n      } else {\n        switch (parseInt(el)) {\n          case 0:\n            return 0;\n          case 15:\n            return 1;\n          case 30:\n            return 2;\n          case 45:\n            return 3;\n        }\n      }\n    })\n    .reduce(reducer);\n};\n\n//get schedule units size in fr units for grids\nexport const getScheduleUnitSize = (\n  units: Array<ScheduleUnitType>,\n  fillEmpty = true\n) => {\n  const items = [];\n  if (fillEmpty) {\n    items.push(parseInt(units[0].from) - WORKING_DAY_START);\n  }\n  for (let item of units) {\n    const from = simpleIntFromScheduleUnit(item.from);\n    const to = simpleIntFromScheduleUnit(item.to);\n    items.push((to as number) - (from as number));\n  }\n  if (fillEmpty) {\n    items.push(WORKING_DAY_END - parseInt(units[units.length - 1].to));\n  }\n\n  return items.map((item) => `${item}fr`).join(\" \");\n};\n\nexport const ISODateString = (d: Date) => {\n  function pad(n: any) {\n    return n < 10 ? \"0\" + n : n;\n  }\n\n  return (\n    d.getUTCFullYear() +\n    \"-\" +\n    pad(d.getUTCMonth() + 1) +\n    \"-\" +\n    pad(d.getUTCDate())\n  );\n};\n\nexport const scheduleUnitToDate = (item: ScheduleUnitType) => {\n  const from = item.from.split(':');\n  const to = item.to.split(':');\n  const fromHours = +from[0];\n  const fromMinutes = +from[1];\n  const toHours = +to[0];\n  const toMinutes = +to[1];\n  const fromDate = moment({hours: fromHours, minutes: fromMinutes, seconds: 0, milliseconds: 0});\n  const toDate = moment({hours: toHours, minutes: toMinutes, seconds: 0, milliseconds: 0});\n\n  return {\n    from: fromDate,\n    to: toDate\n  };\n};\n\nexport const isOccupiedOnSchedule = (scheduleUnits: ScheduleUnitType[]) => {\n  const result: any = [];\n\n  scheduleUnits.forEach(item => result.push(scheduleUnitToDate(item)));\n\n  return result.some((item: { from: Date, to: Date }) => {\n    const current = moment();\n\n    return current.isAfter(item.from) && current.isBefore(item.to);\n  });\n};\n\nexport const showNotification = (dispatcher: any, data: string[] | HTMLElement[] | ReactElement[]) => {\n  dispatcher({\n    header: data[0],\n    message: data[1],\n    type: data[2],\n  });\n};\n\nexport const setAccessRights = (user: User) => {\n  let accessRights = ACCESS_RIGHTS.USER;\n\n  if (user && user?.type) {\n    switch (user.type) {\n      case UserTypes.ADMIN:\n        accessRights = ACCESS_RIGHTS.ADMIN;\n        break;\n      case UserTypes.DISPATCHER:\n        accessRights = ACCESS_RIGHTS.DISPATCHER;\n        break;\n      default:\n        accessRights = ACCESS_RIGHTS.USER;\n    }\n  }\n\n  accessRightsVar(accessRights);\n};\n\nexport const isTeacherType = (type: UserTypes) => {\n  return type === UserTypes.TEACHER || type === UserTypes.CONCERTMASTER || type === UserTypes.ILLUSTRATOR;\n};\n\nexport const getTimeFromUntil = (until: string, minutesDuration = 2) => {\n  if (until) {\n    const differenceInMs = moment(until).diff(moment());\n    const tempTime = moment.duration(differenceInMs);\n\n    const resultHHMMSS = tempTime.hours() + ':' + tempTime.minutes() + ':' + tempTime.seconds();\n    const resultPercents = differenceInMs / ((MINUTE * minutesDuration) / 100);\n\n    return [resultHHMMSS, resultPercents];\n  }\n};\n\nexport const isPendingForMe = (occupied: OccupiedInfo, me: User, mode: Mode) => {\n  return (\n    (occupied.state === OccupiedState.PENDING || occupied.state === OccupiedState.RESERVED) &&\n    occupied.user.id === me.id\n    && mode === Mode.INLINE\n  );\n}\n\nexport const isOwnClassroom = (occupied: OccupiedInfo, me: User) => {\n  return occupied.state === OccupiedState.OCCUPIED && occupied.user.id === me.id;\n};\n\nexport const isOccupiedOrPendingByCurrentUser = (occupied: OccupiedInfo, currentUser: User) => {\n  return (\n    occupied.state === OccupiedState.OCCUPIED\n    || occupied.state === OccupiedState.PENDING\n    || occupied.state === OccupiedState.RESERVED\n        ) && occupied.user.id === currentUser.id;\n}\n\nexport const isNotFree = (occupied: OccupiedInfo) => {\n  return occupied.state !== OccupiedState.FREE;\n};\n\nexport const getIsMeOccupied = (me: CurrentUser, classrooms: ClassroomType[]) => {\n  return !!classrooms.find(({occupied}) => occupied.state === OccupiedState.OCCUPIED && me.id === occupied.user.id);\n};\n\nexport const hasOwnClassroom = (occupiedClassrooms: any) => {\n  const ownClassroom = occupiedClassrooms.find((classroom: any) => {\n    return classroom.state === OccupiedState.OCCUPIED || classroom.state === OccupiedState.RESERVED;\n  });\n  return ownClassroom ? ownClassroom.classroom.id : null;\n};\n\nexport const isEnabledForCurrentDepartment = (classroom: ClassroomType, currentUser: User) => {\n  const {queueInfo: {queuePolicy}} = classroom;\n  if (queuePolicy.policy === QueuePolicyTypes.SELECTED_DEPARTMENTS\n    && !queuePolicy.queueAllowedDepartments.length) return false;\n  return queuePolicy.queueAllowedDepartments.length ?\n    queuePolicy.queueAllowedDepartments\n      .some(({department}) => department.id === currentUser?.department?.id) : true;\n};\n\nexport const isEnabledForQueue = (classroom: ClassroomType, user: any) => {\n    const ownClassroomId = hasOwnClassroom(user.occupiedClassrooms);\n\n    return classroom.id !== ownClassroomId && !classroom.isHidden &&\n      classroom.disabled.state === DisabledState.NOT_DISABLED &&\n      isEnabledForCurrentDepartment(classroom, user) &&\n      !(user.occupiedClassrooms.some((data: any) => {\n        return data.classroom.id === classroom.id && data.state === OccupiedState.PENDING\n      }));\n};","import React from 'react';\nimport {View, Text, StyleSheet} from \"react-native\";\nimport {ActivityIndicator, Divider, Modal, Portal, Title} from \"react-native-paper\";\nimport {fullName, isTeacherType} from \"../helpers/helpers\";\nimport {useQuery} from \"@apollo/client\";\nimport {GET_USER_BY_ID} from \"../api/operations/queries/users\";\nimport {UserTypes, UserTypesUa} from \"../models/models\";\nimport {Linking} from 'react-native'\n\ninterface PropTypes {\n  userId: number;\n  hideModal: () => void;\n  visible: boolean;\n}\n\nexport default function UserInfo({userId, hideModal, visible}: PropTypes) {\n  const {data, loading, error} = useQuery(GET_USER_BY_ID, {\n    variables: {where: {id: userId}}\n  });\n\n  const openPhoneNumber = (phoneNumber: string) => Linking.openURL(`tel:${phoneNumber}`);\n\n  return <Portal>\n    <Modal visible={visible} onDismiss={hideModal} contentContainerStyle={styles.containerStyle}>\n      {!loading && !error ? <>\n          <Title style={styles.occupantName}>{data.user.nameTemp === null ? fullName(data.user) :\n            data.user.nameTemp}</Title>\n          <Divider style={styles.divider}/>\n          <Text>Статус: {UserTypesUa[data.user.type as UserTypes]}</Text>\n          <Text>Кафедра: {data.user.department?.name}</Text>\n          <Divider style={styles.divider}/>\n        {isTeacherType(data.user.type) && <>\n            <View style={styles.phoneRow}><Text>Тел: </Text>\n                <Text onPress={() => openPhoneNumber(data.user.phoneNumber)} style={styles.phoneNumber}>\n                  {data.user.phoneNumber}\n                </Text>\n            </View>\n          {JSON.parse(data.user.extraPhoneNumbers).map((number: string, index: number) => {\n            return <View key={index} style={styles.phoneRow}>\n              <Text>{`Тел. ${index + 2}: `}</Text>\n              <Text onPress={() => openPhoneNumber(number)} style={styles.phoneNumber}>\n                {number}\n              </Text>\n            </View>\n          })}\n        </>}\n      </> : <ActivityIndicator animating={true} color='#2e287c'/>}\n    </Modal>\n  </Portal>\n};\n\nconst styles = StyleSheet.create(({\n  occupantName: {},\n  containerStyle: {\n    backgroundColor: 'white',\n    padding: 20,\n    margin: 10,\n    borderRadius: 8\n  },\n  divider: {\n    marginTop: 16,\n    marginBottom: 16\n  },\n  phoneRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between'\n  },\n  phoneNumber: {\n    borderRadius: 8,\n    borderWidth: 1,\n    borderStyle: 'solid',\n    borderColor: '#eee',\n    padding: 8,\n    fontSize: 16,\n    marginTop: 8,\n    color: '#2b5dff'\n  }\n}));","import React, {useEffect, useState} from 'react';\nimport {StyleSheet, View, ScrollView, Dimensions, ImageBackground} from \"react-native\";\nimport useUsers from \"../hooks/useUsers\";\nimport {ActivityIndicator, Appbar, DataTable, Searchbar} from \"react-native-paper\";\nimport {UserTypes, UserTypesUa} from \"../models/models\";\nimport {fullName, isTeacherType} from \"../helpers/helpers\";\nimport UserInfo from \"../components/UserInfo\";\nimport {DrawerActions, useNavigation} from '@react-navigation/native';\n\nconst windowHeight = Dimensions.get('window').height;\n\nexport default function Users() {\n  const navigation = useNavigation();\n  const users = useUsers();\n  const [pages, setPages] = useState(0);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [visible, setVisible] = useState(false);\n  const [currentUserId, setCurrentUserId] = useState(0);\n  const [searchText, setSearchText] = useState('');\n  const UserElement = ({user}: any) => <DataTable.Row onPress={() => showModal(user.id)}>\n    <DataTable.Cell>{fullName(user)}</DataTable.Cell>\n    <DataTable.Cell>{UserTypesUa[user.type as UserTypes]}</DataTable.Cell>\n  </DataTable.Row>;\n\n  const showModal = (userId: number) => {\n    setVisible(true);\n    setCurrentUserId(userId);\n  };\n\n  const hideModal = () => setVisible(false);\n\n  useEffect(() => {\n    setPages(users.length / 13)\n  }, [users]);\n\n  return <ImageBackground source={require('../assets/images/bg.jpg')}\n                          style={{width: '100%', height: windowHeight}}>\n    <Appbar style={styles.top}>\n      <Appbar.Action icon=\"menu\" onPress={() => navigation.dispatch(DrawerActions.openDrawer())}\n                     color='#fff'\n      />\n        <Appbar.Content\n          title='Довідник' color='#fff'\n        />\n    </Appbar>\n    <Searchbar\n      placeholder=\"Пошук\"\n      onChangeText={text => {\n        setSearchText(text);\n        setCurrentPage(0);\n      }}\n      value={searchText}\n      style={styles.search}\n    />\n    <DataTable style={styles.dataTable}>\n      <DataTable.Header style={styles.header}>\n        <DataTable.Title>П.І.Б.</DataTable.Title>\n        <DataTable.Title style={{alignSelf: 'center'}}>Статус</DataTable.Title>\n      </DataTable.Header>\n      {users.length ? <>\n        <View style={styles.list}>\n          <ScrollView>\n            {users?.filter(user => isTeacherType(user.type as UserTypes))\n              .slice()\n              //@ts-ignore\n              .sort((a , b) => fullName(a).toLowerCase() > fullName(b).toLowerCase())\n              .filter(user => fullName(user).toLowerCase().includes(searchText.toLowerCase()))\n              .slice(currentPage * 13, (currentPage * 13) + 13)\n              .map(user =>\n              <UserElement user={user}/>)}\n          </ScrollView>\n        </View>\n        <DataTable.Pagination\n          style={styles.pagination}\n          page={currentPage}\n          numberOfPages={pages}\n          onPageChange={page => {\n            setCurrentPage(page);\n          }}\n          label={`${currentPage * 13} - ${(currentPage * 13) + 13} з ${users.length}`}\n        />\n      </> : <ActivityIndicator animating={true} color='#2e287c'/>}\n    </DataTable>\n    {currentUserId ? <UserInfo userId={currentUserId} hideModal={hideModal} visible={visible}/> : null}\n  </ImageBackground>\n}\n\nconst styles = StyleSheet.create(({\n  top: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    paddingTop: 26,\n    height: 80,\n    backgroundColor: 'transparent',\n  },\n  search: {\n    marginTop: 80,\n    borderRadius: 0\n  },\n  header: {\n    marginTop: 40,\n  },\n  list: {\n    height: windowHeight - 175\n  },\n  pagination: {\n    justifyContent: 'center',\n  },\n  dataTable: {\n    backgroundColor: '#fff'\n  }\n}));\n","import React, {useState} from 'react';\nimport {\n  SafeAreaView,\n  View,\n  StyleSheet,\n  Image,\n  Text,\n  Linking,\n} from 'react-native';\n\nimport {\n  DrawerContentScrollView,\n  DrawerItemList,\n} from '@react-navigation/drawer';\nimport {Avatar, Button, Dialog, IconButton, Portal} from \"react-native-paper\";\nimport {removeItem} from \"../api/asyncStorage\";\nimport {meVar} from \"../api/client\";\n\nconst CustomSidebarMenu = (props: any) => {\n  const [visible, setVisible] = useState(false);\n\n  const showDialog = () => setVisible(true);\n\n  const hideDialog = () => setVisible(false);\n\n  const logout = async () => {\n    await removeItem('user');\n    await removeItem('token');\n    meVar(null);\n    hideDialog();\n  };\n\n  return (\n    <SafeAreaView style={{flex: 1}}>\n      <Image\n        source={require('../assets/images/au_logo.png')}\n        style={styles.sideMenuProfileIcon}\n      />\n      <View style={styles.userData}>\n        <Avatar.Icon size={44} icon='account'/>\n        <Text style={styles.userName}>{meVar()?.firstName}, вітаємо!</Text>\n        <IconButton\n          icon=\"logout\"\n          color=\"#f91354\"\n          size={30}\n          onPress={showDialog}\n          style={styles.logout}\n        />\n      </View>\n      <DrawerContentScrollView {...props}>\n        <DrawerItemList {...props} />\n      </DrawerContentScrollView>\n      <Text\n        style={{\n          fontSize: 16,\n          textAlign: 'center',\n          color: '#fff',\n          marginBottom: 16\n        }}\n        onPress={() => Linking.openURL('https://knmau.com.ua/')}\n      >\n        НМАУ ім. П.І.Чайковського\n      </Text>\n      <Portal>\n        <Dialog visible={visible} onDismiss={hideDialog}>\n          <Dialog.Title>Ви дійсно бажаєте вийти з аккаунту?</Dialog.Title>\n          <Dialog.Actions>\n            <Button onPress={hideDialog}>Відміна</Button>\n            <Button onPress={logout}>Так</Button>\n          </Dialog.Actions>\n        </Dialog>\n      </Portal>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  sideMenuProfileIcon: {\n    resizeMode: 'center',\n    width: 200,\n    height: 70,\n    marginTop: 50,\n    alignSelf: 'center',\n  },\n  iconStyle: {\n    width: 15,\n    height: 15,\n    marginHorizontal: 5,\n  },\n  customItem: {\n    padding: 16,\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  userData: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginTop: 20,\n    marginHorizontal: 10,\n    borderRadius: 8,\n    borderWidth: 1,\n    padding: 12,\n    borderColor: '#ffffff22',\n    flexDirection: 'row'\n  },\n  userName: {\n    color: '#fff',\n    fontSize: 20,\n    paddingLeft: 10\n  },\n  logout: {\n    marginRight: -10,\n    marginVertical: -10\n  }\n});\n\nexport default CustomSidebarMenu;","import {gql} from \"@apollo/client\";\r\n\r\nexport const GET_ME = gql`\r\n    query meType {\r\n        me @client\r\n    }\r\n`;","import React from 'react';\nimport {StyleSheet, View, Text, ImageBackground, Dimensions} from \"react-native\";\nimport {Appbar, Divider, Title} from \"react-native-paper\";\nimport {useQuery} from \"@apollo/client\";\nimport {GET_ME} from \"../api/operations/queries/me\";\nimport {fullName} from \"../helpers/helpers\";\nimport {UserTypes, UserTypesUa} from \"../models/models\";\nimport {DrawerActions} from \"@react-navigation/native\";\n\nconst windowHeight = Dimensions.get('window').height;\n\nexport default function Profile({navigation}: any) {\n  const {data: {me}} = useQuery(GET_ME);\n\n  return (\n    <ImageBackground source={require('../assets/images/bg.jpg')}\n                     style={{width: '100%', height: windowHeight}}>\n      <Appbar style={styles.top}>\n        <Appbar.Action icon=\"menu\" onPress={() => navigation.dispatch(DrawerActions.openDrawer())}\n                       color='#fff'\n        />\n        <Appbar.Content\n          title='Мій профіль' color='#fff'\n        />\n      </Appbar>\n      <View style={styles.wrapper}>\n        <Title style={styles.whiteText}>П.І.Б.</Title>\n        <Text style={styles.marginBottomWhiteText}>{fullName(me)}</Text>\n        <Divider style={{backgroundColor: '#ffffff33'}}/>\n        <Title style={styles.whiteText}>Персональний номер (ID)</Title>\n        <Text style={styles.marginBottomWhiteText}>{me.id}</Text>\n        <Divider style={{backgroundColor: '#ffffff33'}}/>\n        <Title style={styles.whiteText}>Тип аккаунту</Title>\n        <Text style={styles.marginBottomWhiteText}>{UserTypesUa[me.type as UserTypes]}</Text>\n        <Divider style={{backgroundColor: '#ffffff33'}}/>\n        {me.department && (\n          <>\n            <Title style={styles.whiteText}>Кафедра</Title>\n            <Text style={styles.marginBottomWhiteText}>{me.department?.name}</Text>\n            <Divider style={{backgroundColor: '#ffffff33'}}/>\n          </>\n        )}\n        <Title style={styles.whiteText}>E-mail</Title>\n        <Text style={styles.marginBottomWhiteText}>{me.email}</Text>\n        <Divider style={{backgroundColor: '#ffffff33'}}/>\n        <Title style={styles.whiteText}>Телефон</Title>\n        <Text style={styles.marginBottomWhiteText}>{me.phoneNumber}</Text>\n        <Divider style={{backgroundColor: '#ffffff33'}}/>\n        <Title style={styles.whiteText}>Термін дії аккаунту</Title>\n        <Text style={styles.marginBottomWhiteText}>{me.expireDate}</Text>\n        <Divider style={{backgroundColor: '#ffffff33'}}/>\n      </View>\n    </ImageBackground>\n  )\n}\n\nconst styles = StyleSheet.create({\n  top: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    paddingTop: 26,\n    height: 80,\n    backgroundColor: 'transparent',\n  },\n  wrapper: {\n    marginTop: 100,\n    marginLeft: 16,\n    marginRight: 16,\n  },\n  marginBottomWhiteText: {\n    marginBottom: 10,\n    color: '#fff'\n  },\n  whiteText: {\n    color: '#fff'\n  }\n});","import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_CLASSROOM = gql`\r\n  query getClassroom($where: ClassroomWhereUniqueInput!) {\r\n    classroom(where: $where) {\r\n      id\r\n      description\r\n      name\r\n      floor\r\n      special\r\n      isHidden\r\n      chair {\r\n          id\r\n          name\r\n          exclusivelyQueueAllowedDepartmentsInfo {\r\n            department {\r\n              id\r\n              name\r\n            }\r\n          }\r\n      }\r\n      isWing\r\n      isOperaStudio\r\n      occupied {\r\n        user {\r\n          id\r\n          firstName\r\n          patronymic\r\n          lastName\r\n          type\r\n          nameTemp\r\n          email\r\n          phoneNumber\r\n        }\r\n        until\r\n        state\r\n      }\r\n      instruments {\r\n        name\r\n        type\r\n        rate\r\n      }\r\n      disabled {\r\n        comment\r\n        until\r\n        state\r\n      }\r\n      queueInfo {\r\n        queuePolicy {\r\n          policy\r\n          queueAllowedDepartments {\r\n            department {\r\n              id\r\n              name\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;","import React from 'react';\nimport {View, Text, StyleSheet, Image} from \"react-native\";\nimport {Divider, Modal, Portal, Title} from \"react-native-paper\";\nimport {fullName, isTeacherType} from \"../helpers/helpers\";\nimport {useQuery} from \"@apollo/client\";\nimport {GET_USER_BY_ID} from \"../api/operations/queries/users\";\nimport {InstrumentType, UserTypes, UserTypesUa} from \"../models/models\";\nimport {Linking} from 'react-native'\n\ninterface PropTypes {\n  instrument: InstrumentType;\n  hideModal: () => void;\n  visible: boolean;\n  imageSource: string;\n}\n\nexport default function InstrumentInfo({instrument, hideModal, visible}: PropTypes) {\n  let instrumentType: any = `./../assets/images/UpRightPiano.png`;\n  // @ts-ignore\n  const intRate = Math.round(instrument.rate);\n  const rate = new Array(10).fill(1);\n\n  switch (instrument.type) {\n    case 'Chembalo':\n      instrumentType = <Image source={require(`./../assets/images/Chembalo.png`)} style={styles.icon}/>;\n      break;\n    case 'GrandPiano':\n      instrumentType = <Image source={require(`./../assets/images/GrandPiano.png`)} style={styles.icon}/>;\n      break;\n    case 'UpRightPiano':\n      instrumentType = <Image source={require(`./../assets/images/UpRightPiano.png`)} style={styles.icon}/>;\n      break;\n    default:\n      instrumentType = <Image source={require(`./../assets/images/GrandPiano.png`)} style={styles.icon}/>;\n  }\n\n  return <Portal>\n    <Modal visible={visible} onDismiss={hideModal} contentContainerStyle={styles.containerStyle}>\n      <Title style={{textAlign: 'center'}}>{instrumentType} {instrument.name}</Title>\n      <Divider style={styles.divider}/>\n      <Text style={{textAlign: 'center'}}>Тип: {instrument.type}</Text>\n      <Divider style={styles.divider}/>\n      <Text style={{textAlign: 'center'}}>Рейтинг: {instrument.rate.toFixed(1)}</Text>\n      <View style={styles.rate}>\n        {rate.map((item, index) => <Image key={index}\n          style={{...styles.star, opacity: index < intRate ? 1 : .3}}\n          source={require('../assets/images/star.png')}\n        />)}\n      </View>\n    </Modal>\n  </Portal>\n};\n\nconst styles = StyleSheet.create(({\n  containerStyle: {\n    backgroundColor: 'white',\n    padding: 20,\n    margin: 10,\n    borderRadius: 8\n  },\n  divider: {\n    marginTop: 16,\n    marginBottom: 16\n  },\n  phoneRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between'\n  },\n  phoneNumber: {\n    borderRadius: 8,\n    borderWidth: 1,\n    borderStyle: 'solid',\n    borderColor: '#eee',\n    padding: 8,\n    fontSize: 16,\n    marginTop: 8,\n    color: '#2b5dff'\n  },\n  icon: {\n    width: 20,\n    height: 20,\n    marginRight: 8,\n    marginLeft: 4,\n    opacity: .6\n  },\n  star: {\n    width: 20,\n    height: 20\n  },\n  rate: {\n    marginTop: 8,\n    flexDirection: 'row',\n    justifyContent: 'center'\n  }\n}));","import React, {useState} from 'react';\nimport {View, StyleSheet, Text, Dimensions, Image} from \"react-native\";\nimport {ClassroomType, InstrumentType} from \"../models/models\";\nimport InstrumentInfo from \"./InstrumentInfo\";\n\ninterface PropTypes {\n  instrument: InstrumentType;\n  expanded?: boolean;\n}\n\nexport default function InstrumentItem({instrument, expanded = false}: PropTypes) {\n  const {type, rate, name} = instrument;\n  let instrumentType: any = `./../assets/images/UpRightPiano.png`;\n  const [visible, setVisible] = useState(false);\n\n  const showModal = () => setVisible(true);\n\n  const hideModal = () => setVisible(false);\n\n  switch (type) {\n    case 'Chembalo':\n      instrumentType = <Image source={require(`./../assets/images/Chembalo.png`)} style={styles.icon}/>;\n      break;\n    case 'GrandPiano':\n      instrumentType = <Image source={require(`./../assets/images/GrandPiano.png`)} style={styles.icon}/>;\n      break;\n    case 'UpRightPiano':\n      instrumentType = <Image source={require(`./../assets/images/UpRightPiano.png`)} style={styles.icon}/>;\n      break;\n    default:\n      instrumentType = <Image source={require(`./../assets/images/GrandPiano.png`)} style={styles.icon}/>;\n  }\n\n  return <View style={styles.wrapper} onTouchEnd={expanded ? showModal : () => {}}>\n    {instrumentType}\n    {expanded && <>\n        <Text style={styles.name}>{name}</Text>\n        <Image style={styles.star} source={require('../assets/images/star.png')}/>\n    </>}\n    <Text>{rate.toFixed(1)}</Text>\n    <InstrumentInfo instrument={instrument} hideModal={hideModal} visible={visible}\n                    imageSource={instrumentType}/>\n  </View>\n};\n\nconst styles = StyleSheet.create({\n  wrapper: {\n    flexDirection: 'row',\n    marginTop: 4,\n    marginBottom: 4,\n    marginRight: 2,\n    backgroundColor: 'rgba(0, 0, 0, .05)',\n    paddingTop: 4,\n    paddingBottom: 4,\n    paddingLeft: 4,\n    paddingRight: 8,\n    borderRadius: 4,\n    alignItems: 'center'\n  },\n  icon: {\n    width: 20,\n    height: 20,\n    marginRight: 8,\n    marginLeft: 4,\n    opacity: .6\n  },\n  name: {\n    marginLeft: 4,\n    marginRight: 4\n  },\n  star: {\n    width: 20,\n    height: 20\n  }\n});","import {gql, useQuery} from \"@apollo/client\";\n\nexport const useLocal = (localVarName: string) => {\n  return useQuery(gql`\n      query ${localVarName} {\n        ${localVarName} @client\n      }\n  `);\n};","import {Mode, OccupiedInfo, OccupiedState, User} from \"../models/models\";\nimport React, {useEffect, useRef, useState} from \"react\";\nimport {useQuery} from \"@apollo/client\";\nimport {GET_ME} from \"../api/operations/queries/me\";\nimport {useLocal} from \"./useLocal\";\nimport {getTimeFromUntil, isNotFree, isPendingForMe} from \"../helpers/helpers\";\n\nconst useTimeLeft = (occupied: OccupiedInfo, minutesDuration: number) => {\n  const [timeLeft, setTimeLeft] = useState('');\n  const [timeLeftInPer, setTimeLeftInPer] = useState(100);\n  const interval = useRef<any>({current: null});\n  const {data: {me}} = useQuery(GET_ME);\n\n  useEffect(() => {\n    if (isNotFree(occupied) && occupied.user.id === me.id  && interval.current !== null) {\n      // @ts-ignore\n      interval.current = setInterval(() => {\n        // @ts-ignore\n        const [left, leftPer] = getTimeFromUntil(occupied.until, minutesDuration);\n        const hour: string = (left as string).split(':')?.[0] + ' год. ';\n        const min: string = (left as string).split(':')?.[1] + ' хв. ';\n        const sec: string = (left as string).split(':')?.[2] + ' сек. ';\n\n        setTimeLeft(hour + min + sec);\n        setTimeLeftInPer(leftPer as number);\n        if (timeLeftInPer <= 0) clearInterval(interval.current);\n      }, 1000);\n    } else {\n      clearInterval(interval.current);\n      interval.current = null;\n      setTimeLeft('');\n    }\n  }, [occupied.state]);\n\n  return [timeLeft, timeLeftInPer];\n};\n\nexport default useTimeLeft;","export const HOUR = 3600000;\r\nexport const MINUTE = 60000;\r\nexport const TIME_SNIPPETS = [\":00\", \":15\", \":30\", \":45\"];\r\nexport const WORKING_DAY_END = 21;\r\nexport const WORKING_DAY_START = 8;","import {gql} from \"@apollo/client\";\n\nexport const MAKE_DECISION_ON_PENDING_CLASSROOM = gql`\n    mutation makeDecisionOnPendingClassroom($input: MakeDecisionOnPendingClassroomInput!) {\n        makeDecisionOnPendingClassroom(input: $input) {\n          classroom {\n            id\n            name\n            special\n            isHidden\n            chair {\n                id\n                name\n                exclusivelyQueueAllowedDepartmentsInfo {\n                  department {\n                    id\n                    name\n                  }\n                }\n            }\n            isWing\n            isOperaStudio\n            occupied {\n              user {\n                id\n                firstName\n                patronymic\n                lastName\n                type\n                nameTemp\n              }\n              until\n              state\n            }\n            instruments {\n              id\n              name\n              type\n              rate\n            }\n            disabled {\n              id\n              comment\n              until\n              state\n            }\n          }\n          userErrors {\n            message\n            code\n          }\n        }\n    }\n`;","import React, {useState} from 'react';\nimport {fullName, getTimeHHMM, isNotFree, isOwnClassroom, isPendingForMe} from \"../helpers/helpers\";\nimport {CheckBox, StyleSheet, Text, View} from \"react-native\";\nimport {Banner, Button, Paragraph, ProgressBar, Surface} from \"react-native-paper\";\nimport {ClassroomType, Mode, OccupiedState, User, UserTypeColors, UserTypes, UserTypesUa} from \"../models/models\";\nimport colors from \"../constants/Colors\";\nimport UserInfo from \"./UserInfo\";\nimport {useLocal} from \"../hooks/useLocal\";\nimport useTimeLeft from \"../hooks/useTimeLeft\";\nimport {client} from \"../api/client\";\nimport {MAKE_DECISION_ON_PENDING_CLASSROOM} from \"../api/operations/mutations/makeDecisionOnPendingClassroom\";\n\ntype PropTypes = {\n  classroom: ClassroomType;\n  user: User;\n}\n\nconst OccupantInfo: React.FC<PropTypes> = ({classroom, user}) => {\n  const {data: {mode}} = useLocal('mode');\n  const userFullName = isNotFree(classroom?.occupied) ? fullName(classroom.occupied?.user) : '';\n  const occupiedTotalTime = classroom.occupied.state === OccupiedState.OCCUPIED ? 180 :\n    classroom.occupied.state === OccupiedState.RESERVED ? 15 : 2;\n  const [timeLeft, timeLeftInPer] = useTimeLeft(classroom?.occupied, occupiedTotalTime);\n  const [visibleBanner, setVisibleBanner] = useState(true);\n  const [visible, setVisible] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const makeDecision = async (decision: boolean) => {\n    setLoading(true);\n    try {\n      await client.mutate({\n        mutation: MAKE_DECISION_ON_PENDING_CLASSROOM,\n        variables: {\n          input: {\n            classroomName: classroom.name,\n            reserveClassroom: decision,\n          }\n        }\n      });\n      setLoading(false);\n    } catch (e) {\n      alert(JSON.stringify(e));\n      setLoading(false);\n    }\n  }\n\n  const showModal = () => setVisible(true);\n\n  const hideModal = () => setVisible(false);\n\n  return <>{!isNotFree(classroom.occupied)\n    ? <Text style={styles.freeText}>Вільно</Text>\n    : !isPendingForMe(classroom.occupied, user, mode) && (\n    <Surface style={[{elevation: visible ? 0 : 4}, styles.occupationInfo]}\n             onTouchEnd={showModal}\n    >\n      <Text style={styles.occupantName}>{userFullName}</Text>\n      <Text style={[{\n        backgroundColor: UserTypeColors[classroom.occupied.user.type as UserTypes]\n      },\n        styles.occupantType\n      ]}\n      >\n        {UserTypesUa[classroom.occupied.user.type as UserTypes]}\n      </Text>\n      {isOwnClassroom(classroom.occupied, user) ? (\n        timeLeftInPer > 0 && <View style={{marginTop: 30}}>\n            <Paragraph>\n                Часу на заняття залишилось: {timeLeft}\n            </Paragraph>\n            <ProgressBar progress={timeLeftInPer as number / 100} visible color={colors.red}\n                         style={styles.progressBar}\n            />\n        </View>\n      ) : (\n        <Text style={styles.occupiedUntil}>Зайнято до {getTimeHHMM(new Date(classroom.occupied.until))}</Text>\n      )}\n      <UserInfo userId={classroom.occupied.user.id} hideModal={hideModal} visible={visible}/>\n    </Surface>\n  )}\n    {classroom.occupied.state === OccupiedState.RESERVED &&\n    classroom.occupied.user.id === user.id && (\n      <>\n        {timeLeftInPer > 0 && <View style={styles.spaceBottom30}>\n            <Banner visible={visibleBanner} actions={[{\n              label: 'Зрозуміло',\n              onPress: () => setVisibleBanner(false)\n            }]}\n                    style={styles.spaceBottom30}\n            >Заберіть ключі від аудиторії в учбовій частині. Максимальний час знаходження в аудиторії - 3 години.\n            </Banner>\n            <Paragraph>\n                Час на прийняття рішення: {timeLeft}\n            </Paragraph>\n            <ProgressBar progress={timeLeftInPer as number / 100} visible color={colors.red}\n                         style={styles.progressBar}\n            />\n        </View>}\n      </>\n    )}\n    {classroom.occupied.state === OccupiedState.PENDING &&\n    classroom.occupied.user.id === user.id && mode === Mode.INLINE && (\n      <>\n        {timeLeftInPer > 0 && <View style={styles.spaceBottom30}>\n            <Banner visible={visibleBanner} actions={[{\n              label: 'Зрозуміло',\n              onPress: () => setVisibleBanner(false)\n            }]}\n                    style={styles.spaceBottom30}\n            >\n              {\n                `Ви можете відхилити аудиторію ${user.queueInfo.currentSession?.skips} раз${user.queueInfo.currentSession?.skips === 2 || user.queueInfo.currentSession?.skips === 3 || user.queueInfo.currentSession?.skips === 4 ? 'и.' : '.'\n                } Якщо аудиторія не буде підтверджена на протязі визначеного часу, вона буде відхилена автоматично. Якщо показник допустимих відхилень дорівнює нулю і Ви не підтверджуєте та не відхиляєте аудиторію, вона автоматично відхиляється і Ви вибуваєте з черги.`\n              }\n            </Banner>\n            <Paragraph>\n                Часу на прийняття рішення залишилось: {timeLeft}\n            </Paragraph>\n            <ProgressBar progress={timeLeftInPer as number / 100} visible color={colors.red}\n                         style={styles.progressBar}\n            />\n        </View>}\n        <View>\n          <Button mode='contained' style={{marginBottom: 8}} color='#f91354' loading={loading}\n                  disabled={loading}\n                  onPress={() => makeDecision(false)}>\n            Відхилити аудиторію\n          </Button>\n          <Button mode='contained' onPress={() => makeDecision(true)} loading={loading}\n                  disabled={loading}>\n            Підтвердити аудиторію\n          </Button>\n        </View>\n      </>\n    )}\n  </>\n}\n\nconst styles = StyleSheet.create({\n  occupationInfo: {\n    borderRadius: 8,\n    padding: 16\n  },\n  freeText: {\n    textAlign: 'center',\n    fontSize: 20,\n    borderColor: '#ddd',\n    borderWidth: 1,\n    borderStyle: 'solid',\n    alignSelf: 'center',\n    paddingVertical: 8,\n    paddingHorizontal: 32,\n    borderRadius: 32,\n    color: '#bbb'\n  },\n  occupantName: {\n    textAlign: 'center',\n    fontSize: 16,\n  },\n  occupantType: {\n    color: '#fff',\n    textAlign: 'center',\n    alignSelf: 'center',\n    paddingVertical: 2,\n    paddingHorizontal: 4,\n    marginTop: 8,\n    borderRadius: 4,\n  },\n  occupiedUntil: {\n    textAlign: 'center',\n    marginTop: 8\n  },\n  progressBar: {\n    height: 24,\n    borderRadius: 6,\n  },\n  spaceBottom30: {\n    marginBottom: 30,\n    backgroundColor: '#ffffff'\n  }\n});\n\nexport default OccupantInfo;","import {gql} from \"@apollo/client\";\n\nexport const ADD_USER_TO_QUEUE = gql`\n    mutation addUserToQueue($input: AddUserToQueueInputType!) {\n        addUserToQueue(input: $input) {\n          user {\n            id\n            firstName\n            lastName\n            occupiedClassrooms {\n              id\n              state\n              until\n              classroom {\n                id\n              }\n            }\n            queueInfo {\n              id\n              currentSession {\n                id\n                state\n                skips\n              }\n            }\n          }\n          userErrors {\n              message\n              code\n            }\n        }\n    }\n`;","import {client, meVar, minimalClassroomIdsVar, modeVar} from \"../../api/client\";\nimport {EnqueuedBy, Mode, QueueState, QueueType, User} from \"../../models/models\";\nimport {ADD_USER_TO_QUEUE} from \"../../api/operations/mutations/addUserToQueue\";\n\nconst getInLine = async (minimalClassroomsIds: number[], desirableClassroomIds: number[]) => {\n  const user: User | null = meVar();\n\n  const allClassroomIds = [...(new Set([...minimalClassroomsIds, ...desirableClassroomIds]))];\n\n  const minimalData = allClassroomIds.map(id => ({\n    classroomId: id,\n    type: QueueType.MINIMAL\n  }));\n\n  const desirableData = desirableClassroomIds.map(id => ({\n    classroomId: id,\n    type: QueueType.DESIRED\n  }));\n\n  try {\n    await client.mutate({\n      mutation: ADD_USER_TO_QUEUE, variables: {\n        input: {\n          userId: user.id,\n          data: [...minimalData, ...desirableData],\n          enqueuedBy: EnqueuedBy.SELF\n        }\n      }\n    })\n    modeVar(Mode.INLINE);\n    minimalClassroomIdsVar(allClassroomIds);\n  } catch (e) {\n    alert(JSON.stringify(e));\n  }\n};\n\nexport  default getInLine;","import {gql} from \"@apollo/client\";\n\nexport const REMOVE_USER_FROM_QUEUE = gql`\n    mutation removeUserFromQueue($input: RemoveUserFromQueueInputType!) {\n        removeUserFromQueue(input: $input) {\n           user {\n            id\n            firstName\n            lastName\n            occupiedClassrooms {\n              id\n              state\n              until\n              classroom {\n                id\n              }\n            }\n            }\n            userErrors {\n             message\n             code\n            }\n        }\n    }\n`;","import {QueueSession, QueueType, User, UserQueueState} from \"../../models/models\";\nimport {getItem} from \"../../api/asyncStorage\";\nimport {client, desirableClassroomIdsVar, isMinimalSetupVar, minimalClassroomIdsVar} from \"../../api/client\";\nimport {REMOVE_USER_FROM_QUEUE} from \"../../api/operations/mutations/removeUserFromQueue\";\n\nexport default async function removeFromLine(classroomId?: number, currentSession?: QueueSession) {\n  const user: User | undefined = await getItem('user');\n  if (classroomId) {\n    try {\n      await client.mutate({\n        mutation: REMOVE_USER_FROM_QUEUE,\n        variables: {\n          input: {\n            userId: user.id,\n            deleteWhere: {\n              classroomId: {\n                equals: classroomId\n              },\n              type: {\n                equals: currentSession.state === UserQueueState.IN_QUEUE_MINIMAL\n                  ? QueueType.MINIMAL : QueueType.DESIRED\n              }\n            }\n          }\n        }\n      });\n      minimalClassroomIdsVar([]);\n      desirableClassroomIdsVar([]);\n      isMinimalSetupVar(true);\n    } catch (e) {\n      alert(JSON.stringify(e))\n    }\n  } else {\n    try {\n      await client.mutate({\n        mutation: REMOVE_USER_FROM_QUEUE,\n        variables: {\n          input: {\n            userId: user.id\n          }\n        }\n      });\n      minimalClassroomIdsVar([]);\n      desirableClassroomIdsVar([]);\n      isMinimalSetupVar(true);\n    } catch (e) {\n      alert(JSON.stringify(e))\n    }\n  }\n};","import React, {useState} from 'react';\nimport {useLocal} from \"../hooks/useLocal\";\nimport {Button, Divider} from \"react-native-paper\";\nimport {desirableClassroomIdsVar, minimalClassroomIdsVar} from \"../api/client\";\nimport {StyleSheet} from \"react-native\";\nimport {ClassroomType, Mode, QueueRecord, QueueType, User, UserQueueState} from \"../models/models\";\nimport getInLine from \"../helpers/queue/getInLine\";\nimport WaitDialog from \"./WaitDialog\";\nimport {isEnabledForQueue} from \"../helpers/helpers\";\nimport {useNavigation} from \"@react-navigation/native\";\nimport removeFromLine from \"../helpers/queue/removeFromLine\";\n\ntype PropTypes = {\n  classroom: ClassroomType;\n  currentUser: User;\n}\n\nconst ClassroomQueueControlButtons: React.FC<PropTypes> = ({\n                                                             classroom, currentUser: {\n    queueInfo: {currentSession}, queue, ...currentUser\n  }\n                                                           }) => {\n  const {data: {mode}} = useLocal('mode');\n  const {data: {isMinimalSetup}} = useLocal('isMinimalSetup');\n  const {data: {desirableClassroomIds}} = useLocal('desirableClassroomIds');\n  const {data: {minimalClassroomIds}} = useLocal('minimalClassroomIds');\n  const currentRecord: QueueRecord[] = currentSession?.state === UserQueueState.IN_QUEUE_MINIMAL\n    && queue.filter(queueRecord => queueRecord.classroom.id === classroom.id);\n  const [loading, setLoading] = useState(false);\n  const navigation = useNavigation();\n\n  const handleClassroomForQueue = async () => {\n    if (isMinimalSetup) {\n      const minimalSet = new Set([...minimalClassroomIds]);\n      minimalSet.has(classroom.id) ? minimalSet.delete(classroom.id) : minimalSet.add(classroom.id)\n      minimalClassroomIdsVar([...minimalSet]);\n    } else {\n      const desiredSet = new Set([...desirableClassroomIds]);\n      desiredSet.has(classroom.id) ? desiredSet.delete(classroom.id) : desiredSet.add(classroom.id)\n      desirableClassroomIdsVar([...desiredSet]);\n    }\n    navigation.goBack();\n  };\n\n  const asyncHandleClassroomForQueue = async (exist: boolean) => {\n    setLoading(true);\n    if (currentSession?.state === UserQueueState.IN_QUEUE_MINIMAL) {\n      if (exist) {\n        await removeFromLine(classroom.id, currentSession)\n      } else {\n        await getInLine([classroom.id], []);\n      }\n    } else if (currentSession?.state === UserQueueState.IN_QUEUE_DESIRED_AND_OCCUPYING) {\n      if (exist) {\n        await removeFromLine(classroom.id, currentSession)\n      } else {\n        await getInLine([], [classroom.id]);\n      }\n    }\n    setLoading(false);\n    navigation.goBack();\n  };\n  if (!isEnabledForQueue(classroom, currentUser)) return null;\n  return (\n    <>\n      <WaitDialog visible={loading}/>\n      {mode === Mode.QUEUE_SETUP && (\n        <>\n          <Divider style={styles.divider}/>\n          {isMinimalSetup ? (\n            minimalClassroomIds.includes(classroom.id) ? (\n              <Button mode='contained' style={{marginBottom: 8}}\n                      onPress={handleClassroomForQueue}\n              >\n                Видалити з черги (мінімальні)\n              </Button>\n            ) : (\n              <Button mode='contained' style={{marginBottom: 8}}\n                      onPress={handleClassroomForQueue}\n              >\n                Додати до черги (мінімальні)\n              </Button>\n            )\n          ) : (\n            desirableClassroomIds.includes(classroom.id) ? (\n              <Button mode='contained' style={{marginBottom: 8}}\n                      onPress={handleClassroomForQueue}\n              >\n                Видалити з черги (бажані)\n              </Button>\n            ) : (\n              <Button mode='contained' style={{marginBottom: 8}}\n                      onPress={handleClassroomForQueue}\n              >\n                Додати до черги (бажані)\n              </Button>\n            )\n          )}\n        </>\n      )}\n      {(currentSession?.state === UserQueueState.IN_QUEUE_MINIMAL\n        || currentSession?.state === UserQueueState.IN_QUEUE_DESIRED_AND_OCCUPYING)\n      && (\n        <>\n          <Divider style={styles.divider}/>\n          {currentRecord.some(({type}) => type === QueueType.MINIMAL) ? (\n            <Button mode='contained' style={{marginBottom: 8}}\n                    onPress={() => asyncHandleClassroomForQueue(true)}\n            >\n              Видалити з черги\n            </Button>\n          ) : (\n            <Button mode='contained' style={{marginBottom: 8}}\n                    onPress={() => asyncHandleClassroomForQueue(false)}\n            >\n              Додати до черги\n            </Button>\n          )}\n        </>\n      )}\n    </>\n  );\n}\n\nconst styles = StyleSheet.create(\n  {\n    divider: {\n      marginTop: 16,\n      marginBottom: 16\n    },\n  }\n)\n\nexport default ClassroomQueueControlButtons;","import {gql} from \"@apollo/client\";\n\nexport const RESERVE_FREE_CLASSROOM = gql`\n    mutation reserveFreeClassroom($input: ReserveFreeClassroomInput!) {\n        reserveFreeClassroom(input: $input) {\n          classroom {\n            id\n            occupied {\n              user {\n                id\n                firstName\n                patronymic\n                lastName\n                type\n                nameTemp\n              }\n              until\n              state\n            }\n          }\n          userErrors {\n            message\n            code\n          }\n        }\n    }\n`;","export const getDistance = (lat1: number, lon1: number, lat2: number, lon2: number, unit: string) => {\n  let radLat1 = Math.PI * lat1 / 180\n  let radLat2 = Math.PI * lat2 / 180\n  let theta = lon1 - lon2\n  let radTheta = Math.PI * theta / 180\n  let dist = Math.sin(radLat1) * Math.sin(radLat2) + Math.cos(radLat1) * Math.cos(radLat2) * Math.cos(radTheta);\n  if (dist > 1) {\n    dist = 1;\n  }\n  dist = Math.acos(dist)\n  dist = dist * 180 / Math.PI\n  dist = dist * 60 * 1.1515\n  if (unit == \"K\") {\n    dist = dist * 1.609344\n  }\n  if (unit == \"N\") {\n    dist = dist * 0.8684\n  }\n  return dist\n};","export const UNIVERSITY_LOCATION = {\n  lat: 50.44902530334269,\n  long: 30.52519006935677\n}\n\nexport const MAX_DISTANCE = 7.750;","import React, {useEffect, useState} from 'react';\nimport {Dimensions, StyleSheet, Text, View} from \"react-native\";\nimport {\n  ClassroomType,\n  DisabledState,\n  InstrumentType,\n  OccupiedState,\n  UserQueueState\n} from \"../models/models\";\nimport {ActivityIndicator, Appbar, Button, Chip, Divider, Title} from \"react-native-paper\";\nimport {useNavigation} from \"@react-navigation/native\";\nimport {useQuery} from \"@apollo/client\";\nimport {isEnabledForCurrentDepartment, isOccupiedOrPendingByCurrentUser} from \"../helpers/helpers\";\nimport {useLocal} from \"../hooks/useLocal\";\nimport {client} from \"../api/client\";\nimport Colors from \"../constants/Colors\";\nimport {GET_CLASSROOM} from \"../api/operations/queries/classroom\";\nimport {GET_USER_BY_ID} from \"../api/operations/queries/users\";\nimport moment from \"moment\";\nimport InstrumentItem from \"./InstrumentItem\";\nimport OccupantInfo from \"./OccupantInfo\";\nimport ClassroomQueueControlButtons from \"./ClassroomQueueControlButtons\";\nimport {RESERVE_FREE_CLASSROOM} from \"../api/operations/mutations/reserveFreeClassroom\";\nimport {getDistance} from \"../helpers/getDistance\";\nimport {MAX_DISTANCE, UNIVERSITY_LOCATION} from \"../constants/constants\";\nimport * as Location from \"expo-location\";\nimport ErrorDialog from \"./ErrorDialog\";\n\ninterface PropTypes {\n  route: any;\n}\n\nconst windowHeight = Dimensions.get(\"window\").height;\n\nexport default function ClassroomInfo({route: {params: {classroomId, currentUserId}}}: PropTypes) {\n  const navigation = useNavigation();\n  const [loading, setLoading] = useState(false);\n  const [classroom, setClassroom] = useState<ClassroomType | null>(null);\n  const {\n    data: userData,\n    loading: userLoading,\n    error: userError,\n  } = useQuery(GET_USER_BY_ID, {\n    variables: {\n      where: {\n        id: currentUserId\n      }\n    }\n  });\n  const [location, setLocation] = useState(null);\n  const [errorMsg, setErrorMsg] = useState(null);\n  const [isNear, setIsNear] = useState(false);\n\n  useEffect(() => {\n    if (location) {\n      const distance = getDistance(location.coords.latitude, location.coords.longitude,\n        UNIVERSITY_LOCATION.lat, UNIVERSITY_LOCATION.long, 'K');\n      if (distance <= MAX_DISTANCE) {\n        setIsNear(true);\n      } else {\n        setIsNear(false);\n        setErrorMsg(`Щоб взяти аудиторію або стати в чергу, Ви маєте знаходитись від академії на відстані, що не перебільшує 150 м. Ваша відстань: ${\n          (distance * 1000).toFixed(0)\n        } м.`)\n      }\n    }\n  }, [location]);\n\n  const getCurrentLocation = async () => {\n    let {status} = await Location.requestForegroundPermissionsAsync();\n    if (status !== 'granted') {\n      setErrorMsg('Щоб взяти аудиторію або стати в чергу, потрібно надати дозвіл на геолокацію.');\n      return;\n    }\n    setErrorMsg(null);\n    let location = await Location.getCurrentPositionAsync({});\n    setLocation(location);\n  };\n\n  useEffect(() => {\n    setLoading(true);\n    try {\n      client.query({\n        query: GET_CLASSROOM,\n        variables: {\n          where: {\n            id: classroomId\n          }\n        },\n      }).then(({data}: any) => {\n        setClassroom(data.classroom);\n        setLoading(false);\n      });\n    } catch (e) {\n      alert(JSON.stringify(e));\n      setLoading(false);\n    }\n  }, []);\n\n  const goBack = () => navigation.goBack();\n\n  const getReservedClassroom = async () => {\n    setLoading(true);\n    await getCurrentLocation();\n    if (isNear) {\n      try {\n        const result = await client.mutate({\n          mutation: RESERVE_FREE_CLASSROOM,\n          variables: {\n            input: {\n              classroomName: classroom.name\n            }\n          }\n        });\n        if (result.data.reserveFreeClassroom.userErrors.length) {\n          result.data.reserveFreeClassroom.userErrors.forEach(({message}: any) => {\n            alert(JSON.stringify(message))\n          })\n        } else {\n          goBack();\n          setLoading(false);\n        }\n      } catch (e) {\n        alert(JSON.stringify(e));\n        setLoading(false);\n      }\n    }\n    setLoading(false);\n  };\n\n  return <View style={styles.container}>\n    <Appbar style={styles.top}>\n      <Appbar.BackAction onPress={goBack}/>\n      {classroom && userData && (\n        <Appbar.Content\n          title={`Аудиторія ${classroom.name}`}\n          subtitle={classroom.chair ? classroom.chair.name : ''}\n        />\n      )}\n    </Appbar>\n    <View style={styles.wrapper}>\n      {(!classroom || !userData) ? <ActivityIndicator animating color='#fff' size={64}/> : (\n        <View>\n          {!isEnabledForCurrentDepartment(classroom, userData.user) && (\n            <View style={styles.warning}>\n              <Title style={styles.warningText}>Аудиторія недоступна для вашої кафедри</Title>\n            </View>\n          )}\n          {classroom.disabled.state === DisabledState.DISABLED && (\n            <View style={styles.warning}>\n              <Title style={styles.warningText}>Аудиторія відключена від системи</Title>\n              <Title style={styles.warningText}>{classroom.disabled.comment}</Title>\n              <Title style={styles.warningText}>\n                до {moment(classroom.disabled.until).format('DD-MM-YYYY HH:mm')}\n              </Title>\n            </View>\n          )}\n          {classroom.isHidden && (\n            <View style={styles.warning}>\n              <Title style={styles.warningText}>Аудиторія недоступна</Title>\n            </View>\n          )}\n          <View style={styles.tags}>\n            {classroom.isWing && <Chip selected selectedColor='#00f' mode='outlined'\n                                       style={styles.tag}>Флігель</Chip>}\n            {classroom.isOperaStudio && <Chip selected selectedColor='#00f' mode='outlined'\n                                              style={styles.tag}>Оперна студія</Chip>}\n            {classroom.special && <Chip selected selectedColor='#00f' mode='outlined'\n                                        style={styles.tag}>Спеціалізована</Chip>}\n          </View>\n          <Divider style={styles.divider}/>\n          <View>\n            <Text style={{textAlign: 'center'}}>{classroom.description}</Text>\n          </View>\n          <Divider style={styles.divider}/>\n          <View>\n            <Text style={{textAlign: 'center'}}>Поверх: {classroom.floor}</Text>\n          </View>\n          <Divider style={styles.divider}/>\n          <View>\n            {!!classroom.instruments.length && (\n              <>\n                {classroom.instruments?.map((instrument: InstrumentType) => (\n                  <InstrumentItem key={instrument.id} instrument={instrument} expanded/>\n                ))}\n                <Divider style={styles.divider}/>\n              </>\n            )}\n          </View>\n          <OccupantInfo classroom={classroom} user={userData.user}/>\n          {classroom.occupied.state !== OccupiedState.FREE\n          && !isOccupiedOrPendingByCurrentUser(classroom.occupied, userData.user)\n          && <ClassroomQueueControlButtons classroom={classroom} currentUser={userData.user}/>\n          }\n          {classroom.disabled.state !== DisabledState.DISABLED\n          && classroom.occupied.state === OccupiedState.FREE\n          && isEnabledForCurrentDepartment(classroom, userData.user)\n          && userData.user?.queueInfo.currentSession?.state !== UserQueueState.OCCUPYING\n          && userData.user?.queueInfo.currentSession?.state !== UserQueueState.IN_QUEUE_DESIRED_AND_OCCUPYING\n          && (\n            <>\n              <Divider style={styles.divider}/>\n              <Button mode='contained' onPress={getReservedClassroom} disabled={!classroom || loading}>\n                Взяти аудиторію\n              </Button>\n            </>\n          )}\n        </View>\n      )}\n      <ErrorDialog visible={!!errorMsg} hideDialog={() => setErrorMsg(null)}\n                   message={errorMsg}\n      />\n    </View>\n  </View>\n};\n\nconst styles = StyleSheet.create({\n  top: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    paddingTop: 26,\n    height: 80,\n    backgroundColor: '#2e287c',\n  },\n  container: {\n    backgroundColor: '#ffffff',\n    height: windowHeight\n  },\n  wrapper: {\n    marginTop: 100,\n    paddingLeft: 16,\n    paddingRight: 16,\n    backgroundColor: '#fff',\n  },\n  warning: {\n    backgroundColor: '#f9135411',\n    borderColor: Colors.red,\n    borderWidth: 2,\n    borderRadius: 8,\n    padding: 16,\n    marginBottom: 16\n  },\n  warningText: {\n    fontWeight: \"bold\",\n    color: Colors.red,\n    textAlign: \"center\"\n  },\n  divider: {\n    marginTop: 16,\n    marginBottom: 16\n  },\n  department: {\n    fontSize: 20,\n    marginBottom: 16,\n    textAlign: 'center'\n  },\n  tags: {\n    flexDirection: 'row',\n    justifyContent: 'center'\n  },\n  tag: {\n    marginRight: 8\n  },\n  description: {\n    fontSize: 16,\n  },\n  scheduleHeader: {\n    textAlign: 'center',\n    marginBottom: 16,\n  },\n  occupationInfo: {\n    borderRadius: 8,\n    padding: 16\n  },\n  freeText: {\n    textAlign: 'center',\n    fontSize: 20,\n    borderColor: '#ddd',\n    borderWidth: 1,\n    borderStyle: 'solid',\n    alignSelf: 'center',\n    paddingVertical: 8,\n    paddingHorizontal: 32,\n    borderRadius: 32,\n    color: '#bbb'\n  },\n  occupantName: {\n    textAlign: 'center',\n    fontSize: 16,\n  },\n  occupantType: {\n    color: '#fff',\n    textAlign: 'center',\n    alignSelf: 'center',\n    paddingVertical: 2,\n    paddingHorizontal: 4,\n    marginTop: 8,\n    borderRadius: 4,\n  },\n  occupiedUntil: {\n    textAlign: 'center',\n    marginTop: 8\n  },\n  queueSetupButtons: {\n    marginTop: 32,\n    backgroundColor: '#ffffff'\n  },\n  progressBar: {\n    height: 24,\n    borderRadius: 6,\n  },\n  spaceBottom30: {\n    marginBottom: 30,\n    backgroundColor: '#ffffff'\n  }\n});","import {ClassroomType} from \"../models/models\";\n\nexport default function sortAB(a: ClassroomType, b: ClassroomType) {\n  return parseInt(a.name) - parseInt(b.name);\n}","import React from \"react\";\nimport {Dimensions, Image, StyleSheet, Text, TouchableHighlight, View} from \"react-native\";\nimport {ClassroomType, DisabledState} from \"../../models/models\";\nimport Colors from \"../../constants/Colors\";\nimport {Button, Surface} from \"react-native-paper\";\nimport InstrumentItem from \"../InstrumentItem\";\nimport {useNavigation} from \"@react-navigation/native\";\nimport {useLocal} from \"../../hooks/useLocal\";\n\nconst windowWidth = Dimensions.get('window').width;\nconst cellWidth = ((windowWidth - 10) / 3);\n\ntype PropTypes = {\n  classroom: ClassroomType;\n  isEnabledForCurrentUser: boolean;\n}\n\nconst FreeClassroomCell: React.FC<PropTypes> = ({classroom, isEnabledForCurrentUser}) => {\n  const navigation = useNavigation();\n  const special = !!classroom.special;\n  const {instruments, disabled} = classroom;\n  const isDisabled = disabled.state === DisabledState.DISABLED || !isEnabledForCurrentUser;\n\n  const handlePress = () => {\n    navigation.navigate('ClassroomInfo', {classroomId: classroom.id});\n  };\n\n  return (\n    <TouchableHighlight onPress={handlePress}>\n      <Surface style={[styles.cell, isDisabled ? styles.disabled : styles.free]}>\n        <View style={styles.cellHeader}>\n          <Text style={styles.name}>{classroom.name}</Text>\n          <Image source={require('./../../assets/images/specialPiano.png')}\n                 style={[special ? styles.special : styles.notSpecial]}/>\n        </View>\n        <Text style={styles.occupationInfo} numberOfLines={1}>\n          {isDisabled ? !isEnabledForCurrentUser ? 'Для студентів кафедри' : disabled?.comment : 'Вільно'}\n        </Text>\n        <View style={styles.instruments}>\n          {instruments?.length\n            ? instruments\n              .slice()\n              .sort((a, b) => b.rate - a.rate).slice(0, 2)\n              .map(instrument => <InstrumentItem instrument={instrument} key={instrument.id}/>)\n            : <View style={styles.space}/>}\n        </View>\n      </Surface>\n    </TouchableHighlight>\n  )\n}\n\nexport default FreeClassroomCell;\n\nconst styles = StyleSheet.create({\n  cell: {\n    width: cellWidth,\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: 100,\n    margin: 1,\n    elevation: 2,\n    borderRadius: 4,\n    position: 'relative',\n    overflow: 'hidden',\n  },\n  occupationInfo: {\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center',\n    backgroundColor: '#00000011'\n  },\n  free: {\n    backgroundColor: '#4bfd63'\n  },\n  disabled: {\n    backgroundColor: '#ccc',\n  },\n  cellHeader: {\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: cellWidth,\n    paddingLeft: 16,\n    paddingRight: 16,\n    flexDirection: 'row',\n  },\n  name: {\n    fontSize: 35,\n    fontWeight: 'bold',\n  },\n  special: {\n    width: 20,\n    height: 20,\n    opacity: 1\n  },\n  notSpecial: {\n    width: 20,\n    height: 20,\n    opacity: 0\n  },\n  instruments: {\n    flexDirection: 'row'\n  },\n  space: {\n    height: 20,\n    margin: 8,\n  },\n  checkMark: {\n    position: 'absolute',\n    zIndex: 2,\n    backgroundColor: '#00000088'\n  },\n  timeLeftProgress: {\n    left: 0,\n    position: 'absolute',\n    zIndex: 1000,\n    backgroundColor: '#00000033',\n    height: 100,\n    width: cellWidth,\n  },\n  timeLeft: {\n    fontSize: 12,\n    backgroundColor: '#f91354',\n    color: '#fff',\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center'\n  },\n  keyImage: {\n    position: \"absolute\",\n    top: 8,\n    right: 8,\n    width: 30,\n    height: 30,\n    resizeMode: \"stretch\",\n    tintColor: Colors.red\n  }\n});","import React, {CSSProperties} from \"react\";\nimport {Dimensions, Image, StyleSheet, Text, TouchableHighlight, View} from \"react-native\";\nimport {ClassroomType, DisabledState, Mode} from \"../../models/models\";\nimport Colors from \"../../constants/Colors\";\nimport {IconButton, Surface} from \"react-native-paper\";\nimport InstrumentItem from \"../InstrumentItem\";\nimport {fullName, isNotFree, typeStyle} from \"../../helpers/helpers\";\nimport {useNavigation} from \"@react-navigation/native\";\nimport {useLocal} from \"../../hooks/useLocal\";\nimport {desirableClassroomIdsVar, minimalClassroomIdsVar} from \"../../api/client\";\nimport useTimeLeft from \"../../hooks/useTimeLeft\";\n\nconst windowWidth = Dimensions.get('window').width;\nconst cellWidth = ((windowWidth - 10) / 3);\n\ntype PropTypes = {\n  classroom: ClassroomType;\n  isEnabledForCurrentUser: boolean;\n}\n\nconst OccupiedClassroomCell: React.FC<PropTypes> = ({classroom, isEnabledForCurrentUser}) => {\n  const navigation = useNavigation();\n  const {data: {mode}} = useLocal('mode');\n  const {data: {isMinimalSetup}} = useLocal('isMinimalSetup');\n  const {data: {minimalClassroomIds}} = useLocal('minimalClassroomIds');\n  const {data: {desirableClassroomIds}} = useLocal('desirableClassroomIds');\n\n  const special = !!classroom.special;\n  const {instruments, occupied, disabled, isHidden} = classroom;\n  const isDisabled = disabled.state === DisabledState.DISABLED || !isEnabledForCurrentUser;\n  const userFullName = fullName(occupied.user, true);\n\n  const handleCheck = () => {\n    if (isMinimalSetup) {\n      const minimalSet = new Set([...minimalClassroomIds]);\n      minimalSet.has(classroom.id) ? minimalSet.delete(classroom.id) : minimalSet.add(classroom.id)\n      minimalClassroomIdsVar([...minimalSet]);\n    } else {\n      const desiredSet = new Set([...desirableClassroomIds]);\n      desiredSet.has(classroom.id) ? desiredSet.delete(classroom.id) : desiredSet.add(classroom.id)\n      desirableClassroomIdsVar([...desiredSet]);\n    }\n  };\n\n  const handlePress = () => {\n    if (mode === Mode.QUEUE_SETUP) {\n      handleCheck();\n    } else {\n      navigation.navigate('ClassroomInfo', {classroomId: classroom.id});\n    }\n  };\n\n  const handleLongPress = () => {\n    navigation.navigate('ClassroomInfo', {classroomId: classroom.id});\n  };\n\n  const isChecked = () => {\n    if (isMinimalSetup) {\n      return minimalClassroomIds.includes(classroom.id) && mode === Mode.QUEUE_SETUP;\n    } else {\n      return desirableClassroomIds.includes(classroom.id) && mode === Mode.QUEUE_SETUP;\n    }\n  };\n\n  const cellStyle = StyleSheet.create({\n    cell: {\n      width: cellWidth,\n      justifyContent: 'center',\n      alignItems: 'center',\n      height: 100,\n      margin: 1,\n      elevation: 2,\n      borderRadius: 4,\n      position: 'relative',\n      overflow: 'hidden',\n      opacity: isHidden ? .5 : 1,\n      backgroundColor: isDisabled ? '#ccc' : '#fff'\n    }\n  });\n\n  return (\n    <TouchableHighlight onPress={handlePress} onLongPress={handleLongPress}>\n      <Surface style={cellStyle.cell}>\n        {isChecked() && (\n          <IconButton icon='check-bold' style={styles.checkMark} color='#0f0'\n                      onPress={handlePress} onLongPress={handleLongPress}/>\n        )}\n        <View style={styles.cellHeader}>\n          <Text style={styles.name}>{classroom.name}</Text>\n          <Image source={require('./../../assets/images/specialPiano.png')}\n                 style={[special ? styles.special : styles.notSpecial]}/>\n        </View>\n        <Text style={[styles.occupationInfo, typeStyle(occupied, isDisabled)]} numberOfLines={1}>\n          {isDisabled ? !isEnabledForCurrentUser ? 'Для студентів кафедри' : disabled?.comment : userFullName}\n        </Text>\n        <View style={styles.instruments}>\n          {instruments?.length\n            ? instruments\n              .slice()\n              .sort((a, b) => b.rate - a.rate).slice(0, 2)\n              .map(instrument => <InstrumentItem instrument={instrument} key={instrument.id}/>)\n            : <View style={styles.space}/>}\n        </View>\n      </Surface>\n    </TouchableHighlight>\n  )\n}\n\nexport default OccupiedClassroomCell;\n\nconst styles = StyleSheet.create({\n  occupationInfo: {\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center'\n  },\n  cellHeader: {\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: cellWidth,\n    paddingLeft: 16,\n    paddingRight: 16,\n    flexDirection: 'row',\n  },\n  name: {\n    fontSize: 35,\n    fontWeight: 'bold',\n  },\n  special: {\n    width: 20,\n    height: 20,\n    opacity: 1\n  },\n  notSpecial: {\n    width: 20,\n    height: 20,\n    opacity: 0\n  },\n  instruments: {\n    flexDirection: 'row'\n  },\n  space: {\n    height: 20,\n    margin: 8,\n  },\n  checkMark: {\n    position: 'absolute',\n    zIndex: 2,\n    backgroundColor: '#00000088'\n  },\n  timeLeftProgress: {\n    left: 0,\n    position: 'absolute',\n    zIndex: 1000,\n    backgroundColor: '#00000033',\n    height: 100,\n    width: cellWidth,\n  },\n  timeLeft: {\n    fontSize: 12,\n    backgroundColor: '#f91354',\n    color: '#fff',\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center'\n  },\n  keyImage: {\n    position: \"absolute\",\n    top: 8,\n    right: 8,\n    width: 30,\n    height: 30,\n    resizeMode: \"stretch\",\n    tintColor: Colors.red\n  }\n});","import React from \"react\";\nimport {Dimensions, Image, StyleSheet, Text, TouchableHighlight, View} from \"react-native\";\nimport {ClassroomType, DisabledState} from \"../../models/models\";\nimport Colors from \"../../constants/Colors\";\nimport {Surface} from \"react-native-paper\";\nimport InstrumentItem from \"../InstrumentItem\";\nimport useTimeLeft from \"../../hooks/useTimeLeft\";\nimport {useNavigation} from \"@react-navigation/native\";\n\nconst windowWidth = Dimensions.get('window').width;\nconst cellWidth = ((windowWidth - 10) / 3);\n\ntype PropTypes = {\n  classroom: ClassroomType;\n}\n\nconst ReservedClassroomCell: React.FC<PropTypes> = ({classroom}) => {\n  const navigation = useNavigation();\n  const special = !!classroom.special;\n  const {instruments, occupied, disabled} = classroom;\n  const isDisabled = disabled.state === DisabledState.DISABLED;\n  const [timeLeft, timeLeftInPer] = useTimeLeft(occupied, 15);\n\n  const handlePress = () => {\n    navigation.navigate('ClassroomInfo', {classroomId: classroom.id});\n  };\n\n  const ProgressBackground = () => (\n    <View\n      style={{\n        ...styles.timeLeftProgress,\n        width: (cellWidth / 100) * (timeLeftInPer as number)\n      }}\n    />\n  );\n\n  return (\n    <TouchableHighlight onPress={handlePress}>\n      <Surface style={[styles.cell, isDisabled ? styles.disabled : styles.occupied]}>\n        <Image source={require('../../assets/images/key.png')} style={styles.keyImage}/>\n        <ProgressBackground/>\n        <View style={styles.cellHeader}>\n          <Text style={styles.name}>{classroom.name}</Text>\n          <Image source={require('./../../assets/images/specialPiano.png')}\n                 style={[special ? styles.special : styles.notSpecial]}/>\n        </View>\n        <Text style={styles.timeLeft} numberOfLines={1}>\n          {timeLeft}\n        </Text>\n        <View style={styles.instruments}>\n          {instruments?.length\n            ? instruments\n              .slice()\n              .sort((a, b) => b.rate - a.rate).slice(0, 2)\n              .map(instrument => <InstrumentItem instrument={instrument} key={instrument.id}/>)\n            : <View style={styles.space}/>}\n        </View>\n      </Surface>\n    </TouchableHighlight>\n  )\n}\n\nexport default ReservedClassroomCell;\n\nconst styles = StyleSheet.create({\n  cell: {\n    width: cellWidth,\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: 100,\n    margin: 1,\n    elevation: 2,\n    borderRadius: 4,\n    position: 'relative',\n    overflow: 'hidden',\n  },\n  occupied: {},\n  disabled: {\n    backgroundColor: '#ccc',\n  },\n  occupationInfo: {\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center'\n  },\n  cellHeader: {\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: cellWidth,\n    paddingLeft: 16,\n    paddingRight: 16,\n    flexDirection: 'row',\n  },\n  name: {\n    fontSize: 35,\n    fontWeight: 'bold',\n  },\n  special: {\n    width: 20,\n    height: 20,\n    opacity: 1\n  },\n  notSpecial: {\n    width: 20,\n    height: 20,\n    opacity: 0\n  },\n  instruments: {\n    flexDirection: 'row'\n  },\n  space: {\n    height: 20,\n    margin: 8,\n  },\n  checkMark: {\n    position: 'absolute',\n    zIndex: 2,\n    backgroundColor: '#00000088'\n  },\n  timeLeftProgress: {\n    left: 0,\n    position: 'absolute',\n    zIndex: 1000,\n    backgroundColor: '#00000033',\n    height: 100,\n    width: cellWidth,\n  },\n  timeLeft: {\n    fontSize: 12,\n    backgroundColor: '#f91354',\n    color: '#fff',\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center'\n  },\n  keyImage: {\n    position: \"absolute\",\n    zIndex: 2,\n    top: 8,\n    right: cellWidth / 2 - 15,\n    width: 30,\n    height: 30,\n    resizeMode: \"stretch\",\n    tintColor: Colors.red\n  }\n});","import React from \"react\";\nimport {Dimensions, Image, StyleSheet, Text, TouchableHighlight, View} from \"react-native\";\nimport {ClassroomType, DisabledState} from \"../../models/models\";\nimport Colors from \"../../constants/Colors\";\nimport {Surface} from \"react-native-paper\";\nimport InstrumentItem from \"../InstrumentItem\";\nimport useTimeLeft from \"../../hooks/useTimeLeft\";\nimport {useNavigation} from \"@react-navigation/native\";\n\nconst windowWidth = Dimensions.get('window').width;\nconst cellWidth = ((windowWidth - 10) / 3);\n\ntype PropTypes = {\n  classroom: ClassroomType;\n}\n\nconst PendingClassroomCell: React.FC<PropTypes> = ({classroom}) => {\n  const navigation = useNavigation();\n  const special = !!classroom.special;\n  const {instruments, occupied, disabled} = classroom;\n  const isDisabled = disabled.state === DisabledState.DISABLED;\n  const [timeLeft, timeLeftInPer] = useTimeLeft(occupied, 2);\n\n  const handlePress = () => {\n    navigation.navigate('ClassroomInfo', {classroomId: classroom.id});\n  };\n\n  const ProgressBackground = () => (\n    <View\n      style={{\n        ...styles.timeLeftProgress,\n        width: (cellWidth / 100) * (timeLeftInPer as number)\n      }}\n    />\n  );\n\n  return (\n    <TouchableHighlight onPress={handlePress}>\n      <Surface style={[styles.cell, isDisabled ? styles.disabled : styles.occupied]}>\n        <ProgressBackground/>\n        <View style={styles.cellHeader}>\n          <Text style={styles.name}>{classroom.name}</Text>\n          <Image source={require('./../../assets/images/specialPiano.png')}\n                 style={[special ? styles.special : styles.notSpecial]}/>\n        </View>\n        <Text style={styles.timeLeft} numberOfLines={1}>\n          {timeLeft}\n        </Text>\n        <View style={styles.instruments}>\n          {instruments?.length\n            ? instruments\n              .slice()\n              .sort((a, b) => b.rate - a.rate).slice(0, 2)\n              .map(instrument => <InstrumentItem instrument={instrument} key={instrument.id}/>)\n            : <View style={styles.space}/>}\n        </View>\n      </Surface>\n    </TouchableHighlight>\n  )\n}\n\nexport default PendingClassroomCell;\n\nconst styles = StyleSheet.create({\n  cell: {\n    width: cellWidth,\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: 100,\n    margin: 1,\n    elevation: 2,\n    borderRadius: 4,\n    position: 'relative',\n    overflow: 'hidden',\n  },\n  occupied: {},\n  disabled: {\n    backgroundColor: '#ccc',\n  },\n  occupationInfo: {\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center'\n  },\n  cellHeader: {\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: cellWidth,\n    paddingLeft: 16,\n    paddingRight: 16,\n    flexDirection: 'row',\n  },\n  name: {\n    fontSize: 35,\n    fontWeight: 'bold',\n  },\n  special: {\n    width: 20,\n    height: 20,\n    opacity: 1\n  },\n  notSpecial: {\n    width: 20,\n    height: 20,\n    opacity: 0\n  },\n  instruments: {\n    flexDirection: 'row'\n  },\n  space: {\n    height: 20,\n    margin: 8,\n  },\n  checkMark: {\n    position: 'absolute',\n    zIndex: 2,\n    backgroundColor: '#00000088'\n  },\n  timeLeftProgress: {\n    left: 0,\n    position: 'absolute',\n    zIndex: 1000,\n    backgroundColor: '#00000033',\n    height: 100,\n    width: cellWidth,\n  },\n  timeLeft: {\n    fontSize: 12,\n    backgroundColor: '#f91354',\n    color: '#fff',\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center'\n  },\n  keyImage: {\n    position: \"absolute\",\n    top: 8,\n    right: 8,\n    width: 30,\n    height: 30,\n    resizeMode: \"stretch\",\n    tintColor: Colors.red\n  }\n});","import React, {CSSProperties} from \"react\";\nimport {Dimensions, Image, StyleSheet, Text, TouchableHighlight, View} from \"react-native\";\nimport {ClassroomType, DisabledState, Mode} from \"../../models/models\";\nimport Colors from \"../../constants/Colors\";\nimport {IconButton, Surface} from \"react-native-paper\";\nimport InstrumentItem from \"../InstrumentItem\";\nimport {fullName, isNotFree, typeStyle} from \"../../helpers/helpers\";\nimport {useNavigation} from \"@react-navigation/native\";\nimport {useLocal} from \"../../hooks/useLocal\";\nimport {minimalClassroomIdsVar} from \"../../api/client\";\nimport useTimeLeft from \"../../hooks/useTimeLeft\";\n\nconst windowWidth = Dimensions.get('window').width;\nconst cellWidth = ((windowWidth - 10) / 3);\n\ntype PropTypes = {\n  classroom: ClassroomType;\n}\n\nconst OccupiedClassroomCell: React.FC<PropTypes> = ({classroom}) => {\n  const navigation = useNavigation();\n  const {data: {mode}} = useLocal('mode');\n  const {data: {isMinimalSetup}} = useLocal('isMinimalSetup');\n  const {data: {minimalClassroomIds}} = useLocal('minimalClassroomIds');\n  const {data: {desirableClassroomIds}} = useLocal('desirableClassroomIds');\n\n  const special = !!classroom.special;\n  const {instruments, occupied, disabled, isHidden} = classroom;\n  const isDisabled = disabled.state === DisabledState.DISABLED;\n  const [timeLeft, timeLeftInPer] = useTimeLeft(occupied, 180);\n\n  const ProgressBackground = () => (\n    <View\n      style={{\n        ...styles.timeLeftProgress,\n        width: (cellWidth / 100) * (timeLeftInPer as number)\n      }}\n    />\n  );\n\n  const handlePress = () => {\n      navigation.navigate('ClassroomInfo', {classroomId: classroom.id});\n  };\n\n  const cellStyle = StyleSheet.create({\n    cell: {\n      width: cellWidth,\n      justifyContent: 'center',\n      alignItems: 'center',\n      height: 100,\n      margin: 1,\n      elevation: 2,\n      borderRadius: 4,\n      position: 'relative',\n      overflow: 'hidden',\n      opacity: isHidden ? .5 : 1,\n      backgroundColor: isDisabled ? '#ccc' : '#fff'\n    }\n  });\n\n  return (\n    <TouchableHighlight onPress={handlePress}>\n      <Surface style={cellStyle.cell}>\n        <ProgressBackground/>\n        <View style={styles.cellHeader}>\n          <Text style={styles.name}>{classroom.name}</Text>\n          <Image source={require('./../../assets/images/specialPiano.png')}\n                 style={[special ? styles.special : styles.notSpecial]}/>\n        </View>\n        <Text style={styles.timeLeft} numberOfLines={1}>\n          {timeLeft}\n        </Text>\n        <View style={styles.instruments}>\n          {instruments?.length\n            ? instruments\n              .slice()\n              .sort((a, b) => b.rate - a.rate).slice(0, 2)\n              .map(instrument => <InstrumentItem instrument={instrument} key={instrument.id}/>)\n            : <View style={styles.space}/>}\n        </View>\n      </Surface>\n    </TouchableHighlight>\n  )\n}\n\nexport default OccupiedClassroomCell;\n\nconst styles = StyleSheet.create({\n  occupationInfo: {\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center'\n  },\n  cellHeader: {\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: cellWidth,\n    paddingLeft: 16,\n    paddingRight: 16,\n    flexDirection: 'row',\n  },\n  name: {\n    fontSize: 35,\n    fontWeight: 'bold',\n  },\n  special: {\n    width: 20,\n    height: 20,\n    opacity: 1\n  },\n  notSpecial: {\n    width: 20,\n    height: 20,\n    opacity: 0\n  },\n  instruments: {\n    flexDirection: 'row'\n  },\n  space: {\n    height: 20,\n    margin: 8,\n  },\n  checkMark: {\n    position: 'absolute',\n    zIndex: 2,\n    backgroundColor: '#00000088'\n  },\n  timeLeftProgress: {\n    left: 0,\n    position: 'absolute',\n    zIndex: 1000,\n    backgroundColor: '#00000033',\n    height: 100,\n    width: cellWidth,\n  },\n  timeLeft: {\n    fontSize: 12,\n    backgroundColor: '#f91354',\n    color: '#fff',\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center'\n  },\n  keyImage: {\n    position: \"absolute\",\n    top: 8,\n    right: 8,\n    width: 30,\n    height: 30,\n    resizeMode: \"stretch\",\n    tintColor: Colors.red\n  }\n});","import React from 'react';\nimport {StyleSheet, Text, View} from \"react-native\";\nimport {ClassroomType, OccupiedState, User} from \"../../models/models\";\nimport sortAB from \"../../helpers/sortAB\";\nimport FreeClassroomCell from \"./FreeClassroomCell\";\nimport OccupiedClassroomCell from \"./OccupiedClassroomCell\";\nimport ReservedClassroomCell from \"./ReservedClassroomCell\";\nimport PendingClassroomCell from \"./PendingClassroomCell\";\nimport {isEnabledForCurrentDepartment} from \"../../helpers/helpers\";\nimport OccupiedByCurrentUserClassroomCell from \"./OccupiedByCurrentUserClassroomCell\";\n\ntype PropTypes = {\n  classrooms: ClassroomType[];\n  currentUser: User;\n  title?: string;\n}\n\nconst ClassroomsBrowser: React.FC<PropTypes> = ({\n                                                  classrooms, title,\n                                                  currentUser\n                                                }) => {\n  if (!classrooms.length) return null;\n  return (\n    <>\n      {title && <Text style={styles.gridDivider}>\n        {title}\n      </Text>}\n      <View style={styles.grid}>\n        {classrooms.slice().sort(sortAB).map(classroom => {\n          const {occupied: {state, user}, id} = classroom;\n          const isEnabledForCurrentUser = isEnabledForCurrentDepartment(classroom, currentUser);\n\n          const isFree = state === OccupiedState.FREE;\n          const isOccupiedByCurrentUser = state === OccupiedState.OCCUPIED && user.id === currentUser.id;\n          const isOccupied = state === OccupiedState.OCCUPIED || OccupiedState.PENDING || OccupiedState.RESERVED;\n          const isPending = state === OccupiedState.PENDING && user.id === currentUser.id;\n          const isReserved = state === OccupiedState.RESERVED && user.id === currentUser.id;\n\n          if (isFree) return <FreeClassroomCell key={id} classroom={classroom}\n                                                isEnabledForCurrentUser={isEnabledForCurrentUser}\n          />\n          if (isReserved) return <ReservedClassroomCell key={id} classroom={classroom}/>\n          if (isPending) return <PendingClassroomCell key={id} classroom={classroom}/>\n          if (isOccupiedByCurrentUser) return <OccupiedByCurrentUserClassroomCell key={id} classroom={classroom}/>\n          if (isOccupied) return <OccupiedClassroomCell key={id} classroom={classroom}\n                                                        isEnabledForCurrentUser={isEnabledForCurrentUser}\n          />\n        })}\n      </View>\n    </>\n  );\n}\n\nconst styles = StyleSheet.create(\n  {\n    top: {\n      position: 'absolute',\n      left: 0,\n      right: 0,\n      top: 0,\n      paddingTop: 26,\n      height: 80,\n      backgroundColor: 'transparent',\n      zIndex: 1\n    },\n    grid: {\n      marginBottom: 8,\n      marginLeft: 2,\n      flexDirection: 'row',\n      flexWrap: 'wrap',\n      justifyContent: 'flex-start'\n    },\n    getInLine: {\n      position: 'absolute',\n      zIndex: 1,\n      bottom: 15,\n      width: '55%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    getOutLine: {\n      position: 'absolute',\n      zIndex: 1,\n      bottom: 15,\n      left: 20,\n      width: '43%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    getOutLineSingle: {\n      position: 'absolute',\n      zIndex: 1,\n      bottom: 15,\n      width: '55%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    approve: {\n      position: 'absolute',\n      zIndex: 1,\n      right: 20,\n      bottom: 15,\n      width: '43%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    wrapper: {\n      width: '100%',\n      height: '100%',\n      alignItems: 'center',\n      justifyContent: 'center',\n      backgroundColor: 'transparent',\n      paddingTop: 80,\n    },\n    queueSwitcher: {\n      flexDirection: 'row',\n      width: '76%',\n      justifyContent: 'center',\n      paddingHorizontal: 5,\n      marginHorizontal: 20,\n      alignItems: 'center',\n    },\n    gridDivider: {\n      color: '#fff',\n      marginBottom: 10,\n      marginLeft: 8,\n      marginRight: 8,\n      paddingLeft: 8,\n      borderBottomWidth: 1,\n      borderBottomColor: '#ffffff77',\n      paddingBottom: 10\n    }\n  }\n);\n\nexport default ClassroomsBrowser;","import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_CLASSROOMS = gql`\r\n  query getClassrooms($where: ClassroomWhereInput) {\r\n    classrooms(where: $where) {\r\n      id\r\n      description\r\n      name\r\n      floor\r\n      special\r\n      isHidden\r\n       chair {\r\n          id\r\n          name\r\n          exclusivelyQueueAllowedDepartmentsInfo {\r\n            department {\r\n              id\r\n              name\r\n            }\r\n          }\r\n      }\r\n      isWing\r\n      isOperaStudio\r\n      occupied {\r\n        user {\r\n          id\r\n          firstName\r\n          patronymic\r\n          lastName\r\n          type\r\n          nameTemp\r\n          email\r\n          phoneNumber\r\n        }\r\n        until\r\n        state\r\n      }\r\n      instruments {\r\n        name\r\n        type\r\n        rate\r\n      }\r\n      disabled {\r\n        comment\r\n        until\r\n        state\r\n      }\r\n      queueInfo {\r\n        queuePolicy {\r\n          policy\r\n          queueAllowedDepartments {\r\n            department {\r\n              id\r\n              name\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_CLASSROOMS_NO_SCHEDULE = gql`\r\n  query getClassroomsNoSchedule {\r\n    classrooms {\r\n      id\r\n      name\r\n      special\r\n      isHidden\r\n      chair {\r\n          id\r\n          name\r\n          exclusivelyQueueAllowedDepartmentsInfo {\r\n            department {\r\n              id\r\n              name\r\n            }\r\n          }\r\n      }\r\n      isWing\r\n      isOperaStudio\r\n      occupied {\r\n        user {\r\n          id\r\n          firstName\r\n          patronymic\r\n          lastName\r\n          type\r\n          nameTemp\r\n        }\r\n        until\r\n        state\r\n      }\r\n      instruments {\r\n        id\r\n        name\r\n        type\r\n        rate\r\n      }\r\n      disabled {\r\n        id\r\n        comment\r\n        until\r\n        state\r\n      }\r\n      queueInfo {\r\n        queuePolicy {\r\n          policy\r\n          queueAllowedDepartments {\r\n            department {\r\n              id\r\n              name\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;","import {gql} from \"@apollo/client/core\";\n\nexport const FOLLOW_CLASSROOMS = gql`\n  subscription {\n  classroomUpdate {\n  classroom {\n        id\n        occupied {\n          user {\n            id\n            firstName\n            lastName\n            patronymic\n            type\n          }\n          until\n          state\n        }\n        disabled {\n        comment\n        state\n        until\n      }\n      }\n    }\n  }\n`;","import {gql} from \"@apollo/client/core\";\n\nexport const FOLLOW_USER = gql`\n subscription userUpdate($userId: Int!) {\n    userUpdate(userId: $userId) {\n    user {\n      id\n      occupiedClassrooms {\n        id\n        state\n        classroom {\n          id\n          name\n        }\n      }\n      queue {\n        id\n        state\n        type\n        classroom {\n          id\n        }\n      }\n      queueInfo {\n        id\n        sanctionedUntil\n        currentSession {\n          id\n          state\n          skips\n          remainingOccupationTime\n        }\n      }\n    }\n  }\n}\n`;","import {ClassroomType, DisabledState, OccupiedState, User} from \"../models/models\";\nimport {isEnabledForCurrentDepartment} from \"./helpers\";\n\nexport const filterDisabledForQueue = (classroom: ClassroomType, currentUser: User) => {\n  return (\n    classroom.occupied.state !== OccupiedState.FREE &&\n    classroom.disabled.state === DisabledState.NOT_DISABLED &&\n    !classroom.isHidden &&\n    isEnabledForCurrentDepartment(classroom, currentUser)\n  );\n};","import {desirableClassroomIdsVar, minimalClassroomIdsVar} from \"../api/client\";\nimport {ClassroomType, SavedFilterT, User} from \"../models/models\";\nimport {filterDisabledForQueue} from \"./filterDisabledForQueue\";\n\nexport const filterSavedFilter = (savedFilter: SavedFilterT, classrooms: ClassroomType[], currentUser: User) => {\n  const enabledClassrooms = (classroom: ClassroomType, isMinimal: boolean) => {\n    return savedFilter[isMinimal ? 'minimalClassroomIds': 'desirableClassroomIds'].includes(classroom.id)\n      && filterDisabledForQueue(classroom, currentUser)\n  };\n\n  const minimalIds = classrooms\n    .filter((classroom) => enabledClassrooms(classroom, true))\n    .map(({id}) => id);\n\n  const desireIds = classrooms\n    .filter((classroom) => enabledClassrooms(classroom, false))\n    .map(({id}) => id);\n\n  minimalClassroomIdsVar(minimalIds);\n  desirableClassroomIdsVar(desireIds);\n};","import {StyleSheet} from \"react-native\";\nimport {Button, Dialog, Paragraph, Portal} from \"react-native-paper\";\nimport {InstrumentType, Mode} from \"../models/models\";\nimport React, {useState} from \"react\";\nimport {modeVar} from \"../api/client\";\nimport removeFromLine from \"../helpers/queue/removeFromLine\";\nimport WaitDialog from \"./WaitDialog\";\n\ninterface PropTypes {\n  hideDialog: () => void;\n  visible: boolean;\n}\n\nexport default function ConfirmLineOut({hideDialog, visible}: PropTypes) {\n  const [loading, setLoading] = useState(false);\n\n  const handleOk = async () => {\n    setLoading(true);\n    await removeFromLine();\n    modeVar(Mode.PRIMARY);\n    setLoading(false);\n    hideDialog();\n  };\n\n  return <Portal>\n    <Dialog visible={visible} onDismiss={hideDialog}>\n      <Dialog.Title>Увага!</Dialog.Title>\n      <Dialog.Content>\n        <Paragraph>Ви дійсно бажаєте покинути чергу? Цю дію неможливо буде відмінити.</Paragraph>\n      </Dialog.Content>\n      <Dialog.Actions>\n        <Button onPress={hideDialog}>Ні</Button>\n        <Button onPress={handleOk}>Так</Button>\n      </Dialog.Actions>\n    </Dialog>\n    <WaitDialog visible={loading}/>\n  </Portal>\n};","import {gql} from \"@apollo/client\";\r\n\r\nexport const PERMITTED_ACTION_HOURS = gql`\r\n  query permittedActionHours {\r\n    permittedActionHours {\r\n      type\r\n      startUTCHours\r\n      startUTCMinutes\r\n      endUTCHours\r\n      endUTCMinutes\r\n    }\r\n  }\r\n`;","import React, {useEffect, useState} from 'react';\nimport {StyleSheet, Text, View} from \"react-native\";\nimport {Button} from \"react-native-paper\";\nimport Colors from \"../../constants/Colors\";\nimport {hasOwnClassroom} from \"../../helpers/helpers\";\nimport {ClassroomType, Mode, OccupiedState, SavedFilterT} from \"../../models/models\";\nimport {useLocal} from \"../../hooks/useLocal\";\nimport {desirableClassroomIdsVar, minimalClassroomIdsVar, modeVar} from \"../../api/client\";\nimport {filterDisabledForQueue} from \"../../helpers/filterDisabledForQueue\";\nimport {getItem} from \"../../api/asyncStorage\";\nimport {filterSavedFilter} from \"../../helpers/filterSavedFIlters\";\nimport getInLine from \"../../helpers/queue/getInLine\";\nimport ErrorDialog from \"../../components/ErrorDialog\";\nimport moment from \"moment\";\nimport WaitDialog from \"../../components/WaitDialog\";\nimport ConfirmLineOut from \"../../components/ConfirmLineOut\";\nimport * as Location from 'expo-location';\nimport {getDistance} from \"../../helpers/getDistance\";\nimport {MAX_DISTANCE, UNIVERSITY_LOCATION} from \"../../constants/constants\";\nimport {useQuery} from \"@apollo/client\";\nimport {PERMITTED_ACTION_HOURS} from \"../../api/operations/queries/permittedActionHours\";\n\ntype PropTypes = {\n  currentUser: any;\n  classrooms: ClassroomType[];\n}\n\nconst Buttons: React.FC<PropTypes> = ({\n                                        currentUser: {queueInfo: {sanctionedUntil}, ...currentUser},\n                                        classrooms\n                                      }) => {\n  const {data: {mode}} = useLocal('mode');\n  const {data: {desirableClassroomIds}} = useLocal('desirableClassroomIds');\n  const {data: {minimalClassroomIds}} = useLocal('minimalClassroomIds');\n  const [visibleModalError, setVisibleModalError] = useState(false);\n  const queueErrorMessage = `Ви не можете ставати в чергу через накладені санкції до ${sanctionedUntil ? moment(sanctionedUntil)\n    .format('DD-MM-YYYY HH:mm') : ''}. До закінчення санкційного терміну ви можете брати вільні аудиторії.`;\n  const [loading, setLoading] = useState(false);\n  const [visibleLineOut, setVisibleLineOut] = useState(false);\n  const [location, setLocation] = useState(null);\n  const [errorMsg, setErrorMsg] = useState(null);\n  const [isNear, setIsNear] = useState(false);\n  const {data: {permittedActionHours} = {},\n    loading: loadingTime, error: errorTime} = useQuery(PERMITTED_ACTION_HOURS);\n\n  useEffect(() => {\n    if (location) {\n      const distance = getDistance(location.coords.latitude, location.coords.longitude,\n        UNIVERSITY_LOCATION.lat, UNIVERSITY_LOCATION.long, 'K');\n      if (distance <= MAX_DISTANCE) {\n        setIsNear(true);\n      } else {\n        setIsNear(false);\n        setErrorMsg(`Щоб взяти аудиторію або стати в чергу, Ви маєте знаходитись від академії на відстані, що не перебільшує 150 м. Ваша відстань: ${\n          (distance*1000).toFixed(0)\n        } м.`)\n      }\n    }\n  }, [location]);\n\n  const getCurrentLocation = async () => {\n    let {status} = await Location.requestForegroundPermissionsAsync();\n    if (status !== 'granted') {\n      setErrorMsg('Щоб взяти аудиторію або стати в чергу, потрібно надати дозвіл на геолокацію.');\n      return;\n    }\n    setErrorMsg(null);\n    let location = await Location.getCurrentPositionAsync({});\n    setLocation(location);\n  };\n\n  const handlePress = async () => {\n    setLoading(true);\n    if (sanctionedUntil) return setVisibleModalError(true);\n    if (mode === Mode.PRIMARY) {\n      const availableClassroomsIds = classrooms.filter(classroom => {\n        return filterDisabledForQueue(classroom, currentUser);\n      }).map(({id}) => id);\n      modeVar(Mode.QUEUE_SETUP);\n      const savedFilters: SavedFilterT[] | undefined = await getItem('filters');\n      if (savedFilters) {\n        const mainFilter = savedFilters!.find(filter => filter.main);\n        if (mainFilter) {\n          filterSavedFilter(mainFilter, classrooms, currentUser)\n        } else {\n          minimalClassroomIdsVar(availableClassroomsIds);\n          desirableClassroomIdsVar([]);\n        }\n      } else {\n        minimalClassroomIdsVar(availableClassroomsIds);\n        desirableClassroomIdsVar([]);\n      }\n    }\n    if (mode === Mode.QUEUE_SETUP) {\n      modeVar(Mode.PRIMARY);\n      minimalClassroomIdsVar([]);\n      desirableClassroomIdsVar([]);\n    }\n    setLoading(false);\n  };\n\n  const handleReady = async () => {\n    setLoading(true);\n    await getCurrentLocation();\n    if (isNear) {\n      await getInLine(minimalClassroomIds, desirableClassroomIds);\n      setLoading(false);\n    }\n    setLoading(false);\n  };\n\n  const hasAvailableClassroomsForQueue = () => {\n    if (!classrooms.length) return false;\n    return !!(classrooms.filter(classroom => {\n      return filterDisabledForQueue(classroom, currentUser);\n    })\n      .filter(({occupied: {state}}) => state !== OccupiedState.FREE).length);\n  }\n\n  return (\n    <View style={styles.wrapper}>\n      {mode === Mode.PRIMARY\n      && !(hasOwnClassroom(currentUser.occupiedClassrooms)) && hasAvailableClassroomsForQueue() && (\n        <Button style={styles.getInLine} mode='contained' color={Colors.blue}\n                onPress={handlePress} loading={loading} disabled={loading}>\n          <Text>Стати в чергу</Text>\n        </Button>\n      )}\n      {mode === Mode.QUEUE_SETUP && (\n        <>\n          <Button style={styles.getOutLine} mode='contained' color={Colors.red}\n                  onPress={handlePress} loading={loading} disabled={loading}>\n            <Text>Відміна</Text>\n          </Button>\n          {hasAvailableClassroomsForQueue() && <Button style={styles.approve} mode='contained' color={Colors.blue}\n                                                       disabled={(!minimalClassroomIds.length && !desirableClassroomIds.length) || loading}\n                                                       onPress={handleReady} loading={loading}>\n              <Text>Стати в чергу</Text>\n          </Button>}\n        </>\n      )}\n      {mode === Mode.INLINE && (\n        <Button style={styles.getOutLine} mode='contained' color={Colors.red}\n                onPress={() => setVisibleLineOut(true)} loading={loading} disabled={loading}>\n          <Text>Вийти з черги</Text>\n        </Button>\n      )}\n      <ErrorDialog visible={visibleModalError} hideDialog={() => setVisibleModalError(false)}\n                   message={queueErrorMessage}\n      />\n      <ErrorDialog visible={!!errorMsg} hideDialog={() => setErrorMsg(null)}\n                   message={errorMsg}\n      />\n      <WaitDialog visible={loading}/>\n      <ConfirmLineOut hideDialog={() => setVisibleLineOut(false)} visible={visibleLineOut}/>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create(\n  {\n    wrapper: {\n      position: 'absolute',\n      bottom: 16,\n      left: 16,\n      right: 16,\n      flexDirection: 'row',\n      justifyContent: 'center',\n      zIndex: 1\n    },\n\n    getInLine: {\n      width: '55%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    getOutLine: {\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center',\n      marginRight: 16,\n    },\n    getOutLineSingle: {\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    approve: {\n      width: '48%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    }\n  }\n);\n\nexport default Buttons;","import {gql} from \"@apollo/client\";\n\nexport const GENERAL_QUEUE_SIZE = gql`\n  query {\n    generalQueueSize\n  }\n`;","import {gql} from \"@apollo/client/core\";\n\nexport const FOLLOW_GENERAL_QUEUE_SIZE = gql`\n  subscription generalQueueSize {\n    generalQueueSize\n  }\n`;","import {useEffect, useState} from \"react\";\nimport {GET_CLASSROOMS} from \"../api/operations/queries/classrooms\";\nimport {ISODateString} from \"../helpers/helpers\";\nimport {ClassroomType} from \"../models/models\";\nimport {useQuery} from \"@apollo/client\";\nimport {FOLLOW_CLASSROOMS} from \"../api/operations/subscriptions/classrooms\";\n\nconst useClassrooms = (props?: any): [Array<ClassroomType>, any] => {\n  const [classrooms, setClassrooms] = useState<ClassroomType[]>([]);\n  const {data, loading, error, subscribeToMore} = useQuery(GET_CLASSROOMS, {\n    variables: {\n      date: ISODateString(props?.date ? props.date : new Date()),\n    }\n  })\n\n  useEffect(() => {\n    !loading && !error && setClassrooms(\n      data.classrooms\n        .slice()\n        .sort(\n          (a: ClassroomType, b: ClassroomType) =>\n            parseInt(a.name) - parseInt(b.name)\n        )\n    );\n  }, [data, loading, error]);\n\n  return classrooms;\n};\n\nexport default useClassrooms;","import React, {useEffect, useState} from 'react';\nimport {StyleSheet, Text, View, Dimensions, TextInput} from \"react-native\";\nimport {Button, Checkbox, Headline, IconButton, Modal, Portal} from \"react-native-paper\";\nimport {ClassroomType, SavedFilterT, User} from \"../../models/models\";\nimport {getItem, setItem} from \"../../api/asyncStorage\";\nimport {useLocal} from \"../../hooks/useLocal\";\nimport Colors from \"../../constants/Colors\";\nimport {filterSavedFilter} from \"../../helpers/filterSavedFIlters\";\nimport useClassrooms from \"../../hooks/useClassrooms\";\n\nexport type SpecialT = 'with' | 'only' | 'without';\n\ninterface PropTypes {\n  hideModal: () => void;\n  visible: boolean;\n  currentUser: User;\n}\n\nconst windowWidth = Dimensions.get('window').width;\n\nexport default function SavedFilters({hideModal, visible, currentUser}: PropTypes) {\n  const classrooms: ClassroomType[] = useClassrooms();\n  const [savedFilters, setSavedFilters] = useState<SavedFilterT[]>([]);\n  const [isSaving, setIsSaving] = useState(false);\n  const [inputName, setInputName] = useState<string>('');\n  const {data: {desirableClassroomIds}} = useLocal('desirableClassroomIds');\n  const {data: {minimalClassroomIds}} = useLocal('minimalClassroomIds');\n  const [selectedFilter, setSelectedFilter] = useState(-1);\n  const [saveAsMainFilter, setSaveAsMainFilter] = useState(false);\n\n  useEffect(() => {\n    getItem('filters').then(data => {\n      setSavedFilters(data as any);\n    });\n    return () => {\n      setSelectedFilter(-1);\n      setInputName('');\n    };\n  }, []);\n\n  const handleSaveFilter = () => {\n    setIsSaving(true);\n\n    const item: SavedFilterT = {\n      minimalClassroomIds,\n      desirableClassroomIds,\n      name: inputName,\n      main: saveAsMainFilter\n    };\n\n    setItem('filters', savedFilters ? [...savedFilters?.map((filter: any) => {\n      return saveAsMainFilter ? ({...filter, main: false}) : filter\n    }), item] : [item]).then(res => {\n      setIsSaving(false);\n    });\n    // @ts-ignore\n    setSavedFilters(prevState => prevState ? [...prevState?.map((filter: any) => {\n      return saveAsMainFilter ? ({...filter, main: false}) : filter\n    }), item] : [item]);\n  };\n\n  const handleRemoveFilter = (index: number) => {\n    const newFilters = savedFilters;\n\n    newFilters.splice(index, 1);\n    setItem('filters', newFilters).then(res => {\n      getItem('filters').then((data: any) => setSavedFilters(data))\n    })\n    setSelectedFilter(-1);\n  };\n\n  const handleSelectFilter = (filterItem: any, index: number) => {\n    filterSavedFilter(filterItem, classrooms, currentUser)\n    setSelectedFilter(index);\n    hideModal();\n  };\n\n  return <Portal>\n    <Modal visible={visible} onDismiss={hideModal} contentContainerStyle={styles.containerStyle}>\n      <View style={styles.header}>\n        <Headline>Збережені фільтри</Headline>\n      </View>\n      <View style={styles.body}>\n        {savedFilters?.map((filterItem: SavedFilterT, index) => (\n          <View key={index} style={styles.itemRow}>\n            <Text style={selectedFilter === index ? styles.selectedItem : styles.item}\n                  onPress={() => handleSelectFilter(filterItem, index)}>\n              {filterItem.main ? filterItem.name + ' (основний)' : filterItem.name}\n            </Text>\n            <IconButton icon='trash-can-outline' style={styles.bin}\n              onPress={() => handleRemoveFilter(index)}\n            />\n          </View>\n        ))}\n        <View style={styles.newFilterSection}>\n          <TextInput placeholder='Назва нового фільтру' value={inputName}\n                     onChangeText={text => setInputName(text)}\n          />\n          <View style={styles.mainFilterCheckbox}>\n            <Checkbox status={saveAsMainFilter ? 'checked' : 'unchecked'}\n                    onPress={() => setSaveAsMainFilter(prevState => !prevState)}\n            />\n            <Text>Застосувати як основний фільтр</Text>\n          </View>\n          <Button mode='contained'\n                  disabled={isSaving || !inputName}\n                  onPress={handleSaveFilter}\n          >\n            Зберегти новий сет аудиторій\n          </Button>\n        </View>\n      </View>\n    </Modal>\n  </Portal>\n};\n\nconst styles = StyleSheet.create({\n  containerStyle: {\n    backgroundColor: 'white',\n    margin: 20,\n    borderRadius: 8,\n    justifyContent: 'center',\n    alignItems: 'flex-start',\n    overflow: 'hidden'\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: '#dddddd',\n    width: '100%',\n    backgroundColor: '#f1f1f1'\n  },\n  body: {\n    padding: 20,\n    width: '100%',\n  },\n  itemRow: {\n    flexDirection: 'row',\n    width: '100%',\n    justifyContent: 'space-between',\n    marginBottom: 5,\n  },\n  item: {\n    fontSize: 16,\n    borderBottomColor: '#eee',\n    borderBottomWidth: 1,\n    color: '#000',\n    width: '80%',\n    marginTop: 10\n  },\n  selectedItem: {\n    fontSize: 16,\n    borderBottomColor: '#eee',\n    borderBottomWidth: 1,\n    color: Colors.blue,\n    width: '80%',\n    marginTop: 10\n  },\n  bin: {\n    width: '20%',\n  },\n  mainFilterCheckbox: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 10,\n    marginLeft: -10\n  },\n  newFilterSection: {\n    borderRadius: 6,\n    borderWidth: 1,\n    borderColor: '#eee',\n    padding: 16,\n    marginTop: 50\n  }\n});","import React from 'react';\nimport {StyleSheet, Text, View} from \"react-native\";\nimport {\n  Modal,\n  Portal,\n  RadioButton,\n} from \"react-native-paper\";\n\ninterface PropTypes {\n  hideModal: () => void;\n  visible: boolean;\n  isGrandPianoOnly: boolean;\n  setIsGrandPianoOnly: (value: boolean) => void;\n}\n\nexport default function InstrumentsList({hideModal, visible, isGrandPianoOnly,\n                                          setIsGrandPianoOnly}: PropTypes) {\n\n  const handleSelect = (newValue: string) => {\n    setIsGrandPianoOnly(newValue === '0')\n    hideModal();\n  };\n\n  return <Portal>\n    <Modal visible={visible} onDismiss={hideModal} contentContainerStyle={styles.containerStyle}>\n      <View>\n        <RadioButton.Group onValueChange={newValue => handleSelect(newValue)}\n                           value={isGrandPianoOnly ? '0' : '1'}>\n          <View style={styles.item}>\n            <RadioButton value=\"0\" />\n            <Text>Рояль</Text>\n          </View>\n          <View style={styles.item}>\n            <RadioButton value=\"1\" />\n            <Text>Піаніно або рояль</Text>\n          </View>\n        </RadioButton.Group>\n      </View>\n    </Modal>\n  </Portal>\n};\n\nconst styles = StyleSheet.create(({\n  containerStyle: {\n    position: 'absolute',\n    width: '90%',\n    backgroundColor: 'white',\n    margin: 20,\n    padding: 20,\n    borderRadius: 8,\n    justifyContent: 'center',\n    alignItems: 'flex-start',\n  },\n  item: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  }\n}));","import React from 'react'\nimport {StyleSheet, View, TouchableOpacity, Image} from 'react-native'\nimport {Dialog, Portal} from \"react-native-paper\";\n\ntype PropTypes = {\n  size: number;\n  count: number;\n  setCount: (count: number) => void;\n  visible: boolean;\n  hideDialog: () => void;\n}\n\nexport default function CustomRating({size = 5, count, setCount, visible, hideDialog}: PropTypes) {\n  const stars = new Array(size).fill(null);\n\n  const handleRate = (value: number) => {\n    setCount(value);\n    hideDialog();\n  };\n\n\n  return (\n    <Portal>\n      <Dialog visible={visible} onDismiss={hideDialog}>\n        <Dialog.Title style={{textAlign: 'center'}}>Виберіть мінімальний рейтинг</Dialog.Title>\n        <Dialog.Content>\n          <View style={styles.rate}>\n            {stars.map((value, index) => (\n              <TouchableOpacity key={index} onPress={() => handleRate(index + 1)}>\n                <Image source={require('../../assets/images/star.png')}\n                       style={[styles.star, {opacity: index < count ? 1 : .3}]}\n                />\n              </TouchableOpacity>\n            ))}\n          </View>\n        </Dialog.Content>\n      </Dialog>\n    </Portal>\n  )\n}\n\nconst styles = StyleSheet.create({\n  rate: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n  },\n  star: {\n    width: 20,\n    height: 20\n  },\n})","import React, {useState} from 'react';\nimport {StyleSheet, Text, View, Dimensions, ScrollView} from \"react-native\";\nimport {\n  Button,\n  IconButton,\n  Modal,\n  Portal,\n  TextInput\n} from \"react-native-paper\";\nimport {InstrumentType} from \"../../models/models\";\nimport InstrumentsList from \"./InstrumentsList\";\nimport CustomRating from \"../../components/CustomRating/CustomRating\";\nimport Colors from \"../../constants/Colors\";\n\nexport type SpecialT = 'with' | 'only' | 'without';\n\ninterface PropTypes {\n  hideModal: () => void;\n  visible: boolean;\n  instruments: InstrumentType[];\n  setInstruments: any;\n}\n\nconst windowWidth = Dimensions.get('window').width;\n\nexport default function InstrumentFilters({hideModal, visible, instruments, setInstruments}: PropTypes) {\n  const [isGrandPianoOnly, setIsGrandPianoOnly] = useState(false);\n  const [count, setCount] = useState(0);\n  const [visibleList, setVisibleList] = useState(false);\n  const [visibleRate, setVisibleRate] = useState(false);\n\n  const showModalList = () => setVisibleList(true);\n\n  const hideModalList = () => setVisibleList(false);\n\n  const showModalRate = () => setVisibleRate(true);\n\n  const hideModalRate = () => setVisibleRate(false);\n\n  const addInstrument = () => {\n    const newInstrument = {type: isGrandPianoOnly ? 'GrandPiano' : 'UpRightPiano', rate: count};\n    setInstruments((prevState: InstrumentType[]) => [...prevState, newInstrument]);\n    setCount(0);\n    setIsGrandPianoOnly(false);\n  };\n\n  const removeInstrument = (index: number) => {\n    const newArray = instruments.slice();\n    newArray.splice(index, 1);\n\n    setInstruments(newArray);\n  };\n\n  return <Portal>\n    <Modal visible={visible} onDismiss={hideModal} contentContainerStyle={styles.containerStyle}>\n      <View style={styles.body}>\n        <ScrollView>\n          {instruments.length ? instruments.map((instrument, index) => (\n            <View key={index} style={styles.instrumentRow}>\n              <Text style={{width: '40%'}}>\n                {instrument.type === 'UpRightPiano' ? 'Рояль або піаніно' : 'Рояль'}\n              </Text>\n              <View style={{flexDirection: 'row', alignItems: 'center', width: '20%'}}>\n                <Button icon='star' color={Colors.orange} disabled>\n                  {instrument.rate} +\n                </Button>\n              </View>\n              <IconButton icon='trash-can-outline' onPress={() => removeInstrument(index)}/>\n            </View>\n          )) : <Text style={styles.noInstrumentsLabel}>Інструменти не вибрані</Text>}\n          <View style={styles.newInstrumentRow}>\n            <View style={{width: '40%', flexDirection: 'row', alignItems: 'center'}}>\n              <Text onPress={showModalList}>\n                {!isGrandPianoOnly ? 'Рояль або піаніно' : 'Рояль'}\n              </Text>\n              <IconButton icon='menu-down' onPress={showModalList}/>\n            </View>\n            <View style={{flexDirection: 'row', alignItems: 'center', width: '20%'}}>\n              <Button onPress={showModalRate} icon='star' color={Colors.orange}>{count} +</Button>\n              <CustomRating size={10} count={count} setCount={setCount} hideDialog={hideModalRate}\n                            visible={visibleRate}\n              />\n            </View>\n            <IconButton icon='plus' onPress={addInstrument}/>\n          </View>\n        </ScrollView>\n        <View style={styles.buttons}>\n          <Button mode='contained' onPress={hideModal}>Закрити</Button>\n        </View>\n      </View>\n      <InstrumentsList hideModal={hideModalList} visible={visibleList}\n                       isGrandPianoOnly={isGrandPianoOnly} setIsGrandPianoOnly={setIsGrandPianoOnly} />\n    </Modal>\n  </Portal>\n};\n\nconst styles = StyleSheet.create(({\n  containerStyle: {\n    position: 'absolute',\n    height: 300,\n    width: '90%',\n    backgroundColor: 'white',\n    margin: 20,\n    borderRadius: 8,\n    justifyContent: 'center',\n    alignItems: 'flex-start',\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: '#dddddd',\n    width: '100%',\n    backgroundColor: '#f1f1f1'\n  },\n  body: {\n    padding: 20,\n  },\n  radioItem: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  divider: {\n    borderBottomColor: '#eee',\n    alignSelf: 'center',\n    borderBottomWidth: 1,\n    borderStyle: 'solid',\n    width: windowWidth - 80,\n    height: 1,\n    marginVertical: 16\n  },\n  checkbox: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  buttons: {\n    paddingTop: 16,\n    flexDirection: 'row',\n    justifyContent: 'flex-end'\n  },\n  instrumentRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: '100%',\n    borderBottomWidth: 1,\n    borderBottomColor: '#ccc',\n    padding: 10,\n  },\n  newInstrumentRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: '100%',\n    padding: 10,\n  },\n  countInput: {\n    height: 40,\n    width: 40,\n    backgroundColor: 'transparent',\n    paddingLeft: 5\n  },\n  noInstrumentsLabel: {\n    textAlign: 'center',\n    paddingBottom: 15,\n    color: '#ccc',\n    fontSize: 18,\n    borderBottomColor: '#eee',\n    borderBottomWidth: 1,\n  }\n}));","import React, {useState} from 'react';\nimport {StyleSheet, Text, View, Dimensions} from \"react-native\";\nimport {Button, Checkbox, Divider, Headline, Modal, Portal, RadioButton} from \"react-native-paper\";\nimport InstrumentFilters from \"./InstrumentFilters\";\nimport {InstrumentType} from \"../../models/models\";\n\nexport type SpecialT = 'with' | 'only' | 'without';\n\ninterface PropTypes {\n  hideModal: () => void;\n  visible: boolean;\n  apply: (instruments: InstrumentType[], withWing: boolean, operaStudioOnly: boolean, special: SpecialT) => void;\n}\n\nconst windowWidth = Dimensions.get('window').width;\n\nexport default function Filters({hideModal, visible, apply}: PropTypes) {\n  const [instruments, setInstruments] = useState<InstrumentType[]>([]);\n  const [special, setSpecial] = useState<SpecialT>('with');\n  const [withWing, setWithWing] = useState(true);\n  const [onlyOperaStudio, setOnlyOperaStudio] = useState(false);\n  const [visibleInstrumentFilters, setVisibleInstrumentFilters] = useState(false);\n\n  const showModalInstrumentFilters = () => setVisibleInstrumentFilters(true);\n\n  const hideModalInstrumentFilters= () => setVisibleInstrumentFilters(false);\n\n  const handleApply = () => {\n    apply(instruments, withWing, onlyOperaStudio, special);\n    hideModal();\n  };\n\n  const getEnding = () => {\n    switch (instruments.length) {\n      case 1: return '';\n      case 2: return 'а';\n      case 3: return 'и';\n      case 4: return 'и';\n      case 5: return 'ів';\n      default: return '...';\n    }\n  };\n\n  return <Portal>\n    <Modal visible={visible} onDismiss={hideModal} contentContainerStyle={styles.containerStyle}>\n      <View style={styles.header}>\n        <Headline>Фільтри аудиторій для черги</Headline>\n      </View>\n      <View style={styles.body}>\n        <Button icon='pencil' onPress={showModalInstrumentFilters} style={styles.instrumentsButton} >\n          <Text numberOfLines={1}>\n            { !instruments.length\n              ? 'Будь-які або без інструментів'\n              : `${instruments.length} інструмент${getEnding()}` }\n          </Text>\n        </Button>\n        <Divider style={styles.divider}/>\n        <View style={styles.checkbox}>\n          <Checkbox status={!withWing ? 'checked' : 'unchecked'}\n                    onPress={() => setWithWing(prevState => !prevState)}/>\n          <Text>Без флігеля</Text>\n        </View>\n        <View style={styles.checkbox}>\n          <Checkbox status={onlyOperaStudio ? 'checked' : 'unchecked'}\n                    onPress={() => setOnlyOperaStudio(prevState => !prevState)}/>\n          <Text>Тільки оперна студія</Text>\n        </View>\n        <Divider style={styles.divider}/>\n        <RadioButton.Group onValueChange={newValue => setSpecial(newValue as SpecialT)} value={special}>\n          <View style={styles.radioItem}>\n            <RadioButton value='with' />\n            <Text>Зі спеціалізованими (ф-но)</Text>\n          </View>\n          <View style={styles.radioItem}>\n            <RadioButton value='only' />\n            <Text>Тільки спеціалізовані (ф-но)</Text>\n          </View>\n          <View style={styles.radioItem}>\n            <RadioButton value='without' />\n            <Text>Без спеціалізованих (ф-но)</Text>\n          </View>\n        </RadioButton.Group>\n        <Divider style={styles.divider}/>\n        <View style={styles.buttons}>\n          <Button mode='contained' onPress={handleApply}>Застосувати</Button>\n        </View>\n        <InstrumentFilters hideModal={hideModalInstrumentFilters} visible={visibleInstrumentFilters}\n                           instruments={instruments} setInstruments={setInstruments} />\n      </View>\n    </Modal>\n  </Portal>\n};\n\nconst styles = StyleSheet.create({\n  containerStyle: {\n    backgroundColor: 'white',\n    margin: 20,\n    borderRadius: 8,\n    justifyContent: 'center',\n    alignItems: 'flex-start',\n    overflow: 'hidden'\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: '#dddddd',\n    width: '100%',\n    backgroundColor: '#f1f1f1'\n  },\n  body: {\n    padding: 20,\n  },\n  radioItem: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  divider: {\n    borderBottomColor: '#eee',\n    alignSelf: 'center',\n    borderBottomWidth: 1,\n    borderStyle: 'solid',\n    width: windowWidth - 80,\n    height: 1,\n    marginVertical: 16\n  },\n  checkbox: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  buttons: {\n    flexDirection: 'row',\n    justifyContent: 'center'\n  },\n  instrumentsButton: {\n    overflow: 'hidden',\n    width: 280\n  }\n});","import {ClassroomType, InstrumentType} from \"../../models/models\";\n\ntype InstrumentTypeOrderT = {\n  [index: string]: number;\n};\n\nconst instrumentTypeOrder: InstrumentTypeOrderT = {\n  GrandPiano: 0,\n  UpRightPiano: 1\n};\n\nexport function getClassroomsFilteredByInstruments(classrooms: ClassroomType[],\n                                                   userInstrumentFilterInput: InstrumentType[]) {\n  const instrumentsFilterSorted = sortUserFilterInstruments(userInstrumentFilterInput);\n\n  return classrooms.filter((classroom) => {\n    const instrumentsFilter = [...instrumentsFilterSorted];\n    let classroomInstruments = [...classroom.instruments];\n\n    if (instrumentsFilter.length > classroomInstruments.length) {\n      return false;\n    }\n\n    // first checking all the required grand pianos\n    while (instrumentsFilter[instrumentsFilter.length - 1]?.type === 'GrandPiano') {\n      const classroomGrandPianoInd = getMinimumSatisfactoryInstrumentIndex(\n        classroomInstruments,\n        'GrandPiano',\n        instrumentsFilter[instrumentsFilter.length - 1].rate\n      );\n      if (classroomGrandPianoInd === -1) {\n        return false;\n      }\n\n      instrumentsFilter.pop();\n      classroomInstruments.splice(classroomGrandPianoInd, 1);\n    }\n\n    // checking all the other instruments\n    while (instrumentsFilter.length) {\n      const classroomInstrumentInd = getMinimumSatisfactoryInstrumentIndex(\n        classroomInstruments, null, instrumentsFilter[instrumentsFilter.length - 1].rate\n      );\n      if (classroomInstrumentInd === -1) {\n        return false;\n      }\n\n      instrumentsFilter.pop();\n      classroomInstruments.splice(classroomInstrumentInd, 1);\n    }\n\n    return true;\n  })\n}\n\nfunction sortUserFilterInstruments(instruments: InstrumentType[]) {\n  return instruments.sort((instA, instB) => {\n\n    if (instrumentTypeOrder[instA.type] === instrumentTypeOrder[instB.type]) {\n      return instA.rate - instB.rate;\n    }\n\n    return instrumentTypeOrder[instB.type] - instrumentTypeOrder[instA.type]\n  })\n}\n\nfunction getMinimumSatisfactoryInstrumentIndex(instruments: InstrumentType[],\n                                               instrumentType: string | null, minimumRate: number) {\n  let bestIndex = -1;\n\n  instruments.forEach((instrument, i) => {\n    if (instrumentType && instrument.type !== instrumentType) return;\n\n    if (instrument.rate < minimumRate) return;\n\n    if (bestIndex === -1 || instrument.rate - minimumRate < instruments[bestIndex].rate - minimumRate) {\n      bestIndex = i;\n    }\n  });\n  return bestIndex;\n}","import {gql} from \"@apollo/client\";\n\nexport const GENERAL_QUEUE_POSITION = gql`\n  query generalQueuePosition($userId: Int!){\n    generalQueuePosition(userId: $userId)\n  }\n`;","import {gql} from \"@apollo/client/core\";\n\nexport const FOLLOW_GENERAL_QUEUE_POSITION = gql`\n  subscription generalQueuePosition($userId: Int!) {\n    generalQueuePosition(userId: $userId)\n  }\n`;","import React, {useEffect, useState} from 'react';\nimport {Appbar, Button} from \"react-native-paper\";\nimport {DrawerActions, useNavigation} from \"@react-navigation/native\";\nimport {StyleSheet, View} from \"react-native\";\nimport {useQuery} from \"@apollo/client\";\nimport {GENERAL_QUEUE_SIZE} from \"../../api/operations/queries/generalQueueSize\";\nimport {FOLLOW_GENERAL_QUEUE_SIZE} from \"../../api/operations/subscriptions/generalQueueSize\";\nimport {useLocal} from \"../../hooks/useLocal\";\nimport {ClassroomType, InstrumentType, Mode, User} from \"../../models/models\";\nimport {desirableClassroomIdsVar, isMinimalSetupVar, minimalClassroomIdsVar} from \"../../api/client\";\nimport SavedFilters from \"./SavedFilters\";\nimport Filters, {SpecialT} from \"./Filters\";\nimport {getClassroomsFilteredByInstruments} from \"./helpers\";\nimport {filterDisabledForQueue} from \"../../helpers/filterDisabledForQueue\";\nimport {GENERAL_QUEUE_POSITION} from \"../../api/operations/queries/generalQueuePosition\";\nimport {FOLLOW_GENERAL_QUEUE_POSITION} from \"../../api/operations/subscriptions/generalQueuePosition\";\n\ntype PropTypes = {\n  freeClassroomsAmount: number;\n  classrooms: ClassroomType[];\n  currentUser: User;\n}\n\nconst ClassroomsAppBar: React.FC<PropTypes> = (\n  {\n    freeClassroomsAmount, classrooms, currentUser\n  }\n) => {\n  const navigation = useNavigation();\n  const {data, loading, error, subscribeToMore} = useQuery(GENERAL_QUEUE_SIZE);\n  const {\n    data: dataPosition, loading: loadingPosition,\n    error: errorPosition, subscribeToMore: subscribeToMorePosition\n  } = useQuery(GENERAL_QUEUE_POSITION, {\n    variables: {\n      userId: currentUser.id\n    }\n  });\n  const {data: {mode}} = useLocal('mode');\n  const {data: {isMinimalSetup}} = useLocal('isMinimalSetup');\n  const [visible, setVisible] = useState(false);\n  const [visibleSavedFilters, setVisibleSavedFilters] = useState(false);\n  const [generalQueueSize, setGeneralQueueSize] = useState(0);\n  const [generalQueuePosition, setGeneralQueuePosition] = useState(0);\n\n  useEffect(() => {\n    if (!loadingPosition && !errorPosition) {\n      setGeneralQueuePosition(dataPosition.generalQueuePosition);\n    }\n  }, [dataPosition, loadingPosition, errorPosition]);\n\n  useEffect(() => {\n    const unsubscribeSize = subscribeToMore({\n        document: FOLLOW_GENERAL_QUEUE_SIZE,\n        updateQuery: (prev, {subscriptionData}) => {\n          if (!subscriptionData.data) return prev;\n          setGeneralQueueSize(subscriptionData.data.generalQueueSize);\n          return subscriptionData.data.generalQueueSize\n        }\n      }\n      )\n    ;\n    const unsubscribePosition = subscribeToMorePosition({\n        document: FOLLOW_GENERAL_QUEUE_POSITION,\n        variables: {\n          userId: currentUser.id\n        },\n        updateQuery: (prev, {subscriptionData}) => {\n          if (!subscriptionData.data) return prev;\n          setGeneralQueuePosition(subscriptionData.data.generalQueuePosition);\n          return subscriptionData.data.generalQueuePosition\n        }\n      }\n    );\n\n    return () => {\n      unsubscribeSize();\n      unsubscribePosition();\n    }\n  }, []);\n\n  useEffect(() => {\n    if (!loading && !error) setGeneralQueueSize(data.generalQueueSize);\n  }, [data, loading, error]);\n\n  const applyGeneralFilter = (instruments: InstrumentType[], withWing: boolean,\n                              operaStudioOnly: boolean, special: SpecialT) => {\n\n    const filteredClassroomsByInstruments = instruments.length ?\n      getClassroomsFilteredByInstruments(classrooms, instruments) : classrooms;\n\n    const filteredIds = filteredClassroomsByInstruments\n      .filter(classroom => filterDisabledForQueue(classroom, currentUser))\n      .filter(classroom => withWing ? true : !classroom.isWing)\n      .filter(classroom => operaStudioOnly ? classroom.isOperaStudio : true)\n      .filter(classroom => {\n        switch (special) {\n          case \"with\":\n            return true;\n          case \"only\":\n            return classroom.special;\n          case \"without\":\n            return !classroom.special;\n        }\n      })\n      .map((classroom) => classroom.id);\n\n    if (isMinimalSetup) {\n      minimalClassroomIdsVar(filteredIds);\n    } else {\n      desirableClassroomIdsVar(filteredIds);\n    }\n  };\n\n  const showModal = () => setVisible(true);\n\n  const hideModal = () => setVisible(false);\n\n  const showModalSavedFilters = () => setVisibleSavedFilters(true);\n\n  const hideModalSavedFilters = () => setVisibleSavedFilters(false);\n\n  return (\n    <Appbar style={styles.top}>\n      <Appbar.Action icon=\"menu\" onPress={() => navigation.dispatch(DrawerActions.openDrawer())}\n                     color='#fff'\n      />\n      {mode === Mode.INLINE && (\n        <Appbar.Content title={`Ваша позиція в черзі: ${generalQueuePosition + 1}`}\n                        color='#fff'\n        />\n      )}\n      {mode === Mode.PRIMARY && (\n        <Appbar.Content title={`Людей в черзі: ${generalQueueSize}`}\n                        subtitle={`Вільних аудиторій: ${freeClassroomsAmount}`}\n                        color='#fff'\n        />\n      )}\n      {mode === Mode.QUEUE_SETUP && (\n        <>\n          <View style={{flexDirection: 'row', justifyContent: 'space-between', width: '88%'}}>\n            <View style={styles.queueSwitcher}>\n              <Button mode={isMinimalSetup ? 'contained' : 'text'}\n                      style={{position: 'relative', width: isMinimalSetup ? '65%' : '30%'}}\n                      color='#fff'\n                      onPress={() => isMinimalSetupVar(true)}\n              >\n                Мінімальні\n              </Button>\n              <Button\n                mode={!isMinimalSetup ? 'contained' : 'text'}\n                style={{position: 'relative', width: !isMinimalSetup ? '55%' : '35%'}}\n                color='#fff'\n                onPress={() => isMinimalSetupVar(false)}\n              >\n                Бажані\n              </Button>\n            </View>\n          </View>\n          <Appbar.Action icon=\"content-save\" onPress={showModalSavedFilters} color='#fff'\n                         style={{position: 'absolute', right: 40, top: 28}}/>\n          <Appbar.Action icon=\"filter\" onPress={showModal} color='#fff'\n                         style={{position: 'absolute', right: 0, top: 28}}/>\n        </>\n      )}\n      <SavedFilters hideModal={hideModalSavedFilters} visible={visibleSavedFilters} currentUser={currentUser}/>\n      <Filters hideModal={hideModal} visible={visible} apply={applyGeneralFilter}/>\n    </Appbar>\n  );\n}\n\nconst styles = StyleSheet.create({\n  top: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    paddingTop: 26,\n    height: 80,\n    backgroundColor: 'transparent',\n    zIndex: 1\n  },\n  queueSwitcher: {\n    flexDirection: 'row',\n    width: '76%',\n    justifyContent: 'center',\n    paddingHorizontal: 5,\n    marginHorizontal: 20,\n    alignItems: 'center',\n  },\n});\n\nexport default ClassroomsAppBar;","import {View, StyleSheet, Text, ScrollView, Dimensions} from \"react-native\";\nimport React from \"react\";\n\nexport default function Log({data}: any) {\n  return JSON.stringify(data).length > 2 ?\n    <View style={styles.container}>\n      <ScrollView>\n        <Text style={styles.text}>\n          {typeof data === 'object' ? JSON.stringify(data) : data}\n        </Text>\n      </ScrollView>\n    </View>\n    : <></>\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    width: '50%',\n    backgroundColor: '#00000099',\n    position: 'absolute',\n    zIndex: 99999999,\n    top: 70,\n    elevation: 1000,\n    right: 16,\n    padding: 16,\n    maxHeight: (Dimensions.get('window').height / 100) * 85\n  },\n  text: {\n    color: '#00ff65'\n  }\n});","import {Button, Dialog, Paragraph, Portal} from \"react-native-paper\";\nimport {Mode} from \"../models/models\";\nimport React, {useState} from \"react\";\nimport {modeVar} from \"../api/client\";\nimport removeFromLine from \"../helpers/queue/removeFromLine\";\nimport WaitDialog from \"./WaitDialog\";\n\nexport default function ConfirmContinueDesiredQueue() {\n  const [loading, setLoading] = useState(false);\n\n  const handleLeave = async () => {\n    setLoading(true);\n    await removeFromLine();\n    modeVar(Mode.PRIMARY);\n    setLoading(false);\n  };\n\n  const handleOk = () => {\n    //TODO: handle continue for DESIRED\n  };\n\n  return <Portal>\n    <Dialog visible={true}>\n      <Dialog.Title>Увага!</Dialog.Title>\n      <Dialog.Content>\n        <Paragraph>Ви отримали аудиторію і можете продовжити стояти в черзі за бажаними аудиторіями. Продовжити?</Paragraph>\n      </Dialog.Content>\n      <Dialog.Actions>\n        <Button onPress={handleLeave}>Покинути чергу</Button>\n        <Button onPress={handleOk}>Так</Button>\n      </Dialog.Actions>\n    </Dialog>\n    <WaitDialog visible={loading}/>\n  </Portal>\n};","import {useEffect, useRef} from \"react\";\n\nexport function usePrevious(value: any) {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n};","import * as React from 'react';\nimport {Portal, Button, Modal} from 'react-native-paper';\nimport {View, Text, StyleSheet} from \"react-native\";\nimport {useState} from \"react\";\n\ninterface PropTypes {\n  visible: boolean;\n  hideDialog: () => void;\n}\n\nexport default function InlineDialog({visible, hideDialog}: PropTypes) {\n  return (\n    <Portal>\n      <Modal visible={visible} onDismiss={hideDialog} contentContainerStyle={styles.containerStyle}>\n        <View>\n          <Text style={styles.header}>Вітаємо!</Text>\n          <Text style={styles.paragraph}>Ви успішно стали в чергу!</Text>\n          <View style={styles.buttons}>\n            <Button mode='contained' onPress={hideDialog}>Закрити</Button>\n          </View>\n        </View>\n      </Modal>\n    </Portal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  containerStyle: {\n    backgroundColor: 'white',\n    padding: 20,\n    margin: 20,\n    borderRadius: 8\n  },\n  header: {\n    textAlign: 'center',\n    fontSize: 30,\n    fontWeight: 'bold',\n    marginBottom: 10,\n  },\n  paragraph: {\n    textAlign: 'center',\n    marginBottom: 5,\n    fontSize: 16\n  },\n  buttons: {\n    marginTop: 20,\n    flexDirection: 'row',\n    justifyContent: 'center'\n  }\n});","import * as React from 'react';\nimport {Portal, Button, Modal} from 'react-native-paper';\nimport {View, Text, StyleSheet} from \"react-native\";\nimport {useState} from \"react\";\n\ninterface PropTypes {\n  visible: boolean;\n  hideDialog: () => void;\n}\n\nexport default function QueueOutDialog({visible, hideDialog}: PropTypes) {\n  return (\n    <Portal>\n      <Modal visible={visible} onDismiss={hideDialog} contentContainerStyle={styles.containerStyle}>\n        <View>\n          <Text style={styles.header}>Увага!</Text>\n          <Text style={styles.paragraph}>Ви покинули чергу!</Text>\n          <View style={styles.buttons}>\n            <Button mode='contained' onPress={hideDialog}>Закрити</Button>\n          </View>\n        </View>\n      </Modal>\n    </Portal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  containerStyle: {\n    backgroundColor: 'white',\n    padding: 20,\n    margin: 20,\n    borderRadius: 8\n  },\n  header: {\n    textAlign: 'center',\n    fontSize: 30,\n    fontWeight: 'bold',\n    marginBottom: 10,\n  },\n  paragraph: {\n    textAlign: 'center',\n    marginBottom: 5,\n    fontSize: 16\n  },\n  buttons: {\n    marginTop: 20,\n    flexDirection: 'row',\n    justifyContent: 'center'\n  }\n});","import {gql} from \"@apollo/client\";\n\nexport const MAKE_DECISION_ON_QUEUE_RESERVED = gql`\n    mutation makeDecisionOnQueueReserved($input: MakeDecisionOnQueueReservedInput!) {\n        makeDecisionOnQueueReserved(input: $input) {\n           user {\n            id\n            firstName\n            lastName\n            queue {\n            id\n            state\n            type\n            classroom {\n                id\n              }\n            }\n            queueInfo {\n                state\n                remainingOccupationTime\n              }\n            }\n            userErrors {\n                message\n                code\n              }\n        }\n    }\n`;","import * as React from 'react';\nimport {Paragraph, Dialog, Portal, Button} from 'react-native-paper';\nimport {client} from \"../api/client\";\nimport {MAKE_DECISION_ON_QUEUE_RESERVED} from \"../api/operations/mutations/returnToQueue\";\n\ntype PropTypes = {\n  remainingOccupationTime: number;\n}\n\nconst ReturnToQueueDialog: React.FC<PropTypes> = ({remainingOccupationTime}) => {\n  const handleReturnToQueue = async (value: boolean) => {\n    await client.mutate({\n      mutation: MAKE_DECISION_ON_QUEUE_RESERVED,\n      variables: {\n        input: {\n          returnToQueue: value\n        }\n      }\n    })\n  };\n\n  return (\n    <Portal>\n      <Dialog visible dismissable={false}>\n        <Dialog.Title style={{textAlign: 'center'}}>\n          Увага! Ви були достроково виписані з аудиторії.\n        </Dialog.Title>\n        <Dialog.Content>\n          <Paragraph style={{textAlign: 'center'}}>\n            Ви можете повернутись до черги на те місце, на якому ви її залишили.\n          </Paragraph>\n          {remainingOccupationTime && (\n            <Paragraph style={{textAlign: 'center'}}>\n              Час, що залишився для занять: {remainingOccupationTime / 1000 / 60} хв.\n            </Paragraph>\n          )}\n          <Paragraph style={{textAlign: 'center'}}>\n            Ви бажаєте повернутись до черги?\n          </Paragraph>\n        </Dialog.Content>\n        <Dialog.Actions style={{flexDirection: 'column'}}>\n          <Button onPress={() => handleReturnToQueue(false)} mode='contained' color='#f91354'\n                  style={{marginHorizontal: 16, marginBottom: 8, width: '100%'}}>\n            Вийти з черги\n          </Button>\n          <Button onPress={() => handleReturnToQueue(true)} mode='contained'\n                  style={{marginHorizontal: 16, width: '100%'}}>\n            Повернутись до черги\n          </Button>\n        </Dialog.Actions>\n      </Dialog>\n    </Portal>\n  );\n};\n\nexport default ReturnToQueueDialog;","import React, {useEffect, useRef, useState} from 'react';\nimport {\n  AppState,\n  AppStateStatus,\n  Dimensions,\n  ImageBackground,\n  ScrollView,\n  StyleSheet,\n  TouchableOpacity,\n  View\n} from \"react-native\";\nimport {ActivityIndicator} from \"react-native-paper\";\nimport {ClassroomType, DisabledState, Mode, OccupiedState, User, UserQueueState} from \"../../models/models\";\nimport {createStackNavigator} from \"@react-navigation/stack\";\nimport {RootStackParamList} from \"../../types\";\nimport ClassroomInfo from \"../../components/ClassroomInfo\";\nimport {useQuery} from \"@apollo/client\";\nimport ClassroomsBrowser from \"../../components/ClassroomsBrowser/ClassroomsBrowser\";\nimport {GET_CLASSROOMS, GET_CLASSROOMS_NO_SCHEDULE} from \"../../api/operations/queries/classrooms\";\nimport {FOLLOW_CLASSROOMS} from \"../../api/operations/subscriptions/classrooms\";\nimport {GET_USER_BY_ID, GET_USERS} from \"../../api/operations/queries/users\";\nimport {FOLLOW_USER} from \"../../api/operations/subscriptions/user\";\nimport {getItem} from \"../../api/asyncStorage\";\nimport {hasOwnClassroom, isEnabledForCurrentDepartment, isEnabledForQueue} from \"../../helpers/helpers\";\nimport Buttons from \"./Buttons\";\nimport {useLocal} from \"../../hooks/useLocal\";\nimport {client, modeVar, noConnectionVar} from \"../../api/client\";\nimport ClassroomsAppBar from \"./ClassroomsAppBar\";\nimport Log from \"../../components/Log\";\nimport ConfirmContinueDesiredQueue from \"../../components/ConfirmContinueDesiredQueue\";\nimport {usePrevious} from \"../../hooks/usePrevious\";\nimport InlineDialog from \"../../components/InlineDialog\";\nimport QueueOutDialog from \"../../components/QueueOutDialog\";\nimport {sendPushNotification} from \"../PushNotification\";\nimport {useNavigation} from '@react-navigation/native';\nimport {GENERAL_QUEUE_SIZE} from \"../../api/operations/queries/generalQueueSize\";\nimport ErrorDialog from \"../../components/ErrorDialog\";\nimport ReturnToQueueDialog from \"../../components/ReturnToQueueDialog\";\n\nconst Stack = createStackNavigator<RootStackParamList>();\n\nconst windowHeight = Dimensions.get(\"window\").height;\n\nexport default function Home() {\n  const [currentUserId, setCurrentUserId] = useState(null);\n  const appState = useRef(AppState.currentState);\n  const {data: {me}} = useLocal('me');\n\n  useEffect(() => {\n    getItem('user').then((data: User) => setCurrentUserId(data.id));\n    AppState.addEventListener('change', _handleAppStateChange);\n    return () => {\n      AppState.removeEventListener('change', _handleAppStateChange);\n    }\n  }, []);\n\n  const _handleAppStateChange = (nextAppState: AppStateStatus) => {\n    if (\n      appState.current.match(/inactive|background/) &&\n      nextAppState === 'active'\n    ) {\n      try {\n        client.query({\n          query: GET_CLASSROOMS,\n          fetchPolicy: 'network-only'\n        });\n        client.query({\n          query: GET_USER_BY_ID,\n          variables: {\n            where: {\n              id: me.id\n            }\n          },\n          fetchPolicy: 'network-only'\n        });\n        client.query({\n          query: GENERAL_QUEUE_SIZE,\n          fetchPolicy: 'network-only'\n        });\n      } catch (e) {\n        console.log(e)\n      }\n    }\n\n    appState.current = nextAppState;\n  };\n\n  if (!currentUserId) return null;\n  // @ts-ignore\n  return <Stack.Navigator screenOptions={{headerShown: false}} initialRouteName='ClassroomsList'>\n    <Stack.Screen\n      name={'ClassroomsList' as any}\n      component={ClassroomsList}\n      initialParams={{currentUserId}}\n    />\n    <Stack.Screen\n      name={'ClassroomInfo' as any}\n      component={ClassroomInfo}\n      initialParams={{currentUserId}}\n    />\n  </Stack.Navigator>\n}\n\ntype QueryClassroomsData = {\n  classrooms: ClassroomType[];\n}\n\nconst ClassroomsList: React.FC = ({route}: any) => {\n  const {data: {mode}} = useLocal('mode');\n  const {data: {noConnection}} = useLocal('noConnection');\n  const navigation = useNavigation();\n  const {data: {pushNotificationToken}} = useLocal('pushNotificationToken');\n  const [showLog, setShowLog] = useState(false);\n  const [freeClassroomsAmount, setFreeClassroomsAmount] = useState(0);\n  const [showQueueInSuccess, setShownQueueInSuccess] = useState(false);\n  const [showQueueOutSuccess, setShownQueueOutSuccess] = useState(false);\n  const {\n    data,\n    loading,\n    error,\n    subscribeToMore\n  } = useQuery<QueryClassroomsData>(GET_CLASSROOMS_NO_SCHEDULE);\n  const {\n    data: userData,\n    loading: userLoading,\n    error: userError,\n    subscribeToMore: subscribeToMoreUser\n  } = useQuery(GET_USER_BY_ID, {\n    variables: {\n      where: {\n        id: route.params.currentUserId\n      }\n    }\n  });\n  const prevUserData: { user: User } = usePrevious(userData);\n  const prevClassroomsData: { classrooms: ClassroomType[] } = usePrevious(data);\n\n  useEffect(() => {\n    if (userData && prevUserData) {\n      const {currentSession} = userData.user?.queueInfo;\n      const {currentSession: prevSession} = prevUserData.user?.queueInfo;\n      if (!prevSession && currentSession?.state === UserQueueState.IN_QUEUE_MINIMAL) {\n        setShownQueueInSuccess(true);\n      }\n      if (!currentSession &&\n        (prevSession?.state === UserQueueState.IN_QUEUE_MINIMAL ||\n          prevSession?.state === UserQueueState.IN_QUEUE_DESIRED_AND_OCCUPYING)) {\n        setShownQueueOutSuccess(true);\n      }\n    }\n  }, [userData]);\n\n  // useEffect(() => {\n  //   if (data && prevClassroomsData && userData) {\n  //     data.classrooms.forEach(({occupied, id, name}) => {\n  //       const prevClassroomOccupiedData = prevClassroomsData.classrooms\n  //         .find((classroom) => classroom.id === id)?.occupied;\n  //       if (prevClassroomOccupiedData.user?.id !== occupied.user?.id && occupied.state === OccupiedState.PENDING\n  //         && occupied.user?.id === userData.user.id) {\n  //         sendPushNotification(pushNotificationToken, `Аудиторія ${name} звільнена.`,\n  //           `Ви маєте 2 хв. щоб зарезервувати або пропустити ії.`);\n  //       }\n  //     })\n  //   }\n  // }, [data, userData]);\n\n  useEffect(() => {\n    const unsubscribeClassrooms = subscribeToMore({\n      document: FOLLOW_CLASSROOMS,\n    });\n    const unsubscribeUser = subscribeToMoreUser({\n      document: FOLLOW_USER,\n      variables: {\n        userId: route.params.currentUserId\n      }\n    });\n    return () => {\n      unsubscribeClassrooms();\n      unsubscribeUser();\n    };\n  }, []);\n\n  useEffect(() => {\n    if (!loading && !error && userData) {\n      const freeClassrooms = data.classrooms.filter(classroom => {\n        return classroom.occupied.state === OccupiedState.FREE\n          && classroom.disabled.state === DisabledState.NOT_DISABLED\n          && isEnabledForCurrentDepartment(classroom, userData.user);\n      });\n      setFreeClassroomsAmount(freeClassrooms.length);\n    }\n  }, [data, userData]);\n\n  useEffect(() => {\n    if (userData) {\n      if (!!userData.user?.queue.length) modeVar(Mode.INLINE);\n      if (!userData.user?.queue.length && mode === Mode.INLINE) modeVar(Mode.PRIMARY);\n    }\n  }, [userData]);\n\n  /**\n   * Find occupied classroom for current user (OCCUPIED or RESERVED)\n   * */\n  const own = ({id}: ClassroomType) => {\n    return id === hasOwnClassroom(userData.user.occupiedClassrooms);\n  };\n\n  /**\n   * Filter classrooms for primary state (not in queue and not in queue setup)\n   * Hidden shown when is occupied\n   * Without occupied by current user\n   * */\n  const primary = (classroom: ClassroomType) => {\n    const ownClassroomId = hasOwnClassroom(userData.user.occupiedClassrooms);\n    const fullHidden = classroom.occupied.state === OccupiedState.FREE && classroom.isHidden;\n\n    return classroom.id !== ownClassroomId && !fullHidden &&\n      !(userData.user.occupiedClassrooms.some((data: any) => {\n        return data.classroom.id === classroom.id && data.state === OccupiedState.PENDING\n      }));\n  };\n\n  /**\n   * From BE queue data\n   * Filter chosen classrooms in queue setup mode (MINIMAl and DESIRED)\n   * */\n  const chosen = (classroom: ClassroomType) => {\n\n    return userData.user.queue.some(({classroom: {id}, ...queueRecord}: any) => classroom.id === id)\n      && !(userData.user.occupiedClassrooms.some(({id}: ClassroomType) => classroom.id === id));\n  };\n\n  /**\n   * Others not in queue classrooms\n   * */\n  const notChosen = (classroom: ClassroomType) => {\n    const ownClassroomId = hasOwnClassroom(userData.user.occupiedClassrooms);\n\n    return !(userData.user.queue.some(({classroom: {id}}: any) => classroom.id === id)) &&\n      classroom.id !== ownClassroomId;\n  };\n\n  /**\n   * Filter action pending classrooms for current user\n   * */\n  const pending = ({id}: ClassroomType) => {\n    return userData.user.occupiedClassrooms.some((data: any) => {\n      return data.classroom.id === id && data.state === OccupiedState.PENDING\n    });\n  };\n\n  const handleShowLog = () => {\n    setShowLog(prevState => !prevState);\n  }\n\n  const handleReload = () => {\n    try {\n      client.query({\n        query: GET_CLASSROOMS,\n        fetchPolicy: 'network-only'\n      });\n      client.query({\n        query: GET_USER_BY_ID,\n        variables: {\n          where: {\n            id: route.params.currentUserId\n          }\n        },\n        fetchPolicy: 'network-only'\n      });\n      client.query({\n        query: GENERAL_QUEUE_SIZE,\n        fetchPolicy: 'network-only'\n      });\n      noConnectionVar(false);\n    } catch (e) {\n\n    }\n  }\n\n  return noConnection ? (\n    <ErrorDialog visible={noConnection}\n                 hideDialog={handleReload}\n                 message=\"Немає з'єднання з інтернетом\"\n                 buttonText='Перезавантажити'\n    />\n  ) : (\n    <ImageBackground source={require('../../assets/images/bg.jpg')}\n                     style={{width: '100%', height: windowHeight}}>\n      {!loading && !error && !userLoading && !userError\n      && userData.user.queueInfo.currentSession?.state === UserQueueState.IN_QUEUE_DESIRED_AND_OCCUPYING\n      && <ConfirmContinueDesiredQueue/>}\n      {!userLoading && !userError && (\n        <>\n          <InlineDialog visible={showQueueInSuccess}\n                        hideDialog={() => setShownQueueInSuccess(false)}\n          />\n          <QueueOutDialog visible={showQueueOutSuccess}\n                          hideDialog={() => setShownQueueOutSuccess(false)}\n          />\n        </>\n      )}\n      {mode !== Mode.QUEUE_SETUP && (\n        <TouchableOpacity style={styles.hiddenLogButton} onLongPress={handleShowLog}\n                          delayLongPress={3000}>\n        </TouchableOpacity>\n      )}\n      {!loading && !error && !userLoading && !userError && (\n        <ClassroomsAppBar freeClassroomsAmount={freeClassroomsAmount} classrooms={data.classrooms}\n                          currentUser={userData.user}\n        />\n      )}\n\n      <View style={styles.wrapper}>\n        {showLog && (\n          <Log data={JSON.stringify({...userData.user.queueInfo, ...userData.user.queue})}/>\n        )}\n        {!loading && !error && !userLoading && !userError && (\n          <ScrollView style={styles.scrollView}>\n            {/**\n             My classroom: OCCUPIED or RESERVED classroom by current user\n             Shown anytime except QUEUE_SETUP mode.\n             */}\n            {mode !== Mode.QUEUE_SETUP && (\n              <ClassroomsBrowser classrooms={data.classrooms.filter(own)} currentUser={userData.user}\n                                 title='Моя аудиторія'\n              />\n            )}\n\n            {/**\n             Pending classroom: PENDING for approval by current user\n             Shown in QUEUED mode\n             */}\n            {mode === Mode.INLINE && (\n              <ClassroomsBrowser classrooms={data.classrooms.filter(pending)} currentUser={userData.user}\n                                 title='Аудиторії, що очікують підтвердження'\n              />\n            )}\n\n            {/**\n             Classrooms browser shown when current user is not in queue\n             Shown all classrooms except classrooms of current user (OCCUPIED, PENDING and RESERVED)\n             and hidden and FREE at same time\n             */}\n            {mode === Mode.PRIMARY && (\n              <ClassroomsBrowser classrooms={data.classrooms.filter(primary)} currentUser={userData.user}\n                                 title='Всі аудиторії'\n              />\n            )}\n\n            {/**\n             Classrooms browser shown when current user is in QUEUE_SETUP mode\n             Shown all classrooms except classrooms of current user (OCCUPIED, PENDING and RESERVED),\n             hidden, free, disabled and disabled for current department\n             */}\n            {mode === Mode.QUEUE_SETUP && (\n              <ClassroomsBrowser classrooms={data.classrooms.filter((classroom => {\n                return isEnabledForQueue(classroom, userData.user);\n              }))} currentUser={userData.user}/>\n            )}\n\n            {/**\n             All chosen for queue classrooms when IN_QUEUE mode is enabled\n             */}\n            {mode === Mode.INLINE && (\n              <ClassroomsBrowser classrooms={data.classrooms.filter(chosen)} currentUser={userData.user}\n                                 title='Аудиторії, за якими я стою в черзі'\n              />\n            )}\n\n            {/**\n             All NOT chosen for queue classrooms when IN_QUEUE mode is enabled\n             */}\n            {mode === Mode.INLINE && (\n              <ClassroomsBrowser classrooms={data.classrooms.filter(notChosen)} currentUser={userData.user}\n                                 title='Інші аудиторії'\n              />\n            )}\n          </ScrollView>\n        )}\n        {loading && <ActivityIndicator animating color='#fff' size={64}/>}\n      </View>\n      {!!userData && !loading && !error && (\n        <Buttons currentUser={userData.user} classrooms={data.classrooms}/>\n      )}\n      {userData &&\n      userData.user.queueInfo.currentSession?.state === UserQueueState.QUEUE_RESERVED_NOT_OCCUPYING && (\n        <ReturnToQueueDialog\n          remainingOccupationTime={userData.user.queueInfo?.currentSession?.remainingOccupationTime}\n        />\n      )}\n    </ImageBackground>\n  )\n}\n\nconst styles = StyleSheet.create(\n  {\n    grid: {\n      marginBottom: 80,\n      marginLeft: 2,\n      flexDirection: 'row',\n      flexWrap: 'wrap',\n      justifyContent: 'flex-start'\n    },\n    getInLine: {\n      position: 'absolute',\n      zIndex: 1,\n      bottom: 15,\n      width: '55%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    getOutLine: {\n      position: 'absolute',\n      zIndex: 1,\n      bottom: 15,\n      left: 20,\n      width: '43%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    getOutLineSingle: {\n      position: 'absolute',\n      zIndex: 1,\n      bottom: 15,\n      width: '55%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    approve: {\n      position: 'absolute',\n      zIndex: 1,\n      right: 20,\n      bottom: 15,\n      width: '43%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    wrapper: {\n      width: '100%',\n      height: '100%',\n      alignItems: 'center',\n      justifyContent: 'center',\n      backgroundColor: 'transparent',\n      paddingTop: 80,\n    },\n    queueSwitcher: {\n      flexDirection: 'row',\n      width: '76%',\n      justifyContent: 'center',\n      paddingHorizontal: 5,\n      marginHorizontal: 20,\n      alignItems: 'center',\n    },\n    hiddenLogButton: {\n      position: \"absolute\",\n      zIndex: 1000,\n      width: 100,\n      height: 50,\n      top: 16,\n      right: 16,\n    },\n    scrollView: {\n      paddingTop: 8,\n      paddingBottom: 80\n    }\n  }\n);","import React from 'react';\nimport {ImageBackground, Image, View} from \"react-native\";\nimport {ProgressBar} from \"react-native-paper\";\n\nexport default function Splash() {\n\n  return (\n    <ImageBackground source={require('./../assets/images/bg.jpg')} style={{\n      width: '100%',\n      height: '100%',\n      alignItems: 'center',\n      justifyContent: 'center'\n    }}>\n      <Image source={require('./../assets/images/au_logo_shadow.png')} style={{\n        width: '80%',\n        resizeMode: 'contain',\n        height: 130,\n      }}/>\n      <View style={{width: '70%', marginTop: 40}}>\n        <ProgressBar indeterminate color='#fff'/>\n      </View>\n    </ImageBackground>\n  )\n};","import React from 'react';\nimport {ScrollView, StyleSheet, Text, ImageBackground, Dimensions} from \"react-native\";\nimport {Appbar, Paragraph, Title} from \"react-native-paper\";\nimport {DrawerActions} from \"@react-navigation/native\";\n\nconst windowHeight = Dimensions.get('window').height;\n\nexport default function PrivacyPolicy({navigation}: any) {\n  return (\n    <ImageBackground source={require('../assets/images/bg.jpg')}\n                     style={{width: '100%', height: windowHeight}}>\n      <Appbar style={styles.top}>\n        <Appbar.Action icon=\"menu\" onPress={() => navigation.dispatch(DrawerActions.openDrawer())}\n                       color='#fff'\n        />\n        <Appbar.Content\n          title='Політика конфіденційності' color='#fff'\n        />\n      </Appbar>\n      <ScrollView style={styles.wrapper}>\n        <Title> Політика конфіденційності </Title>\n        <Paragraph> Останнє оновлення: 25 серпня 2021 р.</Paragraph>\n        <Paragraph> Ця Політика конфіденційності описує нашу політику та процедури щодо збору, використання та розкриття\n          вашої\n          інформації під час користування Сервісом та розповідає вам про ваші права на конфіденційність та про те, як\n          закон\n          захищає вас. </Paragraph>\n        <Paragraph> Ми використовуємо Ваші персональні дані для надання та покращення Послуги. Користуючись Послугою, ви\n          погоджуєтесь на\n          збір та використання інформації відповідно до цієї Політики конфіденційності.</Paragraph>\n        <Title> Інтерпретація та визначення </Title>\n        <Title> Інтерпретація </Title>\n        <Paragraph> Слова, у яких початкова буква написана з великої букви, мають значення, визначені за таких умов.\n          Наступні визначення\n          мають однакове значення незалежно від того, чи входять вони в однині чи множині. </Paragraph>\n        <Title style={{fontSize: 16}}> Визначення </Title>\n        <Paragraph> Для цілей цієї Політики конфіденційності: </Paragraph>\n\n        <Paragraph>\n          <Paragraph><Text style={{fontWeight: '600'}}> Обліковий запис </Text> означає унікальний обліковий запис,\n            створений для доступу до нашого\n            Сервісу або частин нашого Сервісу. </Paragraph>\n        </Paragraph>\n        <Paragraph>\n          <Paragraph><Text style={{fontWeight: '600'}}> Додаток </Text> означає програмне забезпечення, надане\n            Компанією, завантажене Вами на будь -якому\n            електронному пристрої під назвою Auditorium </Paragraph>\n        </Paragraph>\n        <Paragraph>\n          <Paragraph><Text style={{fontWeight: '600'}}> Компанія </Text> (в даній Угоді також згадується як \"Компанія\",\n            \"Ми\", \"Ми\" або \"Наша\" або\n            \"Auditorium\"). </Paragraph>\n        </Paragraph>\n        <Paragraph>\n          <Paragraph><Text style={{fontWeight: '600'}}> Країна </Text> відноситься до: Україна </Paragraph>\n        </Paragraph>\n        <Paragraph>\n          <Paragraph><Text style={{fontWeight: '600'}}> Пристрій </Text> означає будь -який пристрій, який має доступ до\n            Доатку, наприклад комп’ютер,\n            мобільний телефон або цифровий планшет. </Paragraph>\n        </Paragraph>\n        <Paragraph>\n          <Paragraph><Text style={{fontWeight: '600'}}> Особисті дані </Text> - це будь -яка інформація, що стосується\n            ідентифікованої особи або особи, що\n            ідентифікується. </Paragraph>\n        </Paragraph>\n        <Paragraph>\n          <Paragraph><Text style={{fontWeight: '600'}}> Послуга </Text> відноситься до Програми. </Paragraph>\n        </Paragraph>\n        <Paragraph>\n          <Paragraph><Text style={{fontWeight: '600'}}> Постачальник послуг </Text> означає будь -яку фізичну або\n            юридичну особу, яка обробляє дані від\n            імені Компанії. Він відноситься до сторонніх компаній або приватних осіб, зайнятих Компанією для сприяння\n            Службі, надання Послуги від імені Компанії, для надання послуг, пов'язаних із Послугою, або для надання\n            допомоги Компанії в аналізі використання Сервісу. </Paragraph>\n        </Paragraph>\n        <Paragraph>\n          <Paragraph><Text style={{fontWeight: '600'}}> Дані про використання </Text> відносяться до даних, зібраних\n            автоматично, або генерованих шляхом\n            використання Сервісу, або з інфраструктури самої Сервісу (наприклад, тривалість відвідування сторінки).\n          </Paragraph>\n        </Paragraph>\n        <Paragraph>\n          <Paragraph><Text style={{fontWeight: '600'}}> Ви </Text> означає фізичну особу, яка отримує доступ або\n            користується Послугою, або компанію чи\n            іншу юридичну особу, від імені якої така особа отримує доступ або користується Службою, якщо це можливо.\n          </Paragraph>\n        </Paragraph>\n\n        <Title> Збір та використання ваших особистих даних </Title>\n        <Title style={{fontSize: 16}}> Типи зібраних даних </Title>\n        <Title style={{fontSize: 14}}>Особисті дані </Title>\n        <Paragraph> Під час користування нашим Сервісом ми можемо попросити вас надати нам певну особисту інформацію,\n          яка може бути\n          використана для зв’язку або ідентифікації вас. Інформація, що ідентифікує особу, може включати, але не\n          обмежуватися\n          ними: </Paragraph>\n\n        <Paragraph>\n          <Paragraph> Адреса електронної пошти </Paragraph>\n        </Paragraph>\n        <Paragraph>\n          <Paragraph> Ім'я та прізвище </Paragraph>\n        </Paragraph>\n        <Paragraph>\n          <Paragraph> Номер телефону </Paragraph>\n        </Paragraph>\n        <Paragraph>\n          <Paragraph> Дані про місце Вашого навчання або роботи </Paragraph>\n        </Paragraph>\n        <Paragraph>\n          <Paragraph> Дані використання </Paragraph>\n        </Paragraph>\n\n        <Title style={{fontSize: 14}}>Дані використання </Title>\n        <Paragraph> Дані про використання збираються автоматично під час використання Сервісу. </Paragraph>\n        <Paragraph> Дані про використання можуть включати таку інформацію, як адреса Інтернет -протоколу вашого пристрою\n          (наприклад, IP\n          -адреса), тип веб -переглядача, версія браузера, сторінки нашої Служби, які ви відвідуєте, час і дата вашого\n          відвідування, час, витрачений на ці сторінки , унікальні ідентифікатори пристрою та інші діагностичні\n          дані. </Paragraph>\n        <Paragraph> Коли ви отримуєте доступ до Служби через або через мобільний пристрій, ми можемо автоматично збирати\n          певну\n          інформацію, включаючи, але не обмежуючись, тип мобільного пристрою, яким ви користуєтесь, унікальний\n          ідентифікатор\n          вашого мобільного пристрою, IP -адресу вашого мобільного пристрою , Ваша мобільна операційна система, тип\n          мобільного\n          Інтернет -браузера, який ви використовуєте, унікальні ідентифікатори пристрою та інші діагностичні\n          дані. </Paragraph>\n        <Paragraph> Ми також можемо збирати інформацію, яку надсилає ваш веб -переглядач, коли ви відвідуєте наш Сервіс\n          або коли ви\n          отримуєте доступ до Служби за допомогою мобільного пристрою або через нього. </Paragraph>\n        <Title style={{fontSize: 16}}> Використання ваших особистих даних </Title>\n        <Paragraph> Компанія може використовувати Персональні дані для таких цілей: </Paragraph>\n\n        <Paragraph>\n          <Paragraph><Text style={{fontWeight: '600'}}> Для надання та підтримки нашого Застосунку </Text>, зокрема для\n            контролю за його використанням.\n          </Paragraph>\n        </Paragraph>\n        <Paragraph>\n          <Paragraph><Text style={{fontWeight: '600'}}> Щоб керувати своїм обліковим записом: </Text> керуйте своєю\n            реєстрацією як користувач Додатку.\n            Надані Вами персональні дані можуть надати Вам доступ до різних функцій Сервісу, які доступні Вам як\n            зареєстрованому користувачу. </Paragraph>\n        </Paragraph>\n        <Paragraph>\n          <Paragraph><Text style={{fontWeight: '600'}}> Щоб зв’язатися з Вами: </Text> Щоб зв’язатися з Вами електронною\n            поштою, телефонними дзвінками,\n            SMS або іншими еквівалентними формами\n            електронного зв'язку, наприклад, push -сповіщення мобільних додатків щодо оновлень або інформативні\n            комунікації, пов'язані з функціональними можливостями, продуктами або контрактними послугами, включаючи\n            безпеку\n            оновлення, коли це необхідно або розумно для їх впровадження. </Paragraph>\n        </Paragraph>\n        <Paragraph>\n          <Paragraph><Text style={{fontWeight: '600'}}> Щоб надати Вам </Text> новини, спеціальні пропозиції та загальну\n            інформацію про інші товари,\n            послуги\n            та події, які ми пропонуємо, подібні до тих, які ви вже придбали чи запитали про них, крім випадків, коли це\n            відбувається\n            Ви вирішили не отримувати таку інформацію. </Paragraph>\n        </Paragraph>\n        <Paragraph>\n          <Paragraph><Text style={{fontWeight: '600'}}> Щоб керувати Вашими запитами: </Text> Щоб відвідувати та\n            керувати Вашими запитами до нас. </Paragraph>\n        </Paragraph>\n        <Paragraph>\n          <Paragraph><Text style={{fontWeight: '600'}}> В інших цілях </Text>: Ми можемо використовувати Вашу інформацію\n            в інших цілях, таких як аналіз\n            даних,\n            визначення тенденцій використанняб оцінка та\n            покращення наших послуг.</Paragraph>\n        </Paragraph>\n\n        <Paragraph> Ми можемо передавати Вашу особисту інформацію у таких ситуаціях: </Paragraph>\n\n        <Paragraph><Text style={{fontWeight: '600'}}> З постачальниками послуг. </Text> Ми можемо передавати Вашу\n          особисту інформацію постачальникам послуг\n          відстежувати та аналізувати використання нашого Сервісу, щоб зв’язатися з Вами.\n        </Paragraph>\n        <Paragraph><Text style={{fontWeight: '600'}}> З діловими партнерами: </Text> Ми можемо поділитися Вашою\n          інформацією з нашими діловими партнерами,\n          щоб запропонувати Вам\n          певні товари, послуги чи акції.\n        </Paragraph>\n        <Paragraph><Text style={{fontWeight: '600'}}> З іншими користувачами: </Text> коли ви ділитесь особистою\n          інформацією або іншим чином взаємодієте у\n          загальнодоступних місцях\n          з іншими користувачами таку інформацію можуть переглядати всі користувачі та публічно розповсюджувати їх за\n          межами.\n        </Paragraph>\n        <Paragraph><Text style={{fontWeight: '600'}}> З вашої згоди </Text>: Ми можемо розкривати Вашу особисту\n          інформацію для будь-яких інших цілейю</Paragraph>\n\n        <Title style={{fontSize: 16}}> Збереження ваших особистих даних</Title>\n        <Paragraph> Компанія зберігатиме Ваші персональні дані лише стільки часу, скільки це необхідно для цілей,\n          викладених у цій\n          Політиці Конфіденційності. Ми будемо зберігати та використовувати Ваші Персональні дані в обсязі, необхідному\n          для виконання наших\n          юридичних зобов’язань (наприклад, якщо ми зобов’язані зберігати ваші дані відповідно до чинного\n          законодавства).</Paragraph>\n        <Paragraph> Компанія також зберігатиме дані про використання для цілей внутрішнього аналізу. Дані про\n          використання зазвичай\n          зберігаються для коротший період часу, за винятком випадків, коли ці дані використовуються для посилення\n          безпеки або покращення\n          функціональності. </Paragraph>\n        <Title style={{fontSize: 16}}> Передача ваших особистих даних </Title>\n        <Paragraph> Ваша інформація, включаючи персональні дані, обробляється в офісах компанії та в будь -яких інших\n          місцях\n          де знаходяться сторони, які беруть участь у обробці. Це означає, що ця інформація може бути передана\n          на комп'ютерах, що знаходяться за межами Вашого штату, провінції, країни чи іншої урядової юрисдикції, де\n          законодавство про захист даних може відрізнятися від законодавства Вашої юрисдикції. </Paragraph>\n        <Paragraph> Ваша згода з цією Політикою конфіденційності з подальшим поданням такої інформації є вашою згодою на\n          це.</Paragraph>\n        <Paragraph> Компанія вживе всіх необхідних заходів, щоб забезпечити безпечне та відповідне поводження з Вашими\n          даними\n          згідно з цією Політикою конфіденційності, передача Ваших персональних даних не відбуватиметься до організації\n          чи країни\n          якщо немає належного контролю, включаючи безпеку Ваших даних та іншої особистої інформації. </Paragraph>\n        <Title style={{fontSize: 16}}> Розкриття ваших особистих даних </Title>\n        <Title style={{fontSize: 14}}>Ділові операції </Title>\n        <Paragraph> Якщо Компанія бере участь у злитті, поглинанні або продажу активів, Ваші Персональні дані можуть\n          бути передані. Ми будемо\n          надіслати повідомлення до того, як Ваші Персональні дані будуть передані та стануть предметом іншої Політики\n          конфіденційності. </Paragraph>\n        <Title style={{fontSize: 14}}>Правоохоронні органи </Title>\n        <Paragraph> За певних обставин від Компанії може знадобитися розкриття ваших Персональних даних, якщо цього\n          вимагає закон\n          або у відповідь на дійсні запити державних органів (наприклад, суду чи державного органу). </Paragraph>\n        <Title style={{fontSize: 14}}>Інші законодавчі вимоги </Title>\n        <Paragraph> Компанія може добросовісно розкрити Ваші Персональні дані, що такі дії необхідні для: </Paragraph>\n\n        <Paragraph> Виконувати юридичні зобов’язання </Paragraph>\n        <Paragraph> Захищати та захищати права чи майно Компанії </Paragraph>\n        <Paragraph> Запобігайте або розслідувати можливі правопорушення, пов'язані з Додатком</Paragraph>\n        <Paragraph> Захищати особисту безпеку Користувачів Послуги</Paragraph>\n\n        <Title style={{fontSize: 16}}> Безпека ваших особистих даних </Title>\n        <Paragraph> Для нас важлива безпека ваших персональних даних, але пам’ятайте, що жоден спосіб передачі через\n          Інтернет,\n          або спосіб електронного зберігання не є 100% безпечним.</Paragraph>\n        <Title> Посилання на інші веб-сайти </Title>\n        <Paragraph> Наш Сервіс може містити посилання на інші веб-сайти, якими ми не керуємо. Якщо Ви натискаєте\n          посилання третьої сторони, Ви\n          буде перенаправлено на веб-сайт цієї третьої сторони. Ми наполегливо радимо Вам переглянути Політику\n          конфіденційності кожного Вашого сайту\n          відвідування. </Paragraph>\n        <Paragraph> Ми не контролюємо і не несемо відповідальності за зміст, політику конфіденційності чи практику\n          будь-якої третьої особи\n          вечірки або послуги. </Paragraph>\n        <Title> Зміни до цієї Політики конфіденційності </Title>\n        <Paragraph> Ми можемо час від часу оновлювати нашу Політику конфіденційності. Ми повідомимо Вас про будь-які\n          зміни, опублікувавши нову Політику Конфіденційности на цій сторінці. </Paragraph>\n        <Paragraph> Ми повідомимо Вас електронною поштою та/або помітним повідомленням про наш Додаток до того, як зміна\n          набуде чинності та\n          оновлення. Дата останнього оновлення у верхній частині цієї Політики конфіденційності. </Paragraph>\n        <Paragraph> Радимо періодично переглядати цю Політику конфіденційності на предмет будь-яких змін. Зміни в цій\n          Політиці конфіденційності\n          набувають чинності, коли вони розміщені на цій сторінці. </Paragraph>\n        <Title> Зв’яжіться з нами </Title>\n        <Paragraph> Якщо у вас є запитання щодо цієї Політики конфіденційності, ви можете зв'язатися з\n          нами: </Paragraph>\n\n        <Paragraph> На електронну адресу: auditorium.knmau@gmail.com </Paragraph>\n      </ScrollView>\n    </ImageBackground>\n  )\n}\n\nconst styles = StyleSheet.create({\n  top: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    paddingTop: 26,\n    height: 80,\n    backgroundColor: 'transparent',\n  },\n  wrapper: {\n    marginTop: 80,\n    paddingLeft: 16,\n    paddingRight: 16,\n    backgroundColor: '#fff'\n  },\n});","import {DarkTheme, DefaultTheme, NavigationContainer} from '@react-navigation/native';\nimport {createStackNavigator} from '@react-navigation/stack';\nimport * as React from 'react';\nimport {useEffect, useRef, useState} from 'react';\nimport {Alert, AppState, AppStateStatus, BackHandler, ColorSchemeName, StyleSheet} from 'react-native';\nimport {RootStackParamList} from '../types';\nimport Login from \"../screens/Login\";\nimport SignUp from \"../screens/Signup/SignUp\";\nimport ForgotPassword from \"../screens/ForgotPassword\";\nimport ForgotPasswordSuccess from \"../screens/ForgotPasswordSuccess\";\nimport {createDrawerNavigator} from \"@react-navigation/drawer\";\nimport Users from \"../screens/Users\";\nimport CustomSidebarMenu from \"./CustomSidebarMenu\";\nimport Profile from \"../screens/Profile\";\nimport {getItem} from \"../api/asyncStorage\";\nimport Home from \"../screens/ClassroomsList/ClassroomsList\";\nimport {meVar} from \"../api/client\";\nimport * as SplashScreen from \"expo-splash-screen\";\nimport Splash from \"../screens/Splash\";\nimport PrivacyPolicy from \"../screens/PrivacyPolicy\";\nimport {useLocal} from \"../hooks/useLocal\";\n\nexport default function Navigation({colorScheme}: { colorScheme: ColorSchemeName }) {\n  return (\n    <NavigationContainer\n      theme={colorScheme === 'dark' ? DarkTheme : DefaultTheme}>\n      <RootNavigator/>\n    </NavigationContainer>\n  );\n}\n\nconst Drawer = createDrawerNavigator();\nconst Stack = createStackNavigator<RootStackParamList>();\n\n\nfunction RootNavigator() {\n  const [currentUser, setCurrentUser] = useState(null);\n  const [appIsReady, setAppIsReady] = useState(false);\n  const {data: {me}} = useLocal('me');\n  const {data: {noToken}} = useLocal('noToken');\n\n  useEffect(() => {\n    async function prepare() {\n      try {\n        const user = await getItem('user');\n        if (user) {\n          setCurrentUser(user);\n          meVar(user);\n        }\n        await SplashScreen.preventAutoHideAsync();\n      } catch (e) {\n        console.warn(e);\n      } finally {\n        setAppIsReady(true);\n      }\n    }\n\n    prepare();\n\n    const backAction = () => {\n      Alert.alert('Увага!', 'Ви дійсно хочете вийти з додатку?', [\n        {\n          text: 'Ні',\n          onPress: () => null,\n          style: 'cancel',\n        },\n        { text: 'Так', onPress: () => BackHandler.exitApp() },\n      ]);\n      return true;\n    };\n\n    const backHandler = BackHandler.addEventListener('hardwareBackPress', backAction);\n\n    return () => backHandler.remove();\n  }, []);\n\n  return (\n    me && !noToken ? <Drawer.Navigator initialRouteName=\"Home\" drawerStyle={styles.drawer} drawerContentOptions={{\n        activeBackgroundColor: '#2b5dff',\n        labelStyle: {\n          fontSize: 20,\n          color: '#fff'\n        },\n      }}\n                           drawerContent={(props: any) => <CustomSidebarMenu {...props}/>}\n      >\n        <Drawer.Screen name=\"Home\"\n                       component={Home}\n                       options={{\n                         title: 'Аудиторії',\n                       }}\n                       initialParams={{id: me.id}}\n        />\n        <Drawer.Screen name=\"Users\" component={Users} options={{\n          title: 'Довідник',\n        }}/>\n        {/*<Drawer.Screen name=\"Schedule\" component={Schedule} options={{*/}\n        {/*  title: 'Розклад'*/}\n        {/*}}/>*/}\n        <Drawer.Screen name=\"Profile\" component={Profile} options={{\n          title: 'Мій профіль'\n        }}/>\n        <Drawer.Screen name=\"PrivacyPolicy\" component={PrivacyPolicy} options={{\n          title: 'Політика конфіденційності'\n        }}/>\n      </Drawer.Navigator>\n      : <Stack.Navigator screenOptions={{headerShown: false}} initialRouteName={\"Login\" as any}>\n        <Stack.Screen\n          name={\"Login\" as any}\n          component={appIsReady ? Login : Splash}\n        />\n        <Stack.Screen\n          name={\"SignUp\" as any}\n          component={SignUp}\n        />\n        <Stack.Screen\n          name={\"ForgotPassword\" as any}\n          component={ForgotPassword}\n        />\n        <Stack.Screen\n          name={\"ForgotPasswordSuccess\" as any}\n          component={ForgotPasswordSuccess}\n        />\n      </Stack.Navigator>\n  );\n}\n\nconst styles = StyleSheet.create({\n  drawer: {\n    backgroundColor: '#2e287c',\n  }\n});\n","import {StatusBar} from 'expo-status-bar';\nimport React, {useEffect} from 'react';\nimport {SafeAreaProvider} from 'react-native-safe-area-context';\nimport useColorScheme from './hooks/useColorScheme';\nimport Navigation from './navigation';\nimport {ApolloProvider} from \"@apollo/client\";\nimport {client} from \"./api/client\";\nimport {Provider, DefaultTheme} from \"react-native-paper\";\nimport * as Localization from 'expo-localization';\nimport i18n from 'i18n-js';\nimport en from './localization/en.json';\nimport ua from './localization/ua.json';\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\n\ni18n.locale = Localization.locale;\ni18n.fallbacks = true;\ni18n.translations = {en, ua};\n\nexport default function App() {\n  const colorScheme = useColorScheme();\n\n  const theme = {\n    ...DefaultTheme,\n    roundness: 8,\n    colors: {\n      ...DefaultTheme.colors,\n      primary: '#2b5dff',\n      accent: '#ffc000',\n    },\n  };\n\n  return (\n    <ApolloProvider client={client}>\n      <SafeAreaProvider>\n        <Provider theme={theme}>\n          <Navigation colorScheme={colorScheme}/>\n          <StatusBar/>\n        </Provider>\n      </SafeAreaProvider>\n    </ApolloProvider>\n  );\n}\n","module.exports = __webpack_public_path__ + \"static/media/help_white.e1af6cda.png\";","module.exports = __webpack_public_path__ + \"static/media/help.60dca5bc.png\";","var map = {\n\t\"./af\": 282,\n\t\"./af.js\": 282,\n\t\"./ar\": 283,\n\t\"./ar-dz\": 284,\n\t\"./ar-dz.js\": 284,\n\t\"./ar-kw\": 285,\n\t\"./ar-kw.js\": 285,\n\t\"./ar-ly\": 286,\n\t\"./ar-ly.js\": 286,\n\t\"./ar-ma\": 287,\n\t\"./ar-ma.js\": 287,\n\t\"./ar-sa\": 288,\n\t\"./ar-sa.js\": 288,\n\t\"./ar-tn\": 289,\n\t\"./ar-tn.js\": 289,\n\t\"./ar.js\": 283,\n\t\"./az\": 290,\n\t\"./az.js\": 290,\n\t\"./be\": 291,\n\t\"./be.js\": 291,\n\t\"./bg\": 292,\n\t\"./bg.js\": 292,\n\t\"./bm\": 293,\n\t\"./bm.js\": 293,\n\t\"./bn\": 294,\n\t\"./bn-bd\": 295,\n\t\"./bn-bd.js\": 295,\n\t\"./bn.js\": 294,\n\t\"./bo\": 296,\n\t\"./bo.js\": 296,\n\t\"./br\": 297,\n\t\"./br.js\": 297,\n\t\"./bs\": 298,\n\t\"./bs.js\": 298,\n\t\"./ca\": 299,\n\t\"./ca.js\": 299,\n\t\"./cs\": 300,\n\t\"./cs.js\": 300,\n\t\"./cv\": 301,\n\t\"./cv.js\": 301,\n\t\"./cy\": 302,\n\t\"./cy.js\": 302,\n\t\"./da\": 303,\n\t\"./da.js\": 303,\n\t\"./de\": 304,\n\t\"./de-at\": 305,\n\t\"./de-at.js\": 305,\n\t\"./de-ch\": 306,\n\t\"./de-ch.js\": 306,\n\t\"./de.js\": 304,\n\t\"./dv\": 307,\n\t\"./dv.js\": 307,\n\t\"./el\": 308,\n\t\"./el.js\": 308,\n\t\"./en-au\": 309,\n\t\"./en-au.js\": 309,\n\t\"./en-ca\": 310,\n\t\"./en-ca.js\": 310,\n\t\"./en-gb\": 311,\n\t\"./en-gb.js\": 311,\n\t\"./en-ie\": 312,\n\t\"./en-ie.js\": 312,\n\t\"./en-il\": 313,\n\t\"./en-il.js\": 313,\n\t\"./en-in\": 314,\n\t\"./en-in.js\": 314,\n\t\"./en-nz\": 315,\n\t\"./en-nz.js\": 315,\n\t\"./en-sg\": 316,\n\t\"./en-sg.js\": 316,\n\t\"./eo\": 317,\n\t\"./eo.js\": 317,\n\t\"./es\": 318,\n\t\"./es-do\": 319,\n\t\"./es-do.js\": 319,\n\t\"./es-mx\": 320,\n\t\"./es-mx.js\": 320,\n\t\"./es-us\": 321,\n\t\"./es-us.js\": 321,\n\t\"./es.js\": 318,\n\t\"./et\": 322,\n\t\"./et.js\": 322,\n\t\"./eu\": 323,\n\t\"./eu.js\": 323,\n\t\"./fa\": 324,\n\t\"./fa.js\": 324,\n\t\"./fi\": 325,\n\t\"./fi.js\": 325,\n\t\"./fil\": 326,\n\t\"./fil.js\": 326,\n\t\"./fo\": 327,\n\t\"./fo.js\": 327,\n\t\"./fr\": 328,\n\t\"./fr-ca\": 329,\n\t\"./fr-ca.js\": 329,\n\t\"./fr-ch\": 330,\n\t\"./fr-ch.js\": 330,\n\t\"./fr.js\": 328,\n\t\"./fy\": 331,\n\t\"./fy.js\": 331,\n\t\"./ga\": 332,\n\t\"./ga.js\": 332,\n\t\"./gd\": 333,\n\t\"./gd.js\": 333,\n\t\"./gl\": 334,\n\t\"./gl.js\": 334,\n\t\"./gom-deva\": 335,\n\t\"./gom-deva.js\": 335,\n\t\"./gom-latn\": 336,\n\t\"./gom-latn.js\": 336,\n\t\"./gu\": 337,\n\t\"./gu.js\": 337,\n\t\"./he\": 338,\n\t\"./he.js\": 338,\n\t\"./hi\": 339,\n\t\"./hi.js\": 339,\n\t\"./hr\": 340,\n\t\"./hr.js\": 340,\n\t\"./hu\": 341,\n\t\"./hu.js\": 341,\n\t\"./hy-am\": 342,\n\t\"./hy-am.js\": 342,\n\t\"./id\": 343,\n\t\"./id.js\": 343,\n\t\"./is\": 344,\n\t\"./is.js\": 344,\n\t\"./it\": 345,\n\t\"./it-ch\": 346,\n\t\"./it-ch.js\": 346,\n\t\"./it.js\": 345,\n\t\"./ja\": 347,\n\t\"./ja.js\": 347,\n\t\"./jv\": 348,\n\t\"./jv.js\": 348,\n\t\"./ka\": 349,\n\t\"./ka.js\": 349,\n\t\"./kk\": 350,\n\t\"./kk.js\": 350,\n\t\"./km\": 351,\n\t\"./km.js\": 351,\n\t\"./kn\": 352,\n\t\"./kn.js\": 352,\n\t\"./ko\": 353,\n\t\"./ko.js\": 353,\n\t\"./ku\": 354,\n\t\"./ku.js\": 354,\n\t\"./ky\": 355,\n\t\"./ky.js\": 355,\n\t\"./lb\": 356,\n\t\"./lb.js\": 356,\n\t\"./lo\": 357,\n\t\"./lo.js\": 357,\n\t\"./lt\": 358,\n\t\"./lt.js\": 358,\n\t\"./lv\": 359,\n\t\"./lv.js\": 359,\n\t\"./me\": 360,\n\t\"./me.js\": 360,\n\t\"./mi\": 361,\n\t\"./mi.js\": 361,\n\t\"./mk\": 362,\n\t\"./mk.js\": 362,\n\t\"./ml\": 363,\n\t\"./ml.js\": 363,\n\t\"./mn\": 364,\n\t\"./mn.js\": 364,\n\t\"./mr\": 365,\n\t\"./mr.js\": 365,\n\t\"./ms\": 366,\n\t\"./ms-my\": 367,\n\t\"./ms-my.js\": 367,\n\t\"./ms.js\": 366,\n\t\"./mt\": 368,\n\t\"./mt.js\": 368,\n\t\"./my\": 369,\n\t\"./my.js\": 369,\n\t\"./nb\": 370,\n\t\"./nb.js\": 370,\n\t\"./ne\": 371,\n\t\"./ne.js\": 371,\n\t\"./nl\": 372,\n\t\"./nl-be\": 373,\n\t\"./nl-be.js\": 373,\n\t\"./nl.js\": 372,\n\t\"./nn\": 374,\n\t\"./nn.js\": 374,\n\t\"./oc-lnc\": 375,\n\t\"./oc-lnc.js\": 375,\n\t\"./pa-in\": 376,\n\t\"./pa-in.js\": 376,\n\t\"./pl\": 377,\n\t\"./pl.js\": 377,\n\t\"./pt\": 378,\n\t\"./pt-br\": 379,\n\t\"./pt-br.js\": 379,\n\t\"./pt.js\": 378,\n\t\"./ro\": 380,\n\t\"./ro.js\": 380,\n\t\"./ru\": 381,\n\t\"./ru.js\": 381,\n\t\"./sd\": 382,\n\t\"./sd.js\": 382,\n\t\"./se\": 383,\n\t\"./se.js\": 383,\n\t\"./si\": 384,\n\t\"./si.js\": 384,\n\t\"./sk\": 385,\n\t\"./sk.js\": 385,\n\t\"./sl\": 386,\n\t\"./sl.js\": 386,\n\t\"./sq\": 387,\n\t\"./sq.js\": 387,\n\t\"./sr\": 388,\n\t\"./sr-cyrl\": 389,\n\t\"./sr-cyrl.js\": 389,\n\t\"./sr.js\": 388,\n\t\"./ss\": 390,\n\t\"./ss.js\": 390,\n\t\"./sv\": 391,\n\t\"./sv.js\": 391,\n\t\"./sw\": 392,\n\t\"./sw.js\": 392,\n\t\"./ta\": 393,\n\t\"./ta.js\": 393,\n\t\"./te\": 394,\n\t\"./te.js\": 394,\n\t\"./tet\": 395,\n\t\"./tet.js\": 395,\n\t\"./tg\": 396,\n\t\"./tg.js\": 396,\n\t\"./th\": 397,\n\t\"./th.js\": 397,\n\t\"./tk\": 398,\n\t\"./tk.js\": 398,\n\t\"./tl-ph\": 399,\n\t\"./tl-ph.js\": 399,\n\t\"./tlh\": 400,\n\t\"./tlh.js\": 400,\n\t\"./tr\": 401,\n\t\"./tr.js\": 401,\n\t\"./tzl\": 402,\n\t\"./tzl.js\": 402,\n\t\"./tzm\": 403,\n\t\"./tzm-latn\": 404,\n\t\"./tzm-latn.js\": 404,\n\t\"./tzm.js\": 403,\n\t\"./ug-cn\": 405,\n\t\"./ug-cn.js\": 405,\n\t\"./uk\": 406,\n\t\"./uk.js\": 406,\n\t\"./ur\": 407,\n\t\"./ur.js\": 407,\n\t\"./uz\": 408,\n\t\"./uz-latn\": 409,\n\t\"./uz-latn.js\": 409,\n\t\"./uz.js\": 408,\n\t\"./vi\": 410,\n\t\"./vi.js\": 410,\n\t\"./x-pseudo\": 411,\n\t\"./x-pseudo.js\": 411,\n\t\"./yo\": 412,\n\t\"./yo.js\": 412,\n\t\"./zh-cn\": 413,\n\t\"./zh-cn.js\": 413,\n\t\"./zh-hk\": 414,\n\t\"./zh-hk.js\": 414,\n\t\"./zh-mo\": 415,\n\t\"./zh-mo.js\": 415,\n\t\"./zh-tw\": 416,\n\t\"./zh-tw.js\": 416\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 589;","module.exports = __webpack_public_path__ + \"static/media/au_logo.de05cb10.png\";","module.exports = __webpack_public_path__ + \"static/media/key.5df04324.png\";"],"sourceRoot":""}