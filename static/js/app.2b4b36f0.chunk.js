(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{105:function(e,t,n){e.exports=n.p+"static/media/bg.b6732535.jpg"},166:function(e,t,n){e.exports=n.p+"static/media/GrandPiano.5e053f8a.png"},247:function(e,t,n){e.exports=n.p+"static/media/au_logo_shadow.0250c21a.png"},403:function(e,t,n){e.exports=n.p+"static/media/Chembalo.5e053f8a.png"},404:function(e,t,n){e.exports=n.p+"static/media/UpRightPiano.791ce387.png"},405:function(e,t,n){e.exports=n.p+"static/media/star.f99f6a14.png"},461:function(e,t,n){"use strict";n.d(t,"a",(function(){return Da}));var a=n(7),r=n.n(a),o=n(462),i=n(0),l=n.n(i),c=n(564),s=n(423);function u(){return Object(s.a)()}var m=n(4),d=n.n(m),f=n(17),p=n.n(f),g=n(420),h=n(409),b=n(125),E=n(576),y=n(2),v=n(32),w=n(65),j=n(75),O=n(413),S=n(171),I=n(66),C=n.n(I),P=n(9),x=n.n(P),T=n(12),k=n(1),D={light:{text:"#000",background:"#fff",tint:"#2f95dc",tabIconDefault:"#ccc",tabIconSelected:"#2f95dc"},dark:{text:"#fff",background:"#000",tint:"#fff",tabIconDefault:"#ccc",tabIconSelected:"#fff"},red:"#f91354",blue:"#2b5dff",darkBlue:"#2e287c",orange:"#ffc000"};function R(e,t){var n=u(),a=e[n];return a||D[n][t]}function A(e){var t=e.style,n=e.lightColor,a=e.darkColor,r=x()(e,["style","lightColor","darkColor"]),o=R({light:n,dark:a},"text");return i.createElement(T.a,C()({style:[{color:o},t]},r))}function N(e){var t=e.style,n=e.lightColor,a=e.darkColor,r=x()(e,["style","lightColor","darkColor"]),o=R({light:n,dark:a},"background");return i.createElement(k.a,C()({style:[{backgroundColor:o},t]},r))}var L,q=n(25),U=n(42),B=n.n(U),z=Object(q.gql)(L||(L=B()(["\n    mutation login($input: LoginInput!) {\n        login(input: $input) {\n            token\n            user {\n                id\n                firstName\n                patronymic\n                lastName\n                type\n                phoneNumber\n                extraPhoneNumbers\n                email\n                department {\n                  id\n                  name  \n                }\n                occupiedClassroom: classroom {\n                  id\n                  name\n                  occupied {\n                    state\n                  }\n                }\n                studentInfo {\n                  degree {\n                    name\n                  }\n                  startYear\n                  accountStatus\n                }\n                employeeInfo {\n                  employmentType\n                  accountStatus\n                }\n                queue {\n                  id\n                  classroom {\n                    id\n                    name\n                  }\n                  state\n                  type\n                }\n            }\n               \n            userErrors {\n                message\n                code\n            }\n        }\n    }\n"]))),M=n(421),F=n(418),V=n(245),W=n(246);function H(e){var t=e.visible,n=e.message;return i.createElement(M.a,null,i.createElement(F.a,{visible:t,dismissable:!1},i.createElement(F.a.Title,{style:{textAlign:"center"}},"\u0417\u0430\u0447\u0435\u043a\u0430\u0439\u0442\u0435, \u0431\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430!"),i.createElement(F.a.Content,null,i.createElement(V.a,{style:{textAlign:"center"}},n),i.createElement(W.a,{indeterminate:!0,style:{marginTop:16}}))))}var _,Q,Y,$,G,J,Z,K,X,ee,te,ne,ae,re,oe,ie,le,ce=n(213),se=function(e,t){return p.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,p.a.awrap(ce.a.setItem(e,JSON.stringify(t)));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),console.log(n.t0);case 8:case"end":return n.stop()}}),null,null,[[0,5]],Promise)},ue=function(e){var t;return p.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,p.a.awrap(ce.a.getItem(e).then((function(e){null!==e&&(t=JSON.parse(e))})));case 3:return n.abrupt("return",t);case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0);case 9:case"end":return n.stop()}}),null,null,[[0,6]],Promise)},me=function(e){return p.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.awrap(ce.a.removeItem(e));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:case"end":return t.stop()}}),null,null,[[0,5]],Promise)};function de(e){var t=e.visible,n=e.hideDialog,a=e.message;return i.createElement(M.a,null,i.createElement(F.a,{visible:t,onDismiss:n},i.createElement(F.a.Title,{style:{color:"#f91354"}},"\u0423\u043f\u0441!"),i.createElement(F.a.Content,null,i.createElement(T.a,{style:{marginBottom:-20}},a||"\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a","!")),i.createElement(F.a.Actions,null,i.createElement(S.a,{onPress:n},"\u0417\u0430\u043a\u0440\u0438\u0442\u0438"))))}!function(e){e[e.USER=0]="USER",e[e.DISPATCHER=1]="DISPATCHER",e[e.ADMIN=2]="ADMIN"}(_||(_={})),function(e){e.PRIMARY="PRIMARY",e.QUEUE_SETUP="QUEUE_SETUP",e.INLINE="INLINE",e.OWNER="OWNER"}(Q||(Q={})),function(e){e.INVALID_PASSWORD="\u041d\u0435\u0432\u0456\u0440\u043d\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",e.USER_NOT_FOUND="\u041a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e"}(Y||(Y={})),function(e){e.INVALID_PASSWORD="INVALID_PASSWORD",e.USER_NOT_FOUND="USER_NOT_FOUND"}($||($={})),function(e){e.FULL_TIME="FULL_TIME",e.PART_TIME="PART_TIME",e.HOURLY="HOURLY"}(G||(G={})),function(e){e.FULL_TIME="\u0428\u0442\u0430\u0442\u043d\u0438\u0439 \u0441\u043f\u0456\u0432\u0440\u043e\u0431\u0456\u0442\u043d\u0438\u043a",e.PART_TIME="\u0427\u0430\u0441\u0442\u043a\u043e\u0432\u0430",e.HOURLY="\u041f\u043e\u0433\u043e\u0434\u0438\u043d\u043d\u0430"}(J||(J={})),function(e){e.STUDENT="STUDENT",e.TEACHER="TEACHER",e.POST_GRADUATE="POST_GRADUATE",e.ADMIN="ADMIN",e.DISPATCHER="DISPATCHER",e.PIANO_TUNER="PIANO_TUNER",e.STAFF="STAFF",e.CONCERTMASTER="CONCERTMASTER",e.ILLUSTRATOR="ILLUSTRATOR",e.OTHER="OTHER"}(Z||(Z={})),function(e){e.STUDENT="\u0421\u0442\u0443\u0434\u0435\u043d\u0442",e.TEACHER="\u0412\u0438\u043a\u043b\u0430\u0434\u0430\u0447",e.POST_GRADUATE="\u0410\u0441\u0438\u0441\u0442\u0435\u043d\u0442/\u0430\u0441\u043f\u0456\u0440\u0430\u043d\u0442",e.ADMIN="\u0410\u0434\u043c\u0456\u043d",e.DISPATCHER="\u0414\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440",e.PIANO_TUNER="\u041d\u0430\u0441\u0442\u0440\u043e\u044e\u0432\u0430\u0447 \u0444\u043e\u0440\u0442\u0435\u043f\u0456\u0430\u043d\u043e",e.STAFF="\u0421\u043f\u0456\u0432\u0440\u043e\u0431\u0456\u0442\u043d\u0438\u043a",e.CONCERTMASTER="\u041a\u043e\u043d\u0446\u0435\u0440\u0442\u043c\u0435\u0439\u0441\u0442\u0435\u0440",e.ILLUSTRATOR="\u0406\u043b\u043b\u044e\u0441\u0442\u0440\u0430\u0442\u043e\u0440",e.OTHER="\u041a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447"}(K||(K={})),function(e){e.STUDENT="#1e2c4f",e.TEACHER="#ffa200",e.POST_GRADUATE="#1e2c4f",e.ADMIN="#ffa200",e.DISPATCHER="#ffa200",e.PIANO_TUNER="#ffa200",e.STAFF="#ffa200",e.CONCERTMASTER="#ffa200",e.ILLUSTRATOR="#ffa200",e.OTHER="#ffa200"}(X||(X={})),function(e){e.LECTURE="#ffa200",e.INDIVIDUAL_LESSON="#2b5dff"}(ee||(ee={})),function(e){e.LECTURE="LECTURE",e.INDIVIDUAL_LESSON="INDIVIDUAL_LESSON"}(te||(te={})),function(e){e.OK="ok",e.ALERT="alert",e.DEFAULT="default"}(ne||(ne={})),function(e){e.ACTIVE="ACTIVE",e.UNVERIFIED="UNVERIFIED",e.ACADEMIC_LEAVE="ACADEMIC_LEAVE",e.FROZEN="FROZEN"}(ae||(ae={})),function(e){e.OCCUPIED="OCCUPIED",e.PENDING="PENDING",e.RESERVED="RESERVED"}(re||(re={})),function(e){e.ALL="ALL",e.FREE="FREE",e.SPECIAL="SPECIAL",e.INLINE="INLINE"}(oe||(oe={})),function(e){e.ACTIVE="ACTIVE",e.RESERVED="RESERVED"}(ie||(ie={})),function(e){e.MINIMAL="MINIMAL",e.DESIRED="DESIRED"}(le||(le={}));var fe=new q.ApolloClient({uri:"http://54.75.17.229:4000/",cache:new q.InMemoryCache({typePolicies:{Query:{fields:{me:{read:function(){return pe()}},accessRights:{read:function(){return ge()}},mode:{read:function(){return he()}},minimalClassroomIds:{read:function(){return be()}},desirableClassroomIds:{read:function(){return Ee()}},isMinimalSetup:{read:function(){return ye()}}}}}})}),pe=Object(q.makeVar)(null),ge=Object(q.makeVar)(_.USER),he=Object(q.makeVar)(Q.PRIMARY),be=Object(q.makeVar)([]),Ee=Object(q.makeVar)([]),ye=Object(q.makeVar)(!0);function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function je(e){e.route;var t=e.navigation,a=Object(q.useMutation)(z),r=d()(a,2),o=r[0],l=r[1].loading,c=Object(i.useState)(""),s=d()(c,2),u=s[0],m=s[1],f=Object(i.useState)(""),g=d()(f,2),h=g[0],b=g[1],E=Object(i.useState)(!1),y=d()(E,2),I=y[0],C=y[1],P=Object(i.useState)(null),x=d()(P,2),T=x[0],k=x[1],D=Object(i.useState)(!1),R=d()(D,2),L=R[0],U=R[1],B=Object(i.useState)(""),M=d()(B,2),F=M[0],V=M[1];Object(i.useEffect)((function(){null!==T&&U(!0)}),[T]);return i.createElement(N,{style:Ie.container},i.createElement(w.a,{source:n(105),style:Ie.bg},i.createElement(v.a,{source:n(247),style:Ie.logo}),i.createElement(A,{style:Ie.title},"\u0412\u0445\u0456\u0434"),i.createElement(j.a,{style:Ie.inputs},i.createElement(O.a,{label:"\u041b\u043e\u0433\u0456\u043d",style:Ie.input,onChangeText:function(e){return m(e)}}),i.createElement(O.a,{label:"\u041f\u0430\u0440\u043e\u043b\u044c",style:we(we({},Ie.input),{},{marginBottom:16}),onChangeText:function(e){return b(e)},secureTextEntry:!I,selectionColor:"#2b5dff",right:i.createElement(O.a.Icon,{name:I?"eye":"eye-off",color:"#2b5dff",onPress:function(){return C((function(e){return!e}))}})}),i.createElement(S.a,{onPress:function(){var e,t,n,a,r,i,l,c,s;return p.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:if(!u.length||!h.length){m.next=21;break}return m.prev=1,m.next=4,p.a.awrap(o({variables:{input:{email:u,password:h}}}));case 4:if(e=m.sent,null==(t=e)||null==(n=t.data.login.userErrors)||!n.length){m.next=10;break}V(Y[null==(a=e)?void 0:a.data.login.userErrors[0].code]),k((function(e){return!e})),m.next=15;break;case 10:return i=null==(r=e)?void 0:r.data.login.user,m.next=13,p.a.awrap(se("user",i));case 13:i.queue.length&&(l=i.queue.filter((function(e){var t=e.type,n=e.state;return t===le.MINIMAL&&n===ie.ACTIVE})),c=i.queue.filter((function(e){var t=e.type,n=e.state;return t===le.DESIRED&&n===ie.ACTIVE})),he(Q.INLINE),be(l.map((function(e){return e.classroom.id}))),Ee(c.map((function(e){return e.classroom.id})))),pe(i);case 15:m.next=21;break;case 17:m.prev=17,m.t0=m.catch(1),V((null==m.t0||null==(s=m.t0.graphQLErrors[0])?void 0:s.message)||JSON.stringify(m.t0)),k((function(e){return!e}));case 21:case"end":return m.stop()}}),null,null,[[1,17]],Promise)},mode:"contained",color:"#2b5dff",loading:l,style:Ie.button,disabled:!u||!h||l},"\u0423\u0432\u0456\u0439\u0442\u0438"),i.createElement(S.a,{onPress:function(){return t.navigate("SignUp")},mode:"contained",color:"#f91354",style:Ie.button},"\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f")),i.createElement(S.a,{onPress:function(){return t.navigate("ForgotPassword")},uppercase:!1,labelStyle:{color:"#fff"},style:Ie.button},"\u0412\u0456\u0434\u043d\u043e\u0432\u0438\u0442\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"),i.createElement(N,{style:Ie.footer},i.createElement(A,{style:{color:"#fff"}},"\u041d\u0430\u0446\u0456\u043e\u043d\u0430\u043b\u044c\u043d\u0430 \u043c\u0443\u0437\u0438\u0447\u043d\u0430 \u0430\u043a\u0430\u0434\u0435\u043c\u0456\u044f \u0423\u043a\u0440\u0430\u0457\u043d\u0438 \u0456\u043c. \u041f. \u0406. \u0427\u0430\u0439\u043a\u043e\u0432\u0441\u044c\u043a\u043e\u0433\u043e"),i.createElement(A,{style:{color:"#ffffff77"}},"\u0420\u043e\u0437\u0440\u043e\u0431\u043d\u0438\u043a\u0438: \u041d\u0430\u0437\u0430\u0440\u0435\u043d\u043a\u043e \u0412\u043b\u0430\u0434\u0438\u0441\u043b\u0430\u0432 \u0442\u0430 \u0406\u0432\u0430\u043d \u041f\u044f\u0442\u043e\u0432\u043e\u043b\u0435\u043d\u043a\u043e"),i.createElement(A,{style:{color:"#fff"}},"Auditorium \xa9 2021"))),i.createElement(H,{message:"\u0412\u0456\u0434\u0431\u0443\u0432\u0430\u0454\u0442\u044c\u0441\u044f \u0432\u0445\u0456\u0434 \u0443 \u0441\u0438\u0441\u0442\u0435\u043c\u0443",visible:l}),i.createElement(de,{visible:L,hideDialog:function(){U(!1)},message:F}))}var Oe,Se,Ie=y.a.create({container:{flex:1,alignItems:"center",justifyContent:"center",backgroundColor:"#2e287c"},logo:{width:"80%",resizeMode:"contain",height:130},title:{fontSize:32,fontWeight:"bold",color:"#fff"},input:{width:"100%",fontSize:22,backgroundColor:"transparent"},inputs:{width:"90%",elevation:16,borderRadius:8,alignItems:"center",justifyContent:"center",paddingLeft:16,paddingRight:16,paddingBottom:16,marginTop:32},button:{marginTop:16,width:"100%",height:50,justifyContent:"center"},bg:{width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},footer:{backgroundColor:"transparent",alignItems:"center",position:"absolute",bottom:16,opacity:.5}}),Ce=n(39),Pe=n(54),xe=n(384),Te=n(414),ke=n(385),De=n(419),Re=Object(q.gql)(Oe||(Oe=B()(["\n    query getDegrees {\n        degrees {\n            id\n            name\n            startMonth\n            startDay\n            durationMonths\n        }\n    }\n"]))),Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(i.useState)([]),n=d()(t,2),a=n[0],r=n[1];return Object(i.useEffect)((function(){fe.query({query:Re,variables:{where:{}},fetchPolicy:"network-only"}).then((function(e){r(e.data.degrees.slice().sort((function(e,t){return e.id-t.id})))}))}),[e]),a},Ne=Object(q.gql)(Se||(Se=B()(["\n    query getDepartments($where: DepartmentWhereInput!) {\n        departments(where: $where) {\n            id\n            name\n            faculty {\n              id\n              name\n            }\n        }\n    }\n"]))),Le=function(e){var t=Object(i.useState)([]),n=d()(t,2),a=n[0],r=n[1];return Object(i.useEffect)((function(){fe.query({query:Ne,variables:{where:{}},fetchPolicy:"network-only"}).then((function(e){r(e.data.departments.slice().sort((function(e,t){return e.id-t.id})))}))}),[e]),a};function qe(e){var t=e.visible,n=e.hideDialog,a=e.setCheckAgreement;return l.a.createElement(M.a,null,l.a.createElement(F.a,{visible:t,onDismiss:n},l.a.createElement(F.a.Title,null,"\u0423\u043c\u043e\u0432\u0438 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u043d\u043d\u044f"),l.a.createElement(F.a.Content,null,l.a.createElement(Pe.a,{style:{height:"80%"}},l.a.createElement(T.a,null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. A delectus explicabo odit officia unde? Asperiores consequatur, deleniti, deserunt ducimus eveniet fuga minima minus neque placeat qui quia sed temporibus voluptatem."),l.a.createElement(T.a,null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aliquid error excepturi id quibusdam quod sed. Aperiam aspernatur doloremque ea enim incidunt, molestiae nam nesciunt non, perferendis perspiciatis possimus quidem, quo!"),l.a.createElement(T.a,null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Debitis deleniti doloribus earum expedita id illum ipsum modi, natus nesciunt numquam odit officia porro quisquam quod quos tempore totam veniam veritatis."),l.a.createElement(T.a,null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aliquam atque doloribus eius error est expedita harum id labore libero minus molestiae nisi officiis qui quod, ratione similique sit tempore ullam."),l.a.createElement(T.a,null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. A delectus explicabo odit officia unde? Asperiores consequatur, deleniti, deserunt ducimus eveniet fuga minima minus neque placeat qui quia sed temporibus voluptatem."),l.a.createElement(T.a,null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aliquid error excepturi id quibusdam quod sed. Aperiam aspernatur doloremque ea enim incidunt, molestiae nam nesciunt non, perferendis perspiciatis possimus quidem, quo!"),l.a.createElement(T.a,null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Debitis deleniti doloribus earum expedita id illum ipsum modi, natus nesciunt numquam odit officia porro quisquam quod quos tempore totam veniam veritatis."),l.a.createElement(T.a,null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aliquam atque doloribus eius error est expedita harum id labore libero minus molestiae nisi officiis qui quod, ratione similique sit tempore ullam."),l.a.createElement(T.a,null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. A delectus explicabo odit officia unde? Asperiores consequatur, deleniti, deserunt ducimus eveniet fuga minima minus neque placeat qui quia sed temporibus voluptatem."),l.a.createElement(T.a,null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aliquid error excepturi id quibusdam quod sed. Aperiam aspernatur doloremque ea enim incidunt, molestiae nam nesciunt non, perferendis perspiciatis possimus quidem, quo!"),l.a.createElement(T.a,null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Debitis deleniti doloribus earum expedita id illum ipsum modi, natus nesciunt numquam odit officia porro quisquam quod quos tempore totam veniam veritatis."),l.a.createElement(T.a,null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aliquam atque doloribus eius error est expedita harum id labore libero minus molestiae nisi officiis qui quod, ratione similique sit tempore ullam."))),l.a.createElement(F.a.Actions,{style:{height:20}},l.a.createElement(S.a,{onPress:function(){n(),a(!1)},style:{height:20}},"\u0412\u0456\u0434\u0445\u0438\u043b\u0438\u0442\u0438"),l.a.createElement(S.a,{onPress:function(){n(),a(!0)},style:{height:20}},"\u041f\u0440\u0438\u0439\u043d\u044f\u0442\u0438"))))}var Ue=n(86),Be=n(24),ze=n.n(Be),Me=n(169),Fe=n(248);function Ve(e){var t=e.visible,n=e.hideDialog,a=e.setSelected,r=e.selected,o=e.items,c=Object(i.useState)(""),s=d()(c,2),u=s[0],m=s[1],f=Object(i.useState)([]),p=d()(f,2),g=p[0],h=p[1];Object(i.useEffect)((function(){var e=o.length&&o.filter((function(e){var t=e.name;return""===u||String(t).toLowerCase().includes(u.toLowerCase())}));h(e)}),[o,u]);return l.a.createElement(M.a,null,l.a.createElement(Me.a,{visible:t,onDismiss:n,contentContainerStyle:We.container},l.a.createElement(Fe.a,{placeholder:"\u041f\u043e\u0448\u0443\u043a",onChangeText:function(e){return m(e)},value:u,style:We.search,clearButtonMode:"while-editing"}),l.a.createElement(Pe.a,{style:{height:"80%"}},g&&[{name:"\u041d\u0435 \u0432\u0438\u0431\u0440\u0430\u043d\u043e",id:-1}].concat(ze()(g)).map((function(e){return l.a.createElement(T.a,{key:e.id,style:r.id===e.id?We.selected:We.item,onPress:function(){return function(e){a({name:e.name,id:e.id}),n()}(e)}},e.name)})))))}var We=y.a.create({item:{fontSize:20,borderBottomWidth:1,borderStyle:"solid",borderBottomColor:"#ccc",padding:10,color:"#000"},selected:{fontSize:20,borderBottomWidth:1,borderStyle:"solid",borderBottomColor:"#2b5dff",padding:10,color:"#2b5dff"},container:{backgroundColor:"white",padding:20,margin:10,borderRadius:8,justifyContent:"center",height:"60%"},search:{marginBottom:10}});function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qe(e){var t=e.selected,n=e.name,a=e.setSelected,r=e.items,o=e.setIsVisited,c=e.checkValidation,s=e.underlineColor,u=Object(i.useState)(!1),m=d()(u,2),f=m[0],p=m[1];Object(i.useEffect)((function(){c(t.id)}),[t]);var g=function(){p(!0),o(!0)};return l.a.createElement(N,{style:$e.picker},l.a.createElement(T.a,{style:_e(_e({},$e.pickerField),{},{borderBottomColor:s}),numberOfLines:1,onPress:g},-1===t.id?n:t.name),l.a.createElement(Ue.a,{icon:"chevron-down",style:$e.pickerIcon,color:"#ccc",onPress:g}),l.a.createElement(Ve,{visible:f,hideDialog:function(){c(t.id),p(!1)},setSelected:a,items:r,selected:t}))}var Ye,$e=y.a.create({picker:{flexDirection:"row",position:"relative"},pickerField:{borderBottomWidth:1,borderStyle:"solid",paddingVertical:10,paddingLeft:22,paddingRight:42,fontSize:22,marginTop:20,color:"#6f6f6f",width:"100%"},pickerIcon:{position:"absolute",right:0,top:20}}),Ge=n(8),Je=n.n(Ge),Ze=Object(q.gql)(Ye||(Ye=B()(["\n    mutation signup($input: SignupInput!) {\n        signup(input: $input) {\n            token\n            user {\n                id\n                lastName\n            }\n            userErrors {\n                message\n                code\n            }\n        }\n    }\n"])));function Ke(e){var t=e.visible,n=e.message,a=e.hideDialog,r=e.navigateToLogin;return i.createElement(M.a,null,i.createElement(F.a,{visible:t,dismissable:!1},i.createElement(F.a.Title,{style:{textAlign:"center"}},"\u0423\u0432\u0430\u0433\u0430"),i.createElement(F.a.Content,null,i.createElement(V.a,{style:{textAlign:"center"}},n)),i.createElement(F.a.Actions,null,i.createElement(S.a,{onPress:a,mode:"contained",color:"#f91354",style:{width:70,marginRight:8}},"\u041d\u0456"),i.createElement(S.a,{onPress:function(){a(),r()},mode:"contained",style:{width:70}},"\u0422\u0430\u043a"))))}var Xe=parseInt(Je()().format("YYYY")),et=[{name:Xe,id:Xe},{name:Xe-1,id:Xe-1},{name:Xe-2,id:Xe-2},{name:Xe-3,id:Xe-3}],tt=Ce.a.get("window").height;function nt(e){var t=e.navigation,a=Object(i.useState)({name:"",id:-1}),r=d()(a,2),o=r[0],l=r[1],c=Object(i.useState)({name:"",id:-1}),s=d()(c,2),u=s[0],m=s[1],f=Object(i.useState)({name:"",id:-1}),g=d()(f,2),h=g[0],b=g[1],E=Object(i.useState)(!0),y=d()(E,2),v=y[0],j=y[1],I=Object(i.useState)(!1),C=d()(I,2),P=C[0],x=C[1],k=Object(i.useState)(!1),D=d()(k,2),R=D[0],A=D[1],L=Object(i.useState)(""),U=d()(L,2),B=U[0],z=U[1],M=Object(i.useState)(""),F=d()(M,2),V=F[0],W=F[1],H=Object(i.useState)(""),_=d()(H,2),Q=_[0],$=_[1],G=Object(i.useState)(""),J=d()(G,2),Z=J[0],K=J[1],X=Object(i.useState)(""),ee=d()(X,2),te=ee[0],ne=ee[1],ae=Object(i.useState)(""),re=d()(ae,2),oe=re[0],ie=re[1],le=Object(i.useState)(""),ce=d()(le,2),se=ce[0],ue=ce[1],me=Object(i.useState)(!1),de=d()(me,2),fe=de[0],pe=de[1],ge=Ae(),he=Le(!0),be=Object(i.useState)(!1),Ee=d()(be,2),ye=Ee[0],ve=Ee[1],we=Object(i.useState)(!1),je=d()(we,2),Oe=je[0],Se=je[1],Ie=Object(i.useState)(null),Ce=d()(Ie,2),Re=Ce[0],Ne=Ce[1],Ue=Object(i.useState)(null),Be=d()(Ue,2),ze=Be[0],Me=Be[1],Fe=Object(i.useState)(null),Ve=d()(Fe,2),We=Ve[0],He=Ve[1],_e=Object(i.useState)(null),Ye=d()(_e,2),$e=Ye[0],Ge=Ye[1],Je=Object(i.useState)(null),Xe=d()(Je,2),tt=Xe[0],nt=Xe[1],rt=Object(i.useState)(null),ot=d()(rt,2),it=ot[0],lt=ot[1],ct=Object(i.useState)(null),st=d()(ct,2),ut=st[0],mt=st[1],dt=Object(i.useState)(null),ft=d()(dt,2),pt=ft[0],gt=ft[1],ht=Object(i.useState)(null),bt=d()(ht,2),Et=bt[0],yt=bt[1],vt=Object(i.useState)(!1),wt=d()(vt,2),jt=wt[0],Ot=wt[1],St=Object(i.useState)(!1),It=d()(St,2),Ct=(It[0],It[1]),Pt=Object(i.useState)(!1),xt=d()(Pt,2),Tt=xt[0],kt=xt[1],Dt=Object(q.useMutation)(Ze),Rt=d()(Dt,2),At=Rt[0],Nt=Rt[1],Lt=Nt.loading,qt=(Nt.error,function(e){return Ne(e?null:"\u041e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435")}),Ut=function(e){return Me(e?null:"\u041e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435")},Bt=function(e){return e?/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/.test(e)?He(null):He("\u041d\u0435\u0432\u0456\u0440\u043d\u0438\u0439 \u0444\u043e\u0440\u043c\u0430\u0442"):He("\u041e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435")},zt=function(e){return e?/\(?([0-9]{3})\)?([ .-]?)([0-9]{3})\2([0-9]{4})/.test(e)?Ge(null):Ge("\u041d\u0435\u0432\u0456\u0440\u043d\u0438\u0439 \u0444\u043e\u0440\u043c\u0430\u0442"):Ge("\u041e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435")},Mt=function(e){return e?/^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})/.test(e)?nt(null):nt("\u041d\u0435\u0432\u0456\u0440\u043d\u0438\u0439 \u0444\u043e\u0440\u043c\u0430\u0442"):nt("\u041e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435")},Ft=function(e){return lt(e?oe&&se&&oe!==se?"\u041f\u0430\u0440\u043e\u043b\u0456 \u043d\u0435 \u0441\u043f\u0456\u0432\u043f\u0430\u0434\u0430\u044e\u0442\u044c":null:"\u041e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435")},Vt=function(e){return mt(-1===e&&(jt||ye)?"\u0420\u0456\u043a \u0432\u0441\u0442\u0443\u043f\u0443 \u043d\u0435 \u0432\u0438\u0431\u0440\u0430\u043d\u043e":null)},Wt=function(e){return gt(-1===e&&(Tt||ye)?"\u041a\u0430\u0444\u0435\u0434\u0440\u0443 \u043d\u0435 \u0432\u0438\u0431\u0440\u0430\u043d\u043e":null)},Ht=function(e){return yt(-1===e&&(Tt||ye)?"\u041d\u0430\u0432\u0447\u0430\u043b\u044c\u043d\u0438\u0439 \u0441\u0442\u0443\u043f\u0456\u043d\u044c \u043d\u0435 \u0432\u0438\u0431\u0440\u0430\u043d\u043e":null)},_t=function(){t.goBack()},Qt=function(e){var t=e.validator;return i.createElement(xe.a,{type:"error",style:{color:"#f91354",height:t?"auto":0}},t)};return i.createElement(w.a,{source:n(105),style:{width:"100%",height:"100%"}},i.createElement(N,{style:at.container},i.createElement(Te.a,{style:at.top},i.createElement(Te.a.BackAction,{onPress:function(){V||B||Q||Z||te||oe||se||-1!==h.id||-1!==o.id||-1!==u.id?A(!0):_t()},color:"#fff"}),i.createElement(Te.a.Content,{title:"\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f",subtitle:"\u041a\u0440\u043e\u043a 1 \u0456\u0437 3",color:"#fff"})),i.createElement(N,{style:at.wrapper},i.createElement(Pe.a,{style:at.scrollView},i.createElement(ke.a,{icon:"alert-circle",visible:v,actions:[{label:"\u0417\u0440\u043e\u0437\u0443\u043c\u0456\u043b\u043e",onPress:function(){return j(!1)}}]},"\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f \u043f\u0435\u0434\u0430\u0433\u043e\u0433\u0456\u0432 \u0442\u0430 \u0441\u043f\u0456\u0432\u0440\u043e\u0431\u0456\u0442\u043d\u0438\u043a\u0456\u0432 \u043d\u0430\u0432\u0447\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0437\u0430\u043a\u043b\u0430\u0434\u0443 \u0432\u0456\u0434\u0431\u0443\u0432\u0430\u0454\u0442\u044c\u0441\u044f \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u0434\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440\u0430."),i.createElement(T.a,{style:at.infoPanel},"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0434\u0430\u043d\u0456, \u0449\u043e \u0441\u043f\u0456\u0432\u043f\u0430\u0434\u0430\u044e\u0442\u044c \u0437 \u0432\u0430\u0448\u0438\u043c \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0441\u044c\u043a\u0438\u043c \u043a\u0432\u0438\u0442\u043a\u043e\u043c \u0430\u0431\u043e \u0456\u043d\u0448\u0438\u043c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u043c."),i.createElement(O.a,{placeholder:"\u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435 *",style:at.input,value:V,underlineColor:Re?"#f91354":"#ccc",onChangeText:function(e){W(e),qt(e)},onBlur:function(){return qt(V)}}),i.createElement(Qt,{validator:Re}),i.createElement(O.a,{placeholder:"\u0406\u043c'\u044f *",style:at.input,value:B,underlineColor:ze?"#f91354":"#ccc",onChangeText:function(e){z(e),Ut(e)},onBlur:function(){return Ut(B)}}),i.createElement(Qt,{validator:ze}),i.createElement(O.a,{placeholder:"\u041f\u043e-\u0431\u0430\u0442\u044c\u043a\u043e\u0432\u0456",style:at.input,value:Q,onChangeText:function(e){return $(e)}}),i.createElement(N,{style:{height:10}}),i.createElement(O.a,{placeholder:"E-mail *",style:at.input,value:Z,underlineColor:We?"#f91354":"#ccc",onChangeText:function(e){K(e),Bt(e)},onBlur:function(){return Bt(Z)},keyboardType:"email-address"}),i.createElement(Qt,{validator:We}),i.createElement(O.a,{placeholder:"\u0422\u0435\u043b. \u043d\u043e\u043c\u0435\u0440 *",style:at.input,underlineColor:We?"#f91354":"#ccc",onChangeText:function(e){ne(e),zt(e)},onBlur:function(){return zt(te)},keyboardType:"phone-pad"}),i.createElement(Qt,{validator:$e}),i.createElement(O.a,{placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c *",style:at.input,underlineColor:tt?"#f91354":"#ccc",onChangeText:function(e){ie(e),Mt(e)},onBlur:function(){return Mt(oe)},right:i.createElement(O.a.Icon,{name:Oe?"eye":"eye-off",color:"#ccc",onPress:function(){return Se((function(e){return!e}))},forceTextInputFocus:!1}),secureTextEntry:!Oe}),i.createElement(Qt,{validator:tt}),i.createElement(O.a,{placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c *",style:at.input,underlineColor:it?"#f91354":"#ccc",onChangeText:function(e){ue(e),Ft(e)},onBlur:function(){return Ft(se)},right:i.createElement(O.a.Icon,{name:Oe?"eye":"eye-off",color:"#ccc",onPress:function(){return Se((function(e){return!e}))},forceTextInputFocus:!1}),secureTextEntry:!Oe}),i.createElement(Qt,{validator:it}),i.createElement(Qe,{selected:h,setSelected:b,name:"\u0420\u0456\u043a \u043f\u043e\u0447\u0430\u0442\u043a\u0443 \u043d\u0430\u0432\u0447\u0430\u043d\u043d\u044f",items:et,checkValidation:Vt,setIsVisited:Ot,underlineColor:ut?"#f91354":"#ccc"}),i.createElement(Qt,{validator:ut}),i.createElement(Qe,{name:"\u041a\u0430\u0444\u0435\u0434\u0440\u0430",selected:o,items:he,setSelected:l,checkValidation:Wt,setIsVisited:Ct,underlineColor:pt?"#f91354":"#ccc"}),i.createElement(Qt,{validator:pt}),i.createElement(Qe,{name:"\u041d\u0430\u0432\u0447\u0430\u043b\u044c\u043d\u0438\u0439 \u0441\u0442\u0443\u043f\u0456\u043d\u044c",selected:u,items:ge,setSelected:m,checkValidation:Ht,setIsVisited:kt,underlineColor:Et?"#f91354":"#ccc"}),i.createElement(Qt,{validator:Et}),i.createElement(N,{style:at.agreement},i.createElement(De.a,{status:fe?"checked":"unchecked",color:"#2b5dff",uncheckedColor:"#f91354",onPress:function(){ve(!0),pe((function(e){return!e}))}}),i.createElement(T.a,{style:{width:"90%"}},"\u042f \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0432 \u0456 \u043f\u043e\u0433\u043e\u0434\u0436\u0443\u044e\u0441\u044c \u0437",i.createElement(T.a,{style:at.link,onPress:function(){return x(!0)}}," \u0443\u043c\u043e\u0432\u0430\u043c\u0438 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u043d\u043d\u044f")," \u0441\u0435\u0440\u0432\u0456\u0441\u043e\u043c *"))),i.createElement(N,{style:at.navButtons},i.createElement(S.a,{onPress:function(){var e,n,a;return p.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.navigate("SignUpStepTwo"),qt(V),Ut(B),Bt(Z),zt(te),Mt(oe),Ft(se),Vt(h.id),Wt(o.id),Ht(u.id),Re||ze||We||tt||it||ut||pt||Et){r.next=22;break}return r.prev=11,r.next=14,p.a.awrap(At({variables:{input:{lastName:V,firstName:B,patronymic:Q,password:oe,email:Z,phoneNumber:te,department:o.id,degree:u.id,startYear:h.id}}}));case 14:n=r.sent,(null==n||null==(e=n.data.login.userErrors)?void 0:e.length)?(a=Y[null==n?void 0:n.data.login.userErrors[0].code],alert(a)):t.navigate("SignUpStepTwo"),r.next=22;break;case 19:r.prev=19,r.t0=r.catch(11),alert(r.t0);case 22:case"end":return r.stop()}}),null,null,[[11,19]],Promise)},mode:"contained",color:"#f91354",style:at.signUpButton,disabled:!fe||Lt,loading:Lt},"\u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044f")),i.createElement(qe,{visible:P,hideDialog:function(){return x(!1)},setCheckAgreement:pe}),i.createElement(Ke,{message:"\u0412\u0438 \u0434\u0456\u0439\u0441\u043d\u043e \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u043f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u0438\u0441\u044c \u043d\u0430 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443 \u0432\u0445\u043e\u0434\u0443?\n \u0412\u0432\u0435\u0434\u0435\u043d\u0456 \u0434\u0430\u043d\u0456 \u0431\u0443\u0434\u0443\u0442\u044c \u0441\u0442\u0435\u0440\u0442\u0456.",visible:R,hideDialog:function(){return A(!1)},navigateToLogin:_t}))))}var at=y.a.create({container:{flex:1,alignItems:"center",justifyContent:"flex-end",backgroundColor:"transparent"},wrapper:{backgroundColor:"#fff",width:"100%",height:tt-60,alignItems:"center"},title:{fontSize:32,fontWeight:"bold",color:"#fff"},navButtons:{backgroundColor:"transparent",flexDirection:"row",marginBottom:16,marginTop:16},signUpButton:{height:50,justifyContent:"center",width:"90%"},scrollView:{width:"90%"},input:{width:"100%",backgroundColor:"transparent",fontSize:22,paddingLeft:10,margin:0},top:{position:"absolute",left:0,right:0,top:0,paddingTop:26,height:80,backgroundColor:"transparent",elevation:0},link:{color:"#2b5dff",textDecorationLine:"underline"},agreement:{paddingTop:20,paddingBottom:5,flexDirection:"row",alignItems:"center"},infoPanel:{borderRadius:8,backgroundColor:"#b5e3ff",padding:8,marginTop:16}});function rt(e){var t=e.navigation;return i.createElement(k.a,{style:ot.container},i.createElement(T.a,{style:ot.text},"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0412\u0430\u0448\u0443 email \u0430\u0434\u0440\u0435\u0441\u0443 \u043a\u0443\u0434\u0438 \u043c\u0438 \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u0438\u043c\u043e \u043d\u043e\u0432\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c."),i.createElement(O.a,{placeholder:"E-mail",style:ot.input}),i.createElement(S.a,{onPress:function(){return t.navigate("ForgotPasswordSuccess")},mode:"contained",color:"#2b5dff",style:ot.button},"\u0412\u0456\u0434\u043d\u043e\u0432\u0438\u0442\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"))}var ot=y.a.create({container:{flex:1,alignItems:"center",justifyContent:"center",backgroundColor:"#2e287c"},text:{color:"#fff",fontSize:20,textAlign:"center",margin:5,width:"90%",marginBottom:32},button:{marginTop:32,height:50,justifyContent:"center"},input:{width:"90%",height:50}});function it(e){var t=e.navigation;return i.createElement(k.a,{style:st.container},i.createElement(T.a,{style:st.text},"\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0430\u0434\u0456\u0441\u043b\u0430\u043d\u043e, \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u043f\u043e\u0448\u0442\u0443."),i.createElement(S.a,{onPress:function(){return t.navigate("Login")},mode:"contained",color:"#2b5dff",style:st.loginButton},"\u041d\u0430 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443 \u0432\u0445\u043e\u0434\u0443"))}var lt,ct,st=y.a.create({container:{flex:1,alignItems:"center",justifyContent:"center",backgroundColor:"#2e287c"},text:{color:"#fff",fontSize:20,textAlign:"center",margin:5,width:"90%",marginBottom:32},loginButton:{marginTop:32,height:50,justifyContent:"center"},input:{width:"90%",height:50}}),ut=n(577),mt=Object(q.gql)(lt||(lt=B()(["\n  query getUsers {\n    users {\n      id\n      firstName\n      patronymic\n      lastName\n      type\n      department {\n        name\n      }\n      email\n      phoneNumber\n      extraPhoneNumbers\n      nameTemp\n      studentInfo {\n        degree {\n          name\n        }\n        startYear\n        accountStatus\n      }\n      employeeInfo {\n        employmentType\n        accountStatus\n      }\n    }\n  }\n"]))),dt=Object(q.gql)(ct||(ct=B()(["\n  query getUserById($where: UserWhereUniqueInput!) {\n    user(where: $where) {\n      id\n      firstName\n      patronymic\n      lastName\n      type\n      department {\n        name\n      }\n      email\n      phoneNumber\n      extraPhoneNumbers\n      nameTemp\n      studentInfo {\n        degree {\n          name\n        }\n        startYear\n        accountStatus\n      }\n      employeeInfo {\n        employmentType\n        accountStatus\n      }\n    }\n  }\n"]))),ft=function(){var e=Object(i.useState)([]),t=d()(e,2),n=t[0],a=t[1];return Object(i.useEffect)((function(){fe.query({query:mt,fetchPolicy:"cache-first"}).then((function(e){a(e.data.users.slice().sort((function(e,t){return e.id-t.id})))}))}),[]),n},pt=n(417),gt=n(172);var ht=function(e){return e<=9?"0"+e:e},bt=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return void 0!==e?t?e.lastName+" "+e.firstName.charAt(0)+". "+(e.patronymic?e.patronymic.charAt(0)+".":""):e.lastName+" "+e.firstName+" "+(e.patronymic?e.patronymic:""):""},Et=function(e){var t={backgroundColor:"#2e287c",color:"#fff"};if(null!==e)switch(e.user.type){case Z.STUDENT:case Z.POST_GRADUATE:return t;default:return{backgroundColor:"#ffc000",color:"#fff"}}return{backgroundColor:"transparent",color:"#000"}},yt=function(e){function t(e){return e<10?"0"+e:e}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())},vt=function(e){var t=[];return e.forEach((function(e){return t.push(function(e){var t=e.from.split(":"),n=e.to.split(":"),a=+t[0],r=+t[1],o=+n[0],i=+n[1];return{from:Je()({hours:a,minutes:r,seconds:0,milliseconds:0}),to:Je()({hours:o,minutes:i,seconds:0,milliseconds:0})}}(e))})),t.some((function(e){var t=Je()();return t.isAfter(e.from)&&t.isBefore(e.to)}))},wt=function(e){return e===Z.TEACHER||e===Z.CONCERTMASTER||e===Z.ILLUSTRATOR},jt=function(e,t,n){return e&&e.user.id===t.id&&(e.state===re.PENDING||e.state===re.RESERVED)&&n===Q.INLINE},Ot=function(e,t){return e&&e.user.id===t.id&&e.state===re.OCCUPIED},St=n(170),It=n(386),Ct=n(193);function Pt(e){var t,n=e.userId,a=e.hideModal,r=e.visible,o=Object(q.useQuery)(dt,{variables:{where:{id:n}}}),i=o.data,c=o.loading,s=o.error,u=function(e){return Ct.a.openURL("tel:"+e)};return l.a.createElement(M.a,null,l.a.createElement(Me.a,{visible:r,onDismiss:a,contentContainerStyle:xt.containerStyle},c||s?l.a.createElement(gt.a,{animating:!0,color:"#2e287c"}):l.a.createElement(l.a.Fragment,null,l.a.createElement(St.a,{style:xt.occupantName},null===i.user.nameTemp?bt(i.user):i.user.nameTemp),l.a.createElement(It.a,{style:xt.divider}),l.a.createElement(T.a,null,"\u0421\u0442\u0430\u0442\u0443\u0441: ",K[i.user.type]),l.a.createElement(T.a,null,"\u041a\u0430\u0444\u0435\u0434\u0440\u0430: ",null==(t=i.user.department)?void 0:t.name),l.a.createElement(It.a,{style:xt.divider}),wt(i.user.type)&&l.a.createElement(l.a.Fragment,null,l.a.createElement(k.a,{style:xt.phoneRow},l.a.createElement(T.a,null,"\u0422\u0435\u043b: "),l.a.createElement(T.a,{onPress:function(){return u(i.user.phoneNumber)},style:xt.phoneNumber},i.user.phoneNumber)),JSON.parse(i.user.extraPhoneNumbers).map((function(e,t){return l.a.createElement(k.a,{key:t,style:xt.phoneRow},l.a.createElement(T.a,null,"\u0422\u0435\u043b. "+(t+2)+": "),l.a.createElement(T.a,{onPress:function(){return u(e)},style:xt.phoneNumber},e))}))))))}var xt=y.a.create({occupantName:{},containerStyle:{backgroundColor:"white",padding:20,margin:10,borderRadius:8},divider:{marginTop:16,marginBottom:16},phoneRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},phoneNumber:{borderRadius:8,borderWidth:1,borderStyle:"solid",borderColor:"#eee",padding:8,fontSize:16,marginTop:8,color:"#2b5dff"}}),Tt=Ce.a.get("window").height;function kt(){var e=ft(),t=Object(i.useState)(0),n=d()(t,2),a=n[0],r=n[1],o=Object(i.useState)(1),c=d()(o,2),s=c[0],u=c[1],m=Object(i.useState)(!1),f=d()(m,2),p=f[0],g=f[1],h=Object(i.useState)(0),b=d()(h,2),E=b[0],y=b[1],v=Object(i.useState)(""),w=d()(v,2),j=w[0],O=w[1],S=function(e){var t=e.user;return l.a.createElement(pt.a.Row,{onPress:function(){return I(t.id)}},l.a.createElement(pt.a.Cell,null,bt(t)),l.a.createElement(pt.a.Cell,null,K[t.type]))},I=function(e){g(!0),y(e)};return Object(i.useEffect)((function(){r(e.length/13)}),[e]),l.a.createElement(k.a,null,l.a.createElement(Fe.a,{placeholder:"\u041f\u043e\u0448\u0443\u043a",onChangeText:function(e){O(e),u(0)},value:j,style:At.search}),l.a.createElement(pt.a,null,l.a.createElement(pt.a.Header,{style:At.header},l.a.createElement(pt.a.Title,null,"\u041f.\u0406.\u0411."),l.a.createElement(pt.a.Title,{style:{alignSelf:"center"}},"\u0421\u0442\u0430\u0442\u0443\u0441")),e.length?l.a.createElement(l.a.Fragment,null,l.a.createElement(k.a,{style:At.list},l.a.createElement(Pe.a,null,null==e?void 0:e.filter((function(e){return wt(e.type)})).slice().sort((function(e,t){return bt(e).toLowerCase()>bt(t).toLowerCase()})).filter((function(e){return bt(e).toLowerCase().includes(j.toLowerCase())})).slice(13*s,13*s+13).map((function(e){return l.a.createElement(S,{user:e})})))),l.a.createElement(pt.a.Pagination,{style:At.pagination,page:s,numberOfPages:a,onPageChange:function(e){u(e)},label:13*s+" - "+(13*s+13)+" \u0437 "+e.length})):l.a.createElement(gt.a,{animating:!0,color:"#2e287c"})),E?l.a.createElement(Pt,{userId:E,hideModal:function(){return g(!1)},visible:p}):null)}var Dt,Rt,At=y.a.create({search:{marginTop:40,marginBottom:-40},header:{marginTop:40},list:{height:Tt-175},pagination:{justifyContent:"center"}}),Nt=n(192),Lt=n(457),qt=n(465),Ut=n(36),Bt=y.a.create({sideMenuProfileIcon:{resizeMode:"center",width:200,height:70,marginTop:50,alignSelf:"center"},iconStyle:{width:15,height:15,marginHorizontal:5},customItem:{padding:16,flexDirection:"row",alignItems:"center"},userData:{alignItems:"center",justifyContent:"center",marginTop:20,marginHorizontal:10,borderRadius:8,borderWidth:1,padding:12,borderColor:"#ffffff22",flexDirection:"row"},userName:{color:"#fff",fontSize:20,paddingLeft:10},logout:{marginRight:-10,marginVertical:-10}}),zt=function(e){var t,a=Object(i.useState)(!1),r=d()(a,2),o=r[0],c=r[1],s=function(){return c(!1)};return l.a.createElement(Nt.a,{style:{flex:1}},l.a.createElement(v.a,{source:n(543),style:Bt.sideMenuProfileIcon}),l.a.createElement(k.a,{style:Bt.userData},l.a.createElement(Ut.a.Icon,{size:44,icon:"account"}),l.a.createElement(T.a,{style:Bt.userName},null==(t=pe())?void 0:t.firstName,", \u0432\u0456\u0442\u0430\u0454\u043c\u043e!"),l.a.createElement(Ue.a,{icon:"logout",color:"#f91354",size:30,onPress:function(){return c(!0)},style:Bt.logout})),l.a.createElement(Lt.a,e,l.a.createElement(qt.a,e)),l.a.createElement(T.a,{style:{fontSize:16,textAlign:"center",color:"#fff",marginBottom:16},onPress:function(){return Ct.a.openURL("https://knmau.com.ua/")}},"\u041d\u041c\u0410\u0423 \u0456\u043c. \u041f.\u0406.\u0427\u0430\u0439\u043a\u043e\u0432\u0441\u044c\u043a\u043e\u0433\u043e"),l.a.createElement(M.a,null,l.a.createElement(F.a,{visible:o,onDismiss:s},l.a.createElement(F.a.Title,null,"\u0412\u0438 \u0434\u0456\u0439\u0441\u043d\u043e \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u0432\u0438\u0439\u0442\u0438 \u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0443?"),l.a.createElement(F.a.Actions,null,l.a.createElement(S.a,{onPress:s},"\u0412\u0456\u0434\u043c\u0456\u043d\u0430"),l.a.createElement(S.a,{onPress:function(){return p.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.awrap(me("user"));case 2:pe(null),s();case 4:case"end":return e.stop()}}),null,null,null,Promise)}},"\u0422\u0430\u043a")))))},Mt=Object(q.gql)(Dt||(Dt=B()(["\n  query getScheduleUnit($classroomName: String!, $date: Date!) {\n    schedule(classroomName: $classroomName, date: $date) {\n      id\n      user {\n        id\n        lastName\n        firstName\n        patronymic\n      }\n      from\n      to\n      activity\n    }\n  }\n"]))),Ft=Object(q.gql)(Rt||(Rt=B()(["\n  query getClassrooms($date: Date!) {\n    classrooms {\n      id\n      name\n      schedule(date: $date) {\n        id\n        from\n        to\n        activity\n        user {\n          id\n          lastName\n          firstName\n          patronymic\n        }\n      }\n    }\n  }\n"])));function Vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ht=Ce.a.get("window").width;function _t(){var e,t=["",8,9,10,11,12,13,14,15,16,17,18,19,20],n=Object(q.useQuery)(Ft,{variables:{date:yt(new Date)}}),a=n.data,r=n.loading,o=n.error,c=(Ht-40)/(t.length-1),s=Object(i.useState)(!1),u=d()(s,2),m=u[0],f=u[1],p=Object(i.useState)(0),g=d()(p,2),h=g[0],b=g[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(Te.a,{style:Yt.top},l.a.createElement(Te.a.Action,{icon:"menu",onPress:function(){}}),l.a.createElement(Te.a.Content,{title:"\u0420\u043e\u0437\u043a\u043b\u0430\u0434"}),l.a.createElement(Te.a.Action,{icon:"calendar-range",onPress:function(){}})),l.a.createElement(k.a,{style:Yt.timeline,pointerEvents:"none"},t.slice(1).map((function(e){return l.a.createElement(T.a,{style:Wt({width:c},Yt.hour)},e)}))),l.a.createElement(Pe.a,{style:Yt.schedule},!r&&!o&&(null==(e=a.classrooms)?void 0:e.slice().sort((function(e,t){return e.name-t.name})).map((function(e){var n=t[1];return l.a.createElement(k.a,{style:Yt.row},l.a.createElement(T.a,{style:{width:40,textAlign:"center"}},e.name),e.schedule.slice().sort((function(e,t){return parseInt(e.from)-parseInt(t.from)})).map((function(e){var t=parseInt(e.from),a=parseInt(e.to),r=(a-t)*c,o=(t-n)*c;return n=a,l.a.createElement(k.a,{style:{flexDirection:"row"},onTouchEnd:function(){return t=e.user.id,b(t),void f(!0);var t}},l.a.createElement(k.a,{style:Wt(Wt({},Yt.gap),{},{width:o})}),l.a.createElement(j.a,{style:Wt(Wt({},Yt.item),{},{width:r,backgroundColor:e.activity===te.INDIVIDUAL_LESSON?"#2b5dff":"#ffc000"})},l.a.createElement(T.a,{style:{color:"#fff"},numberOfLines:1},bt(e.user,!0))))})))})))),h?l.a.createElement(Pt,{userId:h,hideModal:function(){return f(!1)},visible:m}):null)}var Qt,Yt=y.a.create({timeline:{marginTop:90,height:"100%",marginLeft:40,flexDirection:"row",position:"absolute",elevation:10},hour:{borderLeftColor:"rgba(221 ,221 ,221, .2)",borderLeftWidth:1},schedule:{marginTop:120},row:{flexDirection:"row",borderBottomColor:"rgba(221 ,221 ,221, .5)",borderBottomWidth:1,alignItems:"center"},gap:{height:40},item:{borderRadius:4,elevation:4,margin:1,height:40,justifyContent:"center",paddingHorizontal:8,flexWrap:"nowrap"},top:{position:"absolute",left:0,right:0,top:0,paddingTop:26,height:80,backgroundColor:"#2e287c",zIndex:1}}),$t=Object(q.gql)(Qt||(Qt=B()(["\n    query meType {\n        me @client\n    }\n"])));function Gt(e){var t,n=e.navigation,a=Object(q.useQuery)($t).data.me;return l.a.createElement(k.a,null,l.a.createElement(Te.a,{style:Jt.top},l.a.createElement(Te.a.BackAction,{onPress:function(){return n.goBack()}}),l.a.createElement(Te.a.Content,{title:"\u041c\u0456\u0439 \u043f\u0440\u043e\u0444\u0456\u043b\u044c"})),l.a.createElement(k.a,{style:Jt.wrapper},l.a.createElement(St.a,null,"\u041f.\u0406.\u0411."),l.a.createElement(T.a,{style:{marginBottom:10}},bt(a)),l.a.createElement(It.a,null),l.a.createElement(St.a,null,"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440 (ID)"),l.a.createElement(T.a,{style:{marginBottom:10}},a.id),l.a.createElement(It.a,null),l.a.createElement(St.a,null,"\u0422\u0438\u043f \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0443"),l.a.createElement(T.a,{style:{marginBottom:10}},K[a.type]),l.a.createElement(It.a,null),a.department&&l.a.createElement(l.a.Fragment,null,l.a.createElement(St.a,null,"\u041a\u0430\u0444\u0435\u0434\u0440\u0430"),l.a.createElement(T.a,{style:{marginBottom:10}},null==(t=a.department)?void 0:t.name),l.a.createElement(It.a,null)),l.a.createElement(St.a,null,"E-mail"),l.a.createElement(T.a,{style:{marginBottom:10}},a.email),l.a.createElement(It.a,null),l.a.createElement(St.a,null,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),l.a.createElement(T.a,{style:{marginBottom:10}},a.phoneNumber),l.a.createElement(It.a,null),l.a.createElement(St.a,null,"\u0422\u0435\u0440\u043c\u0456\u043d \u0434\u0456\u0457 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0443"),l.a.createElement(T.a,{style:{marginBottom:10}},a.expireDate),l.a.createElement(It.a,null)))}var Jt=y.a.create({top:{position:"absolute",left:0,right:0,top:0,paddingTop:26,height:80,backgroundColor:"#2e287c"},wrapper:{marginTop:100,marginLeft:16,marginRight:16}}),Zt=n(29);function Kt(){var e=Object(Zt.useNavigation)(),t=function(){e.navigate("Login")};return l.a.createElement(w.a,{source:n(105),style:{width:"100%",height:"100%"}},l.a.createElement(k.a,{style:Xt.container},l.a.createElement(Te.a,{style:Xt.top},l.a.createElement(Te.a.BackAction,{onPress:t}),l.a.createElement(Te.a.Content,{title:"\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f",subtitle:"\u041a\u0440\u043e\u043a 2 \u0456\u0437 3",color:"#fff"})),l.a.createElement(k.a,{style:Xt.wrapper},l.a.createElement(St.a,{style:Xt.title},"\u0412\u0456\u0442\u0430\u0454\u043c\u043e! \u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f \u0443\u0441\u043f\u0456\u0448\u043d\u0430!"),l.a.createElement(T.a,{style:Xt.message},"\u0429\u043e\u0431 \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438 \u0432\u043a\u0430\u0437\u0430\u043d\u0438\u0439 e-mail, \u043f\u0435\u0440\u0435\u0439\u0434\u0456\u0442\u044c \u0437\u0430 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f\u043c, \u044f\u043a\u0435 \u043c\u0438 \u043d\u0430\u0434\u0456\u0441\u043b\u0430\u043b\u0438 \u043d\u0430 \u0412\u0430\u0448\u0443 \u0430\u0434\u0440\u0435\u0441\u0443."),l.a.createElement(T.a,{style:Xt.message},"\u0414\u0430\u043b\u0456 \u0443\u0432\u0456\u0439\u0434\u0456\u0442\u044c \u0434\u043e \u0441\u0432\u043e\u0433\u043e \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0443 \u0442\u0430 \u043f\u0440\u043e\u0439\u0434\u0456\u0442\u044c \u0432\u0435\u0440\u0438\u0444\u0456\u043a\u0430\u0446\u0456\u044e \u0432 \u0443\u0447\u0431\u043e\u0432\u0456\u0439 \u0447\u0430\u0441\u0442\u0438\u043d\u0456."),l.a.createElement(S.a,{mode:"contained",style:Xt.button,onPress:t},"\u041d\u0430 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443 \u0432\u0445\u043e\u0434\u0443"))))}var Xt=y.a.create({container:{flex:1,justifyContent:"center"},top:{position:"absolute",left:0,right:0,top:0,paddingTop:26,height:80,backgroundColor:"transparent",elevation:0},wrapper:{},title:{textAlign:"center",fontSize:32,padding:20,lineHeight:40,fontWeight:"bold",color:"#fff",marginBottom:30},message:{textAlign:"center",borderRadius:8,backgroundColor:"#b5e3ff77",padding:8,marginHorizontal:20,marginBottom:10,fontSize:20},button:{width:200,alignSelf:"center",marginTop:50,height:50,justifyContent:"center"}});function en(){var e=Object(i.useState)(null),t=d()(e,2),a=t[0],r=t[1],o=Object(i.useState)(!1),c=d()(o,2),s=c[0],u=c[1],m=Object(i.useState)(!1),f=d()(m,2),g=f[0],h=f[1];Object(i.useEffect)((function(){ue("user").then((function(e){return r(e)}))}),[]),Object(i.useEffect)((function(){a&&(h(!0),fe.query({query:dt,variables:{where:{id:a.id}},fetchPolicy:"network-only"}).then((function(e){var t=e.data.user;se("user",t).then((function(){h(!1)}))})))}),[s]);var b=function(){return p.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.awrap(me("user"));case 2:pe(null);case 3:case"end":return e.stop()}}),null,null,null,Promise)};return l.a.createElement(w.a,{source:n(105),style:{width:"100%",height:"100%"}},l.a.createElement(k.a,{style:nn.container},l.a.createElement(Te.a,{style:nn.top},l.a.createElement(Te.a.BackAction,{onPress:b}),l.a.createElement(Te.a.Content,{title:"\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f",subtitle:"\u041a\u0440\u043e\u043a 3 \u0456\u0437 3",color:"#fff"})),l.a.createElement(k.a,{style:nn.wrapper},l.a.createElement(St.a,{style:nn.title},"\u0412\u0435\u0440\u0438\u0444\u0456\u043a\u0430\u0446\u0456\u044f \u0432 \u0443\u0447\u0431\u043e\u0432\u0456\u0439 \u0447\u0430\u0441\u0442\u0438\u043d\u0456"),l.a.createElement(T.a,{style:nn.message},"\u0414\u043b\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0443 \u0434\u043e \u0437\u0430\u0441\u0442\u043e\u0441\u0443\u043d\u043a\u0443 \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0456\u0442\u044c \u0441\u0432\u0456\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u0432 \u0443\u0447\u0431\u043e\u0432\u0456\u0439 \u0447\u0430\u0441\u0442\u0438\u043d\u0456. \n\u0412\u0430\u0448 \u043d\u043e\u043c\u0435\u0440 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430:"),l.a.createElement(St.a,{style:nn.number},a?a.id:""),l.a.createElement(T.a,{style:nn.message},"\u041f\u0456\u0441\u043b\u044f \u0432\u0435\u0440\u0438\u0444\u0456\u043a\u0430\u0446\u0456\u0457 \u043e\u043d\u043e\u0432\u0456\u0442\u044c \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443 \u0430\u0431\u043e \u043f\u043e\u0432\u0435\u0440\u043d\u0456\u0442\u044c\u0441\u044f \u043d\u0430 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443 \u0432\u0445\u043e\u0434\u0443."),l.a.createElement(S.a,{mode:"contained",style:nn.button,loading:g,disabled:g,onPress:function(){return u((function(e){return!e}))}},"\u041e\u043d\u043e\u0432\u0438\u0442\u0438"),l.a.createElement(S.a,{mode:"contained",style:nn.button,onPress:b},"\u041d\u0430 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443 \u0432\u0445\u043e\u0434\u0443"))))}var tn,nn=y.a.create({container:{flex:1,justifyContent:"center"},top:{position:"absolute",left:0,right:0,top:0,paddingTop:26,height:80,backgroundColor:"transparent",elevation:0},wrapper:{},title:{textAlign:"center",fontSize:32,padding:10,lineHeight:40,fontWeight:"bold",color:"#fff",marginBottom:15},number:{textAlign:"center",fontSize:50,padding:30,lineHeight:60,marginHorizontal:20,marginBottom:12,color:"#fff",borderRadius:8,borderStyle:"solid",borderColor:"#ffffff33",borderWidth:1},message:{textAlign:"center",borderRadius:8,backgroundColor:"#b5e3ff77",padding:8,marginHorizontal:20,marginBottom:10,fontSize:20},button:{width:200,alignSelf:"center",marginTop:10,height:50,justifyContent:"center"}}),an=Object(q.gql)(tn||(tn=B()(["\n  query getClassrooms($date: Date!, $where: ClassroomWhereInput) {\n    classrooms(where: $where) {\n      id\n      description\n      name\n      floor\n      special\n      isHidden\n      chair {\n          name\n      }\n      isWing\n      isOperaStudio\n      occupied {\n        user {\n          id\n          firstName\n          patronymic\n          lastName\n          type\n          nameTemp\n          email\n          phoneNumber\n        }\n        until\n        state\n      }\n      schedule(date: $date) {\n        from\n        to\n        activity\n      }\n      instruments {\n        name\n        type\n        rate\n      }\n      disabled {\n        comment\n        until\n      }\n    }\n  }\n"]))),rn=function(e){var t=Object(i.useState)([]),n=d()(t,2),a=n[0],r=n[1],o=Object(q.useQuery)(an,{variables:{date:yt(null!=e&&e.date?e.date:new Date)}}),l=o.data,c=o.loading,s=o.error;return Object(i.useEffect)((function(){!c&&!s&&r(l.classrooms.slice().sort((function(e,t){return parseInt(e.name)-parseInt(t.name)})))}),[l,c,s]),a},on=n(446);function ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ln(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sn(e){var t=e.instrument,a=e.hideModal,r=e.visible,o="./../assets/images/UpRightPiano.png",i=Math.round(t.rate),c=new Array(10).fill(1);switch(t.type){case"Chembalo":o=l.a.createElement(v.a,{source:n(403),style:un.icon});break;case"GrandPiano":o=l.a.createElement(v.a,{source:n(166),style:un.icon});break;case"UpRightPiano":o=l.a.createElement(v.a,{source:n(404),style:un.icon});break;default:o=l.a.createElement(v.a,{source:n(166),style:un.icon})}return l.a.createElement(M.a,null,l.a.createElement(Me.a,{visible:r,onDismiss:a,contentContainerStyle:un.containerStyle},l.a.createElement(St.a,{style:{textAlign:"center"}},o," ",t.name),l.a.createElement(It.a,{style:un.divider}),l.a.createElement(T.a,{style:{textAlign:"center"}},"\u0422\u0438\u043f: ",t.type),l.a.createElement(It.a,{style:un.divider}),l.a.createElement(T.a,{style:{textAlign:"center"}},"\u0420\u0435\u0439\u0442\u0438\u043d\u0433: ",t.rate.toFixed(1)),l.a.createElement(k.a,{style:un.rate},c.map((function(e,t){return l.a.createElement(v.a,{key:t,style:cn(cn({},un.star),{},{opacity:t<i?1:.3}),source:n(405)})})))))}var un=y.a.create({containerStyle:{backgroundColor:"white",padding:20,margin:10,borderRadius:8},divider:{marginTop:16,marginBottom:16},phoneRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},phoneNumber:{borderRadius:8,borderWidth:1,borderStyle:"solid",borderColor:"#eee",padding:8,fontSize:16,marginTop:8,color:"#2b5dff"},icon:{width:20,height:20,marginRight:8,marginLeft:4,opacity:.6},star:{width:20,height:20},rate:{marginTop:8,flexDirection:"row",justifyContent:"center"}});function mn(e){var t=e.instrument,a=e.expanded,r=void 0!==a&&a,o=t.type,c=t.rate,s=t.name,u="./../assets/images/UpRightPiano.png",m=Object(i.useState)(!1),f=d()(m,2),p=f[0],g=f[1];switch(o){case"Chembalo":u=l.a.createElement(v.a,{source:n(403),style:fn.icon});break;case"GrandPiano":u=l.a.createElement(v.a,{source:n(166),style:fn.icon});break;case"UpRightPiano":u=l.a.createElement(v.a,{source:n(404),style:fn.icon});break;default:u=l.a.createElement(v.a,{source:n(166),style:fn.icon})}return l.a.createElement(k.a,{style:fn.wrapper,onTouchEnd:r?function(){return g(!0)}:function(){}},u,r&&l.a.createElement(l.a.Fragment,null,l.a.createElement(T.a,{style:fn.name},s),l.a.createElement(v.a,{style:fn.star,source:n(405)})),l.a.createElement(T.a,null,c.toFixed(1)),l.a.createElement(sn,{instrument:t,hideModal:function(){return g(!1)},visible:p,imageSource:u}))}var dn,fn=y.a.create({wrapper:{flexDirection:"row",marginTop:4,marginBottom:4,marginRight:2,backgroundColor:"rgba(0, 0, 0, .05)",paddingTop:4,paddingBottom:4,paddingLeft:4,paddingRight:8,borderRadius:4,alignItems:"center"},icon:{width:20,height:20,marginRight:8,marginLeft:4,opacity:.6},name:{marginLeft:4,marginRight:4},star:{width:20,height:20}}),pn=function(e){return Object(q.useQuery)(Object(q.gql)(dn||(dn=B()(["\n      query "," {\n        "," @client\n      }\n  "])),e,e))},gn=function(e,t,n,a){if(t){var r=n.findIndex((function(t){return t===e}));if(-1===r)be([].concat(ze()(n),[e]));else{var o=n.slice();o.splice(r,1),be(o)}}else{var i=a.findIndex((function(t){return t===e}));if(-1===i)Ee([].concat(ze()(a),[e]));else{var l=a.slice();l.splice(i,1),Ee(l)}}},hn=function(e,t){var n=Object(i.useState)(""),a=d()(n,2),r=a[0],o=a[1],l=Object(i.useState)(100),c=d()(l,2),s=c[0],u=c[1],m=Object(i.useRef)({current:null}),f=Object(q.useQuery)($t).data.me;pn("mode").data.mode;return Object(i.useEffect)((function(){e&&e.user.id===f.id&&null!==m.current?m.current=setInterval((function(){var n,a,r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(e){var n=e.length-5,a=Je()(e.slice(0,n)).diff(Je()()),r=Je.a.duration(a),o=r.minutes()+":"+r.seconds(),i=a/(6e4*t/100);return[o,i]}}(null==e?void 0:e.until,t),i=d()(r,2),l=i[0],c=i[1],f=(null==(n=l.split(":"))?void 0:n[0])+" \u0445\u0432. ",p=(null==(a=l.split(":"))?void 0:a[1])+" \u0441\u0435\u043a. ";o(f+p),u(c),s<=0&&clearInterval(m.current)}),1e3):(clearInterval(m.current),m.current=null,o(""))}),[null==e?void 0:e.state]),[r,s]};function bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bn(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yn=(Ce.a.get("window").width-10)/3;function vn(e){var t=e.classroom,a=e.filteredList,r=t.name,o=t.occupied,c=t.schedule,s=t.special,u=t.instruments,m=t.disabled,f=t.id,p=Object(Zt.useNavigation)(),g=vt(c),h=null===(null==o?void 0:o.user.nameTemp)?bt(null==o?void 0:o.user,!0):null==o?void 0:o.user.nameTemp,b=Object(i.useState)(!1),E=d()(b,2),y=E[0],w=E[1],O=pn("mode").data.mode,S=pn("isMinimalSetup").data.isMinimalSetup,I=pn("desirableClassroomIds").data.desirableClassroomIds,C=pn("minimalClassroomIds").data.minimalClassroomIds,P=Object(q.useQuery)($t).data.me,x=(null==o?void 0:o.state)===re.OCCUPIED?180:2,D=hn(o,x),R=d()(D,2),A=R[0],N=R[1],L=function(e){!e&&p.navigate("ClassroomInfo",{classroom:t}),e&&w(!0)},U=function(){return l.a.createElement(k.a,{style:En(En({},wn.timeLeftProgress),{},{width:yn/100*N})})};return l.a.createElement(on.a,{onPress:O===Q.QUEUE_SETUP&&o?function(){return gn(f,S,C,I)}:function(){return L(m)},underlayColor:m?"#f91354":"#2b5dff",style:{borderRadius:4},onLongPress:O===Q.QUEUE_SETUP?function(){return L(m)}:null},l.a.createElement(j.a,{style:[wn.cell,m?wn.disabled:o?wn.occupied:wn.free]},a.includes(f)&&O===Q.QUEUE_SETUP&&l.a.createElement(Ue.a,{icon:"check-bold",style:wn.checkMark,color:"#0f0"}),jt(o,P,O)&&l.a.createElement(l.a.Fragment,null,(null==o?void 0:o.state)===re.RESERVED&&l.a.createElement(v.a,{source:n(549),style:wn.keyImage}),l.a.createElement(U,null)),o&&o.user.id===P.id&&o.state===re.OCCUPIED&&l.a.createElement(U,null),l.a.createElement(k.a,{style:wn.cellHeader},l.a.createElement(T.a,{style:wn.name},r),l.a.createElement(v.a,{source:n(550),style:[s?wn.special:wn.notSpecial]})),jt(o,P,O)||o&&o.user.id===P.id&&o.state===re.OCCUPIED?l.a.createElement(T.a,{style:wn.timeLeft},A):l.a.createElement(T.a,{style:[wn.occupationInfo,Et(o)],numberOfLines:1},m?m.comment:o?h:g?"\u0417\u0430\u0439\u043d\u044f\u0442\u043e \u0437\u0430 \u0440\u043e\u0437\u043a\u043b\u0430\u0434\u043e\u043c":"\u0412\u0456\u043b\u044c\u043d\u043e"),l.a.createElement(k.a,{style:wn.instruments},null!=u&&u.length?u.slice().sort((function(e,t){return t.rate-e.rate})).slice(0,2).map((function(e){return l.a.createElement(mn,{instrument:e,key:e.id})})):l.a.createElement(k.a,{style:wn.space})),l.a.createElement(de,{message:"\u0410\u0443\u0434\u0438\u0442\u043e\u0440\u0456\u044f \u0432\u0456\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0430 \u0434\u043e "+Je()(null==m?void 0:m.until).format("DD.MM.YYYY HH:MM")+"\n"+(null==m?void 0:m.comment),visible:y,hideDialog:function(){return w(!1)}})))}var wn=y.a.create({cell:{width:yn,justifyContent:"center",alignItems:"center",height:100,margin:1,elevation:2,borderRadius:4,position:"relative",overflow:"hidden"},cellHeader:{alignItems:"center",justifyContent:"space-between",width:yn,paddingLeft:16,paddingRight:16,flexDirection:"row"},name:{fontSize:35,fontWeight:"bold"},special:{width:20,height:20,opacity:1},notSpecial:{width:20,height:20,opacity:0},occupied:{},free:{backgroundColor:"#4bfd63"},disabled:{backgroundColor:"#ccc"},occupationInfo:{width:yn,margin:2,paddingHorizontal:4,paddingBottom:2,textAlign:"center"},instruments:{flexDirection:"row"},space:{height:20,margin:8},checkMark:{position:"absolute",zIndex:2,backgroundColor:"#00000088"},timeLeftProgress:{left:0,position:"absolute",zIndex:1e3,backgroundColor:"#00000033",height:100,width:yn},timeLeft:{fontSize:12,backgroundColor:"#f91354",color:"#fff",width:yn,margin:2,paddingHorizontal:4,paddingBottom:2,textAlign:"center"},keyImage:{position:"absolute",top:8,right:8,width:30,height:30,resizeMode:"stretch",tintColor:D.red}}),jn=n(406),On=n(416);function Sn(e){var t=e.hideModal,n=e.visible,a=e.isGrandPianoOnly,r=e.setIsGrandPianoOnly;return l.a.createElement(M.a,null,l.a.createElement(Me.a,{visible:n,onDismiss:t,contentContainerStyle:In.containerStyle},l.a.createElement(k.a,null,l.a.createElement(On.a.Group,{onValueChange:function(e){return function(e){r("0"===e),t()}(e)},value:a?"0":"1"},l.a.createElement(k.a,{style:In.item},l.a.createElement(On.a,{value:"0"}),l.a.createElement(T.a,null,"\u0420\u043e\u044f\u043b\u044c")),l.a.createElement(k.a,{style:In.item},l.a.createElement(On.a,{value:"1"}),l.a.createElement(T.a,null,"\u041f\u0456\u0430\u043d\u0456\u043d\u043e \u0430\u0431\u043e \u0440\u043e\u044f\u043b\u044c"))))))}var In=y.a.create({containerStyle:{position:"absolute",width:"90%",backgroundColor:"white",margin:20,padding:20,borderRadius:8,justifyContent:"center",alignItems:"flex-start"},item:{flexDirection:"row",alignItems:"center"}}),Cn=Ce.a.get("window").width;function Pn(e){var t=e.hideModal,n=e.visible,a=e.instruments,r=e.setInstruments,o=Object(i.useState)(!1),c=d()(o,2),s=c[0],u=c[1],m=Object(i.useState)(0),f=d()(m,2),p=f[0],g=f[1],h=Object(i.useState)(!1),b=d()(h,2),E=b[0],y=b[1],v=function(){return y(!0)};return l.a.createElement(M.a,null,l.a.createElement(Me.a,{visible:n,onDismiss:t,contentContainerStyle:xn.containerStyle},l.a.createElement(k.a,{style:xn.body},l.a.createElement(Pe.a,null,a.length?a.map((function(e,t){return l.a.createElement(k.a,{key:t,style:xn.instrumentRow},l.a.createElement(T.a,{style:{width:"40%"}},"UpRightPiano"===e.type?"\u0420\u043e\u044f\u043b\u044c \u0430\u0431\u043e \u043f\u0456\u0430\u043d\u0456\u043d\u043e":"\u0420\u043e\u044f\u043b\u044c"),l.a.createElement(k.a,{style:{flexDirection:"row",alignItems:"center",width:"20%"}},l.a.createElement(Ue.a,{icon:"star",color:"orange"}),l.a.createElement(T.a,{style:{paddingLeft:6}},e.rate,"+")),l.a.createElement(Ue.a,{icon:"trash-can-outline",onPress:function(){return function(e){var t=a.slice();t.splice(e,1),r(t)}(t)}}))})):l.a.createElement(T.a,{style:xn.noInstrumentsLabel},"\u0406\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0438 \u043d\u0435 \u0432\u0438\u0431\u0440\u0430\u043d\u0456"),l.a.createElement(k.a,{style:xn.newInstrumentRow},l.a.createElement(k.a,{style:{width:"40%",flexDirection:"row",alignItems:"center"}},l.a.createElement(T.a,{onPress:v},s?"\u0420\u043e\u044f\u043b\u044c":"\u0420\u043e\u044f\u043b\u044c \u0430\u0431\u043e \u043f\u0456\u0430\u043d\u0456\u043d\u043e"),l.a.createElement(Ue.a,{icon:"menu-down",onPress:v})),l.a.createElement(k.a,{style:{flexDirection:"row",alignItems:"center",width:"20%"}},l.a.createElement(Ue.a,{icon:"star",color:"orange",style:{marginRight:-5}}),l.a.createElement(O.a,{placeholder:"0",style:xn.countInput,autoCompleteType:"cc-number",value:p,onChangeText:function(e){return g(e.replace(/[^0-9]/g,""))},mode:"outlined"})),l.a.createElement(Ue.a,{icon:"plus",onPress:function(){var e={type:s?"GrandPiano":"UpRightPiano",rate:p};r((function(t){return[].concat(ze()(t),[e])})),g(0),u(!1)}}))),l.a.createElement(k.a,{style:xn.buttons},l.a.createElement(S.a,{mode:"contained",onPress:t},"\u0417\u0430\u043a\u0440\u0438\u0442\u0438"))),l.a.createElement(Sn,{hideModal:function(){return y(!1)},visible:E,isGrandPianoOnly:s,setIsGrandPianoOnly:u})))}var xn=y.a.create({containerStyle:{position:"absolute",height:300,width:"90%",backgroundColor:"white",margin:20,borderRadius:8,justifyContent:"center",alignItems:"flex-start"},header:{flexDirection:"row",alignItems:"center",justifyContent:"center",padding:20,borderBottomWidth:1,borderBottomColor:"#dddddd",width:"100%",backgroundColor:"#f1f1f1"},body:{padding:20},radioItem:{flexDirection:"row",alignItems:"center"},divider:{borderBottomColor:"#eee",alignSelf:"center",borderBottomWidth:1,borderStyle:"solid",width:Cn-80,height:1,marginVertical:16},checkbox:{flexDirection:"row",alignItems:"center"},buttons:{paddingTop:16,flexDirection:"row",justifyContent:"flex-end"},instrumentRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%",borderBottomWidth:1,borderBottomColor:"#ccc",padding:10},newInstrumentRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%",padding:10},countInput:{height:40,width:40,backgroundColor:"transparent",paddingLeft:5},noInstrumentsLabel:{textAlign:"center",paddingBottom:15,color:"#ccc",fontSize:18,borderBottomColor:"#eee",borderBottomWidth:1}}),Tn=Ce.a.get("window").width;function kn(e){var t=e.hideModal,n=e.visible,a=e.apply,r=Object(i.useState)([]),o=d()(r,2),c=o[0],s=o[1],u=Object(i.useState)("with"),m=d()(u,2),f=m[0],p=m[1],g=Object(i.useState)(!0),h=d()(g,2),b=h[0],E=h[1],y=Object(i.useState)(!1),v=d()(y,2),w=v[0],j=v[1],O=Object(i.useState)(!1),I=d()(O,2),C=I[0],P=I[1];return l.a.createElement(M.a,null,l.a.createElement(Me.a,{visible:n,onDismiss:t,contentContainerStyle:Dn.containerStyle},l.a.createElement(k.a,{style:Dn.header},l.a.createElement(jn.a,null,"\u0424\u0456\u043b\u044c\u0442\u0440\u0438 \u0430\u0443\u0434\u0438\u0442\u043e\u0440\u0456\u0439 \u0434\u043b\u044f \u0447\u0435\u0440\u0433\u0438")),l.a.createElement(k.a,{style:Dn.body},l.a.createElement(S.a,{icon:"pencil",onPress:function(){return P(!0)}},l.a.createElement(T.a,null,c.length?c.length+" \u0456\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442"+function(){switch(c.length){case 1:return"";case 2:return"\u0430";case 3:case 4:return"\u0438";case 5:return"\u0456\u0432";default:return"..."}}():"\u0411\u0443\u0434\u044c-\u044f\u043a\u0456 \u0430\u0431\u043e \u0431\u0435\u0437 \u0456\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0456\u0432")),l.a.createElement(It.a,{style:Dn.divider}),l.a.createElement(k.a,{style:Dn.checkbox},l.a.createElement(De.a,{status:b?"unchecked":"checked",onPress:function(){return E((function(e){return!e}))}}),l.a.createElement(T.a,null,"\u0411\u0435\u0437 \u0444\u043b\u0456\u0433\u0435\u043b\u044f")),l.a.createElement(k.a,{style:Dn.checkbox},l.a.createElement(De.a,{status:w?"checked":"unchecked",onPress:function(){return j((function(e){return!e}))}}),l.a.createElement(T.a,null,"\u0422\u0456\u043b\u044c\u043a\u0438 \u043e\u043f\u0435\u0440\u043d\u0430 \u0441\u0442\u0443\u0434\u0456\u044f")),l.a.createElement(It.a,{style:Dn.divider}),l.a.createElement(On.a.Group,{onValueChange:function(e){return p(e)},value:f},l.a.createElement(k.a,{style:Dn.radioItem},l.a.createElement(On.a,{value:"with"}),l.a.createElement(T.a,null,"\u0417\u0456 \u0441\u043f\u0435\u0446\u0456\u0430\u043b\u0456\u0437\u043e\u0432\u0430\u043d\u0438\u043c\u0438 (\u0444-\u043d\u043e)")),l.a.createElement(k.a,{style:Dn.radioItem},l.a.createElement(On.a,{value:"only"}),l.a.createElement(T.a,null,"\u0422\u0456\u043b\u044c\u043a\u0438 \u0441\u043f\u0435\u0446\u0456\u0430\u043b\u0456\u0437\u043e\u0432\u0430\u043d\u0456 (\u0444-\u043d\u043e)")),l.a.createElement(k.a,{style:Dn.radioItem},l.a.createElement(On.a,{value:"without"}),l.a.createElement(T.a,null,"\u0411\u0435\u0437 \u0441\u043f\u0435\u0446\u0456\u0430\u043b\u0456\u0437\u043e\u0432\u0430\u043d\u0438\u0445 (\u0444-\u043d\u043e)"))),l.a.createElement(It.a,{style:Dn.divider}),l.a.createElement(k.a,{style:Dn.buttons},l.a.createElement(S.a,{mode:"contained"},"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u0456 \u0444\u0456\u043b\u044c\u0442\u0440\u0438"),l.a.createElement(S.a,{mode:"contained",onPress:function(){a(c,b,w,f),t()}},"\u0417\u0430\u0441\u0442\u043e\u0441\u0443\u0432\u0430\u0442\u0438")),l.a.createElement(Pn,{hideModal:function(){return P(!1)},visible:C,instruments:c,setInstruments:s}))))}var Dn=y.a.create({containerStyle:{backgroundColor:"white",margin:20,borderRadius:8,justifyContent:"center",alignItems:"flex-start",overflow:"hidden"},header:{flexDirection:"row",alignItems:"center",justifyContent:"center",padding:20,borderBottomWidth:1,borderBottomColor:"#dddddd",width:"100%",backgroundColor:"#f1f1f1"},body:{padding:20},radioItem:{flexDirection:"row",alignItems:"center"},divider:{borderBottomColor:"#eee",alignSelf:"center",borderBottomWidth:1,borderStyle:"solid",width:Tn-80,height:1,marginVertical:16},checkbox:{flexDirection:"row",alignItems:"center"},buttons:{flexDirection:"row",justifyContent:"space-between"}}),Rn=n(407);function An(e){var t=e.scheduleUnit,n=t.user,a=t.activity,r=t.from,o=t.to,c=a===te.LECTURE,s=Object(i.useState)(!1),u=d()(s,2),m=u[0],f=u[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(T.a,{style:[qn.item,c?qn.lecture:qn.individual],onPress:function(){return f(!0)}},r+" - "+o+" "+bt(n,!0)),l.a.createElement(Pt,{userId:n.id,hideModal:function(){return f(!1)},visible:m}))}var Nn,Ln,qn=y.a.create({item:{marginTop:4,marginBottom:4,paddingVertical:4,paddingHorizontal:8,borderRadius:4},individual:{backgroundColor:"#2b5dff",color:"#fff"},lecture:{backgroundColor:"#ffc000",color:"#000"}}),Un=Object(q.gql)(Nn||(Nn=B()(["\n    mutation addUserToQueue($input: [AddUserToQueueInputType!]!) {\n        addUserToQueue(input: $input) {\n          count\n        }\n    }\n"]))),Bn=function(e,t){var n,a,r,o;return p.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n=pe(),a=ze()(new Set([].concat(ze()(e),ze()(t)))),r=a.map((function(e){return{userId:n.id,classroomId:e,state:ie.ACTIVE,type:le.MINIMAL}})),o=t.map((function(e){return{userId:n.id,classroomId:e,state:ie.ACTIVE,type:le.DESIRED}})),i.prev=4,i.next=7,p.a.awrap(fe.mutate({mutation:Un,variables:{input:[].concat(ze()(r),ze()(o))}}));case 7:he(Q.INLINE),be(a),i.next=14;break;case 11:i.prev=11,i.t0=i.catch(4),alert(JSON.stringify(i.t0));case 14:case"end":return i.stop()}}),null,null,[[4,11]],Promise)},zn=Object(q.gql)(Ln||(Ln=B()(["\n  query getUserSkips($where: UserWhereUniqueInput!) {\n    user(where: $where) {\n      id\n      queueInfo {\n        skips\n      }\n    }\n  }\n"])));function Mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mn(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vn(e){var t,n=e.route.params.classroom,a=n.name,r=n.id,o=n.isWing,c=n.isOperaStudio,s=n.chair,u=n.description,m=n.special,f=n.floor,g=n.instruments,h=n.schedule,b=n.occupied,E=Object(Zt.useNavigation)(),y=Object(q.useQuery)(Mt,{variables:{classroomName:a,date:yt(new Date)}}),v=y.data,w=y.loading,O=y.error,I=Object(q.useQuery)($t).data.me,C=null===(null==b?void 0:b.user.nameTemp)?bt(null==b?void 0:b.user):null==b?void 0:b.user.nameTemp,P=vt(h),x=Object(i.useState)(!1),R=d()(x,2),A=R[0],N=R[1],L=pn("mode").data.mode,U=pn("isMinimalSetup").data.isMinimalSetup,B=pn("desirableClassroomIds").data.desirableClassroomIds,z=pn("minimalClassroomIds").data.minimalClassroomIds,M=(null==b?void 0:b.state)===re.OCCUPIED?180:2,F=hn(b,M),H=d()(F,2),_=H[0],Y=H[1],$=Object(i.useState)(!0),G=d()($,2),J=G[0],Z=G[1],ee=Object(i.useState)(0),te=d()(ee,2),ne=te[0],ae=te[1];Object(i.useEffect)((function(){Z(!0)}),[]),Object(i.useEffect)((function(){I&&function(){var e;p.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.awrap(fe.query({query:zn,variables:{where:{id:I.id}}}));case 3:e=t.sent,ae(e.data.user.queueInfo.skips),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert(JSON.stringify(t.t0));case 10:case"end":return t.stop()}}),null,null,[[0,7]],Promise)}()}),[I]);var oe,ce=function(){return E.goBack()},se=function(e){return U?z.includes(e):B.includes(e)},ue=function(e){return p.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.awrap(fe.mutate({mutation:Un,variables:{input:[{userId:I.id,classroomId:r,state:ie.ACTIVE,type:e?le.MINIMAL:le.DESIRED}]}}));case 3:gn(r,e,z,B),ce(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert(JSON.stringify(t.t0));case 10:case"end":return t.stop()}}),null,null,[[0,7]],Promise)};return l.a.createElement(k.a,null,l.a.createElement(Te.a,{style:Wn.top},l.a.createElement(Te.a.BackAction,{onPress:ce}),l.a.createElement(Te.a.Content,{title:(Ot(b,I)?"\u041c\u043e\u044f \u0430\u0443\u0434\u0438\u0442\u043e\u0440\u0456\u044f":"\u0410\u0443\u0434\u0438\u0442\u043e\u0440\u0456\u044f")+" "+a,subtitle:s?s.name:""})),l.a.createElement(k.a,{style:Wn.wrapper},(o||c||m)&&l.a.createElement(l.a.Fragment,null,l.a.createElement(k.a,{style:Wn.tags},o&&l.a.createElement(Rn.a,{selected:!0,selectedColor:"#00f",mode:"outlined",style:Wn.tag},"\u0424\u043b\u0456\u0433\u0435\u043b\u044c"),c&&l.a.createElement(Rn.a,{selected:!0,selectedColor:"#00f",mode:"outlined",style:Wn.tag},"\u041e\u043f\u0435\u0440\u043d\u0430 \u0441\u0442\u0443\u0434\u0456\u044f"),m&&l.a.createElement(Rn.a,{selected:!0,selectedColor:"#00f",mode:"outlined",style:Wn.tag},"\u0421\u043f\u0435\u0446\u0456\u0430\u043b\u0456\u0437\u043e\u0432\u0430\u043d\u0430")),l.a.createElement(It.a,{style:Wn.divider})),l.a.createElement(T.a,{style:Wn.description},u),l.a.createElement(It.a,{style:Wn.divider}),l.a.createElement(T.a,{style:Wn.description},"\u041f\u043e\u0432\u0435\u0440\u0445: ",f),l.a.createElement(It.a,{style:Wn.divider}),l.a.createElement(k.a,null,!!g.length&&l.a.createElement(l.a.Fragment,null,null==g?void 0:g.map((function(e){return l.a.createElement(mn,{key:e.id,instrument:e,expanded:!0})})),l.a.createElement(It.a,{style:Wn.divider}))),l.a.createElement(T.a,{style:Wn.scheduleHeader},"\u0420\u043e\u0437\u043a\u043b\u0430\u0434 \u043d\u0430 \u0441\u044c\u043e\u0433\u043e\u0434\u043d\u0456"),w||O?l.a.createElement(gt.a,{animating:!0,color:"#2e287c"}):null==(t=v.schedule)?void 0:t.map((function(e){return l.a.createElement(An,{scheduleUnit:e,key:e.id})})),l.a.createElement(It.a,{style:Wn.divider}),b?!jt(b,I,L)&&l.a.createElement(j.a,{style:Fn({elevation:A?0:4},Wn.occupationInfo),onTouchEnd:function(){return N(!0)}},l.a.createElement(T.a,{style:Wn.occupantName},C),l.a.createElement(T.a,{style:Fn({backgroundColor:X[b.user.type]},Wn.occupantType)},K[b.user.type]),Ot(b,I)?Y>0&&l.a.createElement(k.a,{style:{marginTop:30}},l.a.createElement(V.a,null,"\u0427\u0430\u0441\u0443 \u043d\u0430 \u0437\u0430\u043d\u044f\u0442\u0442\u044f \u0437\u0430\u043b\u0438\u0448\u0438\u043b\u043e\u0441\u044c: ",_),l.a.createElement(W.a,{progress:Y/100,visible:!0,color:D.red,style:Wn.progressBar})):l.a.createElement(T.a,{style:Wn.occupiedUntil},"\u0417\u0430\u0439\u043d\u044f\u0442\u043e \u0434\u043e ",(oe=new Date(b.until)).getHours()+":"+ht(oe.getMinutes())),l.a.createElement(Pt,{userId:b.user.id,hideModal:function(){return N(!1)},visible:A})):l.a.createElement(T.a,{style:Wn.freeText},P?"\u0417\u0430\u0439\u043d\u044f\u0442\u043e \u0437\u0430 \u0440\u043e\u0437\u043a\u043b\u0430\u0434\u043e\u043c":"\u0412\u0456\u043b\u044c\u043d\u043e"),l.a.createElement(k.a,{style:Wn.queueSetupButtons},L===Q.INLINE&&b&&b.user.id!==I.id&&l.a.createElement(l.a.Fragment,null,z.includes(r)?l.a.createElement(S.a,{mode:"contained",style:{marginBottom:8}},"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0437 \u0447\u0435\u0440\u0433\u0438 (\u043c\u0456\u043d\u0456\u043c\u0430\u043b\u044c\u043d\u0456)"):l.a.createElement(S.a,{mode:"contained",style:{marginBottom:8},onPress:function(){return ue(!0)}},"\u0414\u043e\u0434\u0430\u0442\u0438 \u0434\u043e \u0447\u0435\u0440\u0433\u0438 (\u043c\u0456\u043d\u0456\u043c\u0430\u043b\u044c\u043d\u0456)"),B.includes(r)?l.a.createElement(S.a,{mode:"contained"},"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0437 \u0447\u0435\u0440\u0433\u0438 (\u0431\u0430\u0436\u0430\u043d\u0456)"):l.a.createElement(S.a,{mode:"contained",onPress:function(){return ue(!1)}},"\u0414\u043e\u0434\u0430\u0442\u0438 \u0434\u043e \u0447\u0435\u0440\u0433\u0438 (\u0431\u0430\u0436\u0430\u043d\u0456)")),!b&&l.a.createElement(S.a,{mode:"contained"},"\u0412\u0437\u044f\u0442\u0438 \u0430\u0443\u0434\u0438\u0442\u043e\u0440\u0456\u044e"),L===Q.PRIMARY&&!I.occupiedClassroom&&b&&l.a.createElement(S.a,{mode:"contained",onPress:function(){return Bn([r],[])}},"\u0421\u0442\u0430\u0442\u0438 \u0432 \u0447\u0435\u0440\u0433\u0443 \u0437\u0430 \u0446\u0456\u0454\u044e \u0430\u0443\u0434\u0438\u0442\u043e\u0440\u0456\u0454\u044e"),L===Q.QUEUE_SETUP&&!I.occupiedClassroom&&b&&l.a.createElement(S.a,{mode:"contained",onPress:function(){gn(r,U,z,B),se(r),ce()}},se(r)?"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0437 \u0447\u0435\u0440\u0433\u0438":"\u0414\u043e\u0434\u0430\u0442\u0438 \u0434\u043e \u0447\u0435\u0440\u0433\u0438"),b&&b.state===re.RESERVED&&b.user.id===I.id&&L===Q.INLINE&&l.a.createElement(l.a.Fragment,null,Y>0&&l.a.createElement(k.a,{style:{marginBottom:30}},l.a.createElement(ke.a,{visible:J,actions:[{label:"\u0417\u0440\u043e\u0437\u0443\u043c\u0456\u043b\u043e",onPress:function(){return Z(!1)}}],style:{marginBottom:30}},"\u0417\u0430\u0431\u0435\u0440\u0456\u0442\u044c \u043a\u043b\u044e\u0447\u0456 \u0432\u0456\u0434 \u0430\u0443\u0434\u0438\u0442\u043e\u0440\u0456\u0457 \u0432 \u0443\u0447\u0431\u043e\u0432\u0456\u0439 \u0447\u0430\u0441\u0442\u0438\u043d\u0456. \u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0438\u0439 \u0447\u0430\u0441 \u0437\u043d\u0430\u0445\u043e\u0434\u0436\u0435\u043d\u043d\u044f \u0432 \u0430\u0443\u0434\u0438\u0442\u043e\u0440\u0456\u0457 - 3 \u0433\u043e\u0434\u0438\u043d\u0438."),l.a.createElement(V.a,null,"\u0427\u0430\u0441\u0443 \u043d\u0430 \u043f\u0440\u0438\u0439\u043d\u044f\u0442\u0442\u044f \u0440\u0456\u0448\u0435\u043d\u043d\u044f \u0437\u0430\u043b\u0438\u0448\u0438\u043b\u043e\u0441\u044c: ",_),l.a.createElement(W.a,{progress:Y/100,visible:!0,color:D.red,style:Wn.progressBar}))),b&&b.state===re.PENDING&&b.user.id===I.id&&L===Q.INLINE&&l.a.createElement(l.a.Fragment,null,Y>0&&l.a.createElement(k.a,{style:{marginBottom:30}},l.a.createElement(ke.a,{visible:J,actions:[{label:"\u0417\u0440\u043e\u0437\u0443\u043c\u0456\u043b\u043e",onPress:function(){return Z(!1)}}],style:{marginBottom:30}},"\u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u0456\u0434\u0445\u0438\u043b\u0438\u0442\u0438 \u0430\u0443\u0434\u0438\u0442\u043e\u0440\u0456\u044e "+ne+" \u0440\u0430\u0437"+(2===ne||3===ne||4===ne?"\u0438.":".")+" \u042f\u043a\u0449\u043e \u0430\u0443\u0434\u0438\u0442\u043e\u0440\u0456\u044f \u043d\u0435 \u0431\u0443\u0434\u0435 \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043d\u0430 \u043d\u0430 \u043f\u0440\u043e\u0442\u044f\u0437\u0456 \u0432\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043e\u0433\u043e \u0447\u0430\u0441\u0443, \u0432\u043e\u043d\u0430 \u0431\u0443\u0434\u0435 \u0432\u0456\u0434\u0445\u0438\u043b\u0435\u043d\u0430 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u043d\u043e. \u042f\u043a\u0449\u043e \u043f\u043e\u043a\u0430\u0437\u043d\u0438\u043a \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u0438\u0445 \u0432\u0456\u0434\u0445\u0438\u043b\u0435\u043d\u044c \u0434\u043e\u0440\u0456\u0432\u043d\u044e\u0454 \u043d\u0443\u043b\u044e \u0456 \u0412\u0438 \u043d\u0435 \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0443\u0454\u0442\u0435 \u0442\u0430 \u043d\u0435 \u0432\u0456\u0434\u0445\u0438\u043b\u044f\u0454\u0442\u0435 \u0430\u0443\u0434\u0438\u0442\u043e\u0440\u0456\u044e, \u0432\u043e\u043d\u0430 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u043d\u043e \u0432\u0456\u0434\u0445\u0438\u043b\u044f\u0454\u0442\u044c\u0441\u044f \u0456 \u0412\u0438 \u0432\u0438\u0431\u0443\u0432\u0430\u0454\u0442\u0435 \u0437 \u0447\u0435\u0440\u0433\u0438."),l.a.createElement(V.a,null,"\u0427\u0430\u0441\u0443 \u043d\u0430 \u043f\u0440\u0438\u0439\u043d\u044f\u0442\u0442\u044f \u0440\u0456\u0448\u0435\u043d\u043d\u044f \u0437\u0430\u043b\u0438\u0448\u0438\u043b\u043e\u0441\u044c: ",_),l.a.createElement(W.a,{progress:Y/100,visible:!0,color:D.red,style:Wn.progressBar})),l.a.createElement(k.a,null,l.a.createElement(S.a,{mode:"contained",style:{marginBottom:8},color:"#f91354"},"\u0412\u0456\u0434\u0445\u0438\u043b\u0438\u0442\u0438 \u0430\u0443\u0434\u0438\u0442\u043e\u0440\u0456\u044e"),l.a.createElement(S.a,{mode:"contained"},"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438 \u0430\u0443\u0434\u0438\u0442\u043e\u0440\u0456\u044e"))))))}var Wn=y.a.create({top:{position:"absolute",left:0,right:0,top:0,paddingTop:26,height:80,backgroundColor:"#2e287c"},wrapper:{marginTop:100,marginLeft:16,marginRight:16},divider:{marginTop:16,marginBottom:16},department:{fontSize:20,marginBottom:16,textAlign:"center"},tags:{flexDirection:"row",justifyContent:"center"},tag:{marginRight:8},description:{fontSize:16},scheduleHeader:{textAlign:"center",marginBottom:16},occupationInfo:{borderRadius:8,padding:16},freeText:{textAlign:"center",fontSize:20,borderColor:"#ddd",borderWidth:1,borderStyle:"solid",alignSelf:"center",paddingVertical:8,paddingHorizontal:32,borderRadius:32,color:"#bbb"},occupantName:{textAlign:"center",fontSize:16},occupantType:{color:"#fff",textAlign:"center",alignSelf:"center",paddingVertical:2,paddingHorizontal:4,marginTop:8,borderRadius:4},occupiedUntil:{textAlign:"center",marginTop:8},queueSetupButtons:{marginTop:32},progressBar:{height:24,borderRadius:6}}),Hn={GrandPiano:0,UpRightPiano:1};function _n(e,t){var n=t.sort((function(e,t){return Hn[e.type]===Hn[t.type]?e.rate-t.rate:Hn[t.type]-Hn[e.type]}));return e.filter((function(e){var t=ze()(n),a=ze()(e.instruments);if(t.length>a.length)return!1;for(;"GrandPiano"===(null==(r=t[t.length-1])?void 0:r.type);){var r,o=Qn(a,"GrandPiano",t[t.length-1].rate);if(-1===o)return!1;t.pop(),a.splice(o,1)}for(;t.length;){var i=Qn(a,null,t[t.length-1].rate);if(-1===i)return!1;t.pop(),a.splice(i,1)}return!0}))}function Qn(e,t,n){var a=-1;return e.forEach((function(r,o){t&&r.type!==t||r.rate<n||(-1===a||r.rate-n<e[a].rate-n)&&(a=o)})),a}function Yn(e){var t=e.visible,n=e.hideDialog,a=Object(i.useState)(27),r=d()(a,2),o=r[0];r[1];return i.createElement(M.a,null,i.createElement(Me.a,{visible:t,onDismiss:n,contentContainerStyle:Gn.containerStyle},i.createElement(k.a,null,i.createElement(T.a,{style:Gn.header},"\u0412\u0456\u0442\u0430\u0454\u043c\u043e!"),i.createElement(T.a,{style:Gn.paragraph},"\u0412\u0438 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0441\u0442\u0430\u043b\u0438 \u0432 \u0447\u0435\u0440\u0433\u0443!"),i.createElement(T.a,{style:Gn.paragraph},"\u041f\u0435\u0440\u0435\u0434 \u0412\u0430\u043c\u0438 "+o+" \u043b\u044e\u0434\u0435\u0439."),i.createElement(k.a,{style:Gn.buttons},i.createElement(S.a,{mode:"outlined",icon:"information-outline"},"\u0429\u043e \u0440\u043e\u0431\u0438\u0442\u0438 \u0434\u0430\u043b\u0456?"),i.createElement(S.a,{mode:"contained",onPress:n},"\u0417\u0430\u043a\u0440\u0438\u0442\u0438")))))}var $n,Gn=y.a.create({containerStyle:{backgroundColor:"white",padding:20,margin:20,borderRadius:8},header:{textAlign:"center",fontSize:30,fontWeight:"bold",marginBottom:10},paragraph:{textAlign:"center",marginBottom:5,fontSize:16},buttons:{marginTop:20,flexDirection:"row",justifyContent:"space-between"}}),Jn=Object(q.gql)($n||($n=B()(["\n    mutation removeUserFromQueue($where: QueueRecordWhereInput) {\n        removeUserFromQueue(where: $where) {\n          count\n        }\n    }\n"])));function Zn(){var e;return p.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.awrap(ue("user"));case 2:return e=t.sent,t.prev=3,t.next=6,p.a.awrap(fe.mutate({mutation:Jn,variables:{where:{userId:{equals:e.id}}}}));case 6:be([]),Ee([]),ye(!0),he(Q.PRIMARY),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),alert(JSON.stringify(t.t0));case 15:case"end":return t.stop()}}),null,null,[[3,12]],Promise)}function Kn(e){var t=e.hideDialog,n=e.visible;return l.a.createElement(M.a,null,l.a.createElement(F.a,{visible:n,onDismiss:t},l.a.createElement(F.a.Title,null,"\u0423\u0432\u0430\u0433\u0430!"),l.a.createElement(F.a.Content,null,l.a.createElement(V.a,null,"\u0412\u0438 \u0434\u0456\u0439\u0441\u043d\u043e \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u0438 \u0447\u0435\u0440\u0433\u0443? \u0426\u044e \u0434\u0456\u044e \u043d\u0435\u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0431\u0443\u0434\u0435 \u0432\u0456\u0434\u043c\u0456\u043d\u0438\u0442\u0438.")),l.a.createElement(F.a.Actions,null,l.a.createElement(S.a,{onPress:t},"\u041d\u0456"),l.a.createElement(S.a,{onPress:function(){return p.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.awrap(Zn());case 2:t();case 3:case"end":return e.stop()}}),null,null,null,Promise)}},"\u0422\u0430\u043a"))))}function Xn(e){var t=e.me,n=e.classrooms,a=e.isMinimalSetup,r=e.minimalClassroomIds,o=e.desirableClassroomIds,i=t.occupiedClassroom;return i?l.a.createElement(k.a,{style:ta.container},l.a.createElement(T.a,{style:ta.gridDivider},"\u041c\u043e\u044f \u0430\u0443\u0434\u0438\u0442\u043e\u0440\u0456\u044f:"),l.a.createElement(k.a,{style:ta.grid},l.a.createElement(vn,{key:i.id,classroom:n.find((function(e){return e.id===i.id})),filteredList:a?r:o}))):l.a.createElement(l.a.Fragment,null)}var ea,ta=y.a.create({gridDivider:{color:"#fff",marginBottom:10,marginLeft:3,marginRight:3,paddingLeft:17,fontSize:18,borderBottomWidth:1,borderBottomColor:"#ffffff77",paddingBottom:10},container:{marginBottom:10},grid:{marginLeft:2,flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-start"}}),na=Object(q.gql)(ea||(ea=B()(["\n  query generalQueue {\n    generalQueue {\n        id\n      }\n  }"]))),aa=n(59);function ra(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function oa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ra(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ra(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Ce.a.get("window").width;function ia(e){var t=e.hideModal,n=e.visible,a=Object(i.useState)([]),r=d()(a,2),o=r[0],c=r[1],s=Object(i.useState)(!1),u=d()(s,2),m=u[0],f=u[1],p=Object(i.useState)(""),g=d()(p,2),h=g[0],b=g[1],E=pn("desirableClassroomIds").data.desirableClassroomIds,y=pn("minimalClassroomIds").data.minimalClassroomIds,v=Object(i.useState)(-1),w=d()(v,2),j=w[0],O=w[1],I=Object(i.useState)(!1),C=d()(I,2),P=C[0],x=C[1];Object(i.useEffect)((function(){return ue("filters").then((function(e){c(e)})),function(){O(-1),b("")}}),[]);return l.a.createElement(M.a,null,l.a.createElement(Me.a,{visible:n,onDismiss:t,contentContainerStyle:la.containerStyle},l.a.createElement(k.a,{style:la.header},l.a.createElement(jn.a,null,"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u0456 \u0444\u0456\u043b\u044c\u0442\u0440\u0438")),l.a.createElement(k.a,{style:la.body},null==o?void 0:o.map((function(e,n){return l.a.createElement(k.a,{key:n,style:la.itemRow},l.a.createElement(T.a,{style:j===n?la.selectedItem:la.item,onPress:function(){return function(e,n){be(e.minimalClassroomIds),Ee(e.desirableClassroomIds),O(n),t()}(e,n)}},e.main?e.name+" (\u043e\u0441\u043d\u043e\u0432\u043d\u0438\u0439)":e.name),l.a.createElement(Ue.a,{icon:"trash-can-outline",style:la.bin,onPress:function(){return function(e){var t=o;t.splice(e,1),se("filters",t).then((function(e){ue("filters").then((function(e){return c(e)}))})),O(-1)}(n)}}))})),l.a.createElement(k.a,{style:la.newFilterSection},l.a.createElement(aa.a,{placeholder:"\u041d\u0430\u0437\u0432\u0430 \u043d\u043e\u0432\u043e\u0433\u043e \u0444\u0456\u043b\u044c\u0442\u0440\u0443",value:h,onChangeText:function(e){return b(e)}}),l.a.createElement(k.a,{style:la.mainFilterCheckbox},l.a.createElement(De.a,{status:P?"checked":"unchecked",onPress:function(){return x((function(e){return!e}))}}),l.a.createElement(T.a,null,"\u0417\u0430\u0441\u0442\u043e\u0441\u0443\u0432\u0430\u0442\u0438 \u044f\u043a \u043e\u0441\u043d\u043e\u0432\u043d\u0438\u0439 \u0444\u0456\u043b\u044c\u0442\u0440")),l.a.createElement(S.a,{mode:"contained",disabled:m||!h,onPress:function(){f(!0);var e={minimalClassroomIds:y,desirableClassroomIds:E,name:h,main:P};se("filters",[].concat(ze()(o.map((function(e){return P?oa(oa({},e),{},{main:!1}):e}))),[e])).then((function(e){f(!1)})),c((function(t){return[].concat(ze()(t.map((function(e){return P?oa(oa({},e),{},{main:!1}):e}))),[e])}))}},"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u043d\u043e\u0432\u0438\u0439 \u0441\u0435\u0442 \u0430\u0443\u0434\u0438\u0442\u043e\u0440\u0456\u0439")))))}var la=y.a.create({containerStyle:{backgroundColor:"white",margin:20,borderRadius:8,justifyContent:"center",alignItems:"flex-start",overflow:"hidden"},header:{flexDirection:"row",alignItems:"center",justifyContent:"center",padding:20,borderBottomWidth:1,borderBottomColor:"#dddddd",width:"100%",backgroundColor:"#f1f1f1"},body:{padding:20,width:"100%"},itemRow:{flexDirection:"row",width:"100%",justifyContent:"space-between"},item:{paddingBottom:10,fontSize:16,borderBottomColor:"#eee",borderBottomWidth:1,marginBottom:10,color:"#000",width:"80%"},selectedItem:{paddingBottom:10,fontSize:16,borderBottomColor:"#eee",borderBottomWidth:1,marginBottom:10,color:D.blue,width:"80%"},bin:{width:"20%"},mainFilterCheckbox:{flexDirection:"row",alignItems:"center",marginBottom:10,marginLeft:-10},newFilterSection:{borderRadius:6,borderWidth:1,borderColor:"#eee",padding:16,marginTop:50}});function ca(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function sa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ca(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ca(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ua=Object(E.a)();function ma(){return l.a.createElement(ua.Navigator,{screenOptions:{headerShown:!1},initialRouteName:"ClassroomsList"},l.a.createElement(ua.Screen,{name:"ClassroomsList",component:da}),l.a.createElement(ua.Screen,{name:"ClassroomInfo",component:Vn}))}function da(){var e,t=rn(),a=Object(i.useState)(!1),r=d()(a,2),o=r[0],c=r[1],s=Object(i.useState)(!1),u=d()(s,2),m=u[0],f=u[1],g=Object(i.useState)(!1),h=d()(g,2),b=h[0],E=h[1],y=Object(i.useState)(!1),v=d()(y,2),j=v[0],O=v[1],I=Object(Zt.useNavigation)(),C=Object(i.useState)(27),P=d()(C,2),x=P[0],D=P[1],R=Object(i.useState)(0),A=d()(R,2),N=A[0],L=A[1],U=x?"\u041b\u044e\u0434\u0435\u0439 \u0432 \u0447\u0435\u0440\u0437\u0456: "+x:"\u041b\u044e\u0434\u0435\u0439 \u0432 \u0447\u0435\u0440\u0437\u0456 \u043d\u0435\u043c\u0430\u0454",B="\u0412\u0438 \u0432 \u0447\u0435\u0440\u0437\u0456: "+x+"-\u0439",z=pn("mode").data.mode,M=pn("isMinimalSetup").data.isMinimalSetup,F=pn("desirableClassroomIds").data.desirableClassroomIds,V=pn("minimalClassroomIds").data.minimalClassroomIds,W=Object(q.useQuery)($t).data.me;Object(i.useEffect)((function(){var e;if(fe.watchQuery({query:an,variables:{date:yt(new Date)},fetchPolicy:"network-only",pollInterval:3e3}).subscribe({next:function(e){e.data}}),fe.watchQuery({query:na,fetchPolicy:"network-only",pollInterval:3e3}).subscribe({next:function(e){var t=e.data;D(t.generalQueue.length)}}),null!=(e=pe())&&e.queue.length){var t,n,a=null==(t=pe())?void 0:t.queue.filter((function(e){var t=e.type,n=e.state;return t===le.MINIMAL&&n===ie.ACTIVE})),r=null==(n=pe())?void 0:n.queue.filter((function(e){var t=e.type,n=e.state;return t===le.DESIRED&&n===ie.ACTIVE}));he(Q.INLINE),be(a?a.map((function(e){return e.classroom.id})):[]),Ee(r?r.map((function(e){return e.classroom.id})):[])}}),[]),Object(i.useEffect)((function(){if(t){var e=t.find((function(e){var t=e.occupied;return(null==t?void 0:t.user.id)===W.id&&(null==t?void 0:t.state)===re.OCCUPIED}));pe(sa(sa({},W),{},{occupiedClassroom:e||null})),L(null==t?void 0:t.filter((function(e){return!e.occupied})).length)}}),[t]);var H=function(e){var t=e.isHidden,n=e.occupied;return z===Q.PRIMARY?!(t&&!n):!t},_=function(e){var t=e.disabled;return z!==Q.QUEUE_SETUP&&z!==Q.INLINE||!t},Y=function(e){var t=e.id,n=e.occupied;return V.includes(t)&&n&&(n.state===re.PENDING||n.state===re.RESERVED)},$=function(e){var t=e.id,n=e.occupied;return V.includes(t)&&n&&(null==W?void 0:W.id)!==n.user.id};return l.a.createElement(w.a,{source:n(105),style:{width:"100%",height:"100%"}},l.a.createElement(Te.a,{style:fa.top},l.a.createElement(Te.a.Action,{icon:"menu",onPress:function(){return I.dispatch(Zt.DrawerActions.openDrawer())},color:"#fff"}),z===Q.PRIMARY&&l.a.createElement(Te.a.Content,{style:{marginLeft:-10},title:U,subtitle:"\u0412\u0456\u043b\u044c\u043d\u0438\u0445 \u0430\u0443\u0434\u0438\u0442\u043e\u0440\u0456\u0439: "+N,color:"#fff"}),z===Q.QUEUE_SETUP&&l.a.createElement(l.a.Fragment,null,l.a.createElement(k.a,{style:{flexDirection:"row",justifyContent:"space-between",width:"88%"}},l.a.createElement(k.a,{style:fa.queueSwitcher},l.a.createElement(S.a,{mode:M?"contained":"text",style:{position:"relative",width:"45%"},color:"#fff",onPress:function(){return ye(!0)}},"\u041c\u0456\u043d\u0456\u043c\u0430\u043b\u044c\u043d\u0456"),l.a.createElement(S.a,{mode:M?"text":"contained",style:{position:"relative",width:"35%"},color:"#fff",onPress:function(){return ye(!1)}},"\u0411\u0430\u0436\u0430\u043d\u0456"))),l.a.createElement(Te.a.Action,{icon:"content-save",onPress:function(){return f(!0)},color:"#fff",style:{position:"absolute",right:40,top:28}}),l.a.createElement(Te.a.Action,{icon:"filter",onPress:function(){return c(!0)},color:"#fff",style:{position:"absolute",right:0,top:28}})),z===Q.INLINE&&l.a.createElement(Te.a.Content,{style:{marginLeft:-10},title:B,color:"#fff"})),l.a.createElement(k.a,{style:fa.wrapper},null!=t&&t.length?l.a.createElement(l.a.Fragment,null,l.a.createElement(Pe.a,null,l.a.createElement(Xn,{me:W,classrooms:t,isMinimalSetup:M,minimalClassroomIds:V,desirableClassroomIds:F}),(z===Q.PRIMARY||z===Q.QUEUE_SETUP||z===Q.OWNER)&&l.a.createElement(l.a.Fragment,null,W.occupiedClassroom&&l.a.createElement(T.a,{style:fa.gridDivider},"\u0412\u0441\u0456 \u0430\u0443\u0434\u0438\u0442\u043e\u0440\u0456\u0457:"),l.a.createElement(k.a,{style:fa.grid},t&&t.filter(H).filter(_).filter((function(e){var t;return e.id!==(null==W||null==(t=W.occupiedClassroom)?void 0:t.id)})).map((function(e){return l.a.createElement(vn,{key:e.id,classroom:e,filteredList:M?V:F})})))),z===Q.INLINE&&l.a.createElement(l.a.Fragment,null,!(null==(e=t.filter(Y))||!e.length)&&l.a.createElement(l.a.Fragment,null,l.a.createElement(T.a,{style:fa.gridDivider},"\u0410\u0443\u0434\u0438\u0442\u043e\u0440\u0456\u0457, \u0449\u043e \u043e\u0447\u0456\u043a\u0443\u044e\u0442\u044c \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043d\u043d\u044f:"),l.a.createElement(k.a,{style:sa(sa({},fa.grid),{},{marginBottom:10})},t.filter(Y).map((function(e){return l.a.createElement(vn,{key:e.id,classroom:e,filteredList:M?V:F})})))),!!t.filter($).length&&l.a.createElement(l.a.Fragment,null,l.a.createElement(T.a,{style:fa.gridDivider},"\u0410\u0443\u0434\u0438\u0442\u043e\u0440\u0456\u0457, \u0437\u0430 \u044f\u043a\u0438\u043c\u0438 \u044f \u0441\u0442\u043e\u044e \u0432 \u0447\u0435\u0440\u0437\u0456:"),l.a.createElement(k.a,{style:sa(sa({},fa.grid),{},{marginBottom:10})},t.filter($).map((function(e){return l.a.createElement(vn,{key:e.id,classroom:e,filteredList:M?V:F})})))),l.a.createElement(T.a,{style:fa.gridDivider},"\u0406\u043d\u0448\u0456 \u0430\u0443\u0434\u0438\u0442\u043e\u0440\u0456\u0457: "),l.a.createElement(k.a,{style:fa.grid},t.filter((function(e){var t=e.id;return!V.includes(t)})).filter(H).filter(_).map((function(e){return l.a.createElement(vn,{key:e.id,classroom:e,filteredList:M?V:F})}))))),z===Q.PRIMARY&&!W.occupiedClassroom&&l.a.createElement(S.a,{style:fa.getInLine,mode:"contained",color:"#2b5dff",onPress:function(){var e,t;return p.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p.a.awrap(ue("filters"));case 2:(e=n.sent)&&(t=e.find((function(e){return e.main})))&&(be(t.minimalClassroomIds),Ee(t.desirableClassroomIds)),he(Q.QUEUE_SETUP);case 5:case"end":return n.stop()}}),null,null,null,Promise)}},l.a.createElement(T.a,null,"\u0421\u0442\u0430\u0442\u0438 \u0432 \u0447\u0435\u0440\u0433\u0443")),z===Q.QUEUE_SETUP&&l.a.createElement(l.a.Fragment,null,l.a.createElement(S.a,{style:fa.approve,mode:"contained",color:"#2b5dff",onPress:function(){return p.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.awrap(Bn(V,F));case 2:E(!0);case 3:case"end":return e.stop()}}),null,null,null,Promise)},disabled:!V.length},l.a.createElement(T.a,null,"\u0413\u043e\u0442\u043e\u0432\u043e (",x+1,"-\u0439)")),l.a.createElement(S.a,{style:fa.getOutLine,mode:"contained",color:"#f91354",onPress:function(){he(Q.PRIMARY),be([]),Ee([]),ye(!0)}},l.a.createElement(T.a,null,"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"))),z===Q.INLINE&&l.a.createElement(S.a,{style:fa.getOutLineSingle,mode:"contained",color:"#f91354",onPress:function(){return O(!0)}},l.a.createElement(T.a,null,"\u0412\u0438\u0439\u0442\u0438 \u0437 \u0447\u0435\u0440\u0433\u0438"))):l.a.createElement(gt.a,{animating:!0,color:"#fff"}),l.a.createElement(ia,{hideModal:function(){return f(!1)},visible:m}),l.a.createElement(kn,{hideModal:function(){return c(!1)},visible:o,apply:function(e,n,a,r){var o=(e.length?_n(t,e):t).filter((function(e){return!!n||!e.isWing})).filter((function(e){return!a||e.isOperaStudio})).filter((function(e){switch(r){case"with":return!0;case"only":return e.special;case"without":return!e.special}})).map((function(e){return e.id}));M?be(o):Ee(o)}}),l.a.createElement(Yn,{visible:b,hideDialog:function(){return E(!1)}}),l.a.createElement(Kn,{hideDialog:function(){return O(!1)},visible:j})))}var fa=y.a.create({top:{position:"absolute",left:0,right:0,top:0,paddingTop:26,height:80,backgroundColor:"transparent",zIndex:1},grid:{marginBottom:80,marginLeft:2,flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-start"},getInLine:{position:"absolute",zIndex:1,bottom:90,width:"55%",height:50,justifyContent:"center",flexDirection:"row",alignItems:"center"},getOutLine:{position:"absolute",zIndex:1,bottom:90,left:20,width:"43%",height:50,justifyContent:"center",flexDirection:"row",alignItems:"center"},getOutLineSingle:{position:"absolute",zIndex:1,bottom:90,width:"55%",height:50,justifyContent:"center",flexDirection:"row",alignItems:"center"},approve:{position:"absolute",zIndex:1,right:20,bottom:90,width:"43%",height:50,justifyContent:"center",flexDirection:"row",alignItems:"center"},wrapper:{width:"100%",height:"100%",alignItems:"center",justifyContent:"center",backgroundColor:"transparent",marginTop:80,paddingBottom:70},queueSwitcher:{flexDirection:"row",width:"76%",justifyContent:"center",paddingHorizontal:5,marginHorizontal:20,alignItems:"center"},gridDivider:{color:"#fff",marginBottom:10,marginLeft:3,marginRight:3,paddingLeft:17,borderBottomWidth:1,borderBottomColor:"#ffffff77",paddingBottom:10}});function pa(){var e=Object(i.useState)(null),t=d()(e,2),a=t[0],r=t[1],o=Object(i.useState)(!1),c=d()(o,2),s=c[0],u=c[1],m=Object(i.useState)(!1),f=d()(m,2),g=f[0],h=f[1];Object(Zt.useNavigation)();Object(i.useEffect)((function(){ue("user").then((function(e){return r(e)}))}),[]),Object(i.useEffect)((function(){a&&(h(!0),fe.query({query:dt,variables:{where:{id:a.id}},fetchPolicy:"network-only"}).then((function(e){var t=e.data.user;se("user",t).then((function(){h(!1)}))})))}),[s]);return l.a.createElement(w.a,{source:n(105),style:{width:"100%",height:"100%"}},l.a.createElement(k.a,{style:ga.container},l.a.createElement(k.a,{style:ga.wrapper},l.a.createElement(St.a,{style:ga.title},"\u0410\u043a\u043a\u0430\u0443\u043d\u0442 \u0437\u0430\u0431\u043b\u043e\u043a\u043e\u0432\u0430\u043d\u043e"),l.a.createElement(T.a,{style:ga.message},"\u0412\u0430\u0448 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u0437\u0430\u0431\u043b\u043e\u043a\u043e\u0432\u0430\u043d\u043e. \u0414\u043b\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0443 \u0440\u0430\u0437\u0431\u043b\u043e\u043a\u0443\u0439\u0442\u0435 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u0432 \u0443\u0447\u0431\u043e\u0432\u0456\u0439 \u0447\u0430\u0441\u0442\u0438\u043d\u0456. \u0412\u0430\u0448 \u043d\u043e\u043c\u0435\u0440:"),l.a.createElement(St.a,{style:ga.number},a?a.id:""),l.a.createElement(T.a,{style:ga.message},"\u041f\u0456\u0441\u043b\u044f \u0440\u0430\u0437\u0431\u043b\u043e\u043a\u0443\u0432\u0430\u043d\u043d\u044f \u043e\u043d\u043e\u0432\u0456\u0442\u044c \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443 \u0430\u0431\u043e \u043f\u043e\u0432\u0435\u0440\u043d\u0456\u0442\u044c\u0441\u044f \u043d\u0430 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443 \u0432\u0445\u043e\u0434\u0443."),l.a.createElement(S.a,{mode:"contained",style:ga.button,loading:g,disabled:g,onPress:function(){return u((function(e){return!e}))}},"\u041e\u043d\u043e\u0432\u0438\u0442\u0438"),l.a.createElement(S.a,{mode:"contained",style:ga.button,onPress:function(){return p.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.awrap(me("user"));case 2:pe(null);case 3:case"end":return e.stop()}}),null,null,null,Promise)}},"\u041d\u0430 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443 \u0432\u0445\u043e\u0434\u0443"))))}var ga=y.a.create({container:{flex:1,justifyContent:"center"},top:{position:"absolute",left:0,right:0,top:0,paddingTop:26,height:80,backgroundColor:"transparent",elevation:0},wrapper:{},title:{textAlign:"center",fontSize:32,padding:10,lineHeight:40,fontWeight:"bold",color:"#fff",marginBottom:15},number:{textAlign:"center",fontSize:50,padding:30,lineHeight:60,marginHorizontal:20,marginBottom:12,color:"#fff",borderRadius:8,borderStyle:"solid",borderColor:"#ffffff33",borderWidth:1},message:{textAlign:"center",borderRadius:8,backgroundColor:"#b5e3ff77",padding:8,marginHorizontal:20,marginBottom:10,fontSize:20},button:{width:200,alignSelf:"center",marginTop:10,height:50,justifyContent:"center"}});function ha(){return l.a.createElement(w.a,{source:n(105),style:ba.background},l.a.createElement(T.a,{style:ba.text},"Loading..."),l.a.createElement(k.a,{style:{width:"70%",marginTop:40}},l.a.createElement(W.a,{indeterminate:!0,color:"#fff"})))}var ba=y.a.create({background:{width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},text:{color:"#fff",fontSize:24}}),Ea=n(464);function ya(){return l.a.createElement(w.a,{source:n(105),style:{width:"100%",height:"100%",alignItems:"center",justifyContent:"center"}},l.a.createElement(v.a,{source:n(247),style:{width:"80%",resizeMode:"contain",height:130}}),l.a.createElement(k.a,{style:{width:"70%",marginTop:40}},l.a.createElement(W.a,{indeterminate:!0,color:"#fff"})))}function va(e){var t=e.navigation;return l.a.createElement(k.a,null,l.a.createElement(Te.a,{style:wa.top},l.a.createElement(Te.a.BackAction,{onPress:function(){return t.goBack()}}),l.a.createElement(Te.a.Content,{title:"\u041f\u043e\u043b\u0456\u0442\u0438\u043a\u0430 \u043a\u043e\u043d\u0444\u0456\u0434\u0435\u043d\u0446\u0456\u0439\u043d\u043e\u0441\u0442\u0456"})),l.a.createElement(k.a,{style:wa.wrapper},l.a.createElement(St.a,null,"Privacy Policy for Auditorium"),l.a.createElement(V.a,null,"At auditorium, accessible from http://auditorium.com.ua, one of our main priorities is the privacy of our visitors. This Privacy Policy document contains types of information that is collected and recorded by auditorium and how we use it."),l.a.createElement(V.a,null,"If you have additional questions or require more information about our Privacy Policy, do not hesitate to contact us."),l.a.createElement(V.a,null,"This Privacy Policy applies only to our online activities and is valid for visitors to our website with regards to the information that they shared and/or collect in auditorium. This policy is not applicable to any information collected offline or via channels other than this website. Our Privacy Policy was created with the help of the Privacy Policy Generator."),l.a.createElement(V.a,null,"Consent By using our website, you hereby consent to our Privacy Policy and agree to its terms."),l.a.createElement(V.a,null,"Information we collect The personal information that you are asked to provide, and the reasons why you are asked to provide it, will be made clear to you at the point we ask you to provide your personal information."),l.a.createElement(V.a,null,"If you contact us directly, we may receive additional information about you such as your name, email address, phone number, the contents of the message and/or attachments you may send us, and any other information you may choose to provide."),l.a.createElement(V.a,null,"When you register for an Account, we may ask for your contact information, including items such as name, company name, address, email address, and telephone number."),l.a.createElement(V.a,null,"How we use your information We use the information we collect in various ways, including to:"),l.a.createElement(V.a,null,"Provide, operate, and maintain our website Improve, personalize, and expand our website Understand and analyze how you use our website Develop new products, services, features, and functionality Communicate with you, either directly or through one of our partners, including for customer service, to provide you with updates and other information relating to the website, and for marketing and promotional purposes Send you emails Find and prevent fraud Log Files auditorium follows a standard procedure of using log files. These files log visitors when they visit websites. All hosting companies do this and a part of hosting services' analytics. The information collected by log files include internet protocol (IP) addresses, browser type, Internet Service Provider (ISP), date and time stamp, referring/exit pages, and possibly the number of clicks. These are not linked to any information that is personally identifiable. The purpose of the information is for analyzing trends, administering the site, tracking users' movement on the website, and gathering demographic information."),l.a.createElement(V.a,null,"Advertising Partners Privacy Policies You may consult this list to find the Privacy Policy for each of the advertising partners of auditorium."),l.a.createElement(V.a,null,"Third-party ad servers or ad networks uses technologies like cookies, JavaScript, or Web Beacons that are used in their respective advertisements and links that appear on auditorium, which are sent directly to users' browser. They automatically receive your IP address when this occurs. These technologies are used to measure the effectiveness of their advertising campaigns and/or to personalize the advertising content that you see on websites that you visit."),l.a.createElement(V.a,null,"Note that auditorium has no access to or control over these cookies that are used by third-party advertisers."),l.a.createElement(V.a,null,"Third Party Privacy Policies auditorium's Privacy Policy does not apply to other advertisers or websites. Thus, we are advising you to consult the respective Privacy Policies of these third-party ad servers for more detailed information. It may include their practices and instructions about how to opt-out of certain options."),l.a.createElement(V.a,null,"You can choose to disable cookies through your individual browser options. To know more detailed information about cookie management with specific web browsers, it can be found at the browsers' respective websites."),l.a.createElement(V.a,null,"CCPA Privacy Rights (Do Not Sell My Personal Information) Under the CCPA, among other rights, California consumers have the right to:"),l.a.createElement(V.a,null,"Request that a business that collects a consumer's personal data disclose the categories and specific pieces of personal data that a business has collected about consumers."),l.a.createElement(V.a,null,"Request that a business delete any personal data about the consumer that a business has collected."),l.a.createElement(V.a,null,"Request that a business that sells a consumer's personal data, not sell the consumer's personal data."),l.a.createElement(V.a,null,"If you make a request, we have one month to respond to you. If you would like to exercise any of these rights, please contact us."),l.a.createElement(V.a,null,"GDPR Data Protection Rights We would like to make sure you are fully aware of all of your data protection rights. Every user is entitled to the following:"),l.a.createElement(V.a,null,"The right to access \u2013 You have the right to request copies of your personal data. We may charge you a small fee for this service."),l.a.createElement(V.a,null,"The right to rectification \u2013 You have the right to request that we correct any information you believe is inaccurate. You also have the right to request that we complete the information you believe is incomplete."),l.a.createElement(V.a,null,"The right to erasure \u2013 You have the right to request that we erase your personal data, under certain conditions."),l.a.createElement(V.a,null,"The right to restrict processing \u2013 You have the right to request that we restrict the processing of your personal data, under certain conditions."),l.a.createElement(V.a,null,"The right to object to processing \u2013 You have the right to object to our processing of your personal data, under certain conditions."),l.a.createElement(V.a,null,"The right to data portability \u2013 You have the right to request that we transfer the data that we have collected to another organization, or directly to you, under certain conditions."),l.a.createElement(V.a,null,"If you make a request, we have one month to respond to you. If you would like to exercise any of these rights, please contact us."),l.a.createElement(V.a,null,"Children's Information Another part of our priority is adding protection for children while using the internet. We encourage parents and guardians to observe, participate in, and/or monitor and guide their online activity."),l.a.createElement(V.a,null,"auditorium does not knowingly collect any Personal Identifiable Information from children under the age of 13. If you think that your child provided this kind of information on our website, we strongly encourage you to contact us immediately and we will do our best efforts to promptly remove such information from our records.")))}var wa=y.a.create({top:{position:"absolute",left:0,right:0,top:0,paddingTop:26,height:80,backgroundColor:"#2e287c"},wrapper:{marginTop:100,marginLeft:16,marginRight:16}});function ja(e){var t=e.colorScheme;return i.createElement(g.a,{theme:"dark"===t?h.a:b.a},i.createElement(Ia,null))}var Oa=Object(ut.a)(),Sa=Object(E.a)();function Ia(){var e,t=Object(i.useState)(null),n=d()(t,2),a=n[0],r=n[1],o=Object(q.useQuery)($t).data.me,l=Object(i.useState)(!1),c=d()(l,2),s=c[0],u=c[1],m=function(e){var t=e.studentInfo,n=e.employeeInfo,a=!!t?null==t?void 0:t.accountStatus:null==n?void 0:n.accountStatus;r(a)},f=function(){var e;return p.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(o){t.next=13;break}return t.prev=1,t.next=4,p.a.awrap(ue("user"));case 4:(e=t.sent)&&(m(e),pe(e)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),alert(JSON.stringify(t.t0));case 11:t.next=14;break;case 13:m(o);case 14:case"end":return t.stop()}}),null,null,[[1,8]],Promise)};Object(i.useEffect)((function(){f()}),[o]);return Object(i.useEffect)((function(){p.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.awrap(f());case 3:return e.next=5,p.a.awrap(Ea.a());case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn(e.t0);case 10:return e.prev=10,u(!0),e.finish(10);case 13:case"end":return e.stop()}}),null,null,[[0,7,10,13]],Promise)}),[]),o?i.createElement(Oa.Navigator,{initialRouteName:"Home",drawerStyle:Ca.drawer,drawerContentOptions:{activeBackgroundColor:"#2b5dff",labelStyle:{fontSize:20,color:"#fff"}},drawerContent:function(e){return i.createElement(zt,e)}},i.createElement(Oa.Screen,{name:"Home",component:function(e){switch(e){case ae.UNVERIFIED:return en;case ae.FROZEN:case ae.ACADEMIC_LEAVE:return pa;case ae.ACTIVE:return ma;default:return ha}}(a),options:{title:"\u0410\u0443\u0434\u0438\u0442\u043e\u0440\u0456\u0457"},initialParams:{id:null==(e=pe())?void 0:e.id}}),i.createElement(Oa.Screen,{name:"Users",component:kt,options:{title:"\u0414\u043e\u0432\u0456\u0434\u043d\u0438\u043a"}}),i.createElement(Oa.Screen,{name:"Schedule",component:_t,options:{title:"\u0420\u043e\u0437\u043a\u043b\u0430\u0434"}}),i.createElement(Oa.Screen,{name:"Profile",component:Gt,options:{title:"\u041c\u0456\u0439 \u043f\u0440\u043e\u0444\u0456\u043b\u044c"}}),i.createElement(Oa.Screen,{name:"PrivacyPolicy",component:va,options:{title:"\u041f\u043e\u043b\u0456\u0442\u0438\u043a\u0430 \u043a\u043e\u043d\u0444\u0456\u0434\u0435\u043d\u0446\u0456\u0439\u043d\u043e\u0441\u0442\u0456"}})):i.createElement(Sa.Navigator,{screenOptions:{headerShown:!1},initialRouteName:"Login"},i.createElement(Sa.Screen,{name:"Login",component:s?je:ya}),i.createElement(Sa.Screen,{name:"SignUp",component:nt}),i.createElement(Sa.Screen,{name:"SignUpStepTwo",component:Kt}),i.createElement(Sa.Screen,{name:"ForgotPassword",component:rt}),i.createElement(Sa.Screen,{name:"ForgotPasswordSuccess",component:it}))}var Ca=y.a.create({drawer:{backgroundColor:"#2e287c"}}),Pa=n(99),xa=n(422);function Ta(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ka(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ta(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ta(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Da(){var e=u(),t=ka(ka({},Pa.a),{},{roundness:8,colors:ka(ka({},Pa.a.colors),{},{primary:"#2b5dff",accent:"#ffc000"})});return l.a.createElement(q.ApolloProvider,{client:fe},l.a.createElement(c.b,null,l.a.createElement(xa.a,{theme:t},l.a.createElement(ja,{colorScheme:e}),l.a.createElement(o.a,null))))}},495:function(e,t,n){e.exports=n(557)},541:function(e,t,n){var a={"./af":249,"./af.js":249,"./ar":250,"./ar-dz":251,"./ar-dz.js":251,"./ar-kw":252,"./ar-kw.js":252,"./ar-ly":253,"./ar-ly.js":253,"./ar-ma":254,"./ar-ma.js":254,"./ar-sa":255,"./ar-sa.js":255,"./ar-tn":256,"./ar-tn.js":256,"./ar.js":250,"./az":257,"./az.js":257,"./be":258,"./be.js":258,"./bg":259,"./bg.js":259,"./bm":260,"./bm.js":260,"./bn":261,"./bn-bd":262,"./bn-bd.js":262,"./bn.js":261,"./bo":263,"./bo.js":263,"./br":264,"./br.js":264,"./bs":265,"./bs.js":265,"./ca":266,"./ca.js":266,"./cs":267,"./cs.js":267,"./cv":268,"./cv.js":268,"./cy":269,"./cy.js":269,"./da":270,"./da.js":270,"./de":271,"./de-at":272,"./de-at.js":272,"./de-ch":273,"./de-ch.js":273,"./de.js":271,"./dv":274,"./dv.js":274,"./el":275,"./el.js":275,"./en-au":276,"./en-au.js":276,"./en-ca":277,"./en-ca.js":277,"./en-gb":278,"./en-gb.js":278,"./en-ie":279,"./en-ie.js":279,"./en-il":280,"./en-il.js":280,"./en-in":281,"./en-in.js":281,"./en-nz":282,"./en-nz.js":282,"./en-sg":283,"./en-sg.js":283,"./eo":284,"./eo.js":284,"./es":285,"./es-do":286,"./es-do.js":286,"./es-mx":287,"./es-mx.js":287,"./es-us":288,"./es-us.js":288,"./es.js":285,"./et":289,"./et.js":289,"./eu":290,"./eu.js":290,"./fa":291,"./fa.js":291,"./fi":292,"./fi.js":292,"./fil":293,"./fil.js":293,"./fo":294,"./fo.js":294,"./fr":295,"./fr-ca":296,"./fr-ca.js":296,"./fr-ch":297,"./fr-ch.js":297,"./fr.js":295,"./fy":298,"./fy.js":298,"./ga":299,"./ga.js":299,"./gd":300,"./gd.js":300,"./gl":301,"./gl.js":301,"./gom-deva":302,"./gom-deva.js":302,"./gom-latn":303,"./gom-latn.js":303,"./gu":304,"./gu.js":304,"./he":305,"./he.js":305,"./hi":306,"./hi.js":306,"./hr":307,"./hr.js":307,"./hu":308,"./hu.js":308,"./hy-am":309,"./hy-am.js":309,"./id":310,"./id.js":310,"./is":311,"./is.js":311,"./it":312,"./it-ch":313,"./it-ch.js":313,"./it.js":312,"./ja":314,"./ja.js":314,"./jv":315,"./jv.js":315,"./ka":316,"./ka.js":316,"./kk":317,"./kk.js":317,"./km":318,"./km.js":318,"./kn":319,"./kn.js":319,"./ko":320,"./ko.js":320,"./ku":321,"./ku.js":321,"./ky":322,"./ky.js":322,"./lb":323,"./lb.js":323,"./lo":324,"./lo.js":324,"./lt":325,"./lt.js":325,"./lv":326,"./lv.js":326,"./me":327,"./me.js":327,"./mi":328,"./mi.js":328,"./mk":329,"./mk.js":329,"./ml":330,"./ml.js":330,"./mn":331,"./mn.js":331,"./mr":332,"./mr.js":332,"./ms":333,"./ms-my":334,"./ms-my.js":334,"./ms.js":333,"./mt":335,"./mt.js":335,"./my":336,"./my.js":336,"./nb":337,"./nb.js":337,"./ne":338,"./ne.js":338,"./nl":339,"./nl-be":340,"./nl-be.js":340,"./nl.js":339,"./nn":341,"./nn.js":341,"./oc-lnc":342,"./oc-lnc.js":342,"./pa-in":343,"./pa-in.js":343,"./pl":344,"./pl.js":344,"./pt":345,"./pt-br":346,"./pt-br.js":346,"./pt.js":345,"./ro":347,"./ro.js":347,"./ru":348,"./ru.js":348,"./sd":349,"./sd.js":349,"./se":350,"./se.js":350,"./si":351,"./si.js":351,"./sk":352,"./sk.js":352,"./sl":353,"./sl.js":353,"./sq":354,"./sq.js":354,"./sr":355,"./sr-cyrl":356,"./sr-cyrl.js":356,"./sr.js":355,"./ss":357,"./ss.js":357,"./sv":358,"./sv.js":358,"./sw":359,"./sw.js":359,"./ta":360,"./ta.js":360,"./te":361,"./te.js":361,"./tet":362,"./tet.js":362,"./tg":363,"./tg.js":363,"./th":364,"./th.js":364,"./tk":365,"./tk.js":365,"./tl-ph":366,"./tl-ph.js":366,"./tlh":367,"./tlh.js":367,"./tr":368,"./tr.js":368,"./tzl":369,"./tzl.js":369,"./tzm":370,"./tzm-latn":371,"./tzm-latn.js":371,"./tzm.js":370,"./ug-cn":372,"./ug-cn.js":372,"./uk":373,"./uk.js":373,"./ur":374,"./ur.js":374,"./uz":375,"./uz-latn":376,"./uz-latn.js":376,"./uz.js":375,"./vi":377,"./vi.js":377,"./x-pseudo":378,"./x-pseudo.js":378,"./yo":379,"./yo.js":379,"./zh-cn":380,"./zh-cn.js":380,"./zh-hk":381,"./zh-hk.js":381,"./zh-mo":382,"./zh-mo.js":382,"./zh-tw":383,"./zh-tw.js":383};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=541},543:function(e,t,n){e.exports=n.p+"static/media/au_logo.de05cb10.png"},549:function(e,t,n){e.exports=n.p+"static/media/key.5df04324.png"},550:function(e,t,n){e.exports=n.p+"static/media/specialPiano.11c92757.png"}},[[495,1,2]]]);
//# sourceMappingURL=app.2b4b36f0.chunk.js.map