{"version":3,"sources":["assets/images/specialPiano.png","assets/images/bg.jpg","assets/images/GrandPiano.png","assets/images/star.png","assets/images/au_logo_shadow.png","assets/images/Chembalo.png","assets/images/UpRightPiano.png","hooks/useColorScheme.ts","constants/Colors.ts","components/Themed.tsx","api/operations/mutations/login.ts","components/WaitDialog.tsx","models/models.ts","api/asyncStorage.ts","components/ErrorDialog.tsx","api/client.ts","screens/PushNotification.tsx","screens/Login.tsx","screens/Signup/components/Agreement.tsx","components/CustomPicker/CustomPicker.tsx","components/CustomPicker/CustomPickerField.tsx","api/operations/mutations/signUp.ts","components/InfoDialog.tsx","screens/Signup/SignUp.tsx","screens/ForgotPassword.tsx","screens/ForgotPasswordSuccess.tsx","api/operations/queries/users.ts","hooks/useUsers.ts","helpers/helpers.ts","components/UserInfo.tsx","screens/Users.tsx","navigation/CustomSidebarMenu.tsx","api/operations/queries/me.ts","screens/Profile.tsx","hooks/useLocal.ts","api/operations/queries/classroom.ts","components/InstrumentInfo.tsx","components/InstrumentItem.tsx","hooks/useTimeLeft.ts","helpers/constants.ts","components/OccupantInfo.tsx","api/operations/mutations/addUserToQueue.ts","helpers/queue/getInLine.ts","api/operations/mutations/removeUserFromQueue.ts","helpers/queue/removeFromLine.ts","components/ClassroomQueueControlButtons.tsx","api/operations/mutations/reserveFreeClassroom.ts","components/ClassroomInfo.tsx","helpers/sortAB.ts","components/ClassroomsBrowser/FreeClassroomCell.tsx","components/ClassroomsBrowser/OccupiedClassroomCell.tsx","components/ClassroomsBrowser/ReservedClassroomCell.tsx","components/ClassroomsBrowser/PendingClassroomCell.tsx","components/ClassroomsBrowser/OccupiedByCurrentUserClassroomCell.tsx","components/ClassroomsBrowser/ClassroomsBrowser.tsx","api/operations/queries/classrooms.ts","api/operations/subscriptions/classrooms.ts","api/operations/subscriptions/user.ts","helpers/filterDisabledForQueue.ts","helpers/filterSavedFIlters.ts","components/ConfirmLineOut.tsx","screens/ClassroomsList/Buttons.tsx","api/operations/queries/generalQueueSize.ts","api/operations/subscriptions/generalQueueSize.ts","hooks/useClassrooms.tsx","screens/ClassroomsList/SavedFilters.tsx","screens/ClassroomsList/InstrumentsList.tsx","components/CustomRating/CustomRating.tsx","screens/ClassroomsList/InstrumentFilters.tsx","screens/ClassroomsList/Filters.tsx","screens/ClassroomsList/helpers.ts","api/operations/queries/generalQueuePosition.ts","api/operations/subscriptions/generalQueuePosition.ts","screens/ClassroomsList/ClassroomsAppBar.tsx","components/Log.tsx","components/ConfirmContinueDesiredQueue.tsx","hooks/usePrevious.ts","components/InlineDialog.tsx","components/QueueOutDialog.tsx","screens/ClassroomsList/ClassroomsList.tsx","screens/Splash.tsx","screens/PrivacyPolicy.tsx","navigation/index.tsx","App.tsx","node_modules/moment/locale sync /^/.//.*$","assets/images/au_logo.png","assets/images/key.png"],"names":["module","exports","useColorScheme","_useColorScheme","light","text","background","tint","tabIconDefault","tabIconSelected","dark","red","blue","darkBlue","orange","useThemeColor","props","colorName","theme","colorFromProps","Colors","Text","style","lightColor","darkColor","otherProps","color","View","backgroundColor","LOGIN","gql","WaitDialog","visible","message","Portal","Dialog","dismissable","Title","textAlign","Content","Paragraph","ProgressBar","indeterminate","marginTop","ACCESS_RIGHTS","Mode","ErrorCodesUa","ErrorCodes","EmploymentTypes","EmploymentTypesUa","UserTypes","UserTypesUa","UserTypeColors","ActivityTypesColor","ActivityTypes","NotificationsTypes","AccountStatuses","UserQueueState","OccupiedState","DisabledState","ClassroomsFilterTypes","QueueState","QueueType","Langs","EnqueuedBy","setItem","key","value","a","async","AsyncStorage","JSON","stringify","console","log","getItem","then","result","parse","removeItem","ErrorDialog","hideDialog","onDismiss","marginBottom","Actions","Button","onPress","wsLink","WebSocketLink","uri","options","reconnect","connectionParams","token","authorization","subscriptionMiddleware","applyMiddleware","next","subscriptionClient","use","httpLink","createHttpLink","authLink","setContext","_","headers","splitLink","split","query","definition","getMainDefinition","kind","operation","client","ApolloClient","link","concat","cache","InMemoryCache","typePolicies","Query","fields","me","read","meVar","lang","langVar","accessRights","accessRightsVar","mode","modeVar","minimalClassroomIds","minimalClassroomIdsVar","desirableClassroomIds","desirableClassroomIdsVar","isMinimalSetup","isMinimalSetupVar","pushNotificationToken","pushNotificationTokenVar","makeVar","UA","USER","PRIMARY","PushNotification","setPushNotificationToken","useState","setExpoPushToken","setNotification","notificationListener","useRef","responseListener","useEffect","Constants","isDevice","Notifications","existingStatus","status","finalStatus","alert","data","Platform","OS","name","importance","MAX","vibrationPattern","registerForPushNotificationsAsync","current","notification","response","handleNotification","shouldShowAlert","shouldPlaySound","shouldSetBadge","Login","route","navigation","useMutation","login","loading","email","setEmail","password","setPassword","showPassword","setShowPassword","modalActivator","setModalActivator","showError","setShowError","errorMessage","setErrorMessage","styles","container","ImageBackground","source","require","bg","Image","logo","title","i18n","t","Surface","inputs","TextInput","label","input","onChangeText","e","secureTextEntry","selectionColor","right","Icon","prevState","length","variables","notificationToken","userErrors","code","user","graphQLErrors","button","disabled","navigate","uppercase","labelStyle","footer","StyleSheet","create","flex","alignItems","justifyContent","overflow","width","resizeMode","fontSize","fontWeight","elevation","borderRadius","paddingLeft","paddingRight","paddingBottom","height","opacity","langSwitcher","flexDirection","langImage","langImageSelected","Agreement","setCheckAgreement","wrapper","ScrollView","position","top","bottom","CustomPicker","setSelected","selected","items","searchText","setSearchText","filteredItems","setFilteredItems","filtered","filter","String","toLowerCase","includes","Modal","contentContainerStyle","Searchbar","placeholder","search","clearButtonMode","id","map","item","handlePress","borderBottomWidth","borderStyle","borderBottomColor","padding","margin","CustomPickerField","setIsVisited","checkValidation","underlineColor","visiblePicker","setVisiblePicker","showPicker","picker","pickerField","numberOfLines","IconButton","icon","pickerIcon","paddingVertical","SIGN_UP","InfoDialog","navigateToLogin","marginRight","currentYear","parseInt","moment","format","startYearsItems","userTypesData","POST_GRADUATE","STUDENT","windowHeight","Dimensions","get","SignUp","selectedDepartment","setSelectedDepartment","selectedDegree","setSelectedDegree","selectedStartYear","setSelectedStartYear","selectedType","setSelectedType","setVisible","visibleAgreement","setVisibleAgreement","visibleBackDialog","setVisibleBackDialog","firstName","setFirstName","lastName","setLastName","patronymic","setPatronymic","phoneNumber","setPhoneNumber","passwordConfirm","setPasswordConfirm","checkAgreement","departments","degrees","isSignupTouched","setIsSignupTouched","isLastNameValidated","setIsLastNameValidated","isFirstNameValidated","setIsFirstNameValidated","isEmailValidated","setIsEmailValidated","isPhoneValidated","setIsPhoneValidated","isPasswordValidated","setIsPasswordValidated","isPasswordConfirmValidated","setIsPasswordConfirmValidated","isStartYearValidated","setIsStartYearValidated","isDepartmentValidated","setIsDepartmentValidated","isDegreeValidated","setIsDegreeValidated","isStartYearModalVisited","setIsStartYearModalVisited","setIsDepartmentModalVisited","isDegreeModalVisited","setIsDegreeModalVisited","signup","error","checkLastNameValidation","checkFirstNameValidation","checkEmailValidation","test","checkPhoneValidation","checkPasswordValidation","checkPasswordConfirmValidation","checkStartYearValidation","checkDepartmentValidation","checkDegreeValidation","goBack","Error","validator","HelperText","type","Appbar","BackAction","subtitle","scrollView","Banner","actions","infoPanel","onBlur","keyboardType","forceTextInputFocus","agreement","Checkbox","uncheckedColor","navButtons","departmentId","degreeId","startYear","signUpButton","left","paddingTop","textDecorationLine","ForgotPassword","ForgotPasswordSuccess","loginButton","GET_USERS","GET_USER_BY_ID","useUsers","users","setUsers","fetchPolicy","slice","sort","b","formatMinutesToMM","fullName","withInitials","nameTemp","charAt","typeStyle","occupied","isDisabled","student","employee","vacant","isNotFree","ISODateString","d","pad","n","getUTCFullYear","getUTCMonth","getUTCDate","isTeacherType","TEACHER","CONCERTMASTER","ILLUSTRATOR","state","FREE","hasOwnClassroom","occupiedClassrooms","ownClassroom","find","classroom","OCCUPIED","RESERVED","isEnabledForCurrentDepartment","currentUser","chair","exclusivelyQueueAllowedDepartmentsInfo","some","department","isEnabledForQueue","ownClassroomId","isHidden","NOT_DISABLED","PENDING","UserInfo","userId","hideModal","useQuery","where","openPhoneNumber","Linking","openURL","containerStyle","ActivityIndicator","animating","occupantName","Divider","divider","phoneRow","extraPhoneNumbers","number","index","borderWidth","borderColor","Users","pages","setPages","currentPage","setCurrentPage","currentUserId","setCurrentUserId","UserElement","DataTable","Row","showModal","Cell","Header","header","alignSelf","list","Pagination","pagination","page","numberOfPages","onPageChange","sideMenuProfileIcon","iconStyle","marginHorizontal","customItem","userData","userName","logout","marginVertical","CustomSidebarMenu","SafeAreaView","size","DrawerContentScrollView","DrawerItemList","GET_ME","Profile","expireDate","marginLeft","useLocal","localVarName","GET_CLASSROOM","InstrumentInfo","instrument","instrumentType","intRate","Math","round","rate","Array","fill","toFixed","star","InstrumentItem","expanded","onTouchEnd","imageSource","useTimeLeft","minutesDuration","timeLeft","setTimeLeft","timeLeftInPer","setTimeLeftInPer","interval","setInterval","until","differenceInMs","diff","tempTime","duration","resultHHMMSS","hours","minutes","seconds","resultPercents","getTimeFromUntil","leftPer","hour","min","sec","clearInterval","occupationInfo","freeText","paddingHorizontal","occupantType","occupiedUntil","progressBar","spaceBottom30","OccupantInfo","date","userFullName","occupiedTotalTime","visibleBanner","setVisibleBanner","INLINE","isPendingForMe","progress","colors","Date","getHours","getMinutes","queueInfo","currentSession","skips","ADD_USER_TO_QUEUE","getInLine","minimalClassroomsIds","allClassroomIds","Set","minimalData","classroomId","MINIMAL","desirableData","DESIRED","mutate","mutation","enqueuedBy","SELF","REMOVE_USER_FROM_QUEUE","removeFromLine","deleteWhere","equals","IN_QUEUE_MINIMAL","ClassroomQueueControlButtons","queue","currentRecord","queueRecord","setLoading","useNavigation","handleClassroomForQueue","minimalSet","has","delete","add","desiredSet","asyncHandleClassroomForQueue","exist","IN_QUEUE_DESIRED_AND_OCCUPYING","QUEUE_SETUP","RESERVE_FREE_CLASSROOM","ClassroomInfo","params","setClassroom","warning","warningText","DISABLED","comment","tags","isWing","Chip","selectedColor","tag","isOperaStudio","special","description","floor","instruments","OCCUPYING","classroomName","reserveFreeClassroom","forEach","scheduleHeader","queueSetupButtons","sortAB","cellWidth","FreeClassroomCell","isEnabledForCurrentUser","TouchableHighlight","cell","free","cellHeader","notSpecial","space","checkMark","zIndex","timeLeftProgress","keyImage","tintColor","OccupiedClassroomCell","cellStyle","handleCheck","onLongPress","ReservedClassroomCell","PendingClassroomCell","grid","flexWrap","getOutLine","getOutLineSingle","approve","queueSwitcher","gridDivider","ClassroomsBrowser","classrooms","isFree","isOccupiedByCurrentUser","isOccupied","isPending","isReserved","OccupiedByCurrentUserClassroomCell","GET_CLASSROOMS","GET_CLASSROOMS_NO_SCHEDULE","FOLLOW_CLASSROOMS","FOLLOW_USER","filterDisabledForQueue","filterSavedFilter","savedFilter","enabledClassrooms","isMinimal","minimalIds","desireIds","ConfirmLineOut","Buttons","sanctionedUntil","visibleModalError","setVisibleModalError","queueErrorMessage","visibleLineOut","setVisibleLineOut","availableClassroomsIds","savedFilters","mainFilter","main","GENERAL_QUEUE_SIZE","FOLLOW_GENERAL_QUEUE_SIZE","useClassrooms","setClassrooms","subscribeToMore","SavedFilters","setSavedFilters","isSaving","setIsSaving","inputName","setInputName","selectedFilter","setSelectedFilter","saveAsMainFilter","setSaveAsMainFilter","Headline","body","filterItem","itemRow","selectedItem","handleSelectFilter","bin","newFilters","splice","res","handleRemoveFilter","newFilterSection","mainFilterCheckbox","InstrumentsList","isGrandPianoOnly","setIsGrandPianoOnly","RadioButton","Group","onValueChange","newValue","handleSelect","CustomRating","count","setCount","stars","TouchableOpacity","handleRate","windowWidth","InstrumentFilters","setInstruments","visibleList","setVisibleList","visibleRate","setVisibleRate","showModalList","instrumentRow","newArray","removeInstrument","noInstrumentsLabel","newInstrumentRow","newInstrument","buttons","radioItem","checkbox","countInput","Filters","apply","setSpecial","withWing","setWithWing","onlyOperaStudio","setOnlyOperaStudio","visibleInstrumentFilters","setVisibleInstrumentFilters","getEnding","instrumentTypeOrder","GrandPiano","UpRightPiano","getClassroomsFilteredByInstruments","userInstrumentFilterInput","instrumentsFilterSorted","instA","instB","instrumentsFilter","classroomInstruments","classroomGrandPianoInd","getMinimumSatisfactoryInstrumentIndex","pop","classroomInstrumentInd","minimumRate","bestIndex","i","GENERAL_QUEUE_POSITION","FOLLOW_GENERAL_QUEUE_POSITION","ClassroomsAppBar","freeClassroomsAmount","subscribeToMorePosition","visibleSavedFilters","setVisibleSavedFilters","generalQueueSize","setGeneralQueueSize","generalQueuePosition","setGeneralQueuePosition","unsubscribeSize","document","updateQuery","prev","subscriptionData","unsubscribePosition","Action","dispatch","DrawerActions","openDrawer","operaStudioOnly","filteredIds","Log","maxHeight","ConfirmContinueDesiredQueue","usePrevious","ref","InlineDialog","paragraph","QueueOutDialog","Stack","createStackNavigator","Home","Navigator","screenOptions","headerShown","initialRouteName","Screen","component","ClassroomsList","initialParams","showLog","setShowLog","setFreeClassroomsAmount","showQueueInSuccess","setShownQueueInSuccess","showQueueOutSuccess","setShownQueueOutSuccess","userLoading","userError","subscribeToMoreUser","prevUserData","prevClassroomsData","prevSession","expoPushToken","to","sound","someData","fetch","method","Accept","sendPushNotification","unsubscribeClassrooms","unsubscribeUser","freeClassrooms","hiddenLogButton","delayLongPress","fullHidden","Splash","PrivacyPolicy","Navigation","colorScheme","NavigationContainer","DarkTheme","DefaultTheme","RootNavigator","Drawer","createDrawerNavigator","setCurrentUser","appIsReady","setAppIsReady","SplashScreen","warn","prepare","drawerStyle","drawer","drawerContentOptions","activeBackgroundColor","drawerContent","App","roundness","primary","accent","Provider","StatusBar","locale","Localization","fallbacks","translations","en","ua","webpackContext","req","webpackContextResolve","__webpack_require__","o","keys","Object","resolve"],"mappings":"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","file":"static/js/app.4f0c59e6.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/specialPiano.11c92757.png\";","module.exports = __webpack_public_path__ + \"static/media/bg.5326a7ca.jpg\";","module.exports = __webpack_public_path__ + \"static/media/GrandPiano.5e053f8a.png\";","module.exports = __webpack_public_path__ + \"static/media/star.f99f6a14.png\";","module.exports = __webpack_public_path__ + \"static/media/au_logo_shadow.0250c21a.png\";","module.exports = __webpack_public_path__ + \"static/media/Chembalo.5e053f8a.png\";","module.exports = __webpack_public_path__ + \"static/media/UpRightPiano.791ce387.png\";","import { ColorSchemeName, useColorScheme as _useColorScheme } from 'react-native';\n\n// The useColorScheme value is always either light or dark, but the built-in\n// type suggests that it can be null. This will not happen in practice, so this\n// makes it a bit easier to work with.\nexport default function useColorScheme(): NonNullable<ColorSchemeName> {\n  return _useColorScheme() as NonNullable<ColorSchemeName>;\n}\n","const tintColorLight = '#2f95dc';\nconst tintColorDark = '#fff';\n\nexport default {\n  light: {\n    text: '#000',\n    background: '#fff',\n    tint: tintColorLight,\n    tabIconDefault: '#ccc',\n    tabIconSelected: tintColorLight,\n  },\n  dark: {\n    text: '#fff',\n    background: '#000',\n    tint: tintColorDark,\n    tabIconDefault: '#ccc',\n    tabIconSelected: tintColorDark,\n  },\n  red: '#f91354',\n  blue: '#2b5dff',\n  darkBlue: '#2e287c',\n  orange: '#ffc000',\n};\n","/**\n * Learn more about Light and Dark modes:\n * https://docs.expo.io/guides/color-schemes/\n */\n\nimport * as React from 'react';\nimport { Text as DefaultText, View as DefaultView } from 'react-native';\n\nimport Colors from '../constants/Colors';\nimport useColorScheme from '../hooks/useColorScheme';\n\nexport function useThemeColor(\n  props: { light?: string; dark?: string },\n  colorName: keyof typeof Colors.light & keyof typeof Colors.dark\n) {\n  const theme = useColorScheme();\n  const colorFromProps = props[theme];\n\n  if (colorFromProps) {\n    return colorFromProps;\n  } else {\n    return Colors[theme][colorName];\n  }\n}\n\ntype ThemeProps = {\n  lightColor?: string;\n  darkColor?: string;\n};\n\nexport type TextProps = ThemeProps & DefaultText['props'];\nexport type ViewProps = ThemeProps & DefaultView['props'];\n\nexport function Text(props: TextProps) {\n  const { style, lightColor, darkColor, ...otherProps } = props;\n  const color = useThemeColor({ light: lightColor, dark: darkColor }, 'text');\n\n  return <DefaultText style={[{ color }, style]} {...otherProps} />;\n}\n\nexport function View(props: ViewProps) {\n  const { style, lightColor, darkColor, ...otherProps } = props;\n  const backgroundColor = useThemeColor({ light: lightColor, dark: darkColor }, 'background');\n\n  return <DefaultView style={[{ backgroundColor }, style]} {...otherProps} />;\n}\n","import { gql } from \"@apollo/client\";\r\n\r\nexport const LOGIN = gql`\r\n    mutation login($input: LoginInput!) {\r\n        login(input: $input) {\r\n            token\r\n            user {\r\n                id\r\n                firstName\r\n                patronymic\r\n                lastName\r\n                type\r\n                phoneNumber\r\n                extraPhoneNumbers\r\n                email\r\n                department {\r\n                  id\r\n                  name  \r\n                }\r\n                occupiedClassrooms {\r\n                state\r\n                until\r\n                classroom {\r\n                 id\r\n                 name\r\n                }\r\n                }\r\n                studentInfo {\r\n                  degree {\r\n                    name\r\n                  }\r\n                  startYear\r\n                  accountStatus\r\n                }\r\n                employeeInfo {\r\n                  employmentType\r\n                  accountStatus\r\n                }\r\n                queue {\r\n                  id\r\n                  classroom {\r\n                    id\r\n                    name\r\n                  }\r\n                  state\r\n                  type\r\n                }\r\n            }\r\n               \r\n            userErrors {\r\n                message\r\n                code\r\n            }\r\n        }\r\n    }\r\n`;","import * as React from 'react';\nimport {Paragraph, Dialog, Portal, ProgressBar} from 'react-native-paper';\n\ninterface PropTypes {\n  message?: string;\n  visible: boolean;\n}\n\nexport default function WaitDialog({visible, message}: PropTypes) {\n  return (\n      <Portal>\n        <Dialog visible={visible} dismissable={false}>\n          <Dialog.Title style={{textAlign: 'center'}}>,  !</Dialog.Title>\n          <Dialog.Content>\n            {message && <Paragraph style={{textAlign: 'center'}}>{message}</Paragraph>}\n            <ProgressBar indeterminate style={{marginTop: 16}}/>\n          </Dialog.Content>\n        </Dialog>\n      </Portal>\n  );\n};","export enum ACCESS_RIGHTS {\r\n  USER,\r\n  DISPATCHER,\r\n  ADMIN\r\n}\r\n\r\nexport enum Mode {\r\n  PRIMARY = 'PRIMARY',\r\n  QUEUE_SETUP = 'QUEUE_SETUP',\r\n  INLINE = 'INLINE',\r\n  OWNER = 'OWNER'\r\n}\r\n\r\nexport enum ErrorCodesUa {\r\n  INVALID_PASSWORD = \" \",\r\n  USER_NOT_FOUND = \"  \",\r\n}\r\n\r\nexport enum ErrorCodes {\r\n  INVALID_PASSWORD = \"INVALID_PASSWORD\",\r\n  USER_NOT_FOUND = \"USER_NOT_FOUND\",\r\n}\r\n\r\nexport enum EmploymentTypes {\r\n  FULL_TIME = 'FULL_TIME',\r\n  PART_TIME = 'PART_TIME',\r\n  HOURLY = 'HOURLY',\r\n}\r\n\r\nexport enum EmploymentTypesUa {\r\n  FULL_TIME = ' ',\r\n  PART_TIME = '',\r\n  HOURLY = '',\r\n}\r\n\r\nexport enum UserTypes {\r\n  STUDENT = \"STUDENT\",\r\n  TEACHER = \"TEACHER\",\r\n  POST_GRADUATE = \"POST_GRADUATE\",\r\n  ADMIN = \"ADMIN\",\r\n  DISPATCHER = \"DISPATCHER\",\r\n  PIANO_TUNER = \"PIANO_TUNER\",\r\n  STAFF = \"STAFF\",\r\n  CONCERTMASTER = \"CONCERTMASTER\",\r\n  ILLUSTRATOR = \"ILLUSTRATOR\",\r\n  OTHER = \"OTHER\",\r\n}\r\n\r\nexport enum UserTypesUa {\r\n  STUDENT = \"\",\r\n  TEACHER = \"\",\r\n  POST_GRADUATE = \"/\",\r\n  ADMIN = \"\",\r\n  DISPATCHER = \"\",\r\n  PIANO_TUNER = \" \",\r\n  STAFF = \"\",\r\n  CONCERTMASTER = \"\",\r\n  ILLUSTRATOR = \"\",\r\n  OTHER = \"\",\r\n}\r\n\r\nexport enum UserTypeColors {\r\n  STUDENT = \"#1e2c4f\",\r\n  TEACHER = \"#ffa200\",\r\n  POST_GRADUATE = \"#1e2c4f\",\r\n  ADMIN = \"#ffa200\",\r\n  DISPATCHER = \"#ffa200\",\r\n  PIANO_TUNER = \"#ffa200\",\r\n  STAFF = \"#ffa200\",\r\n  CONCERTMASTER = \"#ffa200\",\r\n  ILLUSTRATOR = \"#ffa200\",\r\n  OTHER = \"#ffa200\",\r\n}\r\n\r\nexport enum ActivityTypesColor {\r\n  LECTURE = '#ffa200',\r\n  INDIVIDUAL_LESSON = '#2b5dff'\r\n}\r\n\r\nexport enum ActivityTypes {\r\n  LECTURE = 'LECTURE',\r\n  INDIVIDUAL_LESSON = 'INDIVIDUAL_LESSON'\r\n}\r\n\r\nexport enum NotificationsTypes {\r\n  OK = \"ok\",\r\n  ALERT = \"alert\",\r\n  DEFAULT = \"default\",\r\n}\r\n\r\nexport enum AccountStatuses {\r\n  ACTIVE = 'ACTIVE',\r\n  UNVERIFIED = 'UNVERIFIED',\r\n  ACADEMIC_LEAVE = 'ACADEMIC_LEAVE',\r\n  FROZEN = 'FROZEN'\r\n}\r\n\r\nexport type User = {\r\n  id: number;\r\n  createdAt: Date;\r\n  firstName: string;\r\n  patronymic: string | null;\r\n  lastName: string;\r\n  type: string;\r\n  department: Department;\r\n  email: string;\r\n  phoneNumber: string;\r\n  extraPhoneNumbers: string | null;\r\n  nameTemp: string | null;\r\n  startYear: number;\r\n  studentInfo: StudentInfo;\r\n  employeeInfo: EmployeeInfo;\r\n  expireDate: string | null;\r\n  classroom: ClassroomType;\r\n  queue: QueueRecord[];\r\n  queueInfo: UserQueueInfo;\r\n};\r\n\r\nexport type UserQueueInfo = {\r\n  id: number;\r\n  user: User;\r\n  sanctionedUntil: string;\r\n  currentSession: QueueSession\r\n}\r\n\r\nexport type QueueSession = {\r\n  id: number;\r\n  queueInfo: UserQueueInfo;\r\n  state: UserQueueState;\r\n  enqueuedBy: EnqueuedBy;\r\n  skips: number;\r\n  remainingOccupationTime: string;\r\n}\r\n\r\nexport enum UserQueueState {\r\n  IN_QUEUE_MINIMAL = 'IN_QUEUE_MINIMAL',\r\n  IN_QUEUE_DESIRED_AND_OCCUPYING = 'IN_QUEUE_DESIRED_AND_OCCUPYING',\r\n  QUEUE_RESERVED_NOT_OCCUPYING = 'QUEUE_RESERVED_NOT_OCCUPYING',\r\n  OCCUPYING = 'OCCUPYING',\r\n}\r\n\r\nexport type CurrentUser = {\r\n  id: number;\r\n  createdAt: Date;\r\n  firstName: string;\r\n  patronymic: string | null;\r\n  lastName: string;\r\n  type: string;\r\n  department: Department;\r\n  email: string;\r\n  phoneNumber: string;\r\n  extraPhoneNumbers: string | null;\r\n  nameTemp: string | null;\r\n  startYear: number;\r\n  studentInfo: StudentInfo;\r\n  employeeInfo: EmployeeInfo;\r\n  expireDate: Date | null;\r\n  occupiedClassrooms: {\r\n    id: number;\r\n    state: OccupiedState;\r\n    until: string;\r\n    classroom: ClassroomType;\r\n    user: User;\r\n  }[];\r\n  queue: QueueRecord[];\r\n}\r\n\r\nexport type StudentInfo = {\r\n  degree: Degree;\r\n  startYear: number;\r\n  accountStatus: AccountStatuses;\r\n};\r\n\r\nexport type EmployeeInfo = {\r\n  employmentType: EmploymentTypes;\r\n  accountStatus: AccountStatuses;\r\n};\r\n\r\nexport type OccupiedInfo = {\r\n  user: User | null;\r\n  until: Date | null;\r\n  state: OccupiedState;\r\n};\r\n\r\nexport enum OccupiedState {\r\n  FREE = 'FREE',\r\n  OCCUPIED = 'OCCUPIED',\r\n  PENDING = 'PENDING',\r\n  RESERVED = 'RESERVED'\r\n}\r\n\r\nexport type Comment = {\r\n  id: number;\r\n  user: User;\r\n  body: string;\r\n  date: Date;\r\n};\r\n\r\nexport type InstrumentType = {\r\n  id: number;\r\n  type: string;\r\n  name: string;\r\n  rate: number;\r\n  persNumber: number;\r\n  comments: Comment | null;\r\n  classroom: ClassroomType;\r\n};\r\n\r\nexport enum DisabledState {\r\n  DISABLED = 'DISABLED',\r\n  NOT_DISABLED = 'NOT_DISABLED'\r\n}\r\n\r\nexport type DisabledInfo = {\r\n  state: DisabledState;\r\n  comment: string;\r\n  until: string;\r\n};\r\n\r\nexport type ScheduleUnitType = {\r\n  id: number;\r\n  user: User;\r\n  classroom: ClassroomType;\r\n  dateStart: Date;\r\n  dateEnd: Date;\r\n  dayOfWeek: number;\r\n  from: string;\r\n  to: string;\r\n  activity: string;\r\n};\r\n\r\nexport type ClassroomType = {\r\n  id: number;\r\n  name: string;\r\n  chair: {\r\n    id: number;\r\n    name: string;\r\n    faculty: Faculty;\r\n    users: User[];\r\n    exclusivelyQueueAllowedDepartmentsInfo: {\r\n      department: Department | null }[];\r\n  } | null;\r\n  special: string | null;\r\n  floor: number;\r\n  isWing: boolean;\r\n  isOperaStudio: boolean;\r\n  description: string | null;\r\n  occupied: OccupiedInfo;\r\n  instruments: Array<InstrumentType>;\r\n  disabled: DisabledInfo | null;\r\n  schedule: Array<ScheduleUnitType>;\r\n  isHidden: boolean;\r\n};\r\n\r\nexport type RegisterUnit = {\r\n  id: number;\r\n  user: User;\r\n  nameTemp: string;\r\n  classroom: {\r\n    id: number;\r\n    name: string;\r\n  };\r\n  start: string;\r\n  end: string;\r\n};\r\n\r\nexport type Degree = {\r\n  id: number\r\n  name: string;\r\n  startMonth: number;\r\n  startDay: number;\r\n  durationMonths: number;\r\n};\r\n\r\nexport type Faculty = {\r\n  id: number;\r\n  name: string;\r\n  departments: Department[];\r\n  users: User[];\r\n}\r\n\r\nexport type Department = {\r\n  id: number;\r\n  name: string;\r\n  faculty: Faculty;\r\n  users: User[];\r\n};\r\n\r\nexport type MenuElement = {\r\n  text: string;\r\n  path: string;\r\n  icon: string;\r\n  exact?: boolean;\r\n  rights: string;\r\n};\r\n\r\nexport enum ClassroomsFilterTypes {\r\n  ALL = 'ALL',\r\n  FREE = 'FREE',\r\n  SPECIAL = 'SPECIAL',\r\n  INLINE = 'INLINE'\r\n}\r\n\r\nexport enum QueueState {\r\n  ACTIVE = 'ACTIVE',\r\n  RESERVED = 'RESERVED'\r\n}\r\n\r\nexport enum QueueType {\r\n  MINIMAL = 'MINIMAL',\r\n  DESIRED = 'DESIRED'\r\n}\r\n\r\nexport type QueueRecord = {\r\n  id: number;\r\n  user: User;\r\n  date: string;\r\n  classroom: ClassroomType;\r\n  state: QueueState;\r\n  type: QueueType;\r\n}\r\n\r\nexport type SavedFilterT = {\r\n  minimalClassroomIds: number[];\r\n  desirableClassroomIds: number[];\r\n  name: string;\r\n  main: boolean;\r\n}\r\n\r\nexport enum Langs {\r\n  EN = 'EN',\r\n  UA = 'UA'\r\n}\r\n\r\nexport enum EnqueuedBy {\r\n  SELF = 'SELF',\r\n  DISPATCHER = 'DISPATCHER'\r\n}","import AsyncStorage from '@react-native-async-storage/async-storage'\n\n\nexport const setItem = async (key: string, value: any) => {\n  try {\n    await AsyncStorage.setItem(key, JSON.stringify(value));\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nexport const getItem = async (key: string) => {\n  let result;\n  try {\n    await AsyncStorage.getItem(key).then(value => {\n      if (value !== null) {\n        result = JSON.parse(value as string)\n      }\n    });\n    return result;\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nexport const removeItem = async (key: string) => {\n  try {\n    await AsyncStorage.removeItem(key);\n  } catch (e) {\n    console.log(e);\n  }\n};","import * as React from 'react';\nimport {Dialog, Portal, Button} from 'react-native-paper';\nimport {Text} from 'react-native';\n\ninterface PropTypes {\n  visible: boolean;\n  hideDialog: () => void;\n  message?: string;\n}\n\nexport default function ErrorDialog({visible, hideDialog, message}: PropTypes) {\n  return (\n    <Portal>\n      <Dialog visible={visible} onDismiss={hideDialog}>\n        <Dialog.Title style={{color: '#f91354'}}>!</Dialog.Title>\n        <Dialog.Content>\n          <Text style={{marginBottom: -20}}>{!message ? '   ' : message}</Text>\n        </Dialog.Content>\n        <Dialog.Actions>\n          <Button onPress={hideDialog}></Button>\n        </Dialog.Actions>\n      </Dialog>\n    </Portal>\n  );\n};","import {ApolloClient, createHttpLink, InMemoryCache, makeVar, split} from \"@apollo/client\";\r\nimport {ACCESS_RIGHTS, Langs, Mode, User} from \"../models/models\";\r\nimport {WebSocketLink} from '@apollo/client/link/ws';\r\nimport {getMainDefinition} from \"@apollo/client/utilities\";\r\nimport {setContext} from \"@apollo/client/link/context\";\r\nimport {getItem} from \"./asyncStorage\";\r\n\r\nconst wsLink: any = new WebSocketLink({\r\n    uri: 'wss://api.auditoriu.me/',\r\n    options: {\r\n      reconnect: true,\r\n      connectionParams: async () => {\r\n        const token = await getItem('token');\r\n        return {\r\n          authorization: token ? `Bearer ${token}` : \"\",\r\n        }\r\n      }\r\n    }\r\n  }\r\n);\r\n\r\nconst subscriptionMiddleware = {\r\n  applyMiddleware: async (options: any, next: any) => {\r\n    const token = await getItem('token');\r\n    options.authorization = token ? `Bearer ${token}` : \"\"\r\n    next()\r\n  },\r\n}\r\n\r\nwsLink.subscriptionClient.use([subscriptionMiddleware]);\r\n\r\nconst httpLink = createHttpLink({\r\n  uri: 'https://api.auditoriu.me/'\r\n});\r\n\r\nconst authLink = setContext(async function (_, {headers}) {\r\n  const token = await getItem('token');\r\n  return {\r\n    headers: {\r\n      ...headers,\r\n      authorization: token ? `Bearer ${token}` : \"\",\r\n    }\r\n  }\r\n});\r\n\r\nconst splitLink = split(\r\n  ({query}) => {\r\n    const definition = getMainDefinition(query);\r\n    return (\r\n      definition.kind === 'OperationDefinition' &&\r\n      definition.operation === 'subscription'\r\n    );\r\n  },\r\n  wsLink,\r\n  httpLink,\r\n);\r\n\r\nexport const client = new ApolloClient({\r\n  link: authLink.concat(splitLink),\r\n  cache: new InMemoryCache({\r\n    typePolicies: {\r\n      Query: {\r\n        fields: {\r\n          me: {\r\n            read() {\r\n              return meVar();\r\n            },\r\n          },\r\n          lang: {\r\n            read() {\r\n              return langVar();\r\n            },\r\n          },\r\n          accessRights: {\r\n            read() {\r\n              return accessRightsVar();\r\n            },\r\n          },\r\n          mode: {\r\n            read() {\r\n              return modeVar();\r\n            },\r\n          },\r\n          minimalClassroomIds: {\r\n            read() {\r\n              return minimalClassroomIdsVar();\r\n            },\r\n\r\n          },\r\n          desirableClassroomIds: {\r\n            read() {\r\n              return desirableClassroomIdsVar();\r\n            },\r\n          },\r\n          isMinimalSetup: {\r\n            read() {\r\n              return isMinimalSetupVar();\r\n            },\r\n          },\r\n          pushNotificationToken: {\r\n            read() {\r\n              return pushNotificationTokenVar();\r\n            },\r\n          },\r\n        },\r\n      },\r\n    },\r\n  }),\r\n});\r\n\r\nexport const meVar = makeVar<User | null>(null);\r\nexport const langVar = makeVar<Langs>(Langs.UA);\r\nexport const accessRightsVar = makeVar(ACCESS_RIGHTS.USER);\r\nexport const modeVar = makeVar(Mode.PRIMARY);\r\nexport const minimalClassroomIdsVar = makeVar<number[]>([]);\r\nexport const desirableClassroomIdsVar = makeVar<number[]>([]);\r\nexport const isMinimalSetupVar = makeVar(true);\r\nexport const pushNotificationTokenVar = makeVar('');","import Constants from 'expo-constants';\nimport * as Notifications from 'expo-notifications';\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Text, View, Button, Platform } from 'react-native';\nimport {pushNotificationTokenVar} from \"../api/client\";\n\nNotifications.setNotificationHandler({\n  handleNotification: async () => ({\n    shouldShowAlert: true,\n    shouldPlaySound: false,\n    shouldSetBadge: false,\n  }),\n});\n\ntype PropTypes = {\n  setPushNotificationToken: (token: string) => void;\n}\n\nexport default function PushNotification({setPushNotificationToken}: PropTypes) {\n  const [expoPushToken, setExpoPushToken] = useState<any>('');\n  const [notification, setNotification] = useState<any>(false);\n  const notificationListener = useRef<any>();\n  const responseListener = useRef<any>();\n\n  useEffect(() => {\n    registerForPushNotificationsAsync().then(token => {\n      setPushNotificationToken(token);\n      setExpoPushToken(token);\n      pushNotificationTokenVar(token);\n    });\n\n    // This listener is fired whenever a notification is received while the app is foregrounded\n    notificationListener.current = Notifications.addNotificationReceivedListener(notification => {\n      setNotification(notification);\n    });\n\n    // This listener is fired whenever a user taps on or interacts with a notification (works when app is foregrounded, backgrounded, or killed)\n    responseListener.current = Notifications.addNotificationResponseReceivedListener(response => {\n      console.log(response);\n    });\n\n    return () => {\n      Notifications.removeNotificationSubscription(notificationListener.current);\n      Notifications.removeNotificationSubscription(responseListener.current);\n    };\n  }, []);\n\n  return <></>\n  // (\n  //   <View>\n  //     <Text>Your expo push token: {expoPushToken}</Text>\n  //     <View style={{ alignItems: 'center', justifyContent: 'center' }}>\n  //       <Text>Title: {notification && notification.request.content.title} </Text>\n  //       <Text>Body: {notification && notification.request.content.body}</Text>\n  //       <Text>Data: {notification && JSON.stringify(notification.request.content.data)}</Text>\n  //     </View>\n  //     <Button\n  //       title=\"Press to Send Notification\"\n  //       onPress={async () => {\n  //         await sendPushNotification(expoPushToken);\n  //       }}\n  //     />\n  //   </View>\n  // );\n}\n\n// Can use this function below, OR use Expo's Push Notification Tool-> https://expo.io/notifications\nexport async function sendPushNotification(expoPushToken: string, title: string, body: string) {\n  const message = {\n    to: expoPushToken,\n    sound: 'default',\n    title,\n    body,\n    data: { someData: 'goes here' },\n  };\n\n  await fetch('https://exp.host/--/api/v2/push/send', {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Accept-encoding': 'gzip, deflate',\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(message),\n  });\n}\n\nasync function registerForPushNotificationsAsync() {\n  let token;\n  if (Constants.isDevice) {\n    const { status: existingStatus } = await Notifications.getPermissionsAsync();\n    let finalStatus = existingStatus;\n    if (existingStatus !== 'granted') {\n      const { status } = await Notifications.requestPermissionsAsync();\n      finalStatus = status;\n    }\n    if (finalStatus !== 'granted') {\n      alert('Failed to get push token for push notification!');\n      return;\n    }\n    token = (await Notifications.getExpoPushTokenAsync()).data;\n    console.log(token);\n  } else {\n    alert('Must use physical device for Push Notifications');\n  }\n\n  if (Platform.OS === 'android') {\n    Notifications.setNotificationChannelAsync('classrooms', {\n      name: 'classrooms',\n      importance: Notifications.AndroidImportance.MAX,\n      vibrationPattern: [0, 250, 250, 250],\n      lightColor: '#FF231F7C',\n    });\n  }\n\n  return token;\n}","import * as React from 'react';\nimport {useEffect, useState} from 'react';\nimport {Image, ImageBackground, StyleSheet, TouchableHighlight} from 'react-native';\nimport {Button, Surface, TextInput} from 'react-native-paper';\nimport {Text, View} from '../components/Themed';\nimport {useMutation, useQuery} from \"@apollo/client\";\nimport {LOGIN} from \"../api/operations/mutations/login\";\nimport WaitDialog from \"../components/WaitDialog\";\nimport {getItem, setItem} from \"../api/asyncStorage\";\nimport ErrorDialog from \"../components/ErrorDialog\";\nimport {ErrorCodes, ErrorCodesUa, Langs, Mode, QueueState, QueueType, User} from \"../models/models\";\nimport {desirableClassroomIdsVar, langVar, meVar, minimalClassroomIdsVar, modeVar} from \"../api/client\";\nimport PushNotification from \"./PushNotification\";\nimport {GET_LANG} from \"../api/operations/queries/lang\";\nimport i18n from \"i18n-js\";\n\nexport default function Login({route, navigation}: any) {\n  const [login, {loading}] = useMutation(LOGIN);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n  const [modalActivator, setModalActivator] = useState<boolean | null>(null);\n  const [showError, setShowError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [pushNotificationToken, setPushNotificationToken] = useState('');\n  // const {data: {lang}} = useQuery(GET_LANG);\n\n  useEffect(() => {\n    if (modalActivator !== null) {\n      setShowError(true);\n    }\n  }, [modalActivator]);\n\n  // useEffect(() => {\n  //   getItem('lang').then(res => {\n  //     if (res) {\n  //       langVar(res);\n  //     } else {\n  //       setItem('lang', lang);\n  //     }\n  //   });\n  // }, []);\n\n  const handleChangeLang = async (lng: Langs) => {\n    // await setItem('lang', lng);\n    // langVar(lng);\n  };\n\n  const hideError = () => {\n    setShowError(false);\n  };\n\n  const handleSubmit = async () => {\n    let result: any;\n    if (email.length && password.length) {\n      try {\n        result = await login({\n          variables: {\n            input: {\n              email: email,\n              password: password,\n              notificationToken: pushNotificationToken\n            }\n          }\n        });\n        if (result?.data.login.userErrors?.length) {\n          setErrorMessage(ErrorCodesUa[result?.data.login.userErrors[0].code as ErrorCodes]);\n          setModalActivator(prevState => !prevState);\n        } else {\n          const user: User = result?.data.login.user;\n          const token: string = result?.data.login.token;\n          await setItem('user', user);\n          await setItem('token', token);\n          // if (user.queue.length) {\n          //   const minimal = user.queue.filter(({type, state}) => {\n          //     return type === QueueType.MINIMAL && state === QueueState.ACTIVE;\n          //   });\n          //   const desired = user.queue.filter(({type, state}) => {\n          //     return type === QueueType.DESIRED && state === QueueState.ACTIVE;\n          //   });\n          //   modeVar(Mode.INLINE);\n          //   minimalClassroomIdsVar(minimal.map(({classroom: {id}}) => id));\n          //   desirableClassroomIdsVar(desired.map(({classroom: {id}}) => id));\n          // }\n          meVar(user);\n        }\n      } catch (e) {\n        setErrorMessage(e?.graphQLErrors[0]?.message || JSON.stringify(e));\n        setModalActivator(prevState => !prevState);\n      }\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <PushNotification setPushNotificationToken={setPushNotificationToken}/>\n      <ImageBackground source={require('../assets/images/bg.jpg')} style={styles.bg}>\n        <Image source={require('./../assets/images/au_logo_shadow.png')} style={styles.logo}/>\n        {/*<View style={styles.langSwitcher}>*/}\n        {/*  <TouchableHighlight onPress={() => handleChangeLang(Langs.UA)}>*/}\n        {/*    <Image source={require('../assets/images/ua.png')}*/}\n        {/*           style={lang === Langs.UA ? styles.langImageSelected : styles.langImage}*/}\n        {/*    />*/}\n        {/*  </TouchableHighlight>*/}\n        {/*  <TouchableHighlight onPress={() => handleChangeLang(Langs.EN)}>*/}\n        {/*    <Image source={require('../assets/images/en.png')}*/}\n        {/*           style={lang === Langs.EN ? styles.langImageSelected : styles.langImage}*/}\n        {/*    />*/}\n        {/*  </TouchableHighlight>*/}\n        {/*</View>*/}\n        <Text style={styles.title}>{i18n.t('login')}</Text>\n        <Surface style={styles.inputs}>\n          <TextInput label=''\n                     style={styles.input}\n                     onChangeText={(e) => setEmail(e)}\n          />\n          <TextInput label=''\n                     style={styles.input}\n                     onChangeText={(e) => setPassword(e)}\n                     secureTextEntry={!showPassword}\n                     selectionColor='#2b5dff'\n                     right={<TextInput.Icon name={showPassword ? 'eye' : 'eye-off'} color='#2b5dff'\n                                            onPress={() => setShowPassword(prevState => !prevState)}\n                     />}\n          />\n\n          <Button onPress={handleSubmit} mode='contained' color='#2b5dff' loading={loading}\n                  style={styles.button} disabled={(!email || !password) || loading}>\n            \n          </Button>\n          <Button onPress={() => navigation.navigate('SignUp')} mode='contained' color='#f91354'\n                  style={styles.button}>\n            \n          </Button>\n        </Surface>\n        <Button onPress={() => navigation.navigate('ForgotPassword')} uppercase={false}\n                labelStyle={{color: '#fff'}} style={styles.button}>\n           \n        </Button>\n        <View style={styles.footer}>\n          <Text style={{color: '#fff'}}>    . . . </Text>\n          <Text style={{color: '#fff', marginTop: 16}}>Auditorium  2021</Text>\n        </View>\n      </ImageBackground>\n      <WaitDialog message='   ' visible={loading}/>\n      <ErrorDialog visible={showError} hideDialog={hideError} message={errorMessage}/>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#2e287c',\n    overflow: 'hidden'\n  },\n  logo: {\n    width: '80%',\n    resizeMode: 'contain',\n    flex: 1\n  },\n  title: {\n    fontSize: 32,\n    fontWeight: 'bold',\n    color: '#fff',\n  },\n  input: {\n    width: '100%',\n    fontSize: 22,\n    backgroundColor: 'transparent',\n  },\n  inputs: {\n    width: '90%',\n    elevation: 16,\n    borderRadius: 8,\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingLeft: 16,\n    paddingRight: 16,\n    paddingBottom: 16,\n    marginTop: 32,\n  },\n  button: {\n    marginTop: 16,\n    width: '100%',\n    height: 50,\n    justifyContent: 'center',\n  }, bg: {\n    width: '100%',\n    height: '100%',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  footer: {\n    backgroundColor: 'transparent',\n    alignItems: 'center',\n    textAlign: 'center',\n    opacity: .5,\n    marginBottom: 16\n  },\n  langSwitcher: {\n    justifyContent: 'center',\n    flexDirection: \"row\",\n    marginBottom: 16\n  },\n  langImage: {\n    width: 50,\n    height: 35,\n    opacity: .3\n  },\n  langImageSelected: {\n    width: 50,\n    height: 35,\n  }\n});\n","import React from 'react';\nimport {Button, Dialog, Paragraph, Portal, Title} from \"react-native-paper\";\nimport {ScrollView, StyleSheet, Text} from \"react-native\";\nimport Colors from \"../../../constants/Colors\";\n\ninterface PropTypes {\n  visible: boolean;\n  hideDialog: () => void;\n  setCheckAgreement: (value: boolean) => void;\n}\n\nexport default function Agreement({visible, hideDialog, setCheckAgreement}: PropTypes) {\n  return <Portal>\n    <Dialog visible={visible} onDismiss={hideDialog} style={styles.wrapper}>\n      <Dialog.Title> </Dialog.Title>\n      <Dialog.Content>\n        <ScrollView style={{height: '80%'}}>\n          <Title>   </Title>\n          <Paragraph>  : 25  2021 .</Paragraph>\n          <Paragraph>          ,  \n            \n            \n                           , \n            \n             . </Paragraph>\n          <Paragraph>          .  ,\n            \n             \n                    .</Paragraph>\n          <Title>    </Title>\n          <Title>  </Title>\n          <Paragraph> ,        ,  ,    .\n             \n                 ,       . </Paragraph>\n          <Title style={{fontSize: 16}}>  </Title>\n          <Paragraph>     : </Paragraph>\n\n          <Paragraph>\n            <Paragraph><Text style={{fontWeight: '600'}}>   </Text>    ,\n                  \n                  . </Paragraph>\n          </Paragraph>\n          <Paragraph>\n            <Paragraph><Text style={{fontWeight: '600'}}>  </Text>   , \n              ,     -\n                  Auditorium </Paragraph>\n          </Paragraph>\n          <Paragraph>\n            <Paragraph><Text style={{fontWeight: '600'}}>  </Text> (     \n              \"\",\n              \"\", \"\"  \"\" \n              \"Auditorium\"). </Paragraph>\n          </Paragraph>\n          <Paragraph>\n            <Paragraph><Text style={{fontWeight: '600'}}>  </Text>  :  </Paragraph>\n          </Paragraph>\n          <Paragraph>\n            <Paragraph><Text style={{fontWeight: '600'}}>  </Text>   - ,   \n              \n              ,  ,\n                  . </Paragraph>\n          </Paragraph>\n          <Paragraph>\n            <Paragraph><Text style={{fontWeight: '600'}}>   </Text> -   - ,  \n                 , \n              . </Paragraph>\n          </Paragraph>\n          <Paragraph>\n            <Paragraph><Text style={{fontWeight: '600'}}>  </Text>   . </Paragraph>\n          </Paragraph>\n          <Paragraph>\n            <Paragraph><Text style={{fontWeight: '600'}}>   </Text>   -  \n               ,    \n               .        ,    \n              ,     ,   , '  ,   \n                   . </Paragraph>\n          </Paragraph>\n          <Paragraph>\n            <Paragraph><Text style={{fontWeight: '600'}}>    </Text>   , \n              ,   \n               ,      (,   ).\n            </Paragraph>\n          </Paragraph>\n          <Paragraph>\n            <Paragraph><Text style={{fontWeight: '600'}}>  </Text>   ,    \n               ,   \n                ,          ,   .\n            </Paragraph>\n          </Paragraph>\n\n          <Title>       </Title>\n          <Title style={{fontSize: 16}}>    </Title>\n          <Title style={{fontSize: 14}}>  </Title>\n          <Paragraph>              ,\n              \n                 . ,   ,  ,  \n            \n            : </Paragraph>\n\n          <Paragraph>\n            <Paragraph>    </Paragraph>\n          </Paragraph>\n          <Paragraph>\n            <Paragraph> '   </Paragraph>\n          </Paragraph>\n          <Paragraph>\n            <Paragraph>   </Paragraph>\n          </Paragraph>\n          <Paragraph>\n            <Paragraph>        </Paragraph>\n          </Paragraph>\n          <Paragraph>\n            <Paragraph>   </Paragraph>\n          </Paragraph>\n\n          <Title style={{fontSize: 14}}>  </Title>\n          <Paragraph>         . </Paragraph>\n          <Paragraph>       ,    - \n            \n            (, IP\n            -),   -,  ,   ,   ,    \n            , ,     ,      \n            . </Paragraph>\n          <Paragraph>           ,   \n            \n            \n            , ,   ,   ,   , \n            \n              , IP -    ,    , \n            \n             -,   ,      \n            . </Paragraph>\n          <Paragraph>     ,     -,    \n            \n              \n                      . </Paragraph>\n          <Title style={{fontSize: 16}}>     </Title>\n          <Paragraph>        : </Paragraph>\n\n          <Paragraph>\n            <Paragraph><Text style={{fontWeight: '600'}}>       </Text>, \n              \n                 .\n            </Paragraph>\n          </Paragraph>\n          <Paragraph>\n            <Paragraph><Text style={{fontWeight: '600'}}>     : </Text>  \n                 .\n                         ,    \n               . </Paragraph>\n          </Paragraph>\n          <Paragraph>\n            <Paragraph><Text style={{fontWeight: '600'}}>    : </Text>    \n              \n              ,  ,\n              SMS    \n               ', , push -      \n              , '   ,    , \n              \n              ,        . </Paragraph>\n          </Paragraph>\n          <Paragraph>\n            <Paragraph><Text style={{fontWeight: '600'}}>    </Text> ,   \n              \n                 ,\n              \n               ,   ,   ,        ,  , \n              \n              \n                   . </Paragraph>\n          </Paragraph>\n          <Paragraph>\n            <Paragraph><Text style={{fontWeight: '600'}}>    : </Text>   \n                  . </Paragraph>\n          </Paragraph>\n          <Paragraph>\n            <Paragraph><Text style={{fontWeight: '600'}}>    </Text>:    \n              \n                ,   \n              ,\n                  \n                .</Paragraph>\n          </Paragraph>\n\n          <Paragraph>         : </Paragraph>\n\n          <Paragraph><Text style={{fontWeight: '600'}}>   . </Text>    \n               \n                 ,    .\n          </Paragraph>\n          <Paragraph><Text style={{fontWeight: '600'}}>   : </Text>    \n                ,\n              \n             ,   .\n          </Paragraph>\n          <Paragraph><Text style={{fontWeight: '600'}}>   : </Text>    \n                 \n             \n                         \n            .\n          </Paragraph>\n          <Paragraph><Text style={{fontWeight: '600'}}>    </Text>:     \n              -  </Paragraph>\n\n          <Title style={{fontSize: 16}}>    </Title>\n          <Paragraph>        ,     ,\n              \n             .          ,\n            \n              \n              (,         \n            ).</Paragraph>\n          <Paragraph>          .  \n             \n                ,   ,      \n              \n            . </Paragraph>\n          <Title style={{fontSize: 16}}>     </Title>\n          <Paragraph>  ,   ,        - \n            \n              ,     .  ,      \n             ',      , ,     , \n                     . </Paragraph>\n          <Paragraph>              \n            \n            .</Paragraph>\n          <Paragraph>     ,        \n            \n                ,       \n            \n             \n               ,        . </Paragraph>\n          <Title style={{fontSize: 16}}>     </Title>\n          <Title style={{fontSize: 14}}>  </Title>\n          <Paragraph>      ,    ,    \n             .  \n               ,           \n            . </Paragraph>\n          <Title style={{fontSize: 14}}>  </Title>\n          <Paragraph>           ,  \n             \n                    (,    ). </Paragraph>\n          <Title style={{fontSize: 14}}>   </Title>\n          <Paragraph>       ,     : </Paragraph>\n\n          <Paragraph>    </Paragraph>\n          <Paragraph>        </Paragraph>\n          <Paragraph>     , '  </Paragraph>\n          <Paragraph>     </Paragraph>\n\n          <Title style={{fontSize: 16}}>     </Title>\n          <Paragraph>       ,  ,     \n            ,\n                  100% .</Paragraph>\n          <Title>    - </Title>\n          <Paragraph>        -,    .   \n              , \n               -   .      \n               \n            . </Paragraph>\n          <Paragraph>         ,    \n            -  \n              . </Paragraph>\n          <Title>      </Title>\n          <Paragraph>         .     -\n            ,       . </Paragraph>\n          <Paragraph>      /       , \n            \n              \n            .         . </Paragraph>\n          <Paragraph>         - .   \n             \n             ,      . </Paragraph>\n          <Title>    </Title>\n          <Paragraph>         ,   ' \n            : </Paragraph>\n\n          <Paragraph>   : auditorium.knmau@gmail.com </Paragraph>\n        </ScrollView>\n      </Dialog.Content>\n      <Dialog.Actions style={{height: 20, marginBottom: 20}}>\n        <Button onPress={() => {\n          hideDialog();\n          setCheckAgreement(false);\n        }} style={{height: 20}} color={Colors.red}></Button>\n        <Button onPress={() => {\n          hideDialog();\n          setCheckAgreement(true);\n        }} style={{height: 20}}></Button>\n      </Dialog.Actions>\n    </Dialog>\n  </Portal>\n}\n\nconst styles = StyleSheet.create({\n  wrapper: {\n    position: 'absolute',\n    overflow: 'scroll',\n    top: 24,\n    bottom: 24\n  }\n})","import React, {useEffect, useState} from 'react';\nimport {Modal, Portal, Searchbar} from \"react-native-paper\";\nimport {ScrollView, Text, StyleSheet} from \"react-native\";\n\ninterface PropTypes {\n  visible: boolean;\n  hideDialog: () => void;\n  setSelected: (value: any) => void;\n  selected: any;\n  items: any[];\n}\n\nexport default function CustomPicker({visible, hideDialog, setSelected,selected, items}: PropTypes) {\n  const [searchText, setSearchText] = useState('');\n  const [filteredItems, setFilteredItems] = useState<any>([]);\n\n  useEffect(() => {\n    const filtered = items.length && items.filter(({name}) => {\n      if (searchText !== '') return String(name).toLowerCase().includes(searchText.toLowerCase());\n      return true;\n    });\n    setFilteredItems(filtered);\n  }, [items, searchText]);\n\n  const handlePress = (item: any) => {\n    setSelected({name: item.name, id: item.id});\n    hideDialog();\n  };\n\n  return (\n    <Portal>\n      <Modal visible={visible} onDismiss={hideDialog} contentContainerStyle={styles.container}>\n        <Searchbar\n          placeholder=\"\"\n          onChangeText={text => setSearchText(text)}\n          value={searchText}\n          style={styles.search}\n          clearButtonMode='while-editing'\n        />\n        <ScrollView style={{height: '80%'}}>\n          {filteredItems && [{name: ' ', id: -1}, ...filteredItems].map(item => (\n                <Text key={item.id} style={selected.id === item.id ? styles.selected : styles.item}\n                      onPress={() => handlePress(item)}\n                >\n                  {item.name}\n                </Text>\n              )\n            )}\n        </ScrollView>\n      </Modal>\n    </Portal>\n  )\n};\n\nconst styles = StyleSheet.create({\n  item: {\n    fontSize: 20,\n    borderBottomWidth: 1,\n    borderStyle: 'solid',\n    borderBottomColor: '#ccc',\n    padding: 10,\n    color: '#000',\n  },\n  selected: {\n    fontSize: 20,\n    borderBottomWidth: 1,\n    borderStyle: 'solid',\n    borderBottomColor: '#2b5dff',\n    padding: 10,\n    color: '#2b5dff'\n  },\n  container: {\n    backgroundColor: 'white',\n    padding: 20,\n    margin: 10,\n    borderRadius: 8,\n    justifyContent: 'center',\n    height: '60%'\n  },\n  search: {\n    marginBottom: 10\n  }\n});","import React, {useEffect, useState} from 'react';\nimport {Text, StyleSheet} from \"react-native\";\nimport {IconButton} from \"react-native-paper\";\nimport {View} from \"../Themed\";\nimport CustomPicker from \"./CustomPicker\";\n\ntype Item = {\n  name: string;\n  id: number;\n}\n\ninterface PropTypes {\n  selected: Item;\n  setSelected: any;\n  name: string;\n  items: any[];\n  checkValidation: (value: number) => void;\n  setIsVisited: (value: boolean) => void;\n  underlineColor: string;\n}\n\nexport default function CustomPickerField({\n                                            selected, name, setSelected, items, setIsVisited,\n                                            checkValidation, underlineColor\n                                          }: PropTypes) {\n  const [visiblePicker, setVisiblePicker] = useState(false);\n\n  useEffect(() => {\n    checkValidation(selected.id);\n  }, [selected]);\n\n  const showPicker = () => {\n    setVisiblePicker(true);\n    setIsVisited(true);\n  };\n\n  const hidePicker = () => {\n    checkValidation(selected.id);\n    setVisiblePicker(false);\n  };\n\n  return <View style={styles.picker}>\n    <Text style={[styles.pickerField, {borderBottomColor: underlineColor}]} numberOfLines={1}\n          onPress={showPicker}\n    >\n      {selected.id === -1 ? name : selected.name}\n    </Text>\n    <IconButton icon='chevron-down' style={styles.pickerIcon} color='#ccc'\n                onPress={showPicker}\n    />\n    <CustomPicker visible={visiblePicker} hideDialog={hidePicker}\n                  setSelected={setSelected} items={items}\n                  selected={selected}\n    />\n  </View>\n};\n\nconst styles = StyleSheet.create({\n  picker: {\n    flexDirection: 'row',\n    position: 'relative',\n    backgroundColor: '#fff',\n  },\n  pickerField: {\n    borderBottomWidth: 1,\n    borderStyle: 'solid',\n    paddingVertical: 10,\n    paddingLeft: 22,\n    paddingRight: 42,\n    fontSize: 22,\n    marginTop: 20,\n    color: '#6f6f6f',\n    width: '100%',\n  },\n  pickerIcon: {\n    position: 'absolute',\n    right: 0,\n    top: 20,\n  }\n});","import { gql } from \"@apollo/client\";\r\n\r\nexport const SIGN_UP = gql`\r\n    mutation signup($input: SignupInput!) {\r\n        signup(input: $input) {\r\n            user {\r\n                id\r\n                lastName\r\n            }\r\n            userErrors {\r\n                message\r\n                code\r\n            }\r\n        }\r\n    }\r\n`;","import * as React from 'react';\nimport {Paragraph, Dialog, Portal, Button} from 'react-native-paper';\n\ninterface PropTypes {\n  message: string;\n  visible: boolean;\n  hideDialog: () => void;\n  navigateToLogin: () => void;\n}\n\nexport default function InfoDialog({visible, message, hideDialog, navigateToLogin}: PropTypes) {\n  return (\n      <Portal>\n        <Dialog visible={visible} dismissable={false}>\n          <Dialog.Title style={{textAlign: 'center'}}></Dialog.Title>\n          <Dialog.Content>\n            <Paragraph style={{textAlign: 'center'}}>{message}</Paragraph>\n          </Dialog.Content>\n          <Dialog.Actions>\n            <Button onPress={hideDialog} mode='contained' color='#f91354'\n                    style={{width: 70, marginRight: 8}}>\n              \n            </Button>\n            <Button onPress={() => {\n              hideDialog();\n              navigateToLogin();\n            }} mode='contained' style={{width: 70}}>\n              \n            </Button>\n          </Dialog.Actions>\n        </Dialog>\n      </Portal>\n  );\n};","import * as React from 'react';\nimport {Dimensions, ImageBackground, ScrollView, StyleSheet, Text} from 'react-native';\nimport {View} from '../../components/Themed';\nimport {Appbar, Banner, Button, Checkbox, HelperText, TextInput} from 'react-native-paper';\nimport {useEffect, useState} from \"react\";\nimport Agreement from \"./components/Agreement\";\nimport CustomPickerField from \"../../components/CustomPicker/CustomPickerField\";\nimport moment from \"moment\";\nimport {useMutation} from \"@apollo/client\";\nimport {SIGN_UP} from \"../../api/operations/mutations/signUp\";\nimport InfoDialog from \"../../components/InfoDialog\";\nimport {ErrorCodes, ErrorCodesUa, UserTypes, UserTypesUa} from \"../../models/models\";\n\nconst currentYear: number = parseInt(moment().format('YYYY'));\n\nconst startYearsItems = [\n  {name: currentYear, id: currentYear},\n  {name: currentYear - 1, id: currentYear - 1},\n  {name: currentYear - 2, id: currentYear - 2},\n  {name: currentYear - 3, id: currentYear - 3},\n];\n\nconst userTypesData = [\n  {id: 1, name: UserTypes.POST_GRADUATE},\n  {id: 2, name: UserTypes.STUDENT},\n];\n\nconst windowHeight = Dimensions.get('window').height;\n\n\nexport default function SignUp({navigation}: any) {\n  const [selectedDepartment, setSelectedDepartment] = useState({name: '', id: -1});\n  const [selectedDegree, setSelectedDegree] = useState({name: '', id: -1});\n  const [selectedStartYear, setSelectedStartYear] = useState({name: '', id: -1});\n  const [selectedType, setSelectedType] = useState({name: userTypesData[0].name,\n    id: userTypesData[0].id});\n  const [visible, setVisible] = useState(true);\n  const [visibleAgreement, setVisibleAgreement] = useState(false);\n  const [visibleBackDialog, setVisibleBackDialog] = useState(false);\n  const backMessage = '      ?\\n    .';\n\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [patronymic, setPatronymic] = useState('');\n  const [email, setEmail] = useState('');\n  const [phoneNumber, setPhoneNumber] = useState('');\n  const [password, setPassword] = useState('');\n  const [passwordConfirm, setPasswordConfirm] = useState('');\n  const [checkAgreement, setCheckAgreement] = useState(false);\n  const [departments, setDepartments] = useState([{id: 1, name: 'DEFAULT_DEPARTMENT'}]);\n  const [degrees, serDegrees] = useState([{id: 1, name: 'DEFAULT_DEGREE'}]);\n\n  const [isSignupTouched, setIsSignupTouched] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n\n  const [isLastNameValidated, setIsLastNameValidated] = useState<string | null>(null);\n  const [isFirstNameValidated, setIsFirstNameValidated] = useState<string | null>(null);\n  const [isEmailValidated, setIsEmailValidated] = useState<string | null>(null);\n  const [isPhoneValidated, setIsPhoneValidated] = useState<string | null>(null);\n  const [isPasswordValidated, setIsPasswordValidated] = useState<string | null>(null);\n  const [isPasswordConfirmValidated, setIsPasswordConfirmValidated] = useState<string | null>(null);\n  const [isStartYearValidated, setIsStartYearValidated] = useState<string | null>(null);\n  const [isDepartmentValidated, setIsDepartmentValidated] = useState<string | null>(null);\n  const [isDegreeValidated, setIsDegreeValidated] = useState<string | null>(null);\n\n  const [isStartYearModalVisited, setIsStartYearModalVisited] = useState(false);\n  const [isDepartmentModalVisited, setIsDepartmentModalVisited] = useState(false);\n  const [isDegreeModalVisited, setIsDegreeModalVisited] = useState(false);\n\n  const [signup, {loading, error}] = useMutation(SIGN_UP);\n\n  useEffect(() => {\n    // client.query({query: GET_UNSIGNED_DEPARTMENTS,\n    //   fetchPolicy: 'network-only',\n    // }).then(({data}) => {\n    //   setDepartments(data.signupFacultiesDepartments.departments.slice()\n    //     .sort((a: Department, b: Department) => a.id - b.id))\n    // });\n  }, [])\n\n  const checkLastNameValidation = (value: string) => {\n    if (!value) {\n      return setIsLastNameValidated(\"' \");\n    }\n    return setIsLastNameValidated(null);\n  };\n\n  const checkFirstNameValidation = (value: string) => {\n    if (!value) {\n      return setIsFirstNameValidated(\"' \");\n    }\n    return setIsFirstNameValidated(null);\n  };\n\n  const checkEmailValidation = (value: string) => {\n    const re = /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/\n\n    if (!value) {\n      return setIsEmailValidated(\"' \");\n    }\n    if (!re.test(value)) {\n      return setIsEmailValidated(\" \");\n    }\n    return setIsEmailValidated(null);\n  };\n\n  const checkPhoneValidation = (value: string) => {\n    const re = /\\(?([0-9]{3})\\)?([ .-]?)([0-9]{3})\\2([0-9]{4})/\n\n    if (!value) {\n      return setIsPhoneValidated(\"' \");\n    }\n    if (!re.test(value)) {\n      return setIsPhoneValidated(\" \");\n    }\n    return setIsPhoneValidated(null);\n  };\n\n  const checkPasswordValidation = (value: string) => {\n    const re = /^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})/;\n    const strongRe = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\\$%\\^&\\*])(?=.{8,})/;\n\n    if (!value) {\n      return setIsPasswordValidated(\"' \");\n    }\n    if (!re.test(value)) {\n      return setIsPasswordValidated(\" \");\n    }\n    return setIsPasswordValidated(null);\n  };\n\n  const checkPasswordConfirmValidation = (value: string) => {\n    if (!value) {\n      return setIsPasswordConfirmValidated(\"' \");\n    }\n    if (password && passwordConfirm && (password !== passwordConfirm)) {\n      return setIsPasswordConfirmValidated('  ');\n    }\n    return setIsPasswordConfirmValidated(null);\n  };\n\n  const checkStartYearValidation = (value: number) => {\n    if (value === -1 && (isStartYearModalVisited || isSignupTouched)) {\n      return setIsStartYearValidated(\"   \");\n    }\n    return setIsStartYearValidated(null);\n  };\n\n  const checkDepartmentValidation = (value: number) => {\n    if (value === -1 && (isDegreeModalVisited || isSignupTouched)) {\n      return setIsDepartmentValidated(\"  \");\n    }\n    return setIsDepartmentValidated(null);\n  };\n\n  const checkDegreeValidation = (value: number) => {\n    if (value === -1 && (isDegreeModalVisited || isSignupTouched)) {\n      return setIsDegreeValidated(\"   \");\n    }\n    return setIsDegreeValidated(null);\n  };\n\n  const handleSubmit = async () => {\n    navigation.navigate('SignUpStepTwo');\n\n    checkLastNameValidation(lastName);\n    checkFirstNameValidation(firstName);\n    checkEmailValidation(email);\n    checkPhoneValidation(phoneNumber);\n    checkPasswordValidation(password);\n    checkPasswordConfirmValidation(passwordConfirm);\n    checkStartYearValidation(selectedStartYear.id);\n    checkDepartmentValidation(selectedDepartment.id);\n    checkDegreeValidation(selectedDegree.id);\n\n    if (!isLastNameValidated && !isFirstNameValidated && !isEmailValidated && !isPasswordValidated\n        && !isPasswordConfirmValidated && !isStartYearValidated && !isDepartmentValidated\n        && !isDegreeValidated) {\n      try {\n        const result = await signup({\n          variables: {\n            input: {\n              lastName: lastName,\n              firstName: firstName,\n              patronymic: patronymic,\n              password: password,\n              email: email,\n              phoneNumber: phoneNumber,\n              departmentId: selectedDepartment.id,\n              degreeId: selectedDegree.id,\n              startYear: selectedStartYear.id,\n              type: selectedType.name\n            }\n          }\n        });\n        const hasErrors = result?.data.login.userErrors?.length;\n\n        if (hasErrors) {\n          const errorMessage = ErrorCodesUa[result?.data.login.userErrors[0].code as ErrorCodes];\n\n          alert(errorMessage);\n        } else {\n          navigation.navigate('SignUpStepTwo');\n        }\n      } catch (e) {\n        alert(e)\n      }\n    }\n  }\n\n  const showAgreement = () => setVisibleAgreement(true);\n\n  const hideAgreement = () => setVisibleAgreement(false);\n\n  const showBackDialog = () => setVisibleBackDialog(true);\n\n  const hideBackDialog = () => setVisibleBackDialog(false);\n\n  const navigateToLogin = () => {\n    navigation.goBack();\n  };\n\n  const handleBack = () => {\n    if (lastName || firstName || patronymic || email || phoneNumber || password || passwordConfirm\n        || selectedStartYear.id !== -1 || selectedDepartment.id !== -1 || selectedDegree.id !== -1) {\n      showBackDialog();\n    } else {\n      navigateToLogin();\n    }\n  };\n\n  const Error = ({validator}: any) => (\n    <HelperText type=\"error\" style={{color: '#f91354', height: validator ? 'auto' : 0}}>\n      {validator}\n    </HelperText>\n  );\n\n  return (\n    <ImageBackground source={require('../../assets/images/bg.jpg')}\n                     style={{width: '100%', height: '100%'}}>\n      <View style={styles.container}>\n        <Appbar style={styles.top}>\n          <Appbar.BackAction onPress={handleBack} color='#fff'/>\n          <Appbar.Content title='' subtitle=' 1  3' color='#fff'/>\n        </Appbar>\n        <View style={styles.wrapper}>\n          <ScrollView style={styles.scrollView}>\n            <Banner\n              icon='alert-circle'\n              visible={visible}\n              actions={[\n                {\n                  label: '',\n                  onPress: () => setVisible(false),\n                }\n              ]}\n            >\n                       .\n            </Banner>\n            <Text style={styles.infoPanel}>\n               ,         .\n            </Text>\n            <TextInput placeholder=\" *\" style={styles.input} value={lastName}\n                       underlineColor={!isLastNameValidated ? '#ccc' : '#f91354'}\n                       onChangeText={text => {\n                         setLastName(text);\n                         checkLastNameValidation(text);\n                       }}\n                       onBlur={() => checkLastNameValidation(lastName)}\n            />\n            <Error validator={isLastNameValidated}/>\n            <TextInput placeholder=\"' *\" style={styles.input} value={firstName}\n                       underlineColor={!isFirstNameValidated ? '#ccc' : '#f91354'}\n                       onChangeText={text => {\n                         setFirstName(text);\n                         checkFirstNameValidation(text);\n                       }}\n                       onBlur={() => checkFirstNameValidation(firstName)}\n            />\n            <Error validator={isFirstNameValidated}/>\n            <TextInput placeholder=\"-\" style={styles.input} value={patronymic}\n                       onChangeText={text => setPatronymic(text)}\n            />\n            <View style={{height: 10, backgroundColor: '#fff'}}/>\n            <TextInput placeholder=\"E-mail *\" style={styles.input} value={email}\n                       underlineColor={!isEmailValidated ? '#ccc' : '#f91354'}\n                       onChangeText={text => {\n                         setEmail(text);\n                         checkEmailValidation(text);\n                       }}\n                       onBlur={() => checkEmailValidation(email)}\n                       keyboardType='email-address'\n            />\n            <Error validator={isEmailValidated}/>\n            <TextInput placeholder=\".  *\" style={styles.input}\n                       underlineColor={!isEmailValidated ? '#ccc' : '#f91354'}\n                       onChangeText={text => {\n                         setPhoneNumber(text);\n                         checkPhoneValidation(text);\n                       }}\n                       onBlur={() => checkPhoneValidation(phoneNumber)}\n                       keyboardType='phone-pad'\n            />\n            <Error validator={isPhoneValidated}/>\n            <TextInput placeholder=\" *\" style={styles.input}\n                       underlineColor={!isPasswordValidated ? '#ccc' : '#f91354'}\n                       onChangeText={text => {\n                         setPassword(text);\n                         checkPasswordValidation(text);\n                       }}\n                       onBlur={() => checkPasswordValidation(password)}\n                       right={<TextInput.Icon name={showPassword ? 'eye' : 'eye-off'} color='#ccc'\n                                              onPress={() => setShowPassword(prevState => !prevState)}\n                                              forceTextInputFocus={false}\n                       />}\n                       secureTextEntry={!showPassword}\n            />\n            <Error validator={isPasswordValidated}/>\n            <TextInput placeholder=\"  *\" style={styles.input}\n                       underlineColor={!isPasswordConfirmValidated ? '#ccc' : '#f91354'}\n                       onChangeText={text => {\n                         setPasswordConfirm(text);\n                         checkPasswordConfirmValidation(text);\n                       }}\n                       onBlur={() => checkPasswordConfirmValidation(passwordConfirm)}\n                       right={<TextInput.Icon name={showPassword ? 'eye' : 'eye-off'} color='#ccc'\n                                              onPress={() => setShowPassword(prevState => !prevState)}\n                                              forceTextInputFocus={false}\n                       />}\n                       secureTextEntry={!showPassword}\n            />\n            <Error validator={isPasswordConfirmValidated}/>\n            <CustomPickerField selected={selectedStartYear} setSelected={setSelectedStartYear}\n                               name='  ' items={startYearsItems}\n                               checkValidation={checkStartYearValidation}\n                               setIsVisited={setIsStartYearModalVisited}\n                               underlineColor={!isStartYearValidated ? '#ccc' : '#f91354'}\n\n            />\n            <Error validator={isStartYearValidated}/>\n            <CustomPickerField name='' selected={selectedDepartment} items={departments}\n                               setSelected={setSelectedDepartment}\n                               checkValidation={checkDepartmentValidation}\n                               setIsVisited={setIsDepartmentModalVisited}\n                               underlineColor={!isDepartmentValidated ? '#ccc' : '#f91354'}\n\n            />\n            <Error validator={isDepartmentValidated}/>\n            <CustomPickerField name=' ' selected={selectedDegree} items={degrees}\n                               setSelected={setSelectedDegree}\n                               checkValidation={checkDegreeValidation}\n                               setIsVisited={setIsDegreeModalVisited}\n                               underlineColor={!isDegreeValidated ? '#ccc' : '#f91354'}\n\n            />\n            <CustomPickerField name='' selected={selectedType} items={userTypesData}\n                               checkValidation={() => {}}\n                               setIsVisited={() => {}}\n                               setSelected={setSelectedType}\n                               underlineColor='#ccc'\n\n            />\n            <Error validator={isDegreeValidated}/>\n            <View style={styles.agreement}>\n              <Checkbox status={checkAgreement ? 'checked' : 'unchecked'} color='#2b5dff'\n                        uncheckedColor='#f91354'\n                        onPress={() => {\n                          setIsSignupTouched(true);\n                          setCheckAgreement(prevState => !prevState);\n                        }}/>\n              <Text style={{width: '90%', backgroundColor: '#fff'}}>    \n                <Text style={styles.link} onPress={showAgreement}>  </Text> *</Text>\n            </View>\n          </ScrollView>\n          <View style={styles.navButtons}>\n            <Button\n              onPress={handleSubmit}\n              mode='contained' color='#f91354'\n              style={styles.signUpButton}\n              disabled={!checkAgreement || loading}\n              loading={loading}\n            >\n              \n            </Button>\n          </View>\n          <Agreement visible={visibleAgreement} hideDialog={hideAgreement}\n                     setCheckAgreement={setCheckAgreement}\n          />\n          <InfoDialog message={backMessage} visible={visibleBackDialog} hideDialog={hideBackDialog}\n                      navigateToLogin={navigateToLogin}\n          />\n        </View>\n      </View>\n    </ImageBackground>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    backgroundColor: 'transparent'\n  },\n  wrapper: {\n    backgroundColor: '#fff',\n    width: '100%',\n    height: windowHeight-80,\n    alignItems: 'center',\n  },\n  title: {\n    fontSize: 32,\n    fontWeight: 'bold',\n    color: '#fff',\n  },\n  navButtons: {\n    backgroundColor: 'transparent',\n    flexDirection: 'row',\n    marginBottom: 16,\n    marginTop: 16,\n  },\n  signUpButton: {\n    height: 50,\n    justifyContent: 'center',\n  },\n  scrollView: {\n    width: '90%',\n  },\n  input: {\n    width: '100%',\n    backgroundColor: 'transparent',\n    fontSize: 22,\n    paddingLeft: 10,\n    margin: 0,\n  },\n  top: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    paddingTop: 26,\n    height: 80,\n    backgroundColor: 'transparent',\n    elevation: 0\n  },\n  link: {\n    color: '#2b5dff',\n    textDecorationLine: 'underline'\n  },\n  agreement: {\n    paddingTop: 20,\n    paddingBottom: 5,\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: '#fff',\n  },\n  infoPanel: {\n    borderRadius: 8,\n    backgroundColor: '#b5e3ff',\n    padding: 8,\n    marginTop: 16\n  },\n});","import * as React from 'react';\nimport {View, StyleSheet, Text} from \"react-native\";\nimport {Button, TextInput} from \"react-native-paper\";\n\nexport default function ForgotPassword({navigation}: any) {\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.text}>\n          email      .\n      </Text>\n      <TextInput placeholder=\"E-mail\" style={styles.input}/>\n      <Button onPress={()=>navigation.navigate('ForgotPasswordSuccess')} mode='contained' color='#2b5dff'\n        style={styles.button}>\n         \n      </Button>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#2e287c',\n  },\n  text: {\n    color: '#fff',\n    fontSize: 20,\n    textAlign: 'center',\n    margin: 5,\n    width: '90%',\n    marginBottom: 32,\n  },\n  button: {\n    marginTop: 32,\n    height: 50,\n    justifyContent: 'center'\n  },\n  input: {\n    width: '90%',\n    height: 50\n  }\n});\n","import * as React from 'react';\nimport {View, StyleSheet, Text} from \"react-native\";\nimport {Button} from \"react-native-paper\";\n\nexport default function ForgotPasswordSuccess({navigation}: any) {\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.text}>\n         ,  .\n      </Text>\n      <Button onPress={()=>navigation.navigate('Login')} mode='contained' color='#2b5dff'\n        style={styles.loginButton}>\n          \n      </Button>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#2e287c',\n  },\n  text: {\n    color: '#fff',\n    fontSize: 20,\n    textAlign: 'center',\n    margin: 5,\n    width: '90%',\n    marginBottom: 32,\n  },\n  loginButton: {\n    marginTop: 32,\n    height: 50,\n    justifyContent: 'center'\n  },\n  input: {\n    width: '90%',\n    height: 50\n  }\n});\n","import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_USERS = gql`\r\n  query getUsers {\r\n    users {\r\n      id\r\n      firstName\r\n      patronymic\r\n      lastName\r\n      type\r\n      department {\r\n        name\r\n      }\r\n      email\r\n      phoneNumber\r\n      extraPhoneNumbers\r\n      nameTemp\r\n      studentInfo {\r\n        degree {\r\n          name\r\n        }\r\n        startYear\r\n        accountStatus\r\n      }\r\n      employeeInfo {\r\n        employmentType\r\n        accountStatus\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_USER_BY_ID = gql`\r\n  query getUserById($where: UserWhereUniqueInput!) {\r\n    user(where: $where) {\r\n      id\r\n      firstName\r\n      patronymic\r\n      lastName\r\n      type\r\n      department {\r\n        id\r\n        name\r\n      }\r\n      occupiedClassrooms {\r\n        id\r\n        state \r\n        classroom {\r\n          id\r\n          name\r\n        }\r\n      }\r\n      queue {\r\n        id\r\n        state\r\n        type\r\n        classroom {\r\n          id\r\n        }\r\n      }\r\n      queueInfo {\r\n        id\r\n        sanctionedUntil\r\n        currentSession {\r\n          id\r\n          state\r\n          skips\r\n        }\r\n      }\r\n      email\r\n      phoneNumber\r\n      extraPhoneNumbers\r\n      nameTemp\r\n      studentInfo {\r\n        degree {\r\n          name\r\n        }\r\n        startYear\r\n        accountStatus\r\n      }\r\n      employeeInfo {\r\n        employmentType\r\n        accountStatus\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import {useEffect, useState} from \"react\";\nimport {client} from \"../api/client\";\nimport {GET_CLASSROOMS} from \"../api/operations/queries/classrooms\";\nimport {ISODateString} from \"../helpers/helpers\";\nimport {ClassroomType, User} from \"../models/models\";\nimport {gql, useQuery} from \"@apollo/client\";\nimport {GET_USERS} from \"../api/operations/queries/users\";\n\nconst useUsers = (): Array<User> => {\n  const [users, setUsers] = useState<User[]>([]);\n\n  useEffect(() => {\n    client.query({query: GET_USERS, fetchPolicy: \"cache-first\"}).then((data) => {\n        setUsers(data.data.users.slice().sort((a: User, b: User) => a.id - b.id));\n      });\n  }, []);\n\n  return users;\n};\n\nexport default useUsers;","import {HOUR, MINUTE, TIME_SNIPPETS, WORKING_DAY_END, WORKING_DAY_START,} from \"./constants\";\nimport {\n  ACCESS_RIGHTS,\n  ClassroomType,\n  CurrentUser, DisabledState,\n  Mode,\n  OccupiedInfo,\n  OccupiedState,\n  ScheduleUnitType,\n  User,\n  UserTypes,\n} from \"../models/models\";\nimport moment from \"moment\";\nimport {ReactElement} from \"react\";\nimport {accessRightsVar, desirableClassroomIdsVar, minimalClassroomIdsVar} from \"../api/client\";\n\nexport const getScheduleTimeline = (start: number, end: number): string[] => {\n  let timeSnippets: string[] = [];\n  for (let hour = start; hour <= end; hour++) {\n    if (hour === end) {\n      timeSnippets.push(hour + \":00\");\n    } else {\n      TIME_SNIPPETS.forEach((minutes) => {\n        timeSnippets.push(hour + minutes);\n      });\n    }\n  }\n  return timeSnippets;\n};\n\nconst getScheduleTimeInMilliseconds = (scheduleUnitTime: any) => {\n  return scheduleUnitTime\n    .split(\":\")\n    .map((el: any, index: number) => {\n      return index === 0 ? Number(el) * HOUR : Number(el) * MINUTE;\n    })\n    .reduce((acc: any, curr: any) => acc + curr);\n};\n\nexport const getPossiblyOccupied = (schedule: Array<any>) => {\n  const current =\n    new Date().getHours() * HOUR + new Date().getMinutes() * MINUTE;\n  const timeSnippets = schedule.map((el: any) => {\n    return {\n      from: getScheduleTimeInMilliseconds(el.from),\n      to: getScheduleTimeInMilliseconds(el.to),\n    };\n  });\n  return timeSnippets\n    .map((el: any) => {\n      return current >= el.from && current <= el.to;\n    })\n    .some((el: any) => el === true);\n};\n\nexport const getTimeHHMM = (date: Date) => {\n  return date.getHours() + \":\" + formatMinutesToMM(date.getMinutes());\n};\n\nexport const getScheduleUnitRowLength = (\n  schedule: Array<ScheduleUnitType>,\n  units: string\n) =>\n  schedule\n    .map((scheduleUnit: ScheduleUnitType) => {\n      return parseInt(scheduleUnit.to) - parseInt(scheduleUnit.from) + units;\n    })\n    .join(\" \");\n\nexport const formatMinutesToMM = (value: number) => {\n  if (value <= 9) return `0${value}`;\n  else return value;\n};\n\nexport const fullName = (user: User, withInitials = false) => {\n  if (user) {\n    if (user.nameTemp) return user.nameTemp\n    if (withInitials) {\n      return `${user.lastName} ${user.firstName.charAt(0)}. ${\n        user.patronymic ? user.patronymic.charAt(0) + \".\" : \"\"\n      }`;\n    } else {\n      return `${user.lastName} ${user.firstName} ${\n        user.patronymic ? user.patronymic : \"\"\n      }`;\n    }\n  }\n  return \"\";\n};\n\nexport const typeStyle = (occupied: OccupiedInfo, isDisabled = false) => {\n  const student = {backgroundColor: \"#2e287c\", color: \"#fff\"};\n  const employee = {backgroundColor: \"#ffc000\", color: \"#fff\"};\n  const vacant = {\n    backgroundColor: \"transparent\",\n    color: \"#000\",\n  };\n  const disabled = {\n    backgroundColor: \"#00000011\",\n    color: \"#454545\",\n  };\n  if (isDisabled) return disabled;\n  if (isNotFree(occupied)) {\n    switch (occupied.user.type) {\n      case UserTypes.STUDENT:\n        return student;\n      case UserTypes.POST_GRADUATE:\n        return student;\n      default:\n        return employee;\n    }\n  }\n  return vacant;\n};\n\n//get int from time unit. ex: \"9:15\" -> 36 where each 15 min == 1; ex: \"00:15\" -> 1, \"10:00\" ->40\nconst simpleIntFromScheduleUnit = (time: string) => {\n  const reducer = (accumulator: any, currentValue: any) =>\n    accumulator + currentValue;\n  return time\n    .split(\":\")\n    .map((el: string, index: number) => {\n      if (index === 0) {\n        return parseInt(el) * 4;\n      } else {\n        switch (parseInt(el)) {\n          case 0:\n            return 0;\n          case 15:\n            return 1;\n          case 30:\n            return 2;\n          case 45:\n            return 3;\n        }\n      }\n    })\n    .reduce(reducer);\n};\n\n//get schedule units size in fr units for grids\nexport const getScheduleUnitSize = (\n  units: Array<ScheduleUnitType>,\n  fillEmpty = true\n) => {\n  const items = [];\n  if (fillEmpty) {\n    items.push(parseInt(units[0].from) - WORKING_DAY_START);\n  }\n  for (let item of units) {\n    const from = simpleIntFromScheduleUnit(item.from);\n    const to = simpleIntFromScheduleUnit(item.to);\n    items.push((to as number) - (from as number));\n  }\n  if (fillEmpty) {\n    items.push(WORKING_DAY_END - parseInt(units[units.length - 1].to));\n  }\n\n  return items.map((item) => `${item}fr`).join(\" \");\n};\n\nexport const ISODateString = (d: Date) => {\n  function pad(n: any) {\n    return n < 10 ? \"0\" + n : n;\n  }\n\n  return (\n    d.getUTCFullYear() +\n    \"-\" +\n    pad(d.getUTCMonth() + 1) +\n    \"-\" +\n    pad(d.getUTCDate())\n  );\n};\n\nexport const scheduleUnitToDate = (item: ScheduleUnitType) => {\n  const from = item.from.split(':');\n  const to = item.to.split(':');\n  const fromHours = +from[0];\n  const fromMinutes = +from[1];\n  const toHours = +to[0];\n  const toMinutes = +to[1];\n  const fromDate = moment({hours: fromHours, minutes: fromMinutes, seconds: 0, milliseconds: 0});\n  const toDate = moment({hours: toHours, minutes: toMinutes, seconds: 0, milliseconds: 0});\n\n  return {\n    from: fromDate,\n    to: toDate\n  };\n};\n\nexport const isOccupiedOnSchedule = (scheduleUnits: ScheduleUnitType[]) => {\n  const result: any = [];\n\n  scheduleUnits.forEach(item => result.push(scheduleUnitToDate(item)));\n\n  return result.some((item: { from: Date, to: Date }) => {\n    const current = moment();\n\n    return current.isAfter(item.from) && current.isBefore(item.to);\n  });\n};\n\nexport const showNotification = (dispatcher: any, data: string[] | HTMLElement[] | ReactElement[]) => {\n  dispatcher({\n    header: data[0],\n    message: data[1],\n    type: data[2],\n  });\n};\n\nexport const setAccessRights = (user: User) => {\n  let accessRights = ACCESS_RIGHTS.USER;\n\n  if (user && user?.type) {\n    switch (user.type) {\n      case UserTypes.ADMIN:\n        accessRights = ACCESS_RIGHTS.ADMIN;\n        break;\n      case UserTypes.DISPATCHER:\n        accessRights = ACCESS_RIGHTS.DISPATCHER;\n        break;\n      default:\n        accessRights = ACCESS_RIGHTS.USER;\n    }\n  }\n\n  accessRightsVar(accessRights);\n};\n\nexport const isTeacherType = (type: UserTypes) => {\n  return type === UserTypes.TEACHER || type === UserTypes.CONCERTMASTER || type === UserTypes.ILLUSTRATOR;\n};\n\nexport const getTimeFromUntil = (until: string, minutesDuration = 2) => {\n  if (until) {\n    const differenceInMs = moment(until).diff(moment());\n    const tempTime = moment.duration(differenceInMs);\n\n    const resultHHMMSS = tempTime.hours() + ':' + tempTime.minutes() + ':' + tempTime.seconds();\n    const resultPercents = differenceInMs / ((MINUTE * minutesDuration) / 100);\n\n    return [resultHHMMSS, resultPercents];\n  }\n};\n\nexport const isPendingForMe = (occupied: OccupiedInfo, me: User, mode: Mode) => {\n  return (\n    (occupied.state === OccupiedState.PENDING || occupied.state === OccupiedState.RESERVED) &&\n    occupied.user.id === me.id\n    && mode === Mode.INLINE\n  );\n}\n\nexport const isOwnClassroom = (occupied: OccupiedInfo, me: User) => {\n  return occupied.state === OccupiedState.OCCUPIED && occupied.user.id === me.id;\n};\n\nexport const isOccupiedOrPendingByCurrentUser = (occupied: OccupiedInfo, currentUser: User) => {\n  return (\n    occupied.state === OccupiedState.OCCUPIED\n    || occupied.state === OccupiedState.PENDING\n    || occupied.state === OccupiedState.RESERVED\n        ) && occupied.user.id === currentUser.id;\n}\n\nexport const isNotFree = (occupied: OccupiedInfo) => {\n  return occupied.state !== OccupiedState.FREE;\n};\n\nexport const getIsMeOccupied = (me: CurrentUser, classrooms: ClassroomType[]) => {\n  return !!classrooms.find(({occupied}) => occupied.state === OccupiedState.OCCUPIED && me.id === occupied.user.id);\n};\n\nexport const hasOwnClassroom = (occupiedClassrooms: any) => {\n  const ownClassroom = occupiedClassrooms.find((classroom: any) => {\n    return classroom.state === OccupiedState.OCCUPIED || classroom.state === OccupiedState.RESERVED;\n  });\n  return ownClassroom ? ownClassroom.classroom.id : null;\n};\n\nexport const isEnabledForCurrentDepartment = (classroom: ClassroomType, currentUser: User) => {\n  return classroom.chair?.exclusivelyQueueAllowedDepartmentsInfo.length ?\n    classroom.chair?.exclusivelyQueueAllowedDepartmentsInfo\n      .some(({department}) => department.id === currentUser?.department?.id) : true;\n};\n\nexport const isEnabledForQueue = (classroom: ClassroomType, user: any) => {\n    const ownClassroomId = hasOwnClassroom(user.occupiedClassrooms);\n\n    return classroom.id !== ownClassroomId && !classroom.isHidden &&\n      classroom.disabled.state === DisabledState.NOT_DISABLED &&\n      isEnabledForCurrentDepartment(classroom, user) &&\n      !(user.occupiedClassrooms.some((data: any) => {\n        return data.classroom.id === classroom.id && data.state === OccupiedState.PENDING\n      }));\n};","import React from 'react';\nimport {View, Text, StyleSheet} from \"react-native\";\nimport {ActivityIndicator, Divider, Modal, Portal, Title} from \"react-native-paper\";\nimport {fullName, isTeacherType} from \"../helpers/helpers\";\nimport {useQuery} from \"@apollo/client\";\nimport {GET_USER_BY_ID} from \"../api/operations/queries/users\";\nimport {UserTypes, UserTypesUa} from \"../models/models\";\nimport {Linking} from 'react-native'\n\ninterface PropTypes {\n  userId: number;\n  hideModal: () => void;\n  visible: boolean;\n}\n\nexport default function UserInfo({userId, hideModal, visible}: PropTypes) {\n  const {data, loading, error} = useQuery(GET_USER_BY_ID, {\n    variables: {where: {id: userId}}\n  });\n\n  const openPhoneNumber = (phoneNumber: string) => Linking.openURL(`tel:${phoneNumber}`);\n\n  return <Portal>\n    <Modal visible={visible} onDismiss={hideModal} contentContainerStyle={styles.containerStyle}>\n      {!loading && !error ? <>\n          <Title style={styles.occupantName}>{data.user.nameTemp === null ? fullName(data.user) :\n            data.user.nameTemp}</Title>\n          <Divider style={styles.divider}/>\n          <Text>: {UserTypesUa[data.user.type as UserTypes]}</Text>\n          <Text>: {data.user.department?.name}</Text>\n          <Divider style={styles.divider}/>\n        {isTeacherType(data.user.type) && <>\n            <View style={styles.phoneRow}><Text>: </Text>\n                <Text onPress={() => openPhoneNumber(data.user.phoneNumber)} style={styles.phoneNumber}>\n                  {data.user.phoneNumber}\n                </Text>\n            </View>\n          {JSON.parse(data.user.extraPhoneNumbers).map((number: string, index: number) => {\n            return <View key={index} style={styles.phoneRow}>\n              <Text>{`. ${index + 2}: `}</Text>\n              <Text onPress={() => openPhoneNumber(number)} style={styles.phoneNumber}>\n                {number}\n              </Text>\n            </View>\n          })}\n        </>}\n      </> : <ActivityIndicator animating={true} color='#2e287c'/>}\n    </Modal>\n  </Portal>\n};\n\nconst styles = StyleSheet.create(({\n  occupantName: {},\n  containerStyle: {\n    backgroundColor: 'white',\n    padding: 20,\n    margin: 10,\n    borderRadius: 8\n  },\n  divider: {\n    marginTop: 16,\n    marginBottom: 16\n  },\n  phoneRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between'\n  },\n  phoneNumber: {\n    borderRadius: 8,\n    borderWidth: 1,\n    borderStyle: 'solid',\n    borderColor: '#eee',\n    padding: 8,\n    fontSize: 16,\n    marginTop: 8,\n    color: '#2b5dff'\n  }\n}));","import React, {useEffect, useState} from 'react';\nimport {StyleSheet, View, ScrollView, Dimensions} from \"react-native\";\nimport useUsers from \"../hooks/useUsers\";\nimport {ActivityIndicator, DataTable, Searchbar} from \"react-native-paper\";\nimport {UserTypes, UserTypesUa} from \"../models/models\";\nimport {fullName, isTeacherType} from \"../helpers/helpers\";\nimport UserInfo from \"../components/UserInfo\";\n\nconst windowHeight = Dimensions.get('window').height;\n\nexport default function Users() {\n  const users = useUsers();\n  const [pages, setPages] = useState(0);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [visible, setVisible] = useState(false);\n  const [currentUserId, setCurrentUserId] = useState(0);\n  const [searchText, setSearchText] = useState('');\n  const UserElement = ({user}: any) => <DataTable.Row onPress={() => showModal(user.id)}>\n    <DataTable.Cell>{fullName(user)}</DataTable.Cell>\n    <DataTable.Cell>{UserTypesUa[user.type as UserTypes]}</DataTable.Cell>\n  </DataTable.Row>;\n\n  const showModal = (userId: number) => {\n    setVisible(true);\n    setCurrentUserId(userId);\n  };\n\n  const hideModal = () => setVisible(false);\n\n  useEffect(() => {\n    setPages(users.length / 13)\n  }, [users]);\n\n  return <View>\n    <Searchbar\n      placeholder=\"\"\n      onChangeText={text => {\n        setSearchText(text);\n        setCurrentPage(0);\n      }}\n      value={searchText}\n      style={styles.search}\n    />\n    <DataTable>\n      <DataTable.Header style={styles.header}>\n        <DataTable.Title>...</DataTable.Title>\n        <DataTable.Title style={{alignSelf: 'center'}}></DataTable.Title>\n      </DataTable.Header>\n      {users.length ? <>\n        <View style={styles.list}>\n          <ScrollView>\n            {users?.filter(user => isTeacherType(user.type as UserTypes))\n              .slice()\n              //@ts-ignore\n              .sort((a , b) => fullName(a).toLowerCase() > fullName(b).toLowerCase())\n              .filter(user => fullName(user).toLowerCase().includes(searchText.toLowerCase()))\n              .slice(currentPage * 13, (currentPage * 13) + 13)\n              .map(user =>\n              <UserElement user={user}/>)}\n          </ScrollView>\n        </View>\n        <DataTable.Pagination\n          style={styles.pagination}\n          page={currentPage}\n          numberOfPages={pages}\n          onPageChange={page => {\n            setCurrentPage(page);\n          }}\n          label={`${currentPage * 13} - ${(currentPage * 13) + 13}  ${users.length}`}\n        />\n      </> : <ActivityIndicator animating={true} color='#2e287c'/>}\n    </DataTable>\n    {currentUserId ? <UserInfo userId={currentUserId} hideModal={hideModal} visible={visible}/> : null}\n  </View>\n}\n\nconst styles = StyleSheet.create(({\n  search: {\n    marginTop: 40,\n    marginBottom: -40\n  },\n  header: {\n    marginTop: 40,\n  },\n  list: {\n    height: windowHeight - 175\n  },\n  pagination: {\n    justifyContent: 'center',\n  }\n}));\n","import React, {useState} from 'react';\nimport {\n  SafeAreaView,\n  View,\n  StyleSheet,\n  Image,\n  Text,\n  Linking,\n} from 'react-native';\n\nimport {\n  DrawerContentScrollView,\n  DrawerItemList,\n} from '@react-navigation/drawer';\nimport {Avatar, Button, Dialog, IconButton, Portal} from \"react-native-paper\";\nimport {removeItem} from \"../api/asyncStorage\";\nimport {meVar} from \"../api/client\";\n\nconst CustomSidebarMenu = (props: any) => {\n  const [visible, setVisible] = useState(false);\n\n  const showDialog = () => setVisible(true);\n\n  const hideDialog = () => setVisible(false);\n\n  const logout = async () => {\n    await removeItem('user');\n    await removeItem('token');\n    meVar(null);\n    hideDialog();\n  };\n\n  return (\n    <SafeAreaView style={{flex: 1}}>\n      <Image\n        source={require('../assets/images/au_logo.png')}\n        style={styles.sideMenuProfileIcon}\n      />\n      <View style={styles.userData}>\n        <Avatar.Icon size={44} icon='account'/>\n        <Text style={styles.userName}>{meVar()?.firstName}, !</Text>\n        <IconButton\n          icon=\"logout\"\n          color=\"#f91354\"\n          size={30}\n          onPress={showDialog}\n          style={styles.logout}\n        />\n      </View>\n      <DrawerContentScrollView {...props}>\n        <DrawerItemList {...props} />\n      </DrawerContentScrollView>\n      <Text\n        style={{\n          fontSize: 16,\n          textAlign: 'center',\n          color: '#fff',\n          marginBottom: 16\n        }}\n        onPress={() => Linking.openURL('https://knmau.com.ua/')}\n      >\n         . ..\n      </Text>\n      <Portal>\n        <Dialog visible={visible} onDismiss={hideDialog}>\n          <Dialog.Title>     ?</Dialog.Title>\n          <Dialog.Actions>\n            <Button onPress={hideDialog}></Button>\n            <Button onPress={logout}></Button>\n          </Dialog.Actions>\n        </Dialog>\n      </Portal>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  sideMenuProfileIcon: {\n    resizeMode: 'center',\n    width: 200,\n    height: 70,\n    marginTop: 50,\n    alignSelf: 'center',\n  },\n  iconStyle: {\n    width: 15,\n    height: 15,\n    marginHorizontal: 5,\n  },\n  customItem: {\n    padding: 16,\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  userData: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginTop: 20,\n    marginHorizontal: 10,\n    borderRadius: 8,\n    borderWidth: 1,\n    padding: 12,\n    borderColor: '#ffffff22',\n    flexDirection: 'row'\n  },\n  userName: {\n    color: '#fff',\n    fontSize: 20,\n    paddingLeft: 10\n  },\n  logout: {\n    marginRight: -10,\n    marginVertical: -10\n  }\n});\n\nexport default CustomSidebarMenu;","import {gql} from \"@apollo/client\";\r\n\r\nexport const GET_ME = gql`\r\n    query meType {\r\n        me @client\r\n    }\r\n`;","import React, {useEffect, useState} from 'react';\nimport {StyleSheet, View, Text} from \"react-native\";\nimport {Appbar, Divider, Title} from \"react-native-paper\";\nimport {useQuery} from \"@apollo/client\";\nimport {GET_ME} from \"../api/operations/queries/me\";\nimport {fullName} from \"../helpers/helpers\";\nimport {UserTypes, UserTypesUa} from \"../models/models\";\nimport {getItem} from \"../api/asyncStorage\";\n\nexport default function Profile({navigation}: any) {\n  const {data: {me}} = useQuery(GET_ME);\n\n  const goBack = () => navigation.goBack();\n\n  return (\n    <View>\n      <Appbar style={styles.top}>\n        <Appbar.BackAction onPress={goBack}/>\n        <Appbar.Content\n          title=' '\n        />\n      </Appbar>\n      <View style={styles.wrapper}>\n        <Title>...</Title>\n        <Text style={{marginBottom: 10}}>{fullName(me)}</Text>\n        <Divider/>\n        <Title>  (ID)</Title>\n        <Text style={{marginBottom: 10}}>{me.id}</Text>\n        <Divider/>\n        <Title> </Title>\n        <Text style={{marginBottom: 10}}>{UserTypesUa[me.type as UserTypes]}</Text>\n        <Divider/>\n        {me.department && (\n          <>\n            <Title></Title>\n            <Text style={{marginBottom: 10}}>{me.department?.name}</Text>\n            <Divider/>\n          </>\n        )}\n        <Title>E-mail</Title>\n        <Text style={{marginBottom: 10}}>{me.email}</Text>\n        <Divider/>\n        <Title></Title>\n        <Text style={{marginBottom: 10}}>{me.phoneNumber}</Text>\n        <Divider/>\n        <Title>  </Title>\n        <Text style={{marginBottom: 10}}>{me.expireDate}</Text>\n        <Divider/>\n      </View>\n    </View>\n  )\n}\n\nconst styles = StyleSheet.create({\n  top: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    paddingTop: 26,\n    height: 80,\n    backgroundColor: '#2e287c',\n  },\n  wrapper: {\n    marginTop: 100,\n    marginLeft: 16,\n    marginRight: 16,\n  },\n});","import {gql, useQuery} from \"@apollo/client\";\n\nexport const useLocal = (localVarName: string) => {\n  return useQuery(gql`\n      query ${localVarName} {\n        ${localVarName} @client\n      }\n  `);\n};","import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_CLASSROOM = gql`\r\n  query getClassroom($where: ClassroomWhereUniqueInput!) {\r\n    classroom(where: $where) {\r\n      id\r\n      description\r\n      name\r\n      floor\r\n      special\r\n      isHidden\r\n      chair {\r\n          id\r\n          name\r\n          exclusivelyQueueAllowedDepartmentsInfo {\r\n            department {\r\n              id\r\n              name\r\n            }\r\n          }\r\n      }\r\n      isWing\r\n      isOperaStudio\r\n      occupied {\r\n        user {\r\n          id\r\n          firstName\r\n          patronymic\r\n          lastName\r\n          type\r\n          nameTemp\r\n          email\r\n          phoneNumber\r\n        }\r\n        until\r\n        state\r\n      }\r\n      instruments {\r\n        name\r\n        type\r\n        rate\r\n      }\r\n      disabled {\r\n        comment\r\n        until\r\n        state\r\n      }\r\n    }\r\n  }\r\n`;","import React from 'react';\nimport {View, Text, StyleSheet, Image} from \"react-native\";\nimport {Divider, Modal, Portal, Title} from \"react-native-paper\";\nimport {fullName, isTeacherType} from \"../helpers/helpers\";\nimport {useQuery} from \"@apollo/client\";\nimport {GET_USER_BY_ID} from \"../api/operations/queries/users\";\nimport {InstrumentType, UserTypes, UserTypesUa} from \"../models/models\";\nimport {Linking} from 'react-native'\n\ninterface PropTypes {\n  instrument: InstrumentType;\n  hideModal: () => void;\n  visible: boolean;\n  imageSource: string;\n}\n\nexport default function InstrumentInfo({instrument, hideModal, visible}: PropTypes) {\n  let instrumentType: any = `./../assets/images/UpRightPiano.png`;\n  // @ts-ignore\n  const intRate = Math.round(instrument.rate);\n  const rate = new Array(10).fill(1);\n\n  switch (instrument.type) {\n    case 'Chembalo':\n      instrumentType = <Image source={require(`./../assets/images/Chembalo.png`)} style={styles.icon}/>;\n      break;\n    case 'GrandPiano':\n      instrumentType = <Image source={require(`./../assets/images/GrandPiano.png`)} style={styles.icon}/>;\n      break;\n    case 'UpRightPiano':\n      instrumentType = <Image source={require(`./../assets/images/UpRightPiano.png`)} style={styles.icon}/>;\n      break;\n    default:\n      instrumentType = <Image source={require(`./../assets/images/GrandPiano.png`)} style={styles.icon}/>;\n  }\n\n  return <Portal>\n    <Modal visible={visible} onDismiss={hideModal} contentContainerStyle={styles.containerStyle}>\n      <Title style={{textAlign: 'center'}}>{instrumentType} {instrument.name}</Title>\n      <Divider style={styles.divider}/>\n      <Text style={{textAlign: 'center'}}>: {instrument.type}</Text>\n      <Divider style={styles.divider}/>\n      <Text style={{textAlign: 'center'}}>: {instrument.rate.toFixed(1)}</Text>\n      <View style={styles.rate}>\n        {rate.map((item, index) => <Image key={index}\n          style={{...styles.star, opacity: index < intRate ? 1 : .3}}\n          source={require('../assets/images/star.png')}\n        />)}\n      </View>\n    </Modal>\n  </Portal>\n};\n\nconst styles = StyleSheet.create(({\n  containerStyle: {\n    backgroundColor: 'white',\n    padding: 20,\n    margin: 10,\n    borderRadius: 8\n  },\n  divider: {\n    marginTop: 16,\n    marginBottom: 16\n  },\n  phoneRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between'\n  },\n  phoneNumber: {\n    borderRadius: 8,\n    borderWidth: 1,\n    borderStyle: 'solid',\n    borderColor: '#eee',\n    padding: 8,\n    fontSize: 16,\n    marginTop: 8,\n    color: '#2b5dff'\n  },\n  icon: {\n    width: 20,\n    height: 20,\n    marginRight: 8,\n    marginLeft: 4,\n    opacity: .6\n  },\n  star: {\n    width: 20,\n    height: 20\n  },\n  rate: {\n    marginTop: 8,\n    flexDirection: 'row',\n    justifyContent: 'center'\n  }\n}));","import React, {useState} from 'react';\nimport {View, StyleSheet, Text, Dimensions, Image} from \"react-native\";\nimport {ClassroomType, InstrumentType} from \"../models/models\";\nimport InstrumentInfo from \"./InstrumentInfo\";\n\ninterface PropTypes {\n  instrument: InstrumentType;\n  expanded?: boolean;\n}\n\nexport default function InstrumentItem({instrument, expanded = false}: PropTypes) {\n  const {type, rate, name} = instrument;\n  let instrumentType: any = `./../assets/images/UpRightPiano.png`;\n  const [visible, setVisible] = useState(false);\n\n  const showModal = () => setVisible(true);\n\n  const hideModal = () => setVisible(false);\n\n  switch (type) {\n    case 'Chembalo':\n      instrumentType = <Image source={require(`./../assets/images/Chembalo.png`)} style={styles.icon}/>;\n      break;\n    case 'GrandPiano':\n      instrumentType = <Image source={require(`./../assets/images/GrandPiano.png`)} style={styles.icon}/>;\n      break;\n    case 'UpRightPiano':\n      instrumentType = <Image source={require(`./../assets/images/UpRightPiano.png`)} style={styles.icon}/>;\n      break;\n    default:\n      instrumentType = <Image source={require(`./../assets/images/GrandPiano.png`)} style={styles.icon}/>;\n  }\n\n  return <View style={styles.wrapper} onTouchEnd={expanded ? showModal : () => {}}>\n    {instrumentType}\n    {expanded && <>\n        <Text style={styles.name}>{name}</Text>\n        <Image style={styles.star} source={require('../assets/images/star.png')}/>\n    </>}\n    <Text>{rate.toFixed(1)}</Text>\n    <InstrumentInfo instrument={instrument} hideModal={hideModal} visible={visible}\n                    imageSource={instrumentType}/>\n  </View>\n};\n\nconst styles = StyleSheet.create({\n  wrapper: {\n    flexDirection: 'row',\n    marginTop: 4,\n    marginBottom: 4,\n    marginRight: 2,\n    backgroundColor: 'rgba(0, 0, 0, .05)',\n    paddingTop: 4,\n    paddingBottom: 4,\n    paddingLeft: 4,\n    paddingRight: 8,\n    borderRadius: 4,\n    alignItems: 'center'\n  },\n  icon: {\n    width: 20,\n    height: 20,\n    marginRight: 8,\n    marginLeft: 4,\n    opacity: .6\n  },\n  name: {\n    marginLeft: 4,\n    marginRight: 4\n  },\n  star: {\n    width: 20,\n    height: 20\n  }\n});","import {Mode, OccupiedInfo, OccupiedState, User} from \"../models/models\";\nimport React, {useEffect, useRef, useState} from \"react\";\nimport {useQuery} from \"@apollo/client\";\nimport {GET_ME} from \"../api/operations/queries/me\";\nimport {useLocal} from \"./useLocal\";\nimport {getTimeFromUntil, isNotFree, isPendingForMe} from \"../helpers/helpers\";\n\nconst useTimeLeft = (occupied: OccupiedInfo, minutesDuration: number) => {\n  const [timeLeft, setTimeLeft] = useState('');\n  const [timeLeftInPer, setTimeLeftInPer] = useState(100);\n  const interval = useRef<any>({current: null});\n  const {data: {me}} = useQuery(GET_ME);\n\n  useEffect(() => {\n    if (isNotFree(occupied) && occupied.user.id === me.id  && interval.current !== null) {\n      // @ts-ignore\n      interval.current = setInterval(() => {\n        // @ts-ignore\n        const [left, leftPer] = getTimeFromUntil(occupied.until, minutesDuration);\n        const hour: string = (left as string).split(':')?.[0] + ' . ';\n        const min: string = (left as string).split(':')?.[1] + ' . ';\n        const sec: string = (left as string).split(':')?.[2] + ' . ';\n\n        setTimeLeft(hour + min + sec);\n        setTimeLeftInPer(leftPer as number);\n        if (timeLeftInPer <= 0) clearInterval(interval.current);\n      }, 1000);\n    } else {\n      clearInterval(interval.current);\n      interval.current = null;\n      setTimeLeft('');\n    }\n  }, [occupied.state]);\n\n  return [timeLeft, timeLeftInPer];\n};\n\nexport default useTimeLeft;","export const HOUR = 3600000;\r\nexport const MINUTE = 60000;\r\nexport const TIME_SNIPPETS = [\":00\", \":15\", \":30\", \":45\"];\r\nexport const WORKING_DAY_END = 21;\r\nexport const WORKING_DAY_START = 8;","import React, {useState} from 'react';\nimport {fullName, getTimeHHMM, isNotFree, isOwnClassroom, isPendingForMe} from \"../helpers/helpers\";\nimport {StyleSheet, Text, View} from \"react-native\";\nimport {Banner, Button, Paragraph, ProgressBar, Surface} from \"react-native-paper\";\nimport {ClassroomType, Mode, OccupiedState, User, UserTypeColors, UserTypes, UserTypesUa} from \"../models/models\";\nimport colors from \"../constants/Colors\";\nimport UserInfo from \"./UserInfo\";\nimport {useLocal} from \"../hooks/useLocal\";\nimport useTimeLeft from \"../hooks/useTimeLeft\";\n\ntype PropTypes = {\n  classroom: ClassroomType;\n  user: User;\n}\n\nconst OccupantInfo: React.FC<PropTypes> = ({classroom, user}) => {\n  const {data: {mode}} = useLocal('mode');\n  const userFullName = isNotFree(classroom?.occupied) ? fullName(classroom.occupied?.user) : '';\n  const occupiedTotalTime = classroom.occupied.state === OccupiedState.OCCUPIED ? 180 :\n    classroom.occupied.state === OccupiedState.RESERVED ? 15 : 2;\n  const [timeLeft, timeLeftInPer] = useTimeLeft(classroom?.occupied, occupiedTotalTime);\n  const [visibleBanner, setVisibleBanner] = useState(true);\n  const [visible, setVisible] = useState(false);\n\n  const showModal = () => setVisible(true);\n\n  const hideModal = () => setVisible(false);\n\n  return <>{!isNotFree(classroom.occupied)\n    ? <Text style={styles.freeText}></Text>\n    : !isPendingForMe(classroom.occupied, user, mode) && (\n    <Surface style={[{elevation: visible ? 0 : 4}, styles.occupationInfo]}\n             onTouchEnd={showModal}\n    >\n      <Text style={styles.occupantName}>{userFullName}</Text>\n      <Text style={[{\n        backgroundColor: UserTypeColors[classroom.occupied.user.type as UserTypes]\n      },\n        styles.occupantType\n      ]}\n      >\n        {UserTypesUa[classroom.occupied.user.type as UserTypes]}\n      </Text>\n      {isOwnClassroom(classroom.occupied, user) ? (\n        timeLeftInPer > 0 && <View style={{marginTop: 30}}>\n            <Paragraph>\n                   : {timeLeft}\n            </Paragraph>\n            <ProgressBar progress={timeLeftInPer as number / 100} visible color={colors.red}\n                         style={styles.progressBar}\n            />\n        </View>\n      ) : (\n        <Text style={styles.occupiedUntil}>  {getTimeHHMM(new Date(classroom.occupied.until))}</Text>\n      )}\n      <UserInfo userId={classroom.occupied.user.id} hideModal={hideModal} visible={visible}/>\n    </Surface>\n  )}\n    {classroom.occupied.state === OccupiedState.RESERVED &&\n    classroom.occupied.user.id === user.id && (\n      <>\n        {timeLeftInPer > 0 && <View style={styles.spaceBottom30}>\n            <Banner visible={visibleBanner} actions={[{\n              label: '',\n              onPress: () => setVisibleBanner(false)\n            }]}\n                    style={styles.spaceBottom30}\n            >      .      - 3 .\n            </Banner>\n            <Paragraph>\n                   : {timeLeft}\n            </Paragraph>\n            <ProgressBar progress={timeLeftInPer as number / 100} visible color={colors.red}\n                         style={styles.progressBar}\n            />\n        </View>}\n      </>\n    )}\n    {classroom.occupied.state === OccupiedState.PENDING &&\n    classroom.occupied.user.id === user.id && mode === Mode.INLINE && (\n      <>\n        {timeLeftInPer > 0 && <View style={styles.spaceBottom30}>\n            <Banner visible={visibleBanner} actions={[{\n              label: '',\n              onPress: () => setVisibleBanner(false)\n            }]}\n                    style={styles.spaceBottom30}\n            >\n              {\n                `    ${user.queueInfo.currentSession?.skips} ${user.queueInfo.currentSession?.skips === 2 || user.queueInfo.currentSession?.skips === 3 || user.queueInfo.currentSession?.skips === 4 ? '.' : '.'\n                }         ,    .              ,        .`\n              }\n            </Banner>\n            <Paragraph>\n                    : {timeLeft}\n            </Paragraph>\n            <ProgressBar progress={timeLeftInPer as number / 100} visible color={colors.red}\n                         style={styles.progressBar}\n            />\n        </View>}\n        <View>\n          <Button mode='contained' style={{marginBottom: 8}} color='#f91354'>\n             \n          </Button>\n          <Button mode='contained'> </Button>\n        </View>\n      </>\n    )}\n  </>\n}\n\nconst styles = StyleSheet.create({\n  occupationInfo: {\n    borderRadius: 8,\n    padding: 16\n  },\n  freeText: {\n    textAlign: 'center',\n    fontSize: 20,\n    borderColor: '#ddd',\n    borderWidth: 1,\n    borderStyle: 'solid',\n    alignSelf: 'center',\n    paddingVertical: 8,\n    paddingHorizontal: 32,\n    borderRadius: 32,\n    color: '#bbb'\n  },\n  occupantName: {\n    textAlign: 'center',\n    fontSize: 16,\n  },\n  occupantType: {\n    color: '#fff',\n    textAlign: 'center',\n    alignSelf: 'center',\n    paddingVertical: 2,\n    paddingHorizontal: 4,\n    marginTop: 8,\n    borderRadius: 4,\n  },\n  occupiedUntil: {\n    textAlign: 'center',\n    marginTop: 8\n  },\n  progressBar: {\n    height: 24,\n    borderRadius: 6,\n  },\n  spaceBottom30: {\n    marginBottom: 30,\n    backgroundColor: '#ffffff'\n  }\n});\n\nexport default OccupantInfo;","import {gql} from \"@apollo/client\";\n\nexport const ADD_USER_TO_QUEUE = gql`\n    mutation addUserToQueue($input: AddUserToQueueInputType!) {\n        addUserToQueue(input: $input) {\n          user {\n            id\n            firstName\n            lastName\n            occupiedClassrooms {\n              id\n              state\n              until\n              classroom {\n                id\n              }\n            }\n            queueInfo {\n              id\n              currentSession {\n                id\n                state\n                skips\n              }\n            }\n          }\n          userErrors {\n              message\n              code\n            }\n        }\n    }\n`;","import {client, meVar, minimalClassroomIdsVar, modeVar} from \"../../api/client\";\nimport {EnqueuedBy, Mode, QueueState, QueueType, User} from \"../../models/models\";\nimport {ADD_USER_TO_QUEUE} from \"../../api/operations/mutations/addUserToQueue\";\n\nconst getInLine = async (minimalClassroomsIds: number[], desirableClassroomIds: number[]) => {\n  const user: User | null = meVar();\n\n  const allClassroomIds = [...(new Set([...minimalClassroomsIds, ...desirableClassroomIds]))];\n\n  const minimalData = allClassroomIds.map(id => ({\n    classroomId: id,\n    type: QueueType.MINIMAL\n  }));\n\n  const desirableData = desirableClassroomIds.map(id => ({\n    classroomId: id,\n    type: QueueType.DESIRED\n  }));\n\n  try {\n    await client.mutate({\n      mutation: ADD_USER_TO_QUEUE, variables: {\n        input: {\n          userId: user.id,\n          data: [...minimalData, ...desirableData],\n          enqueuedBy: EnqueuedBy.SELF\n        }\n      }\n    })\n    modeVar(Mode.INLINE);\n    minimalClassroomIdsVar(allClassroomIds);\n  } catch (e) {\n    alert(JSON.stringify(e));\n  }\n};\n\nexport  default getInLine;","import {gql} from \"@apollo/client\";\n\nexport const REMOVE_USER_FROM_QUEUE = gql`\n    mutation removeUserFromQueue($input: RemoveUserFromQueueInputType!) {\n        removeUserFromQueue(input: $input) {\n           user {\n            id\n            firstName\n            lastName\n            occupiedClassrooms {\n              id\n              state\n              until\n              classroom {\n                id\n              }\n            }\n            }\n            userErrors {\n             message\n             code\n            }\n        }\n    }\n`;","import {QueueSession, QueueType, User, UserQueueState} from \"../../models/models\";\nimport {getItem} from \"../../api/asyncStorage\";\nimport {client, desirableClassroomIdsVar, isMinimalSetupVar, minimalClassroomIdsVar} from \"../../api/client\";\nimport {REMOVE_USER_FROM_QUEUE} from \"../../api/operations/mutations/removeUserFromQueue\";\n\nexport default async function removeFromLine(classroomId?: number, currentSession?: QueueSession) {\n  const user: User | undefined = await getItem('user');\n  if (classroomId) {\n    try {\n      await client.mutate({\n        mutation: REMOVE_USER_FROM_QUEUE,\n        variables: {\n          input: {\n            userId: user.id,\n            deleteWhere: {\n              classroomId: {\n                equals: classroomId\n              },\n              type: {\n                equals: currentSession.state === UserQueueState.IN_QUEUE_MINIMAL\n                  ? QueueType.MINIMAL : QueueType.DESIRED\n              }\n            }\n          }\n        }\n      });\n      minimalClassroomIdsVar([]);\n      desirableClassroomIdsVar([]);\n      isMinimalSetupVar(true);\n    } catch (e) {\n      alert(JSON.stringify(e))\n    }\n  } else {\n    try {\n      await client.mutate({\n        mutation: REMOVE_USER_FROM_QUEUE,\n        variables: {\n          input: {\n            userId: user.id\n          }\n        }\n      });\n      minimalClassroomIdsVar([]);\n      desirableClassroomIdsVar([]);\n      isMinimalSetupVar(true);\n    } catch (e) {\n      alert(JSON.stringify(e))\n    }\n  }\n};","import React, {useState} from 'react';\nimport {useLocal} from \"../hooks/useLocal\";\nimport {Button, Divider} from \"react-native-paper\";\nimport {desirableClassroomIdsVar, minimalClassroomIdsVar} from \"../api/client\";\nimport {StyleSheet} from \"react-native\";\nimport {ClassroomType, Mode, QueueRecord, QueueType, User, UserQueueState} from \"../models/models\";\nimport getInLine from \"../helpers/queue/getInLine\";\nimport WaitDialog from \"./WaitDialog\";\nimport {isEnabledForQueue} from \"../helpers/helpers\";\nimport {useNavigation} from \"@react-navigation/native\";\nimport removeFromLine from \"../helpers/queue/removeFromLine\";\n\ntype PropTypes = {\n  classroom: ClassroomType;\n  currentUser: User;\n}\n\nconst ClassroomQueueControlButtons: React.FC<PropTypes> = ({\n                                                             classroom, currentUser: {\n    queueInfo: {currentSession}, queue, ...currentUser\n  }\n                                                           }) => {\n  const {data: {mode}} = useLocal('mode');\n  const {data: {isMinimalSetup}} = useLocal('isMinimalSetup');\n  const {data: {desirableClassroomIds}} = useLocal('desirableClassroomIds');\n  const {data: {minimalClassroomIds}} = useLocal('minimalClassroomIds');\n  const currentRecord: QueueRecord[] = currentSession?.state === UserQueueState.IN_QUEUE_MINIMAL\n    && queue.filter(queueRecord => queueRecord.classroom.id === classroom.id);\n  const [loading, setLoading] = useState(false);\n  const navigation = useNavigation();\n\n  const handleClassroomForQueue = async () => {\n    if (isMinimalSetup) {\n      const minimalSet = new Set([...minimalClassroomIds]);\n      minimalSet.has(classroom.id) ? minimalSet.delete(classroom.id) : minimalSet.add(classroom.id)\n      minimalClassroomIdsVar([...minimalSet]);\n    } else {\n      const desiredSet = new Set([...desirableClassroomIds]);\n      desiredSet.has(classroom.id) ? desiredSet.delete(classroom.id) : desiredSet.add(classroom.id)\n      desirableClassroomIdsVar([...desiredSet]);\n    }\n    navigation.goBack();\n  };\n\n  const asyncHandleClassroomForQueue = async (exist: boolean) => {\n    setLoading(true);\n    if (currentSession?.state === UserQueueState.IN_QUEUE_MINIMAL) {\n      if (exist) {\n        await removeFromLine(classroom.id, currentSession)\n      } else {\n        await getInLine([classroom.id], []);\n      }\n    } else if (currentSession?.state === UserQueueState.IN_QUEUE_DESIRED_AND_OCCUPYING) {\n      if (exist) {\n        await removeFromLine(classroom.id, currentSession)\n      } else {\n        await getInLine([], [classroom.id]);\n      }\n    }\n    setLoading(false);\n    navigation.goBack();\n  };\n  if (!isEnabledForQueue(classroom, currentUser)) return null;\n  return (\n    <>\n      <WaitDialog visible={loading}/>\n      {mode === Mode.QUEUE_SETUP && (\n        <>\n          <Divider style={styles.divider}/>\n          {isMinimalSetup ? (\n            minimalClassroomIds.includes(classroom.id) ? (\n              <Button mode='contained' style={{marginBottom: 8}}\n                      onPress={handleClassroomForQueue}\n              >\n                   ()\n              </Button>\n            ) : (\n              <Button mode='contained' style={{marginBottom: 8}}\n                      onPress={handleClassroomForQueue}\n              >\n                   ()\n              </Button>\n            )\n          ) : (\n            desirableClassroomIds.includes(classroom.id) ? (\n              <Button mode='contained' style={{marginBottom: 8}}\n                      onPress={handleClassroomForQueue}\n              >\n                   ()\n              </Button>\n            ) : (\n              <Button mode='contained' style={{marginBottom: 8}}\n                      onPress={handleClassroomForQueue}\n              >\n                   ()\n              </Button>\n            )\n          )}\n        </>\n      )}\n      {(currentSession?.state === UserQueueState.IN_QUEUE_MINIMAL\n        || currentSession?.state === UserQueueState.IN_QUEUE_DESIRED_AND_OCCUPYING)\n      && (\n        <>\n          <Divider style={styles.divider}/>\n          {currentRecord.some(({type}) => type === QueueType.MINIMAL) ? (\n            <Button mode='contained' style={{marginBottom: 8}}\n                    onPress={() => asyncHandleClassroomForQueue(true)}\n            >\n                \n            </Button>\n          ) : (\n            <Button mode='contained' style={{marginBottom: 8}}\n                    onPress={() => asyncHandleClassroomForQueue(false)}\n            >\n                \n            </Button>\n          )}\n        </>\n      )}\n    </>\n  );\n}\n\nconst styles = StyleSheet.create(\n  {\n    divider: {\n      marginTop: 16,\n      marginBottom: 16\n    },\n  }\n)\n\nexport default ClassroomQueueControlButtons;","import {gql} from \"@apollo/client\";\n\nexport const RESERVE_FREE_CLASSROOM = gql`\n    mutation reserveFreeClassroom($input: ReserveFreeClassroomInput!) {\n        reserveFreeClassroom(input: $input) {\n          classroom {\n            id\n            occupied {\n              user {\n                id\n                firstName\n                patronymic\n                lastName\n                type\n                nameTemp\n              }\n              until\n              state\n            }\n          }\n          userErrors {\n            message\n            code\n          }\n        }\n    }\n`;","import React, {useEffect, useState} from 'react';\nimport {StyleSheet, Text, View} from \"react-native\";\nimport {\n  ClassroomType,\n  DisabledState,\n  InstrumentType,\n  OccupiedState,\n  UserQueueState\n} from \"../models/models\";\nimport {ActivityIndicator, Appbar, Button, Chip, Divider, Title} from \"react-native-paper\";\nimport {useNavigation} from \"@react-navigation/native\";\nimport {useQuery} from \"@apollo/client\";\nimport {isEnabledForCurrentDepartment, isOccupiedOrPendingByCurrentUser} from \"../helpers/helpers\";\nimport {useLocal} from \"../hooks/useLocal\";\nimport {client} from \"../api/client\";\nimport Colors from \"../constants/Colors\";\nimport {GET_CLASSROOM} from \"../api/operations/queries/classroom\";\nimport {GET_USER_BY_ID} from \"../api/operations/queries/users\";\nimport moment from \"moment\";\nimport InstrumentItem from \"./InstrumentItem\";\nimport OccupantInfo from \"./OccupantInfo\";\nimport ClassroomQueueControlButtons from \"./ClassroomQueueControlButtons\";\nimport {RESERVE_FREE_CLASSROOM} from \"../api/operations/mutations/reserveFreeClassroom\";\n\ninterface PropTypes {\n  route: any;\n}\n\nexport default function ClassroomInfo({route: {params: {classroomId, currentUserId}}}: PropTypes) {\n  const navigation = useNavigation();\n  const [loading, setLoading] = useState(false);\n  const [classroom, setClassroom] = useState<ClassroomType | null>(null);\n  const {\n    data: userData,\n    loading: userLoading,\n    error: userError,\n  } = useQuery(GET_USER_BY_ID, {\n    variables: {\n      where: {\n        id: currentUserId\n      }\n    }\n  });\n  const {data: {mode}} = useLocal('mode');\n  const {data: {isMinimalSetup}} = useLocal('isMinimalSetup');\n  const {data: {desirableClassroomIds}} = useLocal('desirableClassroomIds');\n  const {data: {minimalClassroomIds}} = useLocal('minimalClassroomIds');\n\n  useEffect(() => {\n    setLoading(true);\n    try {\n      client.query({\n        query: GET_CLASSROOM,\n        variables: {\n          where: {\n            id: classroomId\n          }\n        },\n      }).then(({data}: any) => {\n        setClassroom(data.classroom);\n        setLoading(false);\n      });\n    } catch (e) {\n      alert(JSON.stringify(e));\n      setLoading(false);\n    }\n  }, []);\n\n  const goBack = () => navigation.goBack();\n\n  const getReservedClassroom = async () => {\n    setLoading(true);\n    try {\n    const result = await client.mutate({\n      mutation: RESERVE_FREE_CLASSROOM,\n      variables: {\n        input: {\n          classroomName: classroom.name\n        }\n      }\n    });\n    if (result.data.reserveFreeClassroom.userErrors.length) {\n      result.data.reserveFreeClassroom.userErrors.forEach(({message}: any) => {\n        alert(JSON.stringify(message))\n      })\n    } else {\n      goBack();\n      setLoading(false);\n    }\n    } catch (e) {\n      alert(JSON.stringify(e));\n      setLoading(false);\n    }\n  };\n\n  return <View style={styles.container}>\n    <Appbar style={styles.top}>\n      <Appbar.BackAction onPress={goBack}/>\n      {classroom && userData && (\n        <Appbar.Content\n          title={` ${classroom.name}`}\n          subtitle={classroom.chair ? classroom.chair.name : ''}\n        />\n      )}\n    </Appbar>\n    <View style={styles.wrapper}>\n      {(!classroom || !userData) ? <ActivityIndicator animating color='#fff' size={64}/> : (\n        <View>\n          {!isEnabledForCurrentDepartment(classroom, userData.user) && (\n            <View style={styles.warning}>\n              <Title style={styles.warningText}>    </Title>\n            </View>\n          )}\n          {classroom.disabled.state === DisabledState.DISABLED && (\n            <View style={styles.warning}>\n              <Title style={styles.warningText}>   </Title>\n              <Title style={styles.warningText}>{classroom.disabled.comment}</Title>\n              <Title style={styles.warningText}>\n                 {moment(classroom.disabled.until).format('DD-MM-YYYY HH:mm')}\n              </Title>\n            </View>\n          )}\n          {classroom.isHidden && (\n            <View style={styles.warning}>\n              <Title style={styles.warningText}> </Title>\n            </View>\n          )}\n          <View style={styles.tags}>\n            {classroom.isWing && <Chip selected selectedColor='#00f' mode='outlined'\n                                       style={styles.tag}></Chip>}\n            {classroom.isOperaStudio && <Chip selected selectedColor='#00f' mode='outlined'\n                                              style={styles.tag}> </Chip>}\n            {classroom.special && <Chip selected selectedColor='#00f' mode='outlined'\n                                        style={styles.tag}></Chip>}\n          </View>\n          <Divider style={styles.divider}/>\n          <View>\n            <Text style={{textAlign: 'center'}}>{classroom.description}</Text>\n          </View>\n          <Divider style={styles.divider}/>\n          <View>\n            <Text style={{textAlign: 'center'}}>: {classroom.floor}</Text>\n          </View>\n          <Divider style={styles.divider}/>\n          <View>\n            {!!classroom.instruments.length && (\n              <>\n                {classroom.instruments?.map((instrument: InstrumentType) => (\n                  <InstrumentItem key={instrument.id} instrument={instrument} expanded/>\n                ))}\n                <Divider style={styles.divider}/>\n              </>\n            )}\n          </View>\n          <OccupantInfo classroom={classroom} user={userData.user}/>\n          {classroom.occupied.state !== OccupiedState.FREE\n          && !isOccupiedOrPendingByCurrentUser(classroom.occupied, userData.user)\n          && <ClassroomQueueControlButtons classroom={classroom} currentUser={userData.user}/>\n          }\n          {classroom.disabled.state !== DisabledState.DISABLED\n          && classroom.occupied.state === OccupiedState.FREE\n          && userData.user?.queueInfo.currentSession?.state !== UserQueueState.OCCUPYING\n          && userData.user?.queueInfo.currentSession?.state !== UserQueueState.IN_QUEUE_DESIRED_AND_OCCUPYING\n          && (\n            <>\n              <Divider style={styles.divider}/>\n              <Button mode='contained' onPress={getReservedClassroom} disabled={!classroom || loading}>\n                 \n              </Button>\n            </>\n          )}\n        </View>\n      )}\n    </View>\n  </View>\n};\n\nconst styles = StyleSheet.create({\n  top: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    paddingTop: 26,\n    height: 80,\n    backgroundColor: '#2e287c',\n  },\n  container: {\n    backgroundColor: '#ffffff',\n    height: '100%'\n  },\n  wrapper: {\n    marginTop: 100,\n    paddingLeft: 16,\n    paddingRight: 16,\n    backgroundColor: '#fff',\n    height: '100%'\n  },\n  warning: {\n    backgroundColor: '#f9135411',\n    borderColor: Colors.red,\n    borderWidth: 2,\n    borderRadius: 8,\n    padding: 16,\n    marginBottom: 16\n  },\n  warningText: {\n    fontWeight: \"bold\",\n    color: Colors.red,\n    textAlign: \"center\"\n  },\n  divider: {\n    marginTop: 16,\n    marginBottom: 16\n  },\n  department: {\n    fontSize: 20,\n    marginBottom: 16,\n    textAlign: 'center'\n  },\n  tags: {\n    flexDirection: 'row',\n    justifyContent: 'center'\n  },\n  tag: {\n    marginRight: 8\n  },\n  description: {\n    fontSize: 16,\n  },\n  scheduleHeader: {\n    textAlign: 'center',\n    marginBottom: 16,\n  },\n  occupationInfo: {\n    borderRadius: 8,\n    padding: 16\n  },\n  freeText: {\n    textAlign: 'center',\n    fontSize: 20,\n    borderColor: '#ddd',\n    borderWidth: 1,\n    borderStyle: 'solid',\n    alignSelf: 'center',\n    paddingVertical: 8,\n    paddingHorizontal: 32,\n    borderRadius: 32,\n    color: '#bbb'\n  },\n  occupantName: {\n    textAlign: 'center',\n    fontSize: 16,\n  },\n  occupantType: {\n    color: '#fff',\n    textAlign: 'center',\n    alignSelf: 'center',\n    paddingVertical: 2,\n    paddingHorizontal: 4,\n    marginTop: 8,\n    borderRadius: 4,\n  },\n  occupiedUntil: {\n    textAlign: 'center',\n    marginTop: 8\n  },\n  queueSetupButtons: {\n    marginTop: 32,\n    backgroundColor: '#ffffff'\n  },\n  progressBar: {\n    height: 24,\n    borderRadius: 6,\n  },\n  spaceBottom30: {\n    marginBottom: 30,\n    backgroundColor: '#ffffff'\n  }\n});","import {ClassroomType} from \"../models/models\";\n\nexport default function sortAB(a: ClassroomType, b: ClassroomType) {\n  return parseInt(a.name) - parseInt(b.name);\n}","import React from \"react\";\nimport {Dimensions, Image, StyleSheet, Text, TouchableHighlight, View} from \"react-native\";\nimport {ClassroomType, DisabledState} from \"../../models/models\";\nimport Colors from \"../../constants/Colors\";\nimport {Button, Surface} from \"react-native-paper\";\nimport InstrumentItem from \"../InstrumentItem\";\nimport {useNavigation} from \"@react-navigation/native\";\nimport {useLocal} from \"../../hooks/useLocal\";\n\nconst windowWidth = Dimensions.get('window').width;\nconst cellWidth = ((windowWidth - 10) / 3);\n\ntype PropTypes = {\n  classroom: ClassroomType;\n  isEnabledForCurrentUser: boolean;\n}\n\nconst FreeClassroomCell: React.FC<PropTypes> = ({classroom, isEnabledForCurrentUser}) => {\n  const navigation = useNavigation();\n  const special = !!classroom.special;\n  const {instruments, disabled} = classroom;\n  const isDisabled = disabled.state === DisabledState.DISABLED || !isEnabledForCurrentUser;\n\n  const handlePress = () => {\n    navigation.navigate('ClassroomInfo', {classroomId: classroom.id});\n  };\n\n  return (\n    <TouchableHighlight onPress={handlePress}>\n      <Surface style={[styles.cell, isDisabled ? styles.disabled : styles.free]}>\n        <View style={styles.cellHeader}>\n          <Text style={styles.name}>{classroom.name}</Text>\n          <Image source={require('./../../assets/images/specialPiano.png')}\n                 style={[special ? styles.special : styles.notSpecial]}/>\n        </View>\n        <Text style={styles.occupationInfo} numberOfLines={1}>\n          {isDisabled ? !isEnabledForCurrentUser ? '  ' : disabled?.comment : ''}\n        </Text>\n        <View style={styles.instruments}>\n          {instruments?.length\n            ? instruments\n              .slice()\n              .sort((a, b) => b.rate - a.rate).slice(0, 2)\n              .map(instrument => <InstrumentItem instrument={instrument} key={instrument.id}/>)\n            : <View style={styles.space}/>}\n        </View>\n      </Surface>\n    </TouchableHighlight>\n  )\n}\n\nexport default FreeClassroomCell;\n\nconst styles = StyleSheet.create({\n  cell: {\n    width: cellWidth,\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: 100,\n    margin: 1,\n    elevation: 2,\n    borderRadius: 4,\n    position: 'relative',\n    overflow: 'hidden',\n  },\n  occupationInfo: {\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center',\n    backgroundColor: '#00000011'\n  },\n  free: {\n    backgroundColor: '#4bfd63'\n  },\n  disabled: {\n    backgroundColor: '#ccc',\n  },\n  cellHeader: {\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: cellWidth,\n    paddingLeft: 16,\n    paddingRight: 16,\n    flexDirection: 'row',\n  },\n  name: {\n    fontSize: 35,\n    fontWeight: 'bold',\n  },\n  special: {\n    width: 20,\n    height: 20,\n    opacity: 1\n  },\n  notSpecial: {\n    width: 20,\n    height: 20,\n    opacity: 0\n  },\n  instruments: {\n    flexDirection: 'row'\n  },\n  space: {\n    height: 20,\n    margin: 8,\n  },\n  checkMark: {\n    position: 'absolute',\n    zIndex: 2,\n    backgroundColor: '#00000088'\n  },\n  timeLeftProgress: {\n    left: 0,\n    position: 'absolute',\n    zIndex: 1000,\n    backgroundColor: '#00000033',\n    height: 100,\n    width: cellWidth,\n  },\n  timeLeft: {\n    fontSize: 12,\n    backgroundColor: '#f91354',\n    color: '#fff',\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center'\n  },\n  keyImage: {\n    position: \"absolute\",\n    top: 8,\n    right: 8,\n    width: 30,\n    height: 30,\n    resizeMode: \"stretch\",\n    tintColor: Colors.red\n  }\n});","import React, {CSSProperties} from \"react\";\nimport {Dimensions, Image, StyleSheet, Text, TouchableHighlight, View} from \"react-native\";\nimport {ClassroomType, DisabledState, Mode} from \"../../models/models\";\nimport Colors from \"../../constants/Colors\";\nimport {IconButton, Surface} from \"react-native-paper\";\nimport InstrumentItem from \"../InstrumentItem\";\nimport {fullName, isNotFree, typeStyle} from \"../../helpers/helpers\";\nimport {useNavigation} from \"@react-navigation/native\";\nimport {useLocal} from \"../../hooks/useLocal\";\nimport {desirableClassroomIdsVar, minimalClassroomIdsVar} from \"../../api/client\";\nimport useTimeLeft from \"../../hooks/useTimeLeft\";\n\nconst windowWidth = Dimensions.get('window').width;\nconst cellWidth = ((windowWidth - 10) / 3);\n\ntype PropTypes = {\n  classroom: ClassroomType;\n  isEnabledForCurrentUser: boolean;\n}\n\nconst OccupiedClassroomCell: React.FC<PropTypes> = ({classroom, isEnabledForCurrentUser}) => {\n  const navigation = useNavigation();\n  const {data: {mode}} = useLocal('mode');\n  const {data: {isMinimalSetup}} = useLocal('isMinimalSetup');\n  const {data: {minimalClassroomIds}} = useLocal('minimalClassroomIds');\n  const {data: {desirableClassroomIds}} = useLocal('desirableClassroomIds');\n\n  const special = !!classroom.special;\n  const {instruments, occupied, disabled, isHidden} = classroom;\n  const isDisabled = disabled.state === DisabledState.DISABLED || !isEnabledForCurrentUser;\n  const userFullName = fullName(occupied.user, true);\n\n  const handleCheck = () => {\n    if (isMinimalSetup) {\n      const minimalSet = new Set([...minimalClassroomIds]);\n      minimalSet.has(classroom.id) ? minimalSet.delete(classroom.id) : minimalSet.add(classroom.id)\n      minimalClassroomIdsVar([...minimalSet]);\n    } else {\n      const desiredSet = new Set([...desirableClassroomIds]);\n      desiredSet.has(classroom.id) ? desiredSet.delete(classroom.id) : desiredSet.add(classroom.id)\n      desirableClassroomIdsVar([...desiredSet]);\n    }\n  };\n\n  const handlePress = () => {\n    if (mode === Mode.QUEUE_SETUP) {\n      handleCheck();\n    } else {\n      navigation.navigate('ClassroomInfo', {classroomId: classroom.id});\n    }\n  };\n\n  const handleLongPress = () => {\n    navigation.navigate('ClassroomInfo', {classroomId: classroom.id});\n  };\n\n  const isChecked = () => {\n    if (isMinimalSetup) {\n      return minimalClassroomIds.includes(classroom.id) && mode === Mode.QUEUE_SETUP;\n    } else {\n      return desirableClassroomIds.includes(classroom.id) && mode === Mode.QUEUE_SETUP;\n    }\n  };\n\n  const cellStyle = StyleSheet.create({\n    cell: {\n      width: cellWidth,\n      justifyContent: 'center',\n      alignItems: 'center',\n      height: 100,\n      margin: 1,\n      elevation: 2,\n      borderRadius: 4,\n      position: 'relative',\n      overflow: 'hidden',\n      opacity: isHidden ? .5 : 1,\n      backgroundColor: isDisabled ? '#ccc' : '#fff'\n    }\n  });\n\n  return (\n    <TouchableHighlight onPress={handlePress} onLongPress={handleLongPress}>\n      <Surface style={cellStyle.cell}>\n        {isChecked() && (\n          <IconButton icon='check-bold' style={styles.checkMark} color='#0f0'/>\n        )}\n        <View style={styles.cellHeader}>\n          <Text style={styles.name}>{classroom.name}</Text>\n          <Image source={require('./../../assets/images/specialPiano.png')}\n                 style={[special ? styles.special : styles.notSpecial]}/>\n        </View>\n        <Text style={[styles.occupationInfo, typeStyle(occupied, isDisabled)]} numberOfLines={1}>\n          {isDisabled ? !isEnabledForCurrentUser ? '  ' : disabled?.comment : userFullName}\n        </Text>\n        <View style={styles.instruments}>\n          {instruments?.length\n            ? instruments\n              .slice()\n              .sort((a, b) => b.rate - a.rate).slice(0, 2)\n              .map(instrument => <InstrumentItem instrument={instrument} key={instrument.id}/>)\n            : <View style={styles.space}/>}\n        </View>\n      </Surface>\n    </TouchableHighlight>\n  )\n}\n\nexport default OccupiedClassroomCell;\n\nconst styles = StyleSheet.create({\n  occupationInfo: {\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center'\n  },\n  cellHeader: {\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: cellWidth,\n    paddingLeft: 16,\n    paddingRight: 16,\n    flexDirection: 'row',\n  },\n  name: {\n    fontSize: 35,\n    fontWeight: 'bold',\n  },\n  special: {\n    width: 20,\n    height: 20,\n    opacity: 1\n  },\n  notSpecial: {\n    width: 20,\n    height: 20,\n    opacity: 0\n  },\n  instruments: {\n    flexDirection: 'row'\n  },\n  space: {\n    height: 20,\n    margin: 8,\n  },\n  checkMark: {\n    position: 'absolute',\n    zIndex: 2,\n    backgroundColor: '#00000088'\n  },\n  timeLeftProgress: {\n    left: 0,\n    position: 'absolute',\n    zIndex: 1000,\n    backgroundColor: '#00000033',\n    height: 100,\n    width: cellWidth,\n  },\n  timeLeft: {\n    fontSize: 12,\n    backgroundColor: '#f91354',\n    color: '#fff',\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center'\n  },\n  keyImage: {\n    position: \"absolute\",\n    top: 8,\n    right: 8,\n    width: 30,\n    height: 30,\n    resizeMode: \"stretch\",\n    tintColor: Colors.red\n  }\n});","import React from \"react\";\nimport {Dimensions, Image, StyleSheet, Text, TouchableHighlight, View} from \"react-native\";\nimport {ClassroomType, DisabledState} from \"../../models/models\";\nimport Colors from \"../../constants/Colors\";\nimport {Surface} from \"react-native-paper\";\nimport InstrumentItem from \"../InstrumentItem\";\nimport useTimeLeft from \"../../hooks/useTimeLeft\";\nimport {useNavigation} from \"@react-navigation/native\";\n\nconst windowWidth = Dimensions.get('window').width;\nconst cellWidth = ((windowWidth - 10) / 3);\n\ntype PropTypes = {\n  classroom: ClassroomType;\n}\n\nconst ReservedClassroomCell: React.FC<PropTypes> = ({classroom}) => {\n  const navigation = useNavigation();\n  const special = !!classroom.special;\n  const {instruments, occupied, disabled} = classroom;\n  const isDisabled = disabled.state === DisabledState.DISABLED;\n  const [timeLeft, timeLeftInPer] = useTimeLeft(occupied, 15);\n\n  const handlePress = () => {\n    navigation.navigate('ClassroomInfo', {classroomId: classroom.id});\n  };\n\n  const ProgressBackground = () => (\n    <View\n      style={{\n        ...styles.timeLeftProgress,\n        width: (cellWidth / 100) * (timeLeftInPer as number)\n      }}\n    />\n  );\n\n  return (\n    <TouchableHighlight onPress={handlePress}>\n      <Surface style={[styles.cell, isDisabled ? styles.disabled : styles.occupied]}>\n        <Image source={require('../../assets/images/key.png')} style={styles.keyImage}/>\n        <ProgressBackground/>\n        <View style={styles.cellHeader}>\n          <Text style={styles.name}>{classroom.name}</Text>\n          <Image source={require('./../../assets/images/specialPiano.png')}\n                 style={[special ? styles.special : styles.notSpecial]}/>\n        </View>\n        <Text style={styles.timeLeft} numberOfLines={1}>\n          {timeLeft}\n        </Text>\n        <View style={styles.instruments}>\n          {instruments?.length\n            ? instruments\n              .slice()\n              .sort((a, b) => b.rate - a.rate).slice(0, 2)\n              .map(instrument => <InstrumentItem instrument={instrument} key={instrument.id}/>)\n            : <View style={styles.space}/>}\n        </View>\n      </Surface>\n    </TouchableHighlight>\n  )\n}\n\nexport default ReservedClassroomCell;\n\nconst styles = StyleSheet.create({\n  cell: {\n    width: cellWidth,\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: 100,\n    margin: 1,\n    elevation: 2,\n    borderRadius: 4,\n    position: 'relative',\n    overflow: 'hidden',\n  },\n  occupied: {},\n  disabled: {\n    backgroundColor: '#ccc',\n  },\n  occupationInfo: {\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center'\n  },\n  cellHeader: {\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: cellWidth,\n    paddingLeft: 16,\n    paddingRight: 16,\n    flexDirection: 'row',\n  },\n  name: {\n    fontSize: 35,\n    fontWeight: 'bold',\n  },\n  special: {\n    width: 20,\n    height: 20,\n    opacity: 1\n  },\n  notSpecial: {\n    width: 20,\n    height: 20,\n    opacity: 0\n  },\n  instruments: {\n    flexDirection: 'row'\n  },\n  space: {\n    height: 20,\n    margin: 8,\n  },\n  checkMark: {\n    position: 'absolute',\n    zIndex: 2,\n    backgroundColor: '#00000088'\n  },\n  timeLeftProgress: {\n    left: 0,\n    position: 'absolute',\n    zIndex: 1000,\n    backgroundColor: '#00000033',\n    height: 100,\n    width: cellWidth,\n  },\n  timeLeft: {\n    fontSize: 12,\n    backgroundColor: '#f91354',\n    color: '#fff',\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center'\n  },\n  keyImage: {\n    position: \"absolute\",\n    zIndex: 2,\n    top: 8,\n    right: cellWidth / 2 - 15,\n    width: 30,\n    height: 30,\n    resizeMode: \"stretch\",\n    tintColor: Colors.red\n  }\n});","import React from \"react\";\nimport {Dimensions, Image, StyleSheet, Text, TouchableHighlight, View} from \"react-native\";\nimport {ClassroomType, DisabledState} from \"../../models/models\";\nimport Colors from \"../../constants/Colors\";\nimport {Surface} from \"react-native-paper\";\nimport InstrumentItem from \"../InstrumentItem\";\nimport useTimeLeft from \"../../hooks/useTimeLeft\";\nimport {useNavigation} from \"@react-navigation/native\";\n\nconst windowWidth = Dimensions.get('window').width;\nconst cellWidth = ((windowWidth - 10) / 3);\n\ntype PropTypes = {\n  classroom: ClassroomType;\n}\n\nconst PendingClassroomCell: React.FC<PropTypes> = ({classroom}) => {\n  const navigation = useNavigation();\n  const special = !!classroom.special;\n  const {instruments, occupied, disabled} = classroom;\n  const isDisabled = disabled.state === DisabledState.DISABLED;\n  const [timeLeft, timeLeftInPer] = useTimeLeft(occupied, 2);\n\n  const handlePress = () => {\n    navigation.navigate('ClassroomInfo', {classroomId: classroom.id});\n  };\n\n  const ProgressBackground = () => (\n    <View\n      style={{\n        ...styles.timeLeftProgress,\n        width: (cellWidth / 100) * (timeLeftInPer as number)\n      }}\n    />\n  );\n\n  return (\n    <TouchableHighlight onPress={handlePress}>\n      <Surface style={[styles.cell, isDisabled ? styles.disabled : styles.occupied]}>\n        <ProgressBackground/>\n        <View style={styles.cellHeader}>\n          <Text style={styles.name}>{classroom.name}</Text>\n          <Image source={require('./../../assets/images/specialPiano.png')}\n                 style={[special ? styles.special : styles.notSpecial]}/>\n        </View>\n        <Text style={styles.timeLeft} numberOfLines={1}>\n          {timeLeft}\n        </Text>\n        <View style={styles.instruments}>\n          {instruments?.length\n            ? instruments\n              .slice()\n              .sort((a, b) => b.rate - a.rate).slice(0, 2)\n              .map(instrument => <InstrumentItem instrument={instrument} key={instrument.id}/>)\n            : <View style={styles.space}/>}\n        </View>\n      </Surface>\n    </TouchableHighlight>\n  )\n}\n\nexport default PendingClassroomCell;\n\nconst styles = StyleSheet.create({\n  cell: {\n    width: cellWidth,\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: 100,\n    margin: 1,\n    elevation: 2,\n    borderRadius: 4,\n    position: 'relative',\n    overflow: 'hidden',\n  },\n  occupied: {},\n  disabled: {\n    backgroundColor: '#ccc',\n  },\n  occupationInfo: {\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center'\n  },\n  cellHeader: {\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: cellWidth,\n    paddingLeft: 16,\n    paddingRight: 16,\n    flexDirection: 'row',\n  },\n  name: {\n    fontSize: 35,\n    fontWeight: 'bold',\n  },\n  special: {\n    width: 20,\n    height: 20,\n    opacity: 1\n  },\n  notSpecial: {\n    width: 20,\n    height: 20,\n    opacity: 0\n  },\n  instruments: {\n    flexDirection: 'row'\n  },\n  space: {\n    height: 20,\n    margin: 8,\n  },\n  checkMark: {\n    position: 'absolute',\n    zIndex: 2,\n    backgroundColor: '#00000088'\n  },\n  timeLeftProgress: {\n    left: 0,\n    position: 'absolute',\n    zIndex: 1000,\n    backgroundColor: '#00000033',\n    height: 100,\n    width: cellWidth,\n  },\n  timeLeft: {\n    fontSize: 12,\n    backgroundColor: '#f91354',\n    color: '#fff',\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center'\n  },\n  keyImage: {\n    position: \"absolute\",\n    top: 8,\n    right: 8,\n    width: 30,\n    height: 30,\n    resizeMode: \"stretch\",\n    tintColor: Colors.red\n  }\n});","import React, {CSSProperties} from \"react\";\nimport {Dimensions, Image, StyleSheet, Text, TouchableHighlight, View} from \"react-native\";\nimport {ClassroomType, DisabledState, Mode} from \"../../models/models\";\nimport Colors from \"../../constants/Colors\";\nimport {IconButton, Surface} from \"react-native-paper\";\nimport InstrumentItem from \"../InstrumentItem\";\nimport {fullName, isNotFree, typeStyle} from \"../../helpers/helpers\";\nimport {useNavigation} from \"@react-navigation/native\";\nimport {useLocal} from \"../../hooks/useLocal\";\nimport {minimalClassroomIdsVar} from \"../../api/client\";\nimport useTimeLeft from \"../../hooks/useTimeLeft\";\n\nconst windowWidth = Dimensions.get('window').width;\nconst cellWidth = ((windowWidth - 10) / 3);\n\ntype PropTypes = {\n  classroom: ClassroomType;\n}\n\nconst OccupiedClassroomCell: React.FC<PropTypes> = ({classroom}) => {\n  const navigation = useNavigation();\n  const {data: {mode}} = useLocal('mode');\n  const {data: {isMinimalSetup}} = useLocal('isMinimalSetup');\n  const {data: {minimalClassroomIds}} = useLocal('minimalClassroomIds');\n  const {data: {desirableClassroomIds}} = useLocal('desirableClassroomIds');\n\n  const special = !!classroom.special;\n  const {instruments, occupied, disabled, isHidden} = classroom;\n  const isDisabled = disabled.state === DisabledState.DISABLED;\n  const [timeLeft, timeLeftInPer] = useTimeLeft(occupied, 180);\n\n  const ProgressBackground = () => (\n    <View\n      style={{\n        ...styles.timeLeftProgress,\n        width: (cellWidth / 100) * (timeLeftInPer as number)\n      }}\n    />\n  );\n\n  const handlePress = () => {\n      navigation.navigate('ClassroomInfo', {classroomId: classroom.id});\n  };\n\n  const cellStyle = StyleSheet.create({\n    cell: {\n      width: cellWidth,\n      justifyContent: 'center',\n      alignItems: 'center',\n      height: 100,\n      margin: 1,\n      elevation: 2,\n      borderRadius: 4,\n      position: 'relative',\n      overflow: 'hidden',\n      opacity: isHidden ? .5 : 1,\n      backgroundColor: isDisabled ? '#ccc' : '#fff'\n    }\n  });\n\n  return (\n    <TouchableHighlight onPress={handlePress}>\n      <Surface style={cellStyle.cell}>\n        <ProgressBackground/>\n        <View style={styles.cellHeader}>\n          <Text style={styles.name}>{classroom.name}</Text>\n          <Image source={require('./../../assets/images/specialPiano.png')}\n                 style={[special ? styles.special : styles.notSpecial]}/>\n        </View>\n        <Text style={styles.timeLeft} numberOfLines={1}>\n          {timeLeft}\n        </Text>\n        <View style={styles.instruments}>\n          {instruments?.length\n            ? instruments\n              .slice()\n              .sort((a, b) => b.rate - a.rate).slice(0, 2)\n              .map(instrument => <InstrumentItem instrument={instrument} key={instrument.id}/>)\n            : <View style={styles.space}/>}\n        </View>\n      </Surface>\n    </TouchableHighlight>\n  )\n}\n\nexport default OccupiedClassroomCell;\n\nconst styles = StyleSheet.create({\n  occupationInfo: {\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center'\n  },\n  cellHeader: {\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: cellWidth,\n    paddingLeft: 16,\n    paddingRight: 16,\n    flexDirection: 'row',\n  },\n  name: {\n    fontSize: 35,\n    fontWeight: 'bold',\n  },\n  special: {\n    width: 20,\n    height: 20,\n    opacity: 1\n  },\n  notSpecial: {\n    width: 20,\n    height: 20,\n    opacity: 0\n  },\n  instruments: {\n    flexDirection: 'row'\n  },\n  space: {\n    height: 20,\n    margin: 8,\n  },\n  checkMark: {\n    position: 'absolute',\n    zIndex: 2,\n    backgroundColor: '#00000088'\n  },\n  timeLeftProgress: {\n    left: 0,\n    position: 'absolute',\n    zIndex: 1000,\n    backgroundColor: '#00000033',\n    height: 100,\n    width: cellWidth,\n  },\n  timeLeft: {\n    fontSize: 12,\n    backgroundColor: '#f91354',\n    color: '#fff',\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center'\n  },\n  keyImage: {\n    position: \"absolute\",\n    top: 8,\n    right: 8,\n    width: 30,\n    height: 30,\n    resizeMode: \"stretch\",\n    tintColor: Colors.red\n  }\n});","import React from 'react';\nimport {StyleSheet, Text, View} from \"react-native\";\nimport {ClassroomType, OccupiedState, User} from \"../../models/models\";\nimport sortAB from \"../../helpers/sortAB\";\nimport FreeClassroomCell from \"./FreeClassroomCell\";\nimport OccupiedClassroomCell from \"./OccupiedClassroomCell\";\nimport ReservedClassroomCell from \"./ReservedClassroomCell\";\nimport PendingClassroomCell from \"./PendingClassroomCell\";\nimport {isEnabledForCurrentDepartment} from \"../../helpers/helpers\";\nimport OccupiedByCurrentUserClassroomCell from \"./OccupiedByCurrentUserClassroomCell\";\n\ntype PropTypes = {\n  classrooms: ClassroomType[];\n  currentUser: User;\n  title?: string;\n}\n\nconst ClassroomsBrowser: React.FC<PropTypes> = ({\n                                                  classrooms, title,\n                                                  currentUser\n                                                }) => {\n  if (!classrooms.length) return null;\n  return (\n    <>\n      {title && <Text style={styles.gridDivider}>\n        {title}\n      </Text>}\n      <View style={styles.grid}>\n        {classrooms.slice().sort(sortAB).map(classroom => {\n          const {occupied: {state, user}, id} = classroom;\n          const isEnabledForCurrentUser = isEnabledForCurrentDepartment(classroom, currentUser);\n\n          const isFree = state === OccupiedState.FREE;\n          const isOccupiedByCurrentUser = state === OccupiedState.OCCUPIED && user.id === currentUser.id;\n          const isOccupied = state === OccupiedState.OCCUPIED || OccupiedState.PENDING || OccupiedState.RESERVED;\n          const isPending = state === OccupiedState.PENDING && user.id === currentUser.id;\n          const isReserved = state === OccupiedState.RESERVED && user.id === currentUser.id;\n\n          if (isFree) return <FreeClassroomCell key={id} classroom={classroom}\n                                                isEnabledForCurrentUser={isEnabledForCurrentUser}\n          />\n          if (isReserved) return <ReservedClassroomCell key={id} classroom={classroom}/>\n          if (isPending) return <PendingClassroomCell key={id} classroom={classroom}/>\n          if (isOccupiedByCurrentUser) return <OccupiedByCurrentUserClassroomCell key={id} classroom={classroom}/>\n          if (isOccupied) return <OccupiedClassroomCell key={id} classroom={classroom}\n                                                        isEnabledForCurrentUser={isEnabledForCurrentUser}\n          />\n        })}\n      </View>\n    </>\n  );\n}\n\nconst styles = StyleSheet.create(\n  {\n    top: {\n      position: 'absolute',\n      left: 0,\n      right: 0,\n      top: 0,\n      paddingTop: 26,\n      height: 80,\n      backgroundColor: 'transparent',\n      zIndex: 1\n    },\n    grid: {\n      marginBottom: 8,\n      marginLeft: 2,\n      flexDirection: 'row',\n      flexWrap: 'wrap',\n      justifyContent: 'flex-start'\n    },\n    getInLine: {\n      position: 'absolute',\n      zIndex: 1,\n      bottom: 15,\n      width: '55%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    getOutLine: {\n      position: 'absolute',\n      zIndex: 1,\n      bottom: 15,\n      left: 20,\n      width: '43%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    getOutLineSingle: {\n      position: 'absolute',\n      zIndex: 1,\n      bottom: 15,\n      width: '55%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    approve: {\n      position: 'absolute',\n      zIndex: 1,\n      right: 20,\n      bottom: 15,\n      width: '43%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    wrapper: {\n      width: '100%',\n      height: '100%',\n      alignItems: 'center',\n      justifyContent: 'center',\n      backgroundColor: 'transparent',\n      paddingTop: 80,\n    },\n    queueSwitcher: {\n      flexDirection: 'row',\n      width: '76%',\n      justifyContent: 'center',\n      paddingHorizontal: 5,\n      marginHorizontal: 20,\n      alignItems: 'center',\n    },\n    gridDivider: {\n      color: '#fff',\n      marginBottom: 10,\n      marginLeft: 3,\n      marginRight: 3,\n      paddingLeft: 17,\n      borderBottomWidth: 1,\n      borderBottomColor: '#ffffff77',\n      paddingBottom: 10\n    }\n  }\n);\n\nexport default ClassroomsBrowser;","import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_CLASSROOMS = gql`\r\n  query getClassrooms($where: ClassroomWhereInput) {\r\n    classrooms(where: $where) {\r\n      id\r\n      description\r\n      name\r\n      floor\r\n      special\r\n      isHidden\r\n      chair {\r\n          name\r\n      }\r\n      isWing\r\n      isOperaStudio\r\n      occupied {\r\n        user {\r\n          id\r\n          firstName\r\n          patronymic\r\n          lastName\r\n          type\r\n          nameTemp\r\n          email\r\n          phoneNumber\r\n        }\r\n        until\r\n        state\r\n      }\r\n      instruments {\r\n        name\r\n        type\r\n        rate\r\n      }\r\n      disabled {\r\n        comment\r\n        until\r\n        state\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_CLASSROOMS_NO_SCHEDULE = gql`\r\n  query getClassroomsNoSchedule {\r\n    classrooms {\r\n      id\r\n      name\r\n      special\r\n      isHidden\r\n      chair {\r\n          id\r\n          name\r\n          exclusivelyQueueAllowedDepartmentsInfo {\r\n            department {\r\n              id\r\n              name\r\n            }\r\n          }\r\n      }\r\n      isWing\r\n      isOperaStudio\r\n      occupied {\r\n        user {\r\n          id\r\n          firstName\r\n          patronymic\r\n          lastName\r\n          type\r\n          nameTemp\r\n        }\r\n        until\r\n        state\r\n      }\r\n      instruments {\r\n        id\r\n        name\r\n        type\r\n        rate\r\n      }\r\n      disabled {\r\n        id\r\n        comment\r\n        until\r\n        state\r\n      }\r\n    }\r\n  }\r\n`;","import {gql} from \"@apollo/client/core\";\n\nexport const FOLLOW_CLASSROOMS = gql`\n  subscription {\n  classroomUpdate {\n  classroom {\n        id\n        occupied {\n          user {\n            id\n            firstName\n            lastName\n            patronymic\n            type\n          }\n          until\n          state\n        }\n        disabled {\n        comment\n        state\n        until\n      }\n      }\n    }\n  }\n`;","import {gql} from \"@apollo/client/core\";\n\nexport const FOLLOW_USER = gql`\n subscription userUpdate($userId: Int!) {\n    userUpdate(userId: $userId) {\n    user {\n      id\n      occupiedClassrooms {\n        id\n        state\n        classroom {\n          id\n          name\n        }\n      }\n      queue {\n        id\n        state\n        type\n        classroom {\n          id\n        }\n      }\n      queueInfo {\n        id\n        sanctionedUntil\n        currentSession {\n          id\n          state\n          skips\n        }\n      }\n    }\n  }\n}\n`;","import {ClassroomType, DisabledState, OccupiedState, User} from \"../models/models\";\nimport {isEnabledForCurrentDepartment} from \"./helpers\";\n\nexport const filterDisabledForQueue = (classroom: ClassroomType, currentUser: User) => {\n  return (\n    classroom.occupied.state !== OccupiedState.FREE &&\n    classroom.disabled.state === DisabledState.NOT_DISABLED &&\n    !classroom.isHidden &&\n    isEnabledForCurrentDepartment(classroom, currentUser)\n  );\n};","import {desirableClassroomIdsVar, minimalClassroomIdsVar} from \"../api/client\";\nimport {ClassroomType, SavedFilterT, User} from \"../models/models\";\nimport {filterDisabledForQueue} from \"./filterDisabledForQueue\";\n\nexport const filterSavedFilter = (savedFilter: SavedFilterT, classrooms: ClassroomType[], currentUser: User) => {\n  const enabledClassrooms = (classroom: ClassroomType, isMinimal: boolean) => {\n    return savedFilter[isMinimal ? 'minimalClassroomIds': 'desirableClassroomIds'].includes(classroom.id)\n      && filterDisabledForQueue(classroom, currentUser)\n  };\n\n  const minimalIds = classrooms\n    .filter((classroom) => enabledClassrooms(classroom, true))\n    .map(({id}) => id);\n\n  const desireIds = classrooms\n    .filter((classroom) => enabledClassrooms(classroom, false))\n    .map(({id}) => id);\n\n  minimalClassroomIdsVar(minimalIds);\n  desirableClassroomIdsVar(desireIds);\n};","import {StyleSheet} from \"react-native\";\nimport {Button, Dialog, Paragraph, Portal} from \"react-native-paper\";\nimport {InstrumentType, Mode} from \"../models/models\";\nimport React, {useState} from \"react\";\nimport {modeVar} from \"../api/client\";\nimport removeFromLine from \"../helpers/queue/removeFromLine\";\nimport WaitDialog from \"./WaitDialog\";\n\ninterface PropTypes {\n  hideDialog: () => void;\n  visible: boolean;\n}\n\nexport default function ConfirmLineOut({hideDialog, visible}: PropTypes) {\n  const [loading, setLoading] = useState(false);\n\n  const handleOk = async () => {\n    setLoading(true);\n    await removeFromLine();\n    modeVar(Mode.PRIMARY);\n    setLoading(false);\n    hideDialog();\n  };\n\n  return <Portal>\n    <Dialog visible={visible} onDismiss={hideDialog}>\n      <Dialog.Title>!</Dialog.Title>\n      <Dialog.Content>\n        <Paragraph>    ?     .</Paragraph>\n      </Dialog.Content>\n      <Dialog.Actions>\n        <Button onPress={hideDialog}></Button>\n        <Button onPress={handleOk}></Button>\n      </Dialog.Actions>\n    </Dialog>\n    <WaitDialog visible={loading}/>\n  </Portal>\n};","import React, {useEffect, useState} from 'react';\nimport {StyleSheet, Text, View} from \"react-native\";\nimport {Button} from \"react-native-paper\";\nimport Colors from \"../../constants/Colors\";\nimport {hasOwnClassroom} from \"../../helpers/helpers\";\nimport {ClassroomType, Mode, SavedFilterT} from \"../../models/models\";\nimport {useLocal} from \"../../hooks/useLocal\";\nimport {desirableClassroomIdsVar, minimalClassroomIdsVar, modeVar} from \"../../api/client\";\nimport {filterDisabledForQueue} from \"../../helpers/filterDisabledForQueue\";\nimport {getItem} from \"../../api/asyncStorage\";\nimport {filterSavedFilter} from \"../../helpers/filterSavedFIlters\";\nimport getInLine from \"../../helpers/queue/getInLine\";\nimport ErrorDialog from \"../../components/ErrorDialog\";\nimport moment from \"moment\";\nimport removeFromLine from \"../../helpers/queue/removeFromLine\";\nimport WaitDialog from \"../../components/WaitDialog\";\nimport ConfirmLineOut from \"../../components/ConfirmLineOut\";\n\ntype PropTypes = {\n  currentUser: any;\n  classrooms: ClassroomType[];\n}\n\nconst Buttons: React.FC<PropTypes> = ({currentUser: {queueInfo: {sanctionedUntil}, ...currentUser},\n                                        classrooms}) => {\n  const {data: {mode}} = useLocal('mode');\n  const {data: {desirableClassroomIds}} = useLocal('desirableClassroomIds');\n  const {data: {minimalClassroomIds}} = useLocal('minimalClassroomIds');\n  const [visibleModalError, setVisibleModalError] = useState(false);\n  const queueErrorMessage = `          ${sanctionedUntil ? moment(sanctionedUntil)\n    .format('DD-MM-YYYY HH:mm') : ''}.         .`;\n  const [loading, setLoading] = useState(false);\n  const [visibleLineOut, setVisibleLineOut] = useState(false);\n\n\n  const handlePress = async () => {\n    setLoading(true);\n    if (sanctionedUntil) return setVisibleModalError(true);\n    if (mode === Mode.PRIMARY) {\n      const availableClassroomsIds = classrooms.filter(classroom => {\n        return filterDisabledForQueue(classroom, currentUser);\n      }).map(({id}) => id);\n      modeVar(Mode.QUEUE_SETUP);\n      const savedFilters: SavedFilterT[] | undefined = await getItem('filters');\n      if (savedFilters) {\n        const mainFilter = savedFilters!.find(filter => filter.main);\n        if (mainFilter) {\n          filterSavedFilter(mainFilter, classrooms, currentUser)\n        } else {\n          minimalClassroomIdsVar(availableClassroomsIds);\n          desirableClassroomIdsVar([]);\n        }\n      } else {\n        minimalClassroomIdsVar(availableClassroomsIds);\n        desirableClassroomIdsVar([]);\n      }\n    }\n    if (mode === Mode.QUEUE_SETUP) {\n      modeVar(Mode.PRIMARY);\n      minimalClassroomIdsVar([]);\n      desirableClassroomIdsVar([]);\n    }\n    setLoading(false);\n  };\n\n  const handleReady = async () => {\n    setLoading(true);\n    await getInLine(minimalClassroomIds, desirableClassroomIds);\n    setLoading(false);\n  };\n\n  return (\n    <View style={styles.wrapper}>\n      {mode === Mode.PRIMARY && !(hasOwnClassroom(currentUser.occupiedClassrooms)) && (\n        <Button style={styles.getInLine} mode='contained' color={Colors.blue}\n                onPress={handlePress}>\n          <Text>  </Text>\n        </Button>\n      )}\n      {mode === Mode.QUEUE_SETUP && (\n        <>\n          <Button style={styles.getOutLine} mode='contained' color={Colors.red}\n                  onPress={handlePress}>\n            <Text></Text>\n          </Button>\n          <Button style={styles.approve} mode='contained' color={Colors.blue}\n                  disabled={!minimalClassroomIds.length && !desirableClassroomIds.length}\n                  onPress={handleReady}>\n            <Text>  </Text>\n          </Button>\n        </>\n      )}\n      {mode === Mode.INLINE && (\n        <Button style={styles.getOutLine} mode='contained' color={Colors.red}\n                onPress={() => setVisibleLineOut(true)}>\n          <Text>  </Text>\n        </Button>\n      )}\n      <ErrorDialog visible={visibleModalError} hideDialog={() => setVisibleModalError(false)}\n        message={queueErrorMessage}\n      />\n      <WaitDialog visible={loading}/>\n      <ConfirmLineOut hideDialog={() => setVisibleLineOut(false)} visible={visibleLineOut}/>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create(\n  {\n    wrapper: {\n      position: 'absolute',\n      bottom: 16,\n      left: 16,\n      right: 16,\n      flexDirection: 'row',\n      justifyContent: 'center',\n      zIndex: 1\n    },\n\n    getInLine: {\n      width: '55%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    getOutLine: {\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center',\n      marginRight: 16,\n    },\n    getOutLineSingle: {\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    approve: {\n      width: '48%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    }\n  }\n);\n\nexport default Buttons;","import {gql} from \"@apollo/client\";\n\nexport const GENERAL_QUEUE_SIZE = gql`\n  query {\n    generalQueueSize\n  }\n`;","import {gql} from \"@apollo/client/core\";\n\nexport const FOLLOW_GENERAL_QUEUE_SIZE = gql`\n  subscription generalQueueSize {\n    generalQueueSize\n  }\n`;","import {useEffect, useState} from \"react\";\nimport {GET_CLASSROOMS} from \"../api/operations/queries/classrooms\";\nimport {ISODateString} from \"../helpers/helpers\";\nimport {ClassroomType} from \"../models/models\";\nimport {useQuery} from \"@apollo/client\";\nimport {FOLLOW_CLASSROOMS} from \"../api/operations/subscriptions/classrooms\";\n\nconst useClassrooms = (props?: any): [Array<ClassroomType>, any] => {\n  const [classrooms, setClassrooms] = useState<ClassroomType[]>([]);\n  const {data, loading, error, subscribeToMore} = useQuery(GET_CLASSROOMS, {\n    variables: {\n      date: ISODateString(props?.date ? props.date : new Date()),\n    }\n  })\n\n  useEffect(() => {\n    !loading && !error && setClassrooms(\n      data.classrooms\n        .slice()\n        .sort(\n          (a: ClassroomType, b: ClassroomType) =>\n            parseInt(a.name) - parseInt(b.name)\n        )\n    );\n  }, [data, loading, error]);\n\n  return classrooms;\n};\n\nexport default useClassrooms;","import React, {useEffect, useState} from 'react';\nimport {StyleSheet, Text, View, Dimensions, TextInput} from \"react-native\";\nimport {Button, Checkbox, Headline, IconButton, Modal, Portal} from \"react-native-paper\";\nimport {ClassroomType, SavedFilterT, User} from \"../../models/models\";\nimport {getItem, setItem} from \"../../api/asyncStorage\";\nimport {useLocal} from \"../../hooks/useLocal\";\nimport Colors from \"../../constants/Colors\";\nimport {filterSavedFilter} from \"../../helpers/filterSavedFIlters\";\nimport useClassrooms from \"../../hooks/useClassrooms\";\n\nexport type SpecialT = 'with' | 'only' | 'without';\n\ninterface PropTypes {\n  hideModal: () => void;\n  visible: boolean;\n  currentUser: User;\n}\n\nconst windowWidth = Dimensions.get('window').width;\n\nexport default function SavedFilters({hideModal, visible, currentUser}: PropTypes) {\n  const classrooms: ClassroomType[] = useClassrooms();\n  const [savedFilters, setSavedFilters] = useState<SavedFilterT[]>([]);\n  const [isSaving, setIsSaving] = useState(false);\n  const [inputName, setInputName] = useState<string>('');\n  const {data: {desirableClassroomIds}} = useLocal('desirableClassroomIds');\n  const {data: {minimalClassroomIds}} = useLocal('minimalClassroomIds');\n  const [selectedFilter, setSelectedFilter] = useState(-1);\n  const [saveAsMainFilter, setSaveAsMainFilter] = useState(false);\n\n  useEffect(() => {\n    getItem('filters').then(data => {\n      setSavedFilters(data as any);\n    });\n    return () => {\n      setSelectedFilter(-1);\n      setInputName('');\n    };\n  }, []);\n\n  const handleSaveFilter = () => {\n    setIsSaving(true);\n\n    const item: SavedFilterT = {\n      minimalClassroomIds,\n      desirableClassroomIds,\n      name: inputName,\n      main: saveAsMainFilter\n    };\n\n    setItem('filters', savedFilters ? [...savedFilters?.map((filter: any) => {\n      return saveAsMainFilter ? ({...filter, main: false}) : filter\n    }), item] : [item]).then(res => {\n      setIsSaving(false);\n    });\n    // @ts-ignore\n    setSavedFilters(prevState => prevState ? [...prevState?.map((filter: any) => {\n      return saveAsMainFilter ? ({...filter, main: false}) : filter\n    }), item] : [item]);\n  };\n\n  const handleRemoveFilter = (index: number) => {\n    const newFilters = savedFilters;\n\n    newFilters.splice(index, 1);\n    setItem('filters', newFilters).then(res => {\n      getItem('filters').then((data: any) => setSavedFilters(data))\n    })\n    setSelectedFilter(-1);\n  };\n\n  const handleSelectFilter = (filterItem: any, index: number) => {\n    filterSavedFilter(filterItem, classrooms, currentUser)\n    setSelectedFilter(index);\n    hideModal();\n  };\n\n  return <Portal>\n    <Modal visible={visible} onDismiss={hideModal} contentContainerStyle={styles.containerStyle}>\n      <View style={styles.header}>\n        <Headline> </Headline>\n      </View>\n      <View style={styles.body}>\n        {savedFilters?.map((filterItem: SavedFilterT, index) => (\n          <View key={index} style={styles.itemRow}>\n            <Text style={selectedFilter === index ? styles.selectedItem : styles.item}\n                  onPress={() => handleSelectFilter(filterItem, index)}>\n              {filterItem.main ? filterItem.name + ' ()' : filterItem.name}\n            </Text>\n            <IconButton icon='trash-can-outline' style={styles.bin}\n              onPress={() => handleRemoveFilter(index)}\n            />\n          </View>\n        ))}\n        <View style={styles.newFilterSection}>\n          <TextInput placeholder='  ' value={inputName}\n                     onChangeText={text => setInputName(text)}\n          />\n          <View style={styles.mainFilterCheckbox}>\n            <Checkbox status={saveAsMainFilter ? 'checked' : 'unchecked'}\n                    onPress={() => setSaveAsMainFilter(prevState => !prevState)}\n            />\n            <Text>   </Text>\n          </View>\n          <Button mode='contained'\n                  disabled={isSaving || !inputName}\n                  onPress={handleSaveFilter}\n          >\n               \n          </Button>\n        </View>\n      </View>\n    </Modal>\n  </Portal>\n};\n\nconst styles = StyleSheet.create({\n  containerStyle: {\n    backgroundColor: 'white',\n    margin: 20,\n    borderRadius: 8,\n    justifyContent: 'center',\n    alignItems: 'flex-start',\n    overflow: 'hidden'\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: '#dddddd',\n    width: '100%',\n    backgroundColor: '#f1f1f1'\n  },\n  body: {\n    padding: 20,\n    width: '100%',\n  },\n  itemRow: {\n    flexDirection: 'row',\n    width: '100%',\n    justifyContent: 'space-between',\n    marginBottom: 5,\n  },\n  item: {\n    fontSize: 16,\n    borderBottomColor: '#eee',\n    borderBottomWidth: 1,\n    color: '#000',\n    width: '80%',\n    marginTop: 10\n  },\n  selectedItem: {\n    fontSize: 16,\n    borderBottomColor: '#eee',\n    borderBottomWidth: 1,\n    color: Colors.blue,\n    width: '80%',\n    marginTop: 10\n  },\n  bin: {\n    width: '20%',\n  },\n  mainFilterCheckbox: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 10,\n    marginLeft: -10\n  },\n  newFilterSection: {\n    borderRadius: 6,\n    borderWidth: 1,\n    borderColor: '#eee',\n    padding: 16,\n    marginTop: 50\n  }\n});","import React from 'react';\nimport {StyleSheet, Text, View} from \"react-native\";\nimport {\n  Modal,\n  Portal,\n  RadioButton,\n} from \"react-native-paper\";\n\ninterface PropTypes {\n  hideModal: () => void;\n  visible: boolean;\n  isGrandPianoOnly: boolean;\n  setIsGrandPianoOnly: (value: boolean) => void;\n}\n\nexport default function InstrumentsList({hideModal, visible, isGrandPianoOnly,\n                                          setIsGrandPianoOnly}: PropTypes) {\n\n  const handleSelect = (newValue: string) => {\n    setIsGrandPianoOnly(newValue === '0')\n    hideModal();\n  };\n\n  return <Portal>\n    <Modal visible={visible} onDismiss={hideModal} contentContainerStyle={styles.containerStyle}>\n      <View>\n        <RadioButton.Group onValueChange={newValue => handleSelect(newValue)}\n                           value={isGrandPianoOnly ? '0' : '1'}>\n          <View style={styles.item}>\n            <RadioButton value=\"0\" />\n            <Text></Text>\n          </View>\n          <View style={styles.item}>\n            <RadioButton value=\"1\" />\n            <Text>  </Text>\n          </View>\n        </RadioButton.Group>\n      </View>\n    </Modal>\n  </Portal>\n};\n\nconst styles = StyleSheet.create(({\n  containerStyle: {\n    position: 'absolute',\n    width: '90%',\n    backgroundColor: 'white',\n    margin: 20,\n    padding: 20,\n    borderRadius: 8,\n    justifyContent: 'center',\n    alignItems: 'flex-start',\n  },\n  item: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  }\n}));","import React from 'react'\nimport {StyleSheet, View, TouchableOpacity, Image} from 'react-native'\nimport {Dialog, Paragraph, Portal, ProgressBar} from \"react-native-paper\";\n\ntype PropTypes = {\n  size: number;\n  count: number;\n  setCount: (count: number) => void;\n  visible: boolean;\n  hideDialog: () => void;\n}\n\nexport default function CustomRating({size = 5, count, setCount, visible, hideDialog}: PropTypes) {\n  const stars = new Array(size).fill(null);\n\n  const handleRate = (value: number) => {\n    setCount(value);\n    hideDialog();\n  };\n\n\n  return (\n    <Portal>\n      <Dialog visible={visible} onDismiss={hideDialog}>\n        <Dialog.Title style={{textAlign: 'center'}}>  </Dialog.Title>\n        <Dialog.Content>\n          <View style={styles.rate}>\n            {stars.map((value, index) => (\n              <TouchableOpacity key={index} onPress={() => handleRate(index + 1)}>\n                <Image source={require('../../assets/images/star.png')}\n                       style={{...styles.star, opacity: index < count ? 1 : .3}}\n                />\n              </TouchableOpacity>\n            ))}\n          </View>\n        </Dialog.Content>\n      </Dialog>\n    </Portal>\n  )\n}\n\nconst styles = StyleSheet.create({\n  rate: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n  },\n  star: {\n    width: 20,\n    height: 20\n  },\n})","import React, {useState} from 'react';\nimport {StyleSheet, Text, View, Dimensions, ScrollView} from \"react-native\";\nimport {\n  Button,\n  IconButton,\n  Modal,\n  Portal,\n  TextInput\n} from \"react-native-paper\";\nimport {InstrumentType} from \"../../models/models\";\nimport InstrumentsList from \"./InstrumentsList\";\nimport CustomRating from \"../../components/CustomRating/CustomRating\";\nimport Colors from \"../../constants/Colors\";\n\nexport type SpecialT = 'with' | 'only' | 'without';\n\ninterface PropTypes {\n  hideModal: () => void;\n  visible: boolean;\n  instruments: InstrumentType[];\n  setInstruments: any;\n}\n\nconst windowWidth = Dimensions.get('window').width;\n\nexport default function InstrumentFilters({hideModal, visible, instruments, setInstruments}: PropTypes) {\n  const [isGrandPianoOnly, setIsGrandPianoOnly] = useState(false);\n  const [count, setCount] = useState(0);\n  const [visibleList, setVisibleList] = useState(false);\n  const [visibleRate, setVisibleRate] = useState(false);\n\n  const showModalList = () => setVisibleList(true);\n\n  const hideModalList = () => setVisibleList(false);\n\n  const showModalRate = () => setVisibleRate(true);\n\n  const hideModalRate = () => setVisibleRate(false);\n\n  const addInstrument = () => {\n    const newInstrument = {type: isGrandPianoOnly ? 'GrandPiano' : 'UpRightPiano', rate: count};\n    setInstruments((prevState: InstrumentType[]) => [...prevState, newInstrument]);\n    setCount(0);\n    setIsGrandPianoOnly(false);\n  };\n\n  const removeInstrument = (index: number) => {\n    const newArray = instruments.slice();\n    newArray.splice(index, 1);\n\n    setInstruments(newArray);\n  };\n\n  return <Portal>\n    <Modal visible={visible} onDismiss={hideModal} contentContainerStyle={styles.containerStyle}>\n      <View style={styles.body}>\n        <ScrollView>\n          {instruments.length ? instruments.map((instrument, index) => (\n            <View key={index} style={styles.instrumentRow}>\n              <Text style={{width: '40%'}}>\n                {instrument.type === 'UpRightPiano' ? '  ' : ''}\n              </Text>\n              <View style={{flexDirection: 'row', alignItems: 'center', width: '20%'}}>\n                <Button icon='star' color={Colors.orange} disabled>\n                  {instrument.rate} +\n                </Button>\n              </View>\n              <IconButton icon='trash-can-outline' onPress={() => removeInstrument(index)}/>\n            </View>\n          )) : <Text style={styles.noInstrumentsLabel}>  </Text>}\n          <View style={styles.newInstrumentRow}>\n            <View style={{width: '40%', flexDirection: 'row', alignItems: 'center'}}>\n              <Text onPress={showModalList}>\n                {!isGrandPianoOnly ? '  ' : ''}\n              </Text>\n              <IconButton icon='menu-down' onPress={showModalList}/>\n            </View>\n            <View style={{flexDirection: 'row', alignItems: 'center', width: '20%'}}>\n              <Button onPress={showModalRate} icon='star' color={Colors.orange}>{count} +</Button>\n              <CustomRating size={10} count={count} setCount={setCount} hideDialog={hideModalRate}\n                            visible={visibleRate}\n              />\n            </View>\n            <IconButton icon='plus' onPress={addInstrument}/>\n          </View>\n        </ScrollView>\n        <View style={styles.buttons}>\n          <Button mode='contained' onPress={hideModal}></Button>\n        </View>\n      </View>\n      <InstrumentsList hideModal={hideModalList} visible={visibleList}\n                       isGrandPianoOnly={isGrandPianoOnly} setIsGrandPianoOnly={setIsGrandPianoOnly} />\n    </Modal>\n  </Portal>\n};\n\nconst styles = StyleSheet.create(({\n  containerStyle: {\n    position: 'absolute',\n    height: 300,\n    width: '90%',\n    backgroundColor: 'white',\n    margin: 20,\n    borderRadius: 8,\n    justifyContent: 'center',\n    alignItems: 'flex-start',\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: '#dddddd',\n    width: '100%',\n    backgroundColor: '#f1f1f1'\n  },\n  body: {\n    padding: 20,\n  },\n  radioItem: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  divider: {\n    borderBottomColor: '#eee',\n    alignSelf: 'center',\n    borderBottomWidth: 1,\n    borderStyle: 'solid',\n    width: windowWidth - 80,\n    height: 1,\n    marginVertical: 16\n  },\n  checkbox: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  buttons: {\n    paddingTop: 16,\n    flexDirection: 'row',\n    justifyContent: 'flex-end'\n  },\n  instrumentRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: '100%',\n    borderBottomWidth: 1,\n    borderBottomColor: '#ccc',\n    padding: 10,\n  },\n  newInstrumentRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: '100%',\n    padding: 10,\n  },\n  countInput: {\n    height: 40,\n    width: 40,\n    backgroundColor: 'transparent',\n    paddingLeft: 5\n  },\n  noInstrumentsLabel: {\n    textAlign: 'center',\n    paddingBottom: 15,\n    color: '#ccc',\n    fontSize: 18,\n    borderBottomColor: '#eee',\n    borderBottomWidth: 1,\n  }\n}));","import React, {useState} from 'react';\nimport {StyleSheet, Text, View, Dimensions} from \"react-native\";\nimport {Button, Checkbox, Divider, Headline, Modal, Portal, RadioButton} from \"react-native-paper\";\nimport InstrumentFilters from \"./InstrumentFilters\";\nimport {InstrumentType} from \"../../models/models\";\n\nexport type SpecialT = 'with' | 'only' | 'without';\n\ninterface PropTypes {\n  hideModal: () => void;\n  visible: boolean;\n  apply: (instruments: InstrumentType[], withWing: boolean, operaStudioOnly: boolean, special: SpecialT) => void;\n}\n\nconst windowWidth = Dimensions.get('window').width;\n\nexport default function Filters({hideModal, visible, apply}: PropTypes) {\n  const [instruments, setInstruments] = useState<InstrumentType[]>([]);\n  const [special, setSpecial] = useState<SpecialT>('with');\n  const [withWing, setWithWing] = useState(true);\n  const [onlyOperaStudio, setOnlyOperaStudio] = useState(false);\n  const [visibleInstrumentFilters, setVisibleInstrumentFilters] = useState(false);\n\n  const showModalInstrumentFilters = () => setVisibleInstrumentFilters(true);\n\n  const hideModalInstrumentFilters= () => setVisibleInstrumentFilters(false);\n\n  const handleApply = () => {\n    apply(instruments, withWing, onlyOperaStudio, special);\n    hideModal();\n  };\n\n  const getEnding = () => {\n    switch (instruments.length) {\n      case 1: return '';\n      case 2: return '';\n      case 3: return '';\n      case 4: return '';\n      case 5: return '';\n      default: return '...';\n    }\n  };\n\n  return <Portal>\n    <Modal visible={visible} onDismiss={hideModal} contentContainerStyle={styles.containerStyle}>\n      <View style={styles.header}>\n        <Headline>   </Headline>\n      </View>\n      <View style={styles.body}>\n        <Button icon='pencil' onPress={showModalInstrumentFilters}>\n          <Text>\n            { !instruments.length\n              ? '-   '\n              : `${instruments.length} ${getEnding()}` }\n          </Text>\n        </Button>\n        <Divider style={styles.divider}/>\n        <View style={styles.checkbox}>\n          <Checkbox status={!withWing ? 'checked' : 'unchecked'}\n                    onPress={() => setWithWing(prevState => !prevState)}/>\n          <Text> </Text>\n        </View>\n        <View style={styles.checkbox}>\n          <Checkbox status={onlyOperaStudio ? 'checked' : 'unchecked'}\n                    onPress={() => setOnlyOperaStudio(prevState => !prevState)}/>\n          <Text>  </Text>\n        </View>\n        <Divider style={styles.divider}/>\n        <RadioButton.Group onValueChange={newValue => setSpecial(newValue as SpecialT)} value={special}>\n          <View style={styles.radioItem}>\n            <RadioButton value='with' />\n            <Text>  (-)</Text>\n          </View>\n          <View style={styles.radioItem}>\n            <RadioButton value='only' />\n            <Text>  (-)</Text>\n          </View>\n          <View style={styles.radioItem}>\n            <RadioButton value='without' />\n            <Text>  (-)</Text>\n          </View>\n        </RadioButton.Group>\n        <Divider style={styles.divider}/>\n        <View style={styles.buttons}>\n          <Button mode='contained' onPress={handleApply}></Button>\n        </View>\n        <InstrumentFilters hideModal={hideModalInstrumentFilters} visible={visibleInstrumentFilters}\n                           instruments={instruments} setInstruments={setInstruments} />\n      </View>\n    </Modal>\n  </Portal>\n};\n\nconst styles = StyleSheet.create({\n  containerStyle: {\n    backgroundColor: 'white',\n    margin: 20,\n    borderRadius: 8,\n    justifyContent: 'center',\n    alignItems: 'flex-start',\n    overflow: 'hidden'\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: '#dddddd',\n    width: '100%',\n    backgroundColor: '#f1f1f1'\n  },\n  body: {\n    padding: 20,\n  },\n  radioItem: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  divider: {\n    borderBottomColor: '#eee',\n    alignSelf: 'center',\n    borderBottomWidth: 1,\n    borderStyle: 'solid',\n    width: windowWidth - 80,\n    height: 1,\n    marginVertical: 16\n  },\n  checkbox: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  buttons: {\n    flexDirection: 'row',\n    justifyContent: 'center'\n  }\n});","import {ClassroomType, InstrumentType} from \"../../models/models\";\n\ntype InstrumentTypeOrderT = {\n  [index: string]: number;\n};\n\nconst instrumentTypeOrder: InstrumentTypeOrderT = {\n  GrandPiano: 0,\n  UpRightPiano: 1\n};\n\nexport function getClassroomsFilteredByInstruments(classrooms: ClassroomType[],\n                                                   userInstrumentFilterInput: InstrumentType[]) {\n  const instrumentsFilterSorted = sortUserFilterInstruments(userInstrumentFilterInput);\n\n  return classrooms.filter((classroom) => {\n    const instrumentsFilter = [...instrumentsFilterSorted];\n    let classroomInstruments = [...classroom.instruments];\n\n    if (instrumentsFilter.length > classroomInstruments.length) {\n      return false;\n    }\n\n    // first checking all the required grand pianos\n    while (instrumentsFilter[instrumentsFilter.length - 1]?.type === 'GrandPiano') {\n      const classroomGrandPianoInd = getMinimumSatisfactoryInstrumentIndex(\n        classroomInstruments,\n        'GrandPiano',\n        instrumentsFilter[instrumentsFilter.length - 1].rate\n      );\n      if (classroomGrandPianoInd === -1) {\n        return false;\n      }\n\n      instrumentsFilter.pop();\n      classroomInstruments.splice(classroomGrandPianoInd, 1);\n    }\n\n    // checking all the other instruments\n    while (instrumentsFilter.length) {\n      const classroomInstrumentInd = getMinimumSatisfactoryInstrumentIndex(\n        classroomInstruments, null, instrumentsFilter[instrumentsFilter.length - 1].rate\n      );\n      if (classroomInstrumentInd === -1) {\n        return false;\n      }\n\n      instrumentsFilter.pop();\n      classroomInstruments.splice(classroomInstrumentInd, 1);\n    }\n\n    return true;\n  })\n}\n\nfunction sortUserFilterInstruments(instruments: InstrumentType[]) {\n  return instruments.sort((instA, instB) => {\n\n    if (instrumentTypeOrder[instA.type] === instrumentTypeOrder[instB.type]) {\n      return instA.rate - instB.rate;\n    }\n\n    return instrumentTypeOrder[instB.type] - instrumentTypeOrder[instA.type]\n  })\n}\n\nfunction getMinimumSatisfactoryInstrumentIndex(instruments: InstrumentType[],\n                                               instrumentType: string | null, minimumRate: number) {\n  let bestIndex = -1;\n\n  instruments.forEach((instrument, i) => {\n    if (instrumentType && instrument.type !== instrumentType) return;\n\n    if (instrument.rate < minimumRate) return;\n\n    if (bestIndex === -1 || instrument.rate - minimumRate < instruments[bestIndex].rate - minimumRate) {\n      bestIndex = i;\n    }\n  });\n  return bestIndex;\n}","import {gql} from \"@apollo/client\";\n\nexport const GENERAL_QUEUE_POSITION = gql`\n  query generalQueuePosition($userId: Int!){\n    generalQueuePosition(userId: $userId)\n  }\n`;","import {gql} from \"@apollo/client/core\";\n\nexport const FOLLOW_GENERAL_QUEUE_POSITION = gql`\n  subscription generalQueuePosition($userId: Int!) {\n    generalQueuePosition(userId: $userId)\n  }\n`;","import React, {useEffect, useState} from 'react';\nimport {Appbar, Button} from \"react-native-paper\";\nimport {DrawerActions, useNavigation} from \"@react-navigation/native\";\nimport {StyleSheet, View} from \"react-native\";\nimport {useQuery} from \"@apollo/client\";\nimport {GENERAL_QUEUE_SIZE} from \"../../api/operations/queries/generalQueueSize\";\nimport {FOLLOW_GENERAL_QUEUE_SIZE} from \"../../api/operations/subscriptions/generalQueueSize\";\nimport {useLocal} from \"../../hooks/useLocal\";\nimport {ClassroomType, InstrumentType, Mode, User} from \"../../models/models\";\nimport {desirableClassroomIdsVar, isMinimalSetupVar, minimalClassroomIdsVar} from \"../../api/client\";\nimport SavedFilters from \"./SavedFilters\";\nimport Filters, {SpecialT} from \"./Filters\";\nimport {getClassroomsFilteredByInstruments} from \"./helpers\";\nimport {filterDisabledForQueue} from \"../../helpers/filterDisabledForQueue\";\nimport {GENERAL_QUEUE_POSITION} from \"../../api/operations/queries/generalQueuePosition\";\nimport {FOLLOW_GENERAL_QUEUE_POSITION} from \"../../api/operations/subscriptions/generalQueuePosition\";\n\ntype PropTypes = {\n  freeClassroomsAmount: number;\n  classrooms: ClassroomType[];\n  currentUser: User;\n}\n\nconst ClassroomsAppBar: React.FC<PropTypes> = (\n  {\n    freeClassroomsAmount, classrooms, currentUser\n  }\n) => {\n  const navigation = useNavigation();\n  const {data, loading, error, subscribeToMore} = useQuery(GENERAL_QUEUE_SIZE);\n  const {\n    data: dataPosition, loading: loadingPosition,\n    error: errorPosition, subscribeToMore: subscribeToMorePosition\n  } = useQuery(GENERAL_QUEUE_POSITION, {\n    variables: {\n      userId: currentUser.id\n    }\n  });\n  const {data: {mode}} = useLocal('mode');\n  const {data: {isMinimalSetup}} = useLocal('isMinimalSetup');\n  const [visible, setVisible] = useState(false);\n  const [visibleSavedFilters, setVisibleSavedFilters] = useState(false);\n  const [generalQueueSize, setGeneralQueueSize] = useState(0);\n  const [generalQueuePosition, setGeneralQueuePosition] = useState(0);\n\n  useEffect(() => {\n    const unsubscribeSize = subscribeToMore({\n        document: FOLLOW_GENERAL_QUEUE_SIZE,\n        updateQuery: (prev, {subscriptionData}) => {\n          if (!subscriptionData.data) return prev;\n          setGeneralQueueSize(subscriptionData.data.generalQueueSize);\n          return subscriptionData.data.generalQueueSize\n        }\n      }\n      )\n    ;\n    const unsubscribePosition = subscribeToMorePosition({\n        document: FOLLOW_GENERAL_QUEUE_POSITION,\n        variables: {\n          userId: currentUser.id\n        },\n        updateQuery: (prev, {subscriptionData}) => {\n          if (!subscriptionData.data) return prev;\n          setGeneralQueuePosition(subscriptionData.data.generalQueuePosition);\n          return subscriptionData.data.generalQueuePosition\n        }\n      }\n    );\n\n    return () => {\n      unsubscribeSize();\n      unsubscribePosition();\n    }\n  }, []);\n\n  useEffect(() => {\n    if (!loading && !error) setGeneralQueueSize(data.generalQueueSize);\n  }, [data, loading, error]);\n\n  const applyGeneralFilter = (instruments: InstrumentType[], withWing: boolean,\n                              operaStudioOnly: boolean, special: SpecialT) => {\n\n    const filteredClassroomsByInstruments = instruments.length ?\n      getClassroomsFilteredByInstruments(classrooms, instruments) : classrooms;\n\n    const filteredIds = filteredClassroomsByInstruments\n      .filter(classroom => filterDisabledForQueue(classroom, currentUser))\n      .filter(classroom => withWing ? true : !classroom.isWing)\n      .filter(classroom => operaStudioOnly ? classroom.isOperaStudio : true)\n      .filter(classroom => {\n        switch (special) {\n          case \"with\":\n            return true;\n          case \"only\":\n            return classroom.special;\n          case \"without\":\n            return !classroom.special;\n        }\n      })\n      .map((classroom) => classroom.id);\n\n    if (isMinimalSetup) {\n      minimalClassroomIdsVar(filteredIds);\n    } else {\n      desirableClassroomIdsVar(filteredIds);\n    }\n  };\n\n  const showModal = () => setVisible(true);\n\n  const hideModal = () => setVisible(false);\n\n  const showModalSavedFilters = () => setVisibleSavedFilters(true);\n\n  const hideModalSavedFilters = () => setVisibleSavedFilters(false);\n\n  return (\n    <Appbar style={styles.top}>\n      <Appbar.Action icon=\"menu\" onPress={() => navigation.dispatch(DrawerActions.openDrawer())}\n                     color='#fff'\n      />\n      {mode === Mode.INLINE && (\n        <Appbar.Content title={`   : ${generalQueuePosition}`}\n                        color='#fff'\n        />\n      )}\n      {mode === Mode.PRIMARY && (\n        <Appbar.Content title={`  : ${generalQueueSize}`}\n                        subtitle={` : ${freeClassroomsAmount}`}\n                        color='#fff'\n        />\n      )}\n      {mode === Mode.QUEUE_SETUP && (\n        <>\n          <View style={{flexDirection: 'row', justifyContent: 'space-between', width: '88%'}}>\n            <View style={styles.queueSwitcher}>\n              <Button mode={isMinimalSetup ? 'contained' : 'text'}\n                      style={{position: 'relative', width: '45%'}}\n                      color='#fff'\n                      onPress={() => isMinimalSetupVar(true)}\n              >\n                \n              </Button>\n              <Button\n                mode={!isMinimalSetup ? 'contained' : 'text'}\n                style={{position: 'relative', width: '35%'}}\n                color='#fff'\n                onPress={() => isMinimalSetupVar(false)}\n              >\n                \n              </Button>\n            </View>\n          </View>\n          <Appbar.Action icon=\"content-save\" onPress={showModalSavedFilters} color='#fff'\n                         style={{position: 'absolute', right: 40, top: 28}}/>\n          <Appbar.Action icon=\"filter\" onPress={showModal} color='#fff'\n                         style={{position: 'absolute', right: 0, top: 28}}/>\n        </>\n      )}\n      <SavedFilters hideModal={hideModalSavedFilters} visible={visibleSavedFilters} currentUser={currentUser}/>\n      <Filters hideModal={hideModal} visible={visible} apply={applyGeneralFilter}/>\n    </Appbar>\n  );\n}\n\nconst styles = StyleSheet.create({\n  top: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    paddingTop: 26,\n    height: 80,\n    backgroundColor: 'transparent',\n    zIndex: 1\n  },\n  queueSwitcher: {\n    flexDirection: 'row',\n    width: '76%',\n    justifyContent: 'center',\n    paddingHorizontal: 5,\n    marginHorizontal: 20,\n    alignItems: 'center',\n  },\n});\n\nexport default ClassroomsAppBar;","import {View, StyleSheet, Text, ScrollView, Dimensions} from \"react-native\";\nimport React from \"react\";\n\nexport default function Log({data}: any) {\n  return JSON.stringify(data).length > 2 ?\n    <View style={styles.container}>\n      <ScrollView>\n        <Text style={styles.text}>\n          {typeof data === 'object' ? JSON.stringify(data) : data}\n        </Text>\n      </ScrollView>\n    </View>\n    : <></>\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    width: '50%',\n    backgroundColor: '#00000099',\n    position: 'absolute',\n    zIndex: 99999999,\n    top: 70,\n    elevation: 1000,\n    right: 16,\n    padding: 16,\n    maxHeight: (Dimensions.get('window').height / 100) * 85\n  },\n  text: {\n    color: '#00ff65'\n  }\n});","import {Button, Dialog, Paragraph, Portal} from \"react-native-paper\";\nimport {Mode} from \"../models/models\";\nimport React, {useState} from \"react\";\nimport {modeVar} from \"../api/client\";\nimport removeFromLine from \"../helpers/queue/removeFromLine\";\nimport WaitDialog from \"./WaitDialog\";\n\nexport default function ConfirmContinueDesiredQueue() {\n  const [loading, setLoading] = useState(false);\n\n  const handleLeave = async () => {\n    setLoading(true);\n    await removeFromLine();\n    modeVar(Mode.PRIMARY);\n    setLoading(false);\n  };\n\n  const handleOk = () => {\n    //TODO: handle continue for DESIRED\n  };\n\n  return <Portal>\n    <Dialog visible={true}>\n      <Dialog.Title>!</Dialog.Title>\n      <Dialog.Content>\n        <Paragraph>           . ?</Paragraph>\n      </Dialog.Content>\n      <Dialog.Actions>\n        <Button onPress={handleLeave}> </Button>\n        <Button onPress={handleOk}></Button>\n      </Dialog.Actions>\n    </Dialog>\n    <WaitDialog visible={loading}/>\n  </Portal>\n};","import {useEffect, useRef} from \"react\";\n\nexport function usePrevious(value: any) {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n};","import * as React from 'react';\nimport {Portal, Button, Modal} from 'react-native-paper';\nimport {View, Text, StyleSheet} from \"react-native\";\nimport {useState} from \"react\";\n\ninterface PropTypes {\n  visible: boolean;\n  hideDialog: () => void;\n}\n\nexport default function InlineDialog({visible, hideDialog}: PropTypes) {\n  return (\n    <Portal>\n      <Modal visible={visible} onDismiss={hideDialog} contentContainerStyle={styles.containerStyle}>\n        <View>\n          <Text style={styles.header}>!</Text>\n          <Text style={styles.paragraph}>    !</Text>\n          <View style={styles.buttons}>\n            <Button mode='contained' onPress={hideDialog}></Button>\n          </View>\n        </View>\n      </Modal>\n    </Portal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  containerStyle: {\n    backgroundColor: 'white',\n    padding: 20,\n    margin: 20,\n    borderRadius: 8\n  },\n  header: {\n    textAlign: 'center',\n    fontSize: 30,\n    fontWeight: 'bold',\n    marginBottom: 10,\n  },\n  paragraph: {\n    textAlign: 'center',\n    marginBottom: 5,\n    fontSize: 16\n  },\n  buttons: {\n    marginTop: 20,\n    flexDirection: 'row',\n    justifyContent: 'center'\n  }\n});","import * as React from 'react';\nimport {Portal, Button, Modal} from 'react-native-paper';\nimport {View, Text, StyleSheet} from \"react-native\";\nimport {useState} from \"react\";\n\ninterface PropTypes {\n  visible: boolean;\n  hideDialog: () => void;\n}\n\nexport default function QueueOutDialog({visible, hideDialog}: PropTypes) {\n  return (\n    <Portal>\n      <Modal visible={visible} onDismiss={hideDialog} contentContainerStyle={styles.containerStyle}>\n        <View>\n          <Text style={styles.header}>!</Text>\n          <Text style={styles.paragraph}>  !</Text>\n          <View style={styles.buttons}>\n            <Button mode='contained' onPress={hideDialog}></Button>\n          </View>\n        </View>\n      </Modal>\n    </Portal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  containerStyle: {\n    backgroundColor: 'white',\n    padding: 20,\n    margin: 20,\n    borderRadius: 8\n  },\n  header: {\n    textAlign: 'center',\n    fontSize: 30,\n    fontWeight: 'bold',\n    marginBottom: 10,\n  },\n  paragraph: {\n    textAlign: 'center',\n    marginBottom: 5,\n    fontSize: 16\n  },\n  buttons: {\n    marginTop: 20,\n    flexDirection: 'row',\n    justifyContent: 'center'\n  }\n});","import React, {useEffect, useState} from 'react';\nimport {Dimensions, ImageBackground, ScrollView, StyleSheet, TouchableOpacity, View} from \"react-native\";\nimport {ActivityIndicator} from \"react-native-paper\";\nimport {ClassroomType, DisabledState, Mode, OccupiedState, User, UserQueueState} from \"../../models/models\";\nimport {createStackNavigator} from \"@react-navigation/stack\";\nimport {RootStackParamList} from \"../../types\";\nimport ClassroomInfo from \"../../components/ClassroomInfo\";\nimport {useQuery} from \"@apollo/client\";\nimport ClassroomsBrowser from \"../../components/ClassroomsBrowser/ClassroomsBrowser\";\nimport {GET_CLASSROOMS_NO_SCHEDULE} from \"../../api/operations/queries/classrooms\";\nimport {FOLLOW_CLASSROOMS} from \"../../api/operations/subscriptions/classrooms\";\nimport {GET_USER_BY_ID} from \"../../api/operations/queries/users\";\nimport {FOLLOW_USER} from \"../../api/operations/subscriptions/user\";\nimport {getItem} from \"../../api/asyncStorage\";\nimport {hasOwnClassroom, isEnabledForCurrentDepartment, isEnabledForQueue} from \"../../helpers/helpers\";\nimport Buttons from \"./Buttons\";\nimport {useLocal} from \"../../hooks/useLocal\";\nimport {modeVar} from \"../../api/client\";\nimport ClassroomsAppBar from \"./ClassroomsAppBar\";\nimport Log from \"../../components/Log\";\nimport ConfirmContinueDesiredQueue from \"../../components/ConfirmContinueDesiredQueue\";\nimport {usePrevious} from \"../../hooks/usePrevious\";\nimport InlineDialog from \"../../components/InlineDialog\";\nimport QueueOutDialog from \"../../components/QueueOutDialog\";\nimport {sendPushNotification} from \"../PushNotification\";\n\nconst Stack = createStackNavigator<RootStackParamList>();\n\nconst windowHeight = Dimensions.get(\"window\").height;\n\nexport default function Home() {\n  const [currentUserId, setCurrentUserId] = useState(null);\n\n  useEffect(() => {\n    getItem('user').then((data: User) => setCurrentUserId(data.id));\n  }, []);\n  if (!currentUserId) return null;\n  // @ts-ignore\n  return <Stack.Navigator screenOptions={{headerShown: false}} initialRouteName='ClassroomsList'>\n    <Stack.Screen\n      name={'ClassroomsList' as any}\n      component={ClassroomsList}\n      initialParams={{currentUserId}}\n    />\n    <Stack.Screen\n      name={'ClassroomInfo' as any}\n      component={ClassroomInfo}\n      initialParams={{currentUserId}}\n    />\n  </Stack.Navigator>\n}\n\ntype QueryClassroomsData = {\n  classrooms: ClassroomType[];\n}\n\nconst ClassroomsList: React.FC = ({route}: any) => {\n  const {data: {mode}} = useLocal('mode');\n  const {data: {pushNotificationToken}} = useLocal('pushNotificationToken');\n  const [showLog, setShowLog] = useState(false);\n  const [freeClassroomsAmount, setFreeClassroomsAmount] = useState(0);\n  const [showQueueInSuccess, setShownQueueInSuccess] = useState(false);\n  const [showQueueOutSuccess, setShownQueueOutSuccess] = useState(false);\n  const {\n    data,\n    loading,\n    error,\n    subscribeToMore\n  } = useQuery<QueryClassroomsData>(GET_CLASSROOMS_NO_SCHEDULE);\n  const {\n    data: userData,\n    loading: userLoading,\n    error: userError,\n    subscribeToMore: subscribeToMoreUser\n  } = useQuery(GET_USER_BY_ID, {\n    variables: {\n      where: {\n        id: route.params.currentUserId\n      }\n    }\n  });\n  const prevUserData: { user: User } = usePrevious(userData);\n  const prevClassroomsData: { classrooms: ClassroomType[] } = usePrevious(data);\n\n  useEffect(() => {\n    if (userData && prevUserData) {\n      const {currentSession} = userData.user?.queueInfo;\n      const {currentSession: prevSession} = prevUserData.user?.queueInfo;\n      if (!prevSession && currentSession?.state === UserQueueState.IN_QUEUE_MINIMAL) {\n        setShownQueueInSuccess(true);\n      }\n      if (!currentSession &&\n        (prevSession?.state === UserQueueState.IN_QUEUE_MINIMAL ||\n          prevSession?.state === UserQueueState.IN_QUEUE_DESIRED_AND_OCCUPYING)) {\n        setShownQueueOutSuccess(true);\n      }\n    }\n  }, [userData]);\n\n  useEffect(() => {\n    if (data && prevClassroomsData && userData) {\n      data.classrooms.forEach(({occupied, id, name}) => {\n        const prevClassroomOccupiedData = prevClassroomsData.classrooms\n          .find((classroom) => classroom.id === id)?.occupied;\n        if (prevClassroomOccupiedData.user?.id !== occupied.user?.id && occupied.state === OccupiedState.PENDING\n          && occupied.user?.id === userData.user.id) {\n          sendPushNotification(pushNotificationToken, ` ${name} .`,\n            `  2 .     .`);\n        }\n      })\n    }\n  }, [data, userData]);\n\n  useEffect(() => {\n    const unsubscribeClassrooms = subscribeToMore({\n      document: FOLLOW_CLASSROOMS,\n    });\n    const unsubscribeUser = subscribeToMoreUser({\n      document: FOLLOW_USER,\n      variables: {\n        userId: route.params.currentUserId\n      }\n    });\n    return () => {\n      unsubscribeClassrooms();\n      unsubscribeUser();\n    };\n  }, []);\n\n  useEffect(() => {\n    if (!loading && !error && userData) {\n      const freeClassrooms = data.classrooms.filter(classroom => {\n        return classroom.occupied.state === OccupiedState.FREE\n          && classroom.disabled.state === DisabledState.NOT_DISABLED\n          && isEnabledForCurrentDepartment(classroom, userData.user)\n      });\n      setFreeClassroomsAmount(freeClassrooms.length);\n    }\n  }, [data, userData]);\n\n  useEffect(() => {\n    if (userData) {\n      if (!!userData.user?.queue.length) modeVar(Mode.INLINE);\n      if (!userData.user?.queue.length && mode === Mode.INLINE) modeVar(Mode.PRIMARY);\n    }\n  }, [userData]);\n\n  /**\n   * Find occupied classroom for current user (OCCUPIED or RESERVED)\n   * */\n  const own = ({id}: ClassroomType) => {\n    return id === hasOwnClassroom(userData.user.occupiedClassrooms);\n  };\n\n  /**\n   * Filter classrooms for primary state (not in queue and not in queue setup)\n   * Hidden shown when is occupied\n   * Without occupied by current user\n   * */\n  const primary = (classroom: ClassroomType) => {\n    const ownClassroomId = hasOwnClassroom(userData.user.occupiedClassrooms);\n    const fullHidden = classroom.occupied.state === OccupiedState.FREE && classroom.isHidden;\n\n    return classroom.id !== ownClassroomId && !fullHidden &&\n      !(userData.user.occupiedClassrooms.some((data: any) => {\n        return data.classroom.id === classroom.id && data.state === OccupiedState.PENDING\n      }))\n  };\n\n  /**\n   * From BE queue data\n   * Filter chosen classrooms in queue setup mode (MINIMAl and DESIRED)\n   * */\n  const chosen = (classroom: ClassroomType) => {\n\n    return userData.user.queue.some(({classroom: {id}, ...queueRecord}: any) => classroom.id === id)\n      && !(userData.user.occupiedClassrooms.some(({id}: ClassroomType) => classroom.id === id));\n  };\n\n  /**\n   * Others not in queue classrooms\n   * */\n  const notChosen = (classroom: ClassroomType) => {\n    const ownClassroomId = hasOwnClassroom(userData.user.occupiedClassrooms);\n\n    return !(userData.user.queue.some(({classroom: {id}}: any) => classroom.id === id)) &&\n      classroom.id !== ownClassroomId;\n  };\n\n  /**\n   * Filter action pending classrooms for current user\n   * */\n  const pending = ({id}: ClassroomType) => {\n    return userData.user.occupiedClassrooms.some((data: any) => {\n      return data.classroom.id === id && data.state === OccupiedState.PENDING\n    });\n  };\n\n  const handleShowLog = () => {\n    setShowLog(prevState => !prevState);\n  }\n\n  return (\n    <ImageBackground source={require('../../assets/images/bg.jpg')}\n                     style={{width: '100%', height: '100%'}}>\n      {!loading && !error && !userLoading && !userError\n      && userData.user.queueInfo.currentSession?.state === UserQueueState.IN_QUEUE_DESIRED_AND_OCCUPYING\n      && <ConfirmContinueDesiredQueue/>}\n      {!userLoading && !userError && (\n        <>\n          <InlineDialog visible={showQueueInSuccess}\n                        hideDialog={() => setShownQueueInSuccess(false)}\n          />\n          <QueueOutDialog visible={showQueueOutSuccess}\n                          hideDialog={() => setShownQueueOutSuccess(false)}\n          />\n        </>\n      )}\n      {mode !== Mode.QUEUE_SETUP && (\n        <TouchableOpacity style={styles.hiddenLogButton} onLongPress={handleShowLog}\n                          delayLongPress={3000}>\n        </TouchableOpacity>\n      )}\n      {!loading && !error && !userLoading && !userError && (\n        <ClassroomsAppBar freeClassroomsAmount={freeClassroomsAmount} classrooms={data.classrooms}\n                          currentUser={userData.user}\n        />\n      )}\n\n      <View style={styles.wrapper}>\n        {showLog && (\n          <Log data={JSON.stringify({...userData.user.queueInfo, ...userData.user.queue})}/>\n        )}\n        {!loading && !error && !userLoading && !userError && (\n          <ScrollView>\n            {/**\n             My classroom: OCCUPIED or RESERVED classroom by current user\n             Shown anytime except QUEUE_SETUP mode.\n             */}\n            {mode !== Mode.QUEUE_SETUP && (\n              <ClassroomsBrowser classrooms={data.classrooms.filter(own)} currentUser={userData.user}\n                                 title=' '\n              />\n            )}\n\n            {/**\n             Pending classroom: PENDING for approval by current user\n             Shown in QUEUED mode\n             */}\n            {mode === Mode.INLINE && (\n              <ClassroomsBrowser classrooms={data.classrooms.filter(pending)} currentUser={userData.user}\n                                 title=',   '\n              />\n            )}\n\n            {/**\n             Classrooms browser shown when current user is not in queue\n             Shown all classrooms except classrooms of current user (OCCUPIED, PENDING and RESERVED)\n             and hidden and FREE at same time\n             */}\n            {mode === Mode.PRIMARY && (\n              <ClassroomsBrowser classrooms={data.classrooms.filter(primary)} currentUser={userData.user}\n                                 title=' '\n              />\n            )}\n\n            {/**\n             Classrooms browser shown when current user is in QUEUE_SETUP mode\n             Shown all classrooms except classrooms of current user (OCCUPIED, PENDING and RESERVED),\n             hidden, free, disabled and disabled for current department\n             */}\n            {mode === Mode.QUEUE_SETUP && (\n              <ClassroomsBrowser classrooms={data.classrooms.filter((classroom => {\n                return isEnabledForQueue(classroom, userData.user);\n              }))} currentUser={userData.user}/>\n            )}\n\n            {/**\n             All chosen for queue classrooms when IN_QUEUE mode is enabled\n             */}\n            {mode === Mode.INLINE && (\n              <ClassroomsBrowser classrooms={data.classrooms.filter(chosen)} currentUser={userData.user}\n                                 title=',      '\n              />\n            )}\n\n            {/**\n             All NOT chosen for queue classrooms when IN_QUEUE mode is enabled\n             */}\n            {mode === Mode.INLINE && (\n              <ClassroomsBrowser classrooms={data.classrooms.filter(notChosen)} currentUser={userData.user}\n                                 title=' '\n              />\n            )}\n          </ScrollView>\n        )}\n        {loading && <ActivityIndicator animating color='#fff' size={64}/>}\n      </View>\n      {!!userData && !loading && !error && (\n        <Buttons currentUser={userData.user} classrooms={data.classrooms}/>\n      )}\n    </ImageBackground>\n  )\n}\n\nconst styles = StyleSheet.create(\n  {\n    grid: {\n      marginBottom: 80,\n      marginLeft: 2,\n      flexDirection: 'row',\n      flexWrap: 'wrap',\n      justifyContent: 'flex-start'\n    },\n    getInLine: {\n      position: 'absolute',\n      zIndex: 1,\n      bottom: 15,\n      width: '55%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    getOutLine: {\n      position: 'absolute',\n      zIndex: 1,\n      bottom: 15,\n      left: 20,\n      width: '43%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    getOutLineSingle: {\n      position: 'absolute',\n      zIndex: 1,\n      bottom: 15,\n      width: '55%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    approve: {\n      position: 'absolute',\n      zIndex: 1,\n      right: 20,\n      bottom: 15,\n      width: '43%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    wrapper: {\n      width: '100%',\n      height: '100%',\n      alignItems: 'center',\n      justifyContent: 'center',\n      backgroundColor: 'transparent',\n      paddingTop: 80,\n    },\n    queueSwitcher: {\n      flexDirection: 'row',\n      width: '76%',\n      justifyContent: 'center',\n      paddingHorizontal: 5,\n      marginHorizontal: 20,\n      alignItems: 'center',\n    },\n    gridDivider: {\n      color: '#fff',\n      marginBottom: 10,\n      marginLeft: 3,\n      marginRight: 3,\n      paddingLeft: 17,\n      borderBottomWidth: 1,\n      borderBottomColor: '#ffffff77',\n      paddingBottom: 10\n    },\n    hiddenLogButton: {\n      position: \"absolute\",\n      zIndex: 1000,\n      width: 100,\n      height: 50,\n      top: 16,\n      right: 16,\n    }\n  }\n);","import React from 'react';\nimport {ImageBackground, Image, View} from \"react-native\";\nimport {ProgressBar} from \"react-native-paper\";\n\nexport default function Splash() {\n\n  return (\n    <ImageBackground source={require('./../assets/images/bg.jpg')} style={{\n      width: '100%',\n      height: '100%',\n      alignItems: 'center',\n      justifyContent: 'center'\n    }}>\n      <Image source={require('./../assets/images/au_logo_shadow.png')} style={{\n        width: '80%',\n        resizeMode: 'contain',\n        height: 130,\n      }}/>\n      <View style={{width: '70%', marginTop: 40}}>\n        <ProgressBar indeterminate color='#fff'/>\n      </View>\n    </ImageBackground>\n  )\n};","import React from 'react';\nimport {ScrollView, StyleSheet, View, Text} from \"react-native\";\nimport {Appbar, Paragraph, Title} from \"react-native-paper\";\n\nexport default function PrivacyPolicy({navigation}: any) {\n\n  const goBack = () => navigation.goBack();\n\n  return (\n    <View>\n      <Appbar style={styles.top}>\n        <Appbar.BackAction onPress={goBack}/>\n        <Appbar.Content\n          title=' '\n        />\n      </Appbar>\n      <ScrollView style={styles.wrapper}>\n        <Title>   </Title>\n        <Paragraph>  : 25  2021 .</Paragraph>\n        <Paragraph>          ,   \n          \n                         , \n          \n           . </Paragraph>\n        <Paragraph>          .  , \n           \n                  .</Paragraph>\n        <Title>    </Title>\n        <Title>  </Title>\n        <Paragraph> ,        ,  ,    .\n           \n               ,       . </Paragraph>\n        <Title style={{fontSize: 16}}>  </Title>\n        <Paragraph>     : </Paragraph>\n\n        <Paragraph>\n          <Paragraph><Text style={{fontWeight: '600'}}>   </Text>    ,\n                \n                . </Paragraph>\n        </Paragraph>\n        <Paragraph>\n          <Paragraph><Text style={{fontWeight: '600'}}>  </Text>   , \n            ,     -\n                Auditorium </Paragraph>\n        </Paragraph>\n        <Paragraph>\n          <Paragraph><Text style={{fontWeight: '600'}}>  </Text> (      \"\",\n            \"\", \"\"  \"\" \n            \"Auditorium\"). </Paragraph>\n        </Paragraph>\n        <Paragraph>\n          <Paragraph><Text style={{fontWeight: '600'}}>  </Text>  :  </Paragraph>\n        </Paragraph>\n        <Paragraph>\n          <Paragraph><Text style={{fontWeight: '600'}}>  </Text>   - ,    \n            ,  ,\n                . </Paragraph>\n        </Paragraph>\n        <Paragraph>\n          <Paragraph><Text style={{fontWeight: '600'}}>   </Text> -   - ,  \n               , \n            . </Paragraph>\n        </Paragraph>\n        <Paragraph>\n          <Paragraph><Text style={{fontWeight: '600'}}>  </Text>   . </Paragraph>\n        </Paragraph>\n        <Paragraph>\n          <Paragraph><Text style={{fontWeight: '600'}}>   </Text>   -  \n             ,    \n             .        ,    \n            ,     ,   , '  ,   \n                 . </Paragraph>\n        </Paragraph>\n        <Paragraph>\n          <Paragraph><Text style={{fontWeight: '600'}}>    </Text>   , \n            ,   \n             ,      (,   ).\n          </Paragraph>\n        </Paragraph>\n        <Paragraph>\n          <Paragraph><Text style={{fontWeight: '600'}}>  </Text>   ,    \n             ,   \n              ,          ,   .\n          </Paragraph>\n        </Paragraph>\n\n        <Title>       </Title>\n        <Title style={{fontSize: 16}}>    </Title>\n        <Title style={{fontSize: 14}}>  </Title>\n        <Paragraph>              ,\n            \n               . ,   ,  ,  \n          \n          : </Paragraph>\n\n        <Paragraph>\n          <Paragraph>    </Paragraph>\n        </Paragraph>\n        <Paragraph>\n          <Paragraph> '   </Paragraph>\n        </Paragraph>\n        <Paragraph>\n          <Paragraph>   </Paragraph>\n        </Paragraph>\n        <Paragraph>\n          <Paragraph>        </Paragraph>\n        </Paragraph>\n        <Paragraph>\n          <Paragraph>   </Paragraph>\n        </Paragraph>\n\n        <Title style={{fontSize: 14}}>  </Title>\n        <Paragraph>         . </Paragraph>\n        <Paragraph>       ,    -  \n          (, IP\n          -),   -,  ,   ,   ,    \n          , ,     ,      \n          . </Paragraph>\n        <Paragraph>           ,    \n          \n          , ,   ,   ,   , \n          \n            , IP -    ,    , \n          \n           -,   ,      \n          . </Paragraph>\n        <Paragraph>     ,     -,     \n            \n                    . </Paragraph>\n        <Title style={{fontSize: 16}}>     </Title>\n        <Paragraph>        : </Paragraph>\n\n        <Paragraph>\n          <Paragraph><Text style={{fontWeight: '600'}}>       </Text>,  \n               .\n          </Paragraph>\n        </Paragraph>\n        <Paragraph>\n          <Paragraph><Text style={{fontWeight: '600'}}>     : </Text>  \n               .\n                       ,    \n             . </Paragraph>\n        </Paragraph>\n        <Paragraph>\n          <Paragraph><Text style={{fontWeight: '600'}}>    : </Text>     \n            ,  ,\n            SMS    \n             ', , push -      \n            , '   ,    , \n            \n            ,        . </Paragraph>\n        </Paragraph>\n        <Paragraph>\n          <Paragraph><Text style={{fontWeight: '600'}}>    </Text> ,    \n               ,\n            \n             ,   ,   ,        ,  ,  \n            \n                 . </Paragraph>\n        </Paragraph>\n        <Paragraph>\n          <Paragraph><Text style={{fontWeight: '600'}}>    : </Text>   \n                . </Paragraph>\n        </Paragraph>\n        <Paragraph>\n          <Paragraph><Text style={{fontWeight: '600'}}>    </Text>:     \n              ,   \n            ,\n                \n              .</Paragraph>\n        </Paragraph>\n\n        <Paragraph>         : </Paragraph>\n\n        <Paragraph><Text style={{fontWeight: '600'}}>   . </Text>    \n             \n               ,    .\n        </Paragraph>\n        <Paragraph><Text style={{fontWeight: '600'}}>   : </Text>    \n              ,\n            \n           ,   .\n        </Paragraph>\n        <Paragraph><Text style={{fontWeight: '600'}}>   : </Text>    \n               \n           \n                       \n          .\n        </Paragraph>\n        <Paragraph><Text style={{fontWeight: '600'}}>    </Text>:     \n            -  </Paragraph>\n\n        <Title style={{fontSize: 16}}>    </Title>\n        <Paragraph>        ,     ,\n            \n           .          , \n            \n            (,         \n          ).</Paragraph>\n        <Paragraph>          .  \n           \n              ,   ,      \n            \n          . </Paragraph>\n        <Title style={{fontSize: 16}}>     </Title>\n        <Paragraph>  ,   ,        - \n          \n            ,     .  ,      \n           ',      , ,     , \n                   . </Paragraph>\n        <Paragraph>               \n          .</Paragraph>\n        <Paragraph>     ,        \n          \n              ,        \n           \n             ,        . </Paragraph>\n        <Title style={{fontSize: 16}}>     </Title>\n        <Title style={{fontSize: 14}}>  </Title>\n        <Paragraph>      ,    ,    \n           .  \n             ,           \n          . </Paragraph>\n        <Title style={{fontSize: 14}}>  </Title>\n        <Paragraph>           ,  \n           \n                  (,    ). </Paragraph>\n        <Title style={{fontSize: 14}}>   </Title>\n        <Paragraph>       ,     : </Paragraph>\n\n        <Paragraph>    </Paragraph>\n        <Paragraph>        </Paragraph>\n        <Paragraph>     , '  </Paragraph>\n        <Paragraph>     </Paragraph>\n\n        <Title style={{fontSize: 16}}>     </Title>\n        <Paragraph>       ,  ,     \n          ,\n                100% .</Paragraph>\n        <Title>    - </Title>\n        <Paragraph>        -,    .   \n            , \n             -   .      \n             \n          . </Paragraph>\n        <Paragraph>         ,    \n          -  \n            . </Paragraph>\n        <Title>      </Title>\n        <Paragraph>         .     -\n          ,       . </Paragraph>\n        <Paragraph>      /       ,  \n            \n          .         . </Paragraph>\n        <Paragraph>         - .   \n           \n           ,      . </Paragraph>\n        <Title>    </Title>\n        <Paragraph>         ,   ' \n          : </Paragraph>\n\n        <Paragraph>   : auditorium.knmau@gmail.com </Paragraph>\n      </ScrollView>\n    </View>\n  )\n}\n\nconst styles = StyleSheet.create({\n  top: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    paddingTop: 26,\n    height: 80,\n    backgroundColor: '#2e287c',\n  },\n  wrapper: {\n    marginTop: 100,\n    marginLeft: 16,\n    marginRight: 16,\n  },\n});","import {DarkTheme, DefaultTheme, NavigationContainer} from '@react-navigation/native';\nimport {createStackNavigator} from '@react-navigation/stack';\nimport * as React from 'react';\nimport {useEffect, useState} from 'react';\nimport {ColorSchemeName, StyleSheet} from 'react-native';\nimport {RootStackParamList} from '../types';\nimport Login from \"../screens/Login\";\nimport SignUp from \"../screens/Signup/SignUp\";\nimport ForgotPassword from \"../screens/ForgotPassword\";\nimport ForgotPasswordSuccess from \"../screens/ForgotPasswordSuccess\";\nimport {createDrawerNavigator} from \"@react-navigation/drawer\";\nimport Users from \"../screens/Users\";\nimport CustomSidebarMenu from \"./CustomSidebarMenu\";\nimport Profile from \"../screens/Profile\";\nimport {getItem} from \"../api/asyncStorage\";\nimport {AccountStatuses, User} from \"../models/models\";\nimport SignUpStepTwo from \"../screens/Signup/SignUpStepTwo\";\nimport Verification from \"../screens/Signup/Verification\";\nimport Home from \"../screens/ClassroomsList/ClassroomsList\";\nimport {client, meVar} from \"../api/client\";\nimport {useQuery} from \"@apollo/client\";\nimport {GET_ME} from \"../api/operations/queries/me\";\nimport Frozen from \"../screens/Signup/Frozen\";\nimport Loading from \"../screens/Loading\";\nimport * as SplashScreen from \"expo-splash-screen\";\nimport Splash from \"../screens/Splash\";\nimport PrivacyPolicy from \"../screens/PrivacyPolicy\";\nimport {GET_USER_BY_ID} from \"../api/operations/queries/users\";\nimport {useLocal} from \"../hooks/useLocal\";\n\nexport default function Navigation({colorScheme}: { colorScheme: ColorSchemeName }) {\n  return (\n    <NavigationContainer\n      theme={colorScheme === 'dark' ? DarkTheme : DefaultTheme}>\n      <RootNavigator/>\n    </NavigationContainer>\n  );\n}\n\nconst Drawer = createDrawerNavigator();\nconst Stack = createStackNavigator<RootStackParamList>();\n\n\nfunction RootNavigator() {\n  const [currentUser, setCurrentUser] = useState(null);\n  const [appIsReady, setAppIsReady] = useState(false);\n  const {data: {me}} = useLocal('me');\n\n\n  useEffect(() => {\n    async function prepare() {\n      try {\n        const user = await getItem('user');\n        if (user) {\n          setCurrentUser(user);\n          meVar(user);\n        }\n        await SplashScreen.preventAutoHideAsync();\n      } catch (e) {\n        console.warn(e);\n      } finally {\n        setAppIsReady(true);\n      }\n    }\n\n    prepare();\n  }, []);\n\n return (\n   me ? <Drawer.Navigator initialRouteName=\"Home\" drawerStyle={styles.drawer} drawerContentOptions={{\n        activeBackgroundColor: '#2b5dff',\n        labelStyle: {\n          fontSize: 20,\n          color: '#fff'\n        },\n      }}\n                           drawerContent={(props: any) => <CustomSidebarMenu {...props}/>}\n      >\n        <Drawer.Screen name=\"Home\"\n                       component={Home}\n                       options={{\n                         title: '',\n                       }}\n                       initialParams={{id: me.id}}\n        />\n        <Drawer.Screen name=\"Users\" component={Users} options={{\n          title: '',\n        }}/>\n        {/*<Drawer.Screen name=\"Schedule\" component={Schedule} options={{*/}\n        {/*  title: ''*/}\n        {/*}}/>*/}\n        <Drawer.Screen name=\"Profile\" component={Profile} options={{\n          title: ' '\n        }}/>\n        <Drawer.Screen name=\"PrivacyPolicy\" component={PrivacyPolicy} options={{\n          title: ' '\n        }}/>\n      </Drawer.Navigator>\n      : <Stack.Navigator screenOptions={{headerShown: false}} initialRouteName={\"Login\" as any}>\n        <Stack.Screen\n          name={\"Login\" as any}\n          component={appIsReady ? Login : Splash}\n        />\n        <Stack.Screen\n          name={\"SignUp\" as any}\n          component={SignUp}\n        />\n        <Stack.Screen\n          name={\"ForgotPassword\" as any}\n          component={ForgotPassword}\n        />\n        <Stack.Screen\n          name={\"ForgotPasswordSuccess\" as any}\n          component={ForgotPasswordSuccess}\n        />\n      </Stack.Navigator>\n  );\n}\n\nconst styles = StyleSheet.create({\n  drawer: {\n    backgroundColor: '#2e287c',\n  }\n});\n","import {StatusBar} from 'expo-status-bar';\nimport React, {useEffect} from 'react';\nimport {SafeAreaProvider} from 'react-native-safe-area-context';\n\nimport useColorScheme from './hooks/useColorScheme';\nimport Navigation from './navigation';\nimport {ApolloProvider} from \"@apollo/client\";\nimport {client} from \"./api/client\";\nimport {Provider, DefaultTheme} from \"react-native-paper\";\nimport * as Localization from 'expo-localization';\nimport i18n from 'i18n-js';\nimport en from './localization/en.json';\nimport ua from './localization/ua.json';\n\ni18n.locale = Localization.locale;\ni18n.fallbacks = true;\ni18n.translations = {en, ua};\n\nexport default function App() {\n  const colorScheme = useColorScheme();\n\n  const theme = {\n    ...DefaultTheme,\n    roundness: 8,\n    colors: {\n      ...DefaultTheme.colors,\n      primary: '#2b5dff',\n      accent: '#ffc000',\n    },\n  };\n\n  return (\n    <ApolloProvider client={client}>\n      <SafeAreaProvider>\n        <Provider theme={theme}>\n          <Navigation colorScheme={colorScheme}/>\n          <StatusBar/>\n        </Provider>\n      </SafeAreaProvider>\n    </ApolloProvider>\n  );\n}\n","var map = {\n\t\"./af\": 279,\n\t\"./af.js\": 279,\n\t\"./ar\": 280,\n\t\"./ar-dz\": 281,\n\t\"./ar-dz.js\": 281,\n\t\"./ar-kw\": 282,\n\t\"./ar-kw.js\": 282,\n\t\"./ar-ly\": 283,\n\t\"./ar-ly.js\": 283,\n\t\"./ar-ma\": 284,\n\t\"./ar-ma.js\": 284,\n\t\"./ar-sa\": 285,\n\t\"./ar-sa.js\": 285,\n\t\"./ar-tn\": 286,\n\t\"./ar-tn.js\": 286,\n\t\"./ar.js\": 280,\n\t\"./az\": 287,\n\t\"./az.js\": 287,\n\t\"./be\": 288,\n\t\"./be.js\": 288,\n\t\"./bg\": 289,\n\t\"./bg.js\": 289,\n\t\"./bm\": 290,\n\t\"./bm.js\": 290,\n\t\"./bn\": 291,\n\t\"./bn-bd\": 292,\n\t\"./bn-bd.js\": 292,\n\t\"./bn.js\": 291,\n\t\"./bo\": 293,\n\t\"./bo.js\": 293,\n\t\"./br\": 294,\n\t\"./br.js\": 294,\n\t\"./bs\": 295,\n\t\"./bs.js\": 295,\n\t\"./ca\": 296,\n\t\"./ca.js\": 296,\n\t\"./cs\": 297,\n\t\"./cs.js\": 297,\n\t\"./cv\": 298,\n\t\"./cv.js\": 298,\n\t\"./cy\": 299,\n\t\"./cy.js\": 299,\n\t\"./da\": 300,\n\t\"./da.js\": 300,\n\t\"./de\": 301,\n\t\"./de-at\": 302,\n\t\"./de-at.js\": 302,\n\t\"./de-ch\": 303,\n\t\"./de-ch.js\": 303,\n\t\"./de.js\": 301,\n\t\"./dv\": 304,\n\t\"./dv.js\": 304,\n\t\"./el\": 305,\n\t\"./el.js\": 305,\n\t\"./en-au\": 306,\n\t\"./en-au.js\": 306,\n\t\"./en-ca\": 307,\n\t\"./en-ca.js\": 307,\n\t\"./en-gb\": 308,\n\t\"./en-gb.js\": 308,\n\t\"./en-ie\": 309,\n\t\"./en-ie.js\": 309,\n\t\"./en-il\": 310,\n\t\"./en-il.js\": 310,\n\t\"./en-in\": 311,\n\t\"./en-in.js\": 311,\n\t\"./en-nz\": 312,\n\t\"./en-nz.js\": 312,\n\t\"./en-sg\": 313,\n\t\"./en-sg.js\": 313,\n\t\"./eo\": 314,\n\t\"./eo.js\": 314,\n\t\"./es\": 315,\n\t\"./es-do\": 316,\n\t\"./es-do.js\": 316,\n\t\"./es-mx\": 317,\n\t\"./es-mx.js\": 317,\n\t\"./es-us\": 318,\n\t\"./es-us.js\": 318,\n\t\"./es.js\": 315,\n\t\"./et\": 319,\n\t\"./et.js\": 319,\n\t\"./eu\": 320,\n\t\"./eu.js\": 320,\n\t\"./fa\": 321,\n\t\"./fa.js\": 321,\n\t\"./fi\": 322,\n\t\"./fi.js\": 322,\n\t\"./fil\": 323,\n\t\"./fil.js\": 323,\n\t\"./fo\": 324,\n\t\"./fo.js\": 324,\n\t\"./fr\": 325,\n\t\"./fr-ca\": 326,\n\t\"./fr-ca.js\": 326,\n\t\"./fr-ch\": 327,\n\t\"./fr-ch.js\": 327,\n\t\"./fr.js\": 325,\n\t\"./fy\": 328,\n\t\"./fy.js\": 328,\n\t\"./ga\": 329,\n\t\"./ga.js\": 329,\n\t\"./gd\": 330,\n\t\"./gd.js\": 330,\n\t\"./gl\": 331,\n\t\"./gl.js\": 331,\n\t\"./gom-deva\": 332,\n\t\"./gom-deva.js\": 332,\n\t\"./gom-latn\": 333,\n\t\"./gom-latn.js\": 333,\n\t\"./gu\": 334,\n\t\"./gu.js\": 334,\n\t\"./he\": 335,\n\t\"./he.js\": 335,\n\t\"./hi\": 336,\n\t\"./hi.js\": 336,\n\t\"./hr\": 337,\n\t\"./hr.js\": 337,\n\t\"./hu\": 338,\n\t\"./hu.js\": 338,\n\t\"./hy-am\": 339,\n\t\"./hy-am.js\": 339,\n\t\"./id\": 340,\n\t\"./id.js\": 340,\n\t\"./is\": 341,\n\t\"./is.js\": 341,\n\t\"./it\": 342,\n\t\"./it-ch\": 343,\n\t\"./it-ch.js\": 343,\n\t\"./it.js\": 342,\n\t\"./ja\": 344,\n\t\"./ja.js\": 344,\n\t\"./jv\": 345,\n\t\"./jv.js\": 345,\n\t\"./ka\": 346,\n\t\"./ka.js\": 346,\n\t\"./kk\": 347,\n\t\"./kk.js\": 347,\n\t\"./km\": 348,\n\t\"./km.js\": 348,\n\t\"./kn\": 349,\n\t\"./kn.js\": 349,\n\t\"./ko\": 350,\n\t\"./ko.js\": 350,\n\t\"./ku\": 351,\n\t\"./ku.js\": 351,\n\t\"./ky\": 352,\n\t\"./ky.js\": 352,\n\t\"./lb\": 353,\n\t\"./lb.js\": 353,\n\t\"./lo\": 354,\n\t\"./lo.js\": 354,\n\t\"./lt\": 355,\n\t\"./lt.js\": 355,\n\t\"./lv\": 356,\n\t\"./lv.js\": 356,\n\t\"./me\": 357,\n\t\"./me.js\": 357,\n\t\"./mi\": 358,\n\t\"./mi.js\": 358,\n\t\"./mk\": 359,\n\t\"./mk.js\": 359,\n\t\"./ml\": 360,\n\t\"./ml.js\": 360,\n\t\"./mn\": 361,\n\t\"./mn.js\": 361,\n\t\"./mr\": 362,\n\t\"./mr.js\": 362,\n\t\"./ms\": 363,\n\t\"./ms-my\": 364,\n\t\"./ms-my.js\": 364,\n\t\"./ms.js\": 363,\n\t\"./mt\": 365,\n\t\"./mt.js\": 365,\n\t\"./my\": 366,\n\t\"./my.js\": 366,\n\t\"./nb\": 367,\n\t\"./nb.js\": 367,\n\t\"./ne\": 368,\n\t\"./ne.js\": 368,\n\t\"./nl\": 369,\n\t\"./nl-be\": 370,\n\t\"./nl-be.js\": 370,\n\t\"./nl.js\": 369,\n\t\"./nn\": 371,\n\t\"./nn.js\": 371,\n\t\"./oc-lnc\": 372,\n\t\"./oc-lnc.js\": 372,\n\t\"./pa-in\": 373,\n\t\"./pa-in.js\": 373,\n\t\"./pl\": 374,\n\t\"./pl.js\": 374,\n\t\"./pt\": 375,\n\t\"./pt-br\": 376,\n\t\"./pt-br.js\": 376,\n\t\"./pt.js\": 375,\n\t\"./ro\": 377,\n\t\"./ro.js\": 377,\n\t\"./ru\": 378,\n\t\"./ru.js\": 378,\n\t\"./sd\": 379,\n\t\"./sd.js\": 379,\n\t\"./se\": 380,\n\t\"./se.js\": 380,\n\t\"./si\": 381,\n\t\"./si.js\": 381,\n\t\"./sk\": 382,\n\t\"./sk.js\": 382,\n\t\"./sl\": 383,\n\t\"./sl.js\": 383,\n\t\"./sq\": 384,\n\t\"./sq.js\": 384,\n\t\"./sr\": 385,\n\t\"./sr-cyrl\": 386,\n\t\"./sr-cyrl.js\": 386,\n\t\"./sr.js\": 385,\n\t\"./ss\": 387,\n\t\"./ss.js\": 387,\n\t\"./sv\": 388,\n\t\"./sv.js\": 388,\n\t\"./sw\": 389,\n\t\"./sw.js\": 389,\n\t\"./ta\": 390,\n\t\"./ta.js\": 390,\n\t\"./te\": 391,\n\t\"./te.js\": 391,\n\t\"./tet\": 392,\n\t\"./tet.js\": 392,\n\t\"./tg\": 393,\n\t\"./tg.js\": 393,\n\t\"./th\": 394,\n\t\"./th.js\": 394,\n\t\"./tk\": 395,\n\t\"./tk.js\": 395,\n\t\"./tl-ph\": 396,\n\t\"./tl-ph.js\": 396,\n\t\"./tlh\": 397,\n\t\"./tlh.js\": 397,\n\t\"./tr\": 398,\n\t\"./tr.js\": 398,\n\t\"./tzl\": 399,\n\t\"./tzl.js\": 399,\n\t\"./tzm\": 400,\n\t\"./tzm-latn\": 401,\n\t\"./tzm-latn.js\": 401,\n\t\"./tzm.js\": 400,\n\t\"./ug-cn\": 402,\n\t\"./ug-cn.js\": 402,\n\t\"./uk\": 403,\n\t\"./uk.js\": 403,\n\t\"./ur\": 404,\n\t\"./ur.js\": 404,\n\t\"./uz\": 405,\n\t\"./uz-latn\": 406,\n\t\"./uz-latn.js\": 406,\n\t\"./uz.js\": 405,\n\t\"./vi\": 407,\n\t\"./vi.js\": 407,\n\t\"./x-pseudo\": 408,\n\t\"./x-pseudo.js\": 408,\n\t\"./yo\": 409,\n\t\"./yo.js\": 409,\n\t\"./zh-cn\": 410,\n\t\"./zh-cn.js\": 410,\n\t\"./zh-hk\": 411,\n\t\"./zh-hk.js\": 411,\n\t\"./zh-mo\": 412,\n\t\"./zh-mo.js\": 412,\n\t\"./zh-tw\": 413,\n\t\"./zh-tw.js\": 413\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 589;","module.exports = __webpack_public_path__ + \"static/media/au_logo.de05cb10.png\";","module.exports = __webpack_public_path__ + \"static/media/key.5df04324.png\";"],"sourceRoot":""}