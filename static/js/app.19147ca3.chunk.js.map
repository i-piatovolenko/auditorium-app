{"version":3,"sources":["assets/images/bg.jpg","assets/images/specialPiano.png","assets/images/GrandPiano.png","assets/images/star.png","assets/images/au_logo_shadow.png","assets/images/Chembalo.png","assets/images/UpRightPiano.png","hooks/useColorScheme.ts","constants/Colors.ts","components/Themed.tsx","api/operations/mutations/login.ts","components/WaitDialog.tsx","models/models.ts","api/asyncStorage.ts","components/ErrorDialog.tsx","api/client.ts","screens/PushNotification.tsx","api/operations/queries/lang.ts","screens/Login.tsx","api/operations/queries/degrees.ts","hooks/useDegrees.ts","api/operations/queries/departments.ts","hooks/useDepartments.ts","screens/Signup/components/Agreement.tsx","components/CustomPicker/CustomPicker.tsx","components/CustomPicker/CustomPickerField.tsx","api/operations/mutations/signUp.ts","components/InfoDialog.tsx","screens/Signup/SignUp.tsx","screens/ForgotPassword.tsx","screens/ForgotPasswordSuccess.tsx","api/operations/queries/users.ts","hooks/useUsers.ts","helpers/helpers.ts","components/UserInfo.tsx","screens/Users.tsx","navigation/CustomSidebarMenu.tsx","api/operations/queries/me.ts","screens/Profile.tsx","screens/Signup/SignUpStepTwo.tsx","screens/Signup/Verification.tsx","hooks/useLocal.ts","api/operations/mutations/addUserToQueue.ts","api/operations/queries/classroom.ts","components/InstrumentInfo.tsx","components/InstrumentItem.tsx","hooks/useTimeLeft.ts","helpers/constants.ts","components/OccupantInfo.tsx","helpers/queue/getInLine.ts","api/operations/mutations/removeUserFromQueue.ts","helpers/queue/removeFromLine.ts","components/ClassroomQueueControlButtons.tsx","components/ClassroomInfo.tsx","helpers/sortAB.ts","components/ClassroomsBrowser/FreeClassroomCell.tsx","components/ClassroomsBrowser/OccupiedClassroomCell.tsx","components/ClassroomsBrowser/ReservedClassroomCell.tsx","components/ClassroomsBrowser/PendingClassroomCell.tsx","components/ClassroomsBrowser/OccupiedByCurrentUserClassroomCell.tsx","components/ClassroomsBrowser/ClassroomsBrowser.tsx","api/operations/queries/classrooms.ts","api/operations/subscriptions/classrooms.ts","api/operations/subscriptions/user.ts","helpers/filterDisabledForQueue.ts","helpers/filterSavedFIlters.ts","components/ConfirmLineOut.tsx","screens/ClassroomsList/Buttons.tsx","api/operations/queries/generalQueueSize.ts","api/operations/subscriptions/generalQueueSize.ts","hooks/useClassrooms.tsx","screens/ClassroomsList/SavedFilters.tsx","screens/ClassroomsList/InstrumentsList.tsx","components/CustomRating/CustomRating.tsx","screens/ClassroomsList/InstrumentFilters.tsx","screens/ClassroomsList/Filters.tsx","screens/ClassroomsList/helpers.ts","api/operations/queries/generalQueuePosition.ts","api/operations/subscriptions/generalQueuePosition.ts","screens/ClassroomsList/ClassroomsAppBar.tsx","components/Log.tsx","components/ConfirmContinueDesiredQueue.tsx","components/InlineDialog.tsx","components/QueueOutDialog.tsx","screens/ClassroomsList/ClassroomsList.tsx","hooks/usePrevious.ts","screens/Signup/Frozen.tsx","screens/Loading.tsx","screens/Splash.tsx","screens/PrivacyPolicy.tsx","navigation/index.tsx","App.tsx","assets/images/ua.png","assets/images/en.png","node_modules/moment/locale sync /^/.//.*$","assets/images/au_logo.png","assets/images/key.png"],"names":["module","exports","useColorScheme","_useColorScheme","light","text","background","tint","tabIconDefault","tabIconSelected","dark","red","blue","darkBlue","orange","useThemeColor","props","colorName","theme","colorFromProps","Colors","Text","style","lightColor","darkColor","otherProps","color","View","backgroundColor","LOGIN","gql","WaitDialog","visible","message","Portal","Dialog","dismissable","Title","textAlign","Content","Paragraph","ProgressBar","indeterminate","marginTop","ACCESS_RIGHTS","Mode","ErrorCodesUa","ErrorCodes","EmploymentTypes","EmploymentTypesUa","UserTypes","UserTypesUa","UserTypeColors","ActivityTypesColor","ActivityTypes","NotificationsTypes","AccountStatuses","UserQueueState","OccupiedState","DisabledState","ClassroomsFilterTypes","QueueState","QueueType","Langs","EnqueuedBy","setItem","key","value","a","async","AsyncStorage","JSON","stringify","console","log","getItem","then","result","parse","removeItem","ErrorDialog","hideDialog","onDismiss","marginBottom","Actions","Button","onPress","wsLink","WebSocketLink","uri","options","reconnect","connectionParams","token","authorization","subscriptionMiddleware","applyMiddleware","next","subscriptionClient","use","httpLink","createHttpLink","authLink","setContext","_","headers","splitLink","split","query","definition","getMainDefinition","kind","operation","client","ApolloClient","link","concat","cache","InMemoryCache","typePolicies","Query","fields","me","read","meVar","lang","langVar","accessRights","accessRightsVar","mode","modeVar","minimalClassroomIds","minimalClassroomIdsVar","desirableClassroomIds","desirableClassroomIdsVar","isMinimalSetup","isMinimalSetupVar","makeVar","UA","USER","PRIMARY","PushNotification","setPushNotificationToken","useState","setExpoPushToken","setNotification","notificationListener","useRef","responseListener","useEffect","Constants","isDevice","Notifications","existingStatus","status","finalStatus","alert","data","Platform","OS","name","importance","MAX","vibrationPattern","registerForPushNotificationsAsync","current","notification","response","handleNotification","shouldShowAlert","shouldPlaySound","shouldSetBadge","GET_LANG","Login","route","navigation","useMutation","login","loading","email","setEmail","password","setPassword","showPassword","setShowPassword","modalActivator","setModalActivator","showError","setShowError","errorMessage","setErrorMessage","pushNotificationToken","useQuery","res","handleChangeLang","lng","styles","container","ImageBackground","source","require","bg","Image","logo","langSwitcher","TouchableHighlight","langImageSelected","langImage","EN","title","Surface","inputs","TextInput","label","input","onChangeText","e","secureTextEntry","selectionColor","right","Icon","prevState","length","variables","notificationToken","userErrors","code","user","queue","minimal","filter","type","state","MINIMAL","ACTIVE","desired","DESIRED","INLINE","map","classroom","id","graphQLErrors","button","disabled","navigate","uppercase","labelStyle","footer","StyleSheet","create","flex","alignItems","justifyContent","overflow","width","resizeMode","fontSize","fontWeight","elevation","borderRadius","paddingLeft","paddingRight","paddingBottom","height","opacity","flexDirection","GET_DEGREES","useDegrees","updateList","degrees","setDegrees","where","fetchPolicy","slice","sort","b","GET_DEPARTMENTS","useDepartments","departments","setDepartments","Agreement","setCheckAgreement","wrapper","ScrollView","position","top","bottom","CustomPicker","setSelected","selected","items","searchText","setSearchText","filteredItems","setFilteredItems","filtered","String","toLowerCase","includes","Modal","contentContainerStyle","Searchbar","placeholder","search","clearButtonMode","item","handlePress","borderBottomWidth","borderStyle","borderBottomColor","padding","margin","CustomPickerField","setIsVisited","checkValidation","underlineColor","visiblePicker","setVisiblePicker","showPicker","picker","pickerField","numberOfLines","IconButton","icon","pickerIcon","paddingVertical","SIGN_UP","InfoDialog","navigateToLogin","marginRight","currentYear","parseInt","moment","format","startYearsItems","windowHeight","Dimensions","get","SignUp","selectedDepartment","setSelectedDepartment","selectedDegree","setSelectedDegree","selectedStartYear","setSelectedStartYear","setVisible","visibleAgreement","setVisibleAgreement","visibleBackDialog","setVisibleBackDialog","firstName","setFirstName","lastName","setLastName","patronymic","setPatronymic","phoneNumber","setPhoneNumber","passwordConfirm","setPasswordConfirm","checkAgreement","isSignupTouched","setIsSignupTouched","isLastNameValidated","setIsLastNameValidated","isFirstNameValidated","setIsFirstNameValidated","isEmailValidated","setIsEmailValidated","isPhoneValidated","setIsPhoneValidated","isPasswordValidated","setIsPasswordValidated","isPasswordConfirmValidated","setIsPasswordConfirmValidated","isStartYearValidated","setIsStartYearValidated","isDepartmentValidated","setIsDepartmentValidated","isDegreeValidated","setIsDegreeValidated","isStartYearModalVisited","setIsStartYearModalVisited","setIsDepartmentModalVisited","isDegreeModalVisited","setIsDegreeModalVisited","signup","checkLastNameValidation","error","checkFirstNameValidation","checkEmailValidation","test","checkPhoneValidation","checkPasswordValidation","checkPasswordConfirmValidation","checkStartYearValidation","checkDepartmentValidation","checkDegreeValidation","goBack","Error","validator","HelperText","Appbar","BackAction","subtitle","scrollView","Banner","actions","infoPanel","onBlur","keyboardType","forceTextInputFocus","agreement","Checkbox","uncheckedColor","navButtons","department","degree","startYear","signUpButton","left","paddingTop","textDecorationLine","ForgotPassword","ForgotPasswordSuccess","loginButton","GET_USERS","GET_USER_BY_ID","useUsers","users","setUsers","formatMinutesToMM","fullName","withInitials","nameTemp","charAt","typeStyle","occupied","isDisabled","student","employee","vacant","isNotFree","STUDENT","POST_GRADUATE","ISODateString","d","pad","n","getUTCFullYear","getUTCMonth","getUTCDate","isTeacherType","TEACHER","CONCERTMASTER","ILLUSTRATOR","FREE","hasOwnClassroom","occupiedClassrooms","ownClassroom","find","OCCUPIED","RESERVED","isEnabledForCurrentDepartment","currentUser","chair","exclusivelyQueueAllowedDepartmentsInfo","some","isEnabledForQueue","ownClassroomId","isHidden","NOT_DISABLED","PENDING","UserInfo","userId","hideModal","openPhoneNumber","Linking","openURL","containerStyle","ActivityIndicator","animating","occupantName","Divider","divider","phoneRow","extraPhoneNumbers","number","index","borderWidth","borderColor","Users","pages","setPages","currentPage","setCurrentPage","currentUserId","setCurrentUserId","UserElement","DataTable","Row","showModal","Cell","Header","header","alignSelf","list","Pagination","pagination","page","numberOfPages","onPageChange","sideMenuProfileIcon","iconStyle","marginHorizontal","customItem","userData","userName","logout","marginVertical","CustomSidebarMenu","SafeAreaView","size","DrawerContentScrollView","DrawerItemList","GET_ME","Profile","expireDate","marginLeft","SignUpStepTwo","useNavigation","lineHeight","Verification","storageUser","setStorageUser","update","setUpdate","isLoading","setIsLoading","u","useLocal","localVarName","ADD_USER_TO_QUEUE","GET_CLASSROOM","InstrumentInfo","instrument","instrumentType","intRate","Math","round","rate","Array","fill","toFixed","star","InstrumentItem","expanded","onTouchEnd","imageSource","useTimeLeft","minutesDuration","timeLeft","setTimeLeft","timeLeftInPer","setTimeLeftInPer","interval","setInterval","until","differenceInMs","diff","tempTime","duration","resultHHMMSS","hours","minutes","seconds","resultPercents","getTimeFromUntil","leftPer","hour","min","sec","clearInterval","occupationInfo","freeText","paddingHorizontal","occupantType","occupiedUntil","progressBar","spaceBottom30","OccupantInfo","date","userFullName","occupiedTotalTime","visibleBanner","setVisibleBanner","isPendingForMe","progress","colors","Date","getHours","getMinutes","queueInfo","currentSession","skips","getInLine","minimalClassroomsIds","allClassroomIds","Set","minimalData","classroomId","desirableData","mutate","mutation","enqueuedBy","SELF","REMOVE_USER_FROM_QUEUE","removeFromLine","deleteWhere","equals","IN_QUEUE_MINIMAL","ClassroomQueueControlButtons","currentRecord","queueRecord","setLoading","handleClassroomForQueue","minimalSet","has","delete","add","desiredSet","asyncHandleClassroomForQueue","exist","IN_QUEUE_DESIRED_AND_OCCUPYING","QUEUE_SETUP","ClassroomInfo","params","setClassroom","warning","warningText","DISABLED","comment","tags","isWing","Chip","selectedColor","tag","isOperaStudio","special","description","floor","instruments","OCCUPYING","scheduleHeader","queueSetupButtons","sortAB","cellWidth","FreeClassroomCell","isEnabledForCurrentUser","cell","free","cellHeader","notSpecial","space","checkMark","zIndex","timeLeftProgress","keyImage","tintColor","OccupiedClassroomCell","cellStyle","handleCheck","onLongPress","ReservedClassroomCell","PendingClassroomCell","grid","flexWrap","getOutLine","getOutLineSingle","approve","queueSwitcher","gridDivider","ClassroomsBrowser","classrooms","isFree","isOccupiedByCurrentUser","isOccupied","isPending","isReserved","OccupiedByCurrentUserClassroomCell","GET_CLASSROOMS","GET_CLASSROOMS_NO_SCHEDULE","FOLLOW_CLASSROOMS","FOLLOW_USER","filterDisabledForQueue","filterSavedFilter","savedFilter","enabledClassrooms","isMinimal","minimalIds","desireIds","ConfirmLineOut","Buttons","sanctionedUntil","visibleModalError","setVisibleModalError","queueErrorMessage","visibleLineOut","setVisibleLineOut","availableClassroomsIds","savedFilters","mainFilter","main","GENERAL_QUEUE_SIZE","FOLLOW_GENERAL_QUEUE_SIZE","useClassrooms","setClassrooms","subscribeToMore","SavedFilters","setSavedFilters","isSaving","setIsSaving","inputName","setInputName","selectedFilter","setSelectedFilter","saveAsMainFilter","setSaveAsMainFilter","Headline","body","filterItem","itemRow","selectedItem","handleSelectFilter","bin","newFilters","splice","handleRemoveFilter","newFilterSection","mainFilterCheckbox","InstrumentsList","isGrandPianoOnly","setIsGrandPianoOnly","RadioButton","Group","onValueChange","newValue","handleSelect","CustomRating","count","setCount","stars","TouchableOpacity","handleRate","windowWidth","InstrumentFilters","setInstruments","visibleList","setVisibleList","visibleRate","setVisibleRate","showModalList","instrumentRow","newArray","removeInstrument","noInstrumentsLabel","newInstrumentRow","newInstrument","buttons","radioItem","checkbox","countInput","Filters","apply","setSpecial","withWing","setWithWing","onlyOperaStudio","setOnlyOperaStudio","visibleInstrumentFilters","setVisibleInstrumentFilters","getEnding","instrumentTypeOrder","GrandPiano","UpRightPiano","getClassroomsFilteredByInstruments","userInstrumentFilterInput","instrumentsFilterSorted","instA","instB","instrumentsFilter","classroomInstruments","classroomGrandPianoInd","getMinimumSatisfactoryInstrumentIndex","pop","classroomInstrumentInd","minimumRate","bestIndex","forEach","i","GENERAL_QUEUE_POSITION","FOLLOW_GENERAL_QUEUE_POSITION","ClassroomsAppBar","freeClassroomsAmount","subscribeToMorePosition","visibleSavedFilters","setVisibleSavedFilters","generalQueueSize","setGeneralQueueSize","generalQueuePosition","setGeneralQueuePosition","unsubscribeSize","document","updateQuery","prev","subscriptionData","unsubscribePosition","Action","dispatch","DrawerActions","openDrawer","operaStudioOnly","filteredIds","Log","maxHeight","ConfirmContinueDesiredQueue","InlineDialog","paragraph","QueueOutDialog","Stack","createStackNavigator","Home","Navigator","screenOptions","headerShown","initialRouteName","Screen","component","ClassroomsList","initialParams","showLog","setShowLog","setFreeClassroomsAmount","showQueueInSuccess","setShownQueueInSuccess","showQueueOutSuccess","setShownQueueOutSuccess","userLoading","userError","subscribeToMoreUser","prevUserData","ref","usePrevious","prevSession","unsubscribeClassrooms","unsubscribeUser","freeClassrooms","hiddenLogButton","delayLongPress","fullHidden","Frozen","Loading","Splash","PrivacyPolicy","Navigation","colorScheme","NavigationContainer","DarkTheme","DefaultTheme","RootNavigator","Drawer","createDrawerNavigator","accountStatus","setAccountStatus","appIsReady","setAppIsReady","getAccountStatus","studentInfo","employeeInfo","getMe","SplashScreen","warn","drawerStyle","drawer","drawerContentOptions","activeBackgroundColor","drawerContent","UNVERIFIED","FROZEN","ACADEMIC_LEAVE","checkStatus","App","roundness","primary","accent","Provider","StatusBar","webpackContext","req","webpackContextResolve","__webpack_require__","o","keys","Object","resolve"],"mappings":"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","file":"static/js/app.19147ca3.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/bg.5326a7ca.jpg\";","module.exports = __webpack_public_path__ + \"static/media/specialPiano.11c92757.png\";","module.exports = __webpack_public_path__ + \"static/media/GrandPiano.5e053f8a.png\";","module.exports = __webpack_public_path__ + \"static/media/star.f99f6a14.png\";","module.exports = __webpack_public_path__ + \"static/media/au_logo_shadow.0250c21a.png\";","module.exports = __webpack_public_path__ + \"static/media/Chembalo.5e053f8a.png\";","module.exports = __webpack_public_path__ + \"static/media/UpRightPiano.791ce387.png\";","import { ColorSchemeName, useColorScheme as _useColorScheme } from 'react-native';\n\n// The useColorScheme value is always either light or dark, but the built-in\n// type suggests that it can be null. This will not happen in practice, so this\n// makes it a bit easier to work with.\nexport default function useColorScheme(): NonNullable<ColorSchemeName> {\n  return _useColorScheme() as NonNullable<ColorSchemeName>;\n}\n","const tintColorLight = '#2f95dc';\nconst tintColorDark = '#fff';\n\nexport default {\n  light: {\n    text: '#000',\n    background: '#fff',\n    tint: tintColorLight,\n    tabIconDefault: '#ccc',\n    tabIconSelected: tintColorLight,\n  },\n  dark: {\n    text: '#fff',\n    background: '#000',\n    tint: tintColorDark,\n    tabIconDefault: '#ccc',\n    tabIconSelected: tintColorDark,\n  },\n  red: '#f91354',\n  blue: '#2b5dff',\n  darkBlue: '#2e287c',\n  orange: '#ffc000',\n};\n","/**\n * Learn more about Light and Dark modes:\n * https://docs.expo.io/guides/color-schemes/\n */\n\nimport * as React from 'react';\nimport { Text as DefaultText, View as DefaultView } from 'react-native';\n\nimport Colors from '../constants/Colors';\nimport useColorScheme from '../hooks/useColorScheme';\n\nexport function useThemeColor(\n  props: { light?: string; dark?: string },\n  colorName: keyof typeof Colors.light & keyof typeof Colors.dark\n) {\n  const theme = useColorScheme();\n  const colorFromProps = props[theme];\n\n  if (colorFromProps) {\n    return colorFromProps;\n  } else {\n    return Colors[theme][colorName];\n  }\n}\n\ntype ThemeProps = {\n  lightColor?: string;\n  darkColor?: string;\n};\n\nexport type TextProps = ThemeProps & DefaultText['props'];\nexport type ViewProps = ThemeProps & DefaultView['props'];\n\nexport function Text(props: TextProps) {\n  const { style, lightColor, darkColor, ...otherProps } = props;\n  const color = useThemeColor({ light: lightColor, dark: darkColor }, 'text');\n\n  return <DefaultText style={[{ color }, style]} {...otherProps} />;\n}\n\nexport function View(props: ViewProps) {\n  const { style, lightColor, darkColor, ...otherProps } = props;\n  const backgroundColor = useThemeColor({ light: lightColor, dark: darkColor }, 'background');\n\n  return <DefaultView style={[{ backgroundColor }, style]} {...otherProps} />;\n}\n","import { gql } from \"@apollo/client\";\r\n\r\nexport const LOGIN = gql`\r\n    mutation login($input: LoginInput!) {\r\n        login(input: $input) {\r\n            token\r\n            user {\r\n                id\r\n                firstName\r\n                patronymic\r\n                lastName\r\n                type\r\n                phoneNumber\r\n                extraPhoneNumbers\r\n                email\r\n                department {\r\n                  id\r\n                  name  \r\n                }\r\n                occupiedClassrooms {\r\n                state\r\n                until\r\n                classroom {\r\n                 id\r\n                 name\r\n                }\r\n                }\r\n                studentInfo {\r\n                  degree {\r\n                    name\r\n                  }\r\n                  startYear\r\n                  accountStatus\r\n                }\r\n                employeeInfo {\r\n                  employmentType\r\n                  accountStatus\r\n                }\r\n                queue {\r\n                  id\r\n                  classroom {\r\n                    id\r\n                    name\r\n                  }\r\n                  state\r\n                  type\r\n                }\r\n            }\r\n               \r\n            userErrors {\r\n                message\r\n                code\r\n            }\r\n        }\r\n    }\r\n`;","import * as React from 'react';\nimport {Paragraph, Dialog, Portal, ProgressBar} from 'react-native-paper';\n\ninterface PropTypes {\n  message?: string;\n  visible: boolean;\n}\n\nexport default function WaitDialog({visible, message}: PropTypes) {\n  return (\n      <Portal>\n        <Dialog visible={visible} dismissable={false}>\n          <Dialog.Title style={{textAlign: 'center'}}>,  !</Dialog.Title>\n          <Dialog.Content>\n            {message && <Paragraph style={{textAlign: 'center'}}>{message}</Paragraph>}\n            <ProgressBar indeterminate style={{marginTop: 16}}/>\n          </Dialog.Content>\n        </Dialog>\n      </Portal>\n  );\n};","export enum ACCESS_RIGHTS {\r\n  USER,\r\n  DISPATCHER,\r\n  ADMIN\r\n}\r\n\r\nexport enum Mode {\r\n  PRIMARY = 'PRIMARY',\r\n  QUEUE_SETUP = 'QUEUE_SETUP',\r\n  INLINE = 'INLINE',\r\n  OWNER = 'OWNER'\r\n}\r\n\r\nexport enum ErrorCodesUa {\r\n  INVALID_PASSWORD = \" \",\r\n  USER_NOT_FOUND = \"  \",\r\n}\r\n\r\nexport enum ErrorCodes {\r\n  INVALID_PASSWORD = \"INVALID_PASSWORD\",\r\n  USER_NOT_FOUND = \"USER_NOT_FOUND\",\r\n}\r\n\r\nexport enum EmploymentTypes {\r\n  FULL_TIME = 'FULL_TIME',\r\n  PART_TIME = 'PART_TIME',\r\n  HOURLY = 'HOURLY',\r\n}\r\n\r\nexport enum EmploymentTypesUa {\r\n  FULL_TIME = ' ',\r\n  PART_TIME = '',\r\n  HOURLY = '',\r\n}\r\n\r\nexport enum UserTypes {\r\n  STUDENT = \"STUDENT\",\r\n  TEACHER = \"TEACHER\",\r\n  POST_GRADUATE = \"POST_GRADUATE\",\r\n  ADMIN = \"ADMIN\",\r\n  DISPATCHER = \"DISPATCHER\",\r\n  PIANO_TUNER = \"PIANO_TUNER\",\r\n  STAFF = \"STAFF\",\r\n  CONCERTMASTER = \"CONCERTMASTER\",\r\n  ILLUSTRATOR = \"ILLUSTRATOR\",\r\n  OTHER = \"OTHER\",\r\n}\r\n\r\nexport enum UserTypesUa {\r\n  STUDENT = \"\",\r\n  TEACHER = \"\",\r\n  POST_GRADUATE = \"/\",\r\n  ADMIN = \"\",\r\n  DISPATCHER = \"\",\r\n  PIANO_TUNER = \" \",\r\n  STAFF = \"\",\r\n  CONCERTMASTER = \"\",\r\n  ILLUSTRATOR = \"\",\r\n  OTHER = \"\",\r\n}\r\n\r\nexport enum UserTypeColors {\r\n  STUDENT = \"#1e2c4f\",\r\n  TEACHER = \"#ffa200\",\r\n  POST_GRADUATE = \"#1e2c4f\",\r\n  ADMIN = \"#ffa200\",\r\n  DISPATCHER = \"#ffa200\",\r\n  PIANO_TUNER = \"#ffa200\",\r\n  STAFF = \"#ffa200\",\r\n  CONCERTMASTER = \"#ffa200\",\r\n  ILLUSTRATOR = \"#ffa200\",\r\n  OTHER = \"#ffa200\",\r\n}\r\n\r\nexport enum ActivityTypesColor {\r\n  LECTURE = '#ffa200',\r\n  INDIVIDUAL_LESSON = '#2b5dff'\r\n}\r\n\r\nexport enum ActivityTypes {\r\n  LECTURE = 'LECTURE',\r\n  INDIVIDUAL_LESSON = 'INDIVIDUAL_LESSON'\r\n}\r\n\r\nexport enum NotificationsTypes {\r\n  OK = \"ok\",\r\n  ALERT = \"alert\",\r\n  DEFAULT = \"default\",\r\n}\r\n\r\nexport enum AccountStatuses {\r\n  ACTIVE = 'ACTIVE',\r\n  UNVERIFIED = 'UNVERIFIED',\r\n  ACADEMIC_LEAVE = 'ACADEMIC_LEAVE',\r\n  FROZEN = 'FROZEN'\r\n}\r\n\r\nexport type User = {\r\n  id: number;\r\n  createdAt: Date;\r\n  firstName: string;\r\n  patronymic: string | null;\r\n  lastName: string;\r\n  type: string;\r\n  department: Department;\r\n  email: string;\r\n  phoneNumber: string;\r\n  extraPhoneNumbers: string | null;\r\n  nameTemp: string | null;\r\n  startYear: number;\r\n  studentInfo: StudentInfo;\r\n  employeeInfo: EmployeeInfo;\r\n  expireDate: string | null;\r\n  classroom: ClassroomType;\r\n  queue: QueueRecord[];\r\n  queueInfo: UserQueueInfo;\r\n};\r\n\r\nexport type UserQueueInfo = {\r\n  id: number;\r\n  user: User;\r\n  sanctionedUntil: string;\r\n  currentSession: QueueSession\r\n}\r\n\r\nexport type QueueSession = {\r\n  id: number;\r\n  queueInfo: UserQueueInfo;\r\n  state: UserQueueState;\r\n  enqueuedBy: EnqueuedBy;\r\n  skips: number;\r\n  remainingOccupationTime: string;\r\n}\r\n\r\nexport enum UserQueueState {\r\n  IN_QUEUE_MINIMAL = 'IN_QUEUE_MINIMAL',\r\n  IN_QUEUE_DESIRED_AND_OCCUPYING = 'IN_QUEUE_DESIRED_AND_OCCUPYING',\r\n  QUEUE_RESERVED_NOT_OCCUPYING = 'QUEUE_RESERVED_NOT_OCCUPYING',\r\n  OCCUPYING = 'OCCUPYING',\r\n}\r\n\r\nexport type CurrentUser = {\r\n  id: number;\r\n  createdAt: Date;\r\n  firstName: string;\r\n  patronymic: string | null;\r\n  lastName: string;\r\n  type: string;\r\n  department: Department;\r\n  email: string;\r\n  phoneNumber: string;\r\n  extraPhoneNumbers: string | null;\r\n  nameTemp: string | null;\r\n  startYear: number;\r\n  studentInfo: StudentInfo;\r\n  employeeInfo: EmployeeInfo;\r\n  expireDate: Date | null;\r\n  occupiedClassrooms: {\r\n    id: number;\r\n    state: OccupiedState;\r\n    until: string;\r\n    classroom: ClassroomType;\r\n    user: User;\r\n  }[];\r\n  queue: QueueRecord[];\r\n}\r\n\r\nexport type StudentInfo = {\r\n  degree: Degree;\r\n  startYear: number;\r\n  accountStatus: AccountStatuses;\r\n};\r\n\r\nexport type EmployeeInfo = {\r\n  employmentType: EmploymentTypes;\r\n  accountStatus: AccountStatuses;\r\n};\r\n\r\nexport type OccupiedInfo = {\r\n  user: User | null;\r\n  until: Date | null;\r\n  state: OccupiedState;\r\n};\r\n\r\nexport enum OccupiedState {\r\n  FREE = 'FREE',\r\n  OCCUPIED = 'OCCUPIED',\r\n  PENDING = 'PENDING',\r\n  RESERVED = 'RESERVED'\r\n}\r\n\r\nexport type Comment = {\r\n  id: number;\r\n  user: User;\r\n  body: string;\r\n  date: Date;\r\n};\r\n\r\nexport type InstrumentType = {\r\n  id: number;\r\n  type: string;\r\n  name: string;\r\n  rate: number;\r\n  persNumber: number;\r\n  comments: Comment | null;\r\n  classroom: ClassroomType;\r\n};\r\n\r\nexport enum DisabledState {\r\n  DISABLED = 'DISABLED',\r\n  NOT_DISABLED = 'NOT_DISABLED'\r\n}\r\n\r\nexport type DisabledInfo = {\r\n  state: DisabledState;\r\n  comment: string;\r\n  until: string;\r\n};\r\n\r\nexport type ScheduleUnitType = {\r\n  id: number;\r\n  user: User;\r\n  classroom: ClassroomType;\r\n  dateStart: Date;\r\n  dateEnd: Date;\r\n  dayOfWeek: number;\r\n  from: string;\r\n  to: string;\r\n  activity: string;\r\n};\r\n\r\nexport type ClassroomType = {\r\n  id: number;\r\n  name: string;\r\n  chair: {\r\n    id: number;\r\n    name: string;\r\n    faculty: Faculty;\r\n    users: User[];\r\n    exclusivelyQueueAllowedDepartmentsInfo: {\r\n      department: Department | null }[];\r\n  } | null;\r\n  special: string | null;\r\n  floor: number;\r\n  isWing: boolean;\r\n  isOperaStudio: boolean;\r\n  description: string | null;\r\n  occupied: OccupiedInfo;\r\n  instruments: Array<InstrumentType>;\r\n  disabled: DisabledInfo | null;\r\n  schedule: Array<ScheduleUnitType>;\r\n  isHidden: boolean;\r\n};\r\n\r\nexport type RegisterUnit = {\r\n  id: number;\r\n  user: User;\r\n  nameTemp: string;\r\n  classroom: {\r\n    id: number;\r\n    name: string;\r\n  };\r\n  start: string;\r\n  end: string;\r\n};\r\n\r\nexport type Degree = {\r\n  id: number\r\n  name: string;\r\n  startMonth: number;\r\n  startDay: number;\r\n  durationMonths: number;\r\n};\r\n\r\nexport type Faculty = {\r\n  id: number;\r\n  name: string;\r\n  departments: Department[];\r\n  users: User[];\r\n}\r\n\r\nexport type Department = {\r\n  id: number;\r\n  name: string;\r\n  faculty: Faculty;\r\n  users: User[];\r\n};\r\n\r\nexport type MenuElement = {\r\n  text: string;\r\n  path: string;\r\n  icon: string;\r\n  exact?: boolean;\r\n  rights: string;\r\n};\r\n\r\nexport enum ClassroomsFilterTypes {\r\n  ALL = 'ALL',\r\n  FREE = 'FREE',\r\n  SPECIAL = 'SPECIAL',\r\n  INLINE = 'INLINE'\r\n}\r\n\r\nexport enum QueueState {\r\n  ACTIVE = 'ACTIVE',\r\n  RESERVED = 'RESERVED'\r\n}\r\n\r\nexport enum QueueType {\r\n  MINIMAL = 'MINIMAL',\r\n  DESIRED = 'DESIRED'\r\n}\r\n\r\nexport type QueueRecord = {\r\n  id: number;\r\n  user: User;\r\n  date: string;\r\n  classroom: ClassroomType;\r\n  state: QueueState;\r\n  type: QueueType;\r\n}\r\n\r\nexport type SavedFilterT = {\r\n  minimalClassroomIds: number[];\r\n  desirableClassroomIds: number[];\r\n  name: string;\r\n  main: boolean;\r\n}\r\n\r\nexport enum Langs {\r\n  EN = 'EN',\r\n  UA = 'UA'\r\n}\r\n\r\nexport enum EnqueuedBy {\r\n  SELF = 'SELF',\r\n  DISPATCHER = 'DISPATCHER'\r\n}","import AsyncStorage from '@react-native-async-storage/async-storage'\n\n\nexport const setItem = async (key: string, value: any) => {\n  try {\n    await AsyncStorage.setItem(key, JSON.stringify(value));\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nexport const getItem = async (key: string) => {\n  let result;\n  try {\n    await AsyncStorage.getItem(key).then(value => {\n      if (value !== null) {\n        result = JSON.parse(value as string)\n      }\n    });\n    return result;\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nexport const removeItem = async (key: string) => {\n  try {\n    await AsyncStorage.removeItem(key);\n  } catch (e) {\n    console.log(e);\n  }\n};","import * as React from 'react';\nimport {Dialog, Portal, Button} from 'react-native-paper';\nimport {Text} from 'react-native';\n\ninterface PropTypes {\n  visible: boolean;\n  hideDialog: () => void;\n  message?: string;\n}\n\nexport default function ErrorDialog({visible, hideDialog, message}: PropTypes) {\n  return (\n    <Portal>\n      <Dialog visible={visible} onDismiss={hideDialog}>\n        <Dialog.Title style={{color: '#f91354'}}>!</Dialog.Title>\n        <Dialog.Content>\n          <Text style={{marginBottom: -20}}>{!message ? '   ' : message}</Text>\n        </Dialog.Content>\n        <Dialog.Actions>\n          <Button onPress={hideDialog}></Button>\n        </Dialog.Actions>\n      </Dialog>\n    </Portal>\n  );\n};","import {ApolloClient, createHttpLink, InMemoryCache, makeVar, split} from \"@apollo/client\";\r\nimport {ACCESS_RIGHTS, Langs, Mode, User} from \"../models/models\";\r\nimport {WebSocketLink} from '@apollo/client/link/ws';\r\nimport {getMainDefinition} from \"@apollo/client/utilities\";\r\nimport {setContext} from \"@apollo/client/link/context\";\r\nimport {getItem} from \"./asyncStorage\";\r\n\r\nconst wsLink: any = new WebSocketLink({\r\n    uri: 'ws://api.auditoriu.me/',\r\n    options: {\r\n      reconnect: true,\r\n      connectionParams: async () => {\r\n        const token = await getItem('token');\r\n        return {\r\n          authorization: token ? `Bearer ${token}` : \"\",\r\n        }\r\n      }\r\n    }\r\n  }\r\n);\r\n\r\nconst subscriptionMiddleware = {\r\n  applyMiddleware: async (options: any, next: any) => {\r\n    const token = await getItem('token');\r\n    options.authorization = token ? `Bearer ${token}` : \"\"\r\n    next()\r\n  },\r\n}\r\n\r\nwsLink.subscriptionClient.use([subscriptionMiddleware]);\r\n\r\nconst httpLink = createHttpLink({\r\n  uri: 'http://api.auditoriu.me/'\r\n});\r\n\r\nconst authLink = setContext(async function (_, {headers}) {\r\n  const token = await getItem('token');\r\n  return {\r\n    headers: {\r\n      ...headers,\r\n      authorization: token ? `Bearer ${token}` : \"\",\r\n    }\r\n  }\r\n});\r\n\r\nconst splitLink = split(\r\n  ({query}) => {\r\n    const definition = getMainDefinition(query);\r\n    return (\r\n      definition.kind === 'OperationDefinition' &&\r\n      definition.operation === 'subscription'\r\n    );\r\n  },\r\n  wsLink,\r\n  httpLink,\r\n);\r\n\r\nexport const client = new ApolloClient({\r\n  link: authLink.concat(splitLink),\r\n  cache: new InMemoryCache({\r\n    typePolicies: {\r\n      Query: {\r\n        fields: {\r\n          me: {\r\n            read() {\r\n              return meVar();\r\n            },\r\n          },\r\n          lang: {\r\n            read() {\r\n              return langVar();\r\n            },\r\n          },\r\n          accessRights: {\r\n            read() {\r\n              return accessRightsVar();\r\n            },\r\n          },\r\n          mode: {\r\n            read() {\r\n              return modeVar();\r\n            },\r\n          },\r\n          minimalClassroomIds: {\r\n            read() {\r\n              return minimalClassroomIdsVar();\r\n            },\r\n\r\n          },\r\n          desirableClassroomIds: {\r\n            read() {\r\n              return desirableClassroomIdsVar();\r\n            },\r\n          },\r\n          isMinimalSetup: {\r\n            read() {\r\n              return isMinimalSetupVar();\r\n            },\r\n          },\r\n        },\r\n      },\r\n    },\r\n  }),\r\n});\r\n\r\nexport const meVar = makeVar<User | null>(null);\r\nexport const langVar = makeVar<Langs>(Langs.UA);\r\nexport const accessRightsVar = makeVar(ACCESS_RIGHTS.USER);\r\nexport const modeVar = makeVar(Mode.PRIMARY);\r\nexport const minimalClassroomIdsVar = makeVar<number[]>([]);\r\nexport const desirableClassroomIdsVar = makeVar<number[]>([]);\r\nexport const isMinimalSetupVar = makeVar(true);","import Constants from 'expo-constants';\nimport * as Notifications from 'expo-notifications';\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Text, View, Button, Platform } from 'react-native';\n\nNotifications.setNotificationHandler({\n  handleNotification: async () => ({\n    shouldShowAlert: true,\n    shouldPlaySound: false,\n    shouldSetBadge: false,\n  }),\n});\n\ntype PropTypes = {\n  setPushNotificationToken: (token: string) => void;\n}\n\nexport default function PushNotification({setPushNotificationToken}: PropTypes) {\n  const [expoPushToken, setExpoPushToken] = useState<any>('');\n  const [notification, setNotification] = useState<any>(false);\n  const notificationListener = useRef<any>();\n  const responseListener = useRef<any>();\n\n  useEffect(() => {\n    registerForPushNotificationsAsync().then(token => {\n      setPushNotificationToken(token);\n      setExpoPushToken(token);\n    });\n\n    // This listener is fired whenever a notification is received while the app is foregrounded\n    notificationListener.current = Notifications.addNotificationReceivedListener(notification => {\n      setNotification(notification);\n    });\n\n    // This listener is fired whenever a user taps on or interacts with a notification (works when app is foregrounded, backgrounded, or killed)\n    responseListener.current = Notifications.addNotificationResponseReceivedListener(response => {\n      console.log(response);\n    });\n\n    return () => {\n      Notifications.removeNotificationSubscription(notificationListener.current);\n      Notifications.removeNotificationSubscription(responseListener.current);\n    };\n  }, []);\n\n  return <></>\n  // (\n  //   <View>\n  //     <Text>Your expo push token: {expoPushToken}</Text>\n  //     <View style={{ alignItems: 'center', justifyContent: 'center' }}>\n  //       <Text>Title: {notification && notification.request.content.title} </Text>\n  //       <Text>Body: {notification && notification.request.content.body}</Text>\n  //       <Text>Data: {notification && JSON.stringify(notification.request.content.data)}</Text>\n  //     </View>\n  //     <Button\n  //       title=\"Press to Send Notification\"\n  //       onPress={async () => {\n  //         await sendPushNotification(expoPushToken);\n  //       }}\n  //     />\n  //   </View>\n  // );\n}\n\n// Can use this function below, OR use Expo's Push Notification Tool-> https://expo.io/notifications\nasync function sendPushNotification(expoPushToken: string) {\n  const message = {\n    to: expoPushToken,\n    sound: 'default',\n    title: 'Original Title',\n    body: 'And here is the body!',\n    data: { someData: 'goes here' },\n  };\n\n  await fetch('https://exp.host/--/api/v2/push/send', {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Accept-encoding': 'gzip, deflate',\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(message),\n  });\n}\n\nasync function registerForPushNotificationsAsync() {\n  let token;\n  if (Constants.isDevice) {\n    const { status: existingStatus } = await Notifications.getPermissionsAsync();\n    let finalStatus = existingStatus;\n    if (existingStatus !== 'granted') {\n      const { status } = await Notifications.requestPermissionsAsync();\n      finalStatus = status;\n    }\n    if (finalStatus !== 'granted') {\n      alert('Failed to get push token for push notification!');\n      return;\n    }\n    token = (await Notifications.getExpoPushTokenAsync()).data;\n    console.log(token);\n  } else {\n    alert('Must use physical device for Push Notifications');\n  }\n\n  if (Platform.OS === 'android') {\n    Notifications.setNotificationChannelAsync('default', {\n      name: 'default',\n      importance: Notifications.AndroidImportance.MAX,\n      vibrationPattern: [0, 250, 250, 250],\n      lightColor: '#FF231F7C',\n    });\n  }\n\n  return token;\n}","import {gql} from \"@apollo/client\";\r\n\r\nexport const GET_LANG = gql`\r\n    query langType {\r\n        lang @client\r\n    }\r\n`;","import * as React from 'react';\nimport {useEffect, useState} from 'react';\nimport {Image, ImageBackground, StyleSheet, TouchableHighlight} from 'react-native';\nimport {Button, Surface, TextInput} from 'react-native-paper';\nimport {Text, View} from '../components/Themed';\nimport {useMutation, useQuery} from \"@apollo/client\";\nimport {LOGIN} from \"../api/operations/mutations/login\";\nimport WaitDialog from \"../components/WaitDialog\";\nimport {getItem, setItem} from \"../api/asyncStorage\";\nimport ErrorDialog from \"../components/ErrorDialog\";\nimport {ErrorCodes, ErrorCodesUa, Langs, Mode, QueueState, QueueType, User} from \"../models/models\";\nimport {desirableClassroomIdsVar, langVar, meVar, minimalClassroomIdsVar, modeVar, wsLink} from \"../api/client\";\nimport PushNotification from \"./PushNotification\";\nimport {GET_LANG} from \"../api/operations/queries/lang\";\n\nexport default function Login({route, navigation}: any) {\n  const [login, {loading}] = useMutation(LOGIN);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n  const [modalActivator, setModalActivator] = useState<boolean | null>(null);\n  const [showError, setShowError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [pushNotificationToken, setPushNotificationToken] = useState('');\n  const {data: {lang}} = useQuery(GET_LANG);\n\n  useEffect(() => {\n    if (modalActivator !== null) {\n      setShowError(true);\n    }\n  }, [modalActivator]);\n\n  useEffect(() => {\n    getItem('lang').then(res => {\n      if (res) {\n        langVar(res);\n      } else {\n        setItem('lang', lang);\n      }\n    });\n  }, []);\n\n  const handleChangeLang = async (lng: Langs) => {\n    await setItem('lang', lng);\n    langVar(lng);\n  };\n\n  const hideError = () => {\n    setShowError(false);\n  };\n\n  const handleSubmit = async () => {\n    let result: any;\n    if (email.length && password.length) {\n      try {\n        result = await login({\n          variables: {\n            input: {\n              email: email,\n              password: password,\n              notificationToken: pushNotificationToken\n            }\n          }\n        });\n        if (result?.data.login.userErrors?.length) {\n          setErrorMessage(ErrorCodesUa[result?.data.login.userErrors[0].code as ErrorCodes]);\n          setModalActivator(prevState => !prevState);\n        } else {\n          const user: User = result?.data.login.user;\n          const token: string = result?.data.login.token;\n          await setItem('user', user);\n          await setItem('token', token);\n          if (user.queue.length) {\n            const minimal = user.queue.filter(({type, state}) => {\n              return type === QueueType.MINIMAL && state === QueueState.ACTIVE;\n            });\n            const desired = user.queue.filter(({type, state}) => {\n              return type === QueueType.DESIRED && state === QueueState.ACTIVE;\n            });\n            modeVar(Mode.INLINE);\n            minimalClassroomIdsVar(minimal.map(({classroom: {id}}) => id));\n            desirableClassroomIdsVar(desired.map(({classroom: {id}}) => id));\n          }\n          meVar(user);\n        }\n      } catch (e) {\n        setErrorMessage(e?.graphQLErrors[0]?.message || JSON.stringify(e));\n        setModalActivator(prevState => !prevState);\n      }\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <PushNotification setPushNotificationToken={setPushNotificationToken}/>\n      <ImageBackground source={require('../assets/images/bg.jpg')} style={styles.bg}>\n        <Image source={require('./../assets/images/au_logo_shadow.png')} style={styles.logo}/>\n        <View style={styles.langSwitcher}>\n          <TouchableHighlight onPress={() => handleChangeLang(Langs.UA)}>\n            <Image source={require('../assets/images/ua.png')}\n                   style={lang === Langs.UA ? styles.langImageSelected : styles.langImage}\n            />\n          </TouchableHighlight>\n          <TouchableHighlight onPress={() => handleChangeLang(Langs.EN)}>\n            <Image source={require('../assets/images/en.png')}\n                   style={lang === Langs.EN ? styles.langImageSelected : styles.langImage}\n            />\n          </TouchableHighlight>\n        </View>\n        <Text style={styles.title}></Text>\n        <Surface style={styles.inputs}>\n          <TextInput label=''\n                     style={styles.input}\n                     onChangeText={(e) => setEmail(e)}\n          />\n          <TextInput label=''\n                     style={styles.input}\n                     onChangeText={(e) => setPassword(e)}\n                     secureTextEntry={!showPassword}\n                     selectionColor='#2b5dff'\n                     right={<TextInput.Icon name={showPassword ? 'eye' : 'eye-off'} color='#2b5dff'\n                                            onPress={() => setShowPassword(prevState => !prevState)}\n                     />}\n          />\n\n          <Button onPress={handleSubmit} mode='contained' color='#2b5dff' loading={loading}\n                  style={styles.button} disabled={(!email || !password) || loading}>\n            \n          </Button>\n          <Button onPress={() => navigation.navigate('SignUp')} mode='contained' color='#f91354'\n                  style={styles.button}>\n            \n          </Button>\n        </Surface>\n        <Button onPress={() => navigation.navigate('ForgotPassword')} uppercase={false}\n                labelStyle={{color: '#fff'}} style={styles.button}>\n           \n        </Button>\n        <View style={styles.footer}>\n          <Text style={{color: '#fff'}}>    . . . </Text>\n          <Text style={{color: '#fff', marginTop: 16}}>Auditorium  2021</Text>\n        </View>\n      </ImageBackground>\n      <WaitDialog message='   ' visible={loading}/>\n      <ErrorDialog visible={showError} hideDialog={hideError} message={errorMessage}/>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#2e287c',\n    overflow: 'hidden'\n  },\n  logo: {\n    width: '80%',\n    resizeMode: 'contain',\n    flex: 1\n  },\n  title: {\n    fontSize: 32,\n    fontWeight: 'bold',\n    color: '#fff',\n  },\n  input: {\n    width: '100%',\n    fontSize: 22,\n    backgroundColor: 'transparent',\n  },\n  inputs: {\n    width: '90%',\n    elevation: 16,\n    borderRadius: 8,\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingLeft: 16,\n    paddingRight: 16,\n    paddingBottom: 16,\n    marginTop: 32,\n  },\n  button: {\n    marginTop: 16,\n    width: '100%',\n    height: 50,\n    justifyContent: 'center',\n  }, bg: {\n    width: '100%',\n    height: '100%',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  footer: {\n    backgroundColor: 'transparent',\n    alignItems: 'center',\n    textAlign: 'center',\n    opacity: .5,\n    marginBottom: 16\n  },\n  langSwitcher: {\n    justifyContent: 'center',\n    flexDirection: \"row\",\n    marginBottom: 16\n  },\n  langImage: {\n    width: 50,\n    height: 35,\n    opacity: .3\n  },\n  langImageSelected: {\n    width: 50,\n    height: 35,\n  }\n});\n","import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_DEGREES = gql`\r\n    query getDegrees {\r\n        degrees {\r\n            id\r\n            name\r\n            startMonth\r\n            startDay\r\n            durationMonths\r\n        }\r\n    }\r\n`;","import {useEffect, useState} from \"react\";\nimport {client} from \"../api/client\";\nimport {Degree} from \"../models/models\";\nimport {GET_DEGREES} from \"../api/operations/queries/degrees\";\n\nconst useDegrees = (updateList: boolean = false): Array<Degree> => {\n  const [degrees, setDegrees] = useState<Degree[]>([]);\n\n  useEffect(() => {\n    client.query({query: GET_DEGREES, variables: {\n      where: {\n      }\n      },\n      fetchPolicy: 'network-only'\n    }).then((data) => {\n      setDegrees(data.data.degrees\n          .slice().sort((a: Degree, b: Degree) => a.id - b.id));\n      });\n  }, [updateList]);\n\n  return degrees;\n};\n\nexport default useDegrees;","import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_DEPARTMENTS = gql`\r\n    query getDepartments($where: DepartmentWhereInput!) {\r\n        departments(where: $where) {\r\n            id\r\n            name\r\n            faculty {\r\n              id\r\n              name\r\n            }\r\n        }\r\n    }\r\n`;","import {useEffect, useState} from \"react\";\nimport {client} from \"../api/client\";\nimport {Department} from \"../models/models\";\nimport {GET_DEPARTMENTS} from \"../api/operations/queries/departments\";\n\nconst useDepartments = (updateList: boolean): Array<Department> => {\n  const [departments, setDepartments] = useState<Department[]>([]);\n\n  useEffect(() => {\n    client.query({query: GET_DEPARTMENTS, variables: {\n      where: {\n      }\n      },\n      fetchPolicy: 'network-only'\n    }).then((data) => {\n      setDepartments(data.data.departments\n          .slice().sort((a: Department, b: Department) => a.id - b.id));\n      });\n  }, [updateList]);\n\n  return departments;\n};\n\nexport default useDepartments;","import React from 'react';\nimport {Button, Dialog, Paragraph, Portal, Title} from \"react-native-paper\";\nimport {ScrollView, StyleSheet} from \"react-native\";\nimport Colors from \"../../../constants/Colors\";\n\ninterface PropTypes {\n  visible: boolean;\n  hideDialog: () => void;\n  setCheckAgreement: (value: boolean) => void;\n}\n\nexport default function Agreement({visible, hideDialog, setCheckAgreement}: PropTypes) {\n  return <Portal>\n    <Dialog visible={visible} onDismiss={hideDialog} style={styles.wrapper}>\n      <Dialog.Title> </Dialog.Title>\n      <Dialog.Content>\n        <ScrollView style={{height: '80%'}}>\n            <Title>Privacy Policy for Auditorium</Title>\n            <Paragraph>At auditorium, accessible from http://auditorium.com.ua, one of our main priorities is the privacy of our visitors. This Privacy Policy document contains types of information that is collected and recorded by auditorium and how we use it.\n            </Paragraph>\n            <Paragraph>\n              If you have additional questions or require more information about our Privacy Policy, do not hesitate to contact us.\n            </Paragraph>\n            <Paragraph>\n              This Privacy Policy applies only to our online activities and is valid for visitors to our website with regards to the information that they shared and/or collect in auditorium. This policy is not applicable to any information collected offline or via channels other than this website. Our Privacy Policy was created with the help of the Privacy Policy Generator.\n            </Paragraph>\n            <Paragraph>\n              Consent\n              By using our website, you hereby consent to our Privacy Policy and agree to its terms.\n            </Paragraph>\n            <Paragraph>\n              Information we collect\n              The personal information that you are asked to provide, and the reasons why you are asked to provide it, will be made clear to you at the point we ask you to provide your personal information.\n            </Paragraph>\n            <Paragraph>\n              If you contact us directly, we may receive additional information about you such as your name, email address, phone number, the contents of the message and/or attachments you may send us, and any other information you may choose to provide.\n            </Paragraph>\n            <Paragraph>\n              When you register for an Account, we may ask for your contact information, including items such as name, company name, address, email address, and telephone number.\n            </Paragraph>\n            <Paragraph>\n              How we use your information\n              We use the information we collect in various ways, including to:\n            </Paragraph>\n            <Paragraph>\n              Provide, operate, and maintain our website\n              Improve, personalize, and expand our website\n              Understand and analyze how you use our website\n              Develop new products, services, features, and functionality\n              Communicate with you, either directly or through one of our partners, including for customer service, to provide you with updates and other information relating to the website, and for marketing and promotional purposes\n              Send you emails\n              Find and prevent fraud\n              Log Files\n              auditorium follows a standard procedure of using log files. These files log visitors when they visit websites. All hosting companies do this and a part of hosting services' analytics. The information collected by log files include internet protocol (IP) addresses, browser type, Internet Service Provider (ISP), date and time stamp, referring/exit pages, and possibly the number of clicks. These are not linked to any information that is personally identifiable. The purpose of the information is for analyzing trends, administering the site, tracking users' movement on the website, and gathering demographic information.\n            </Paragraph>\n            <Paragraph>\n              Advertising Partners Privacy Policies\n              You may consult this list to find the Privacy Policy for each of the advertising partners of auditorium.\n            </Paragraph>\n            <Paragraph>\n              Third-party ad servers or ad networks uses technologies like cookies, JavaScript, or Web Beacons that are used in their respective advertisements and links that appear on auditorium, which are sent directly to users' browser. They automatically receive your IP address when this occurs. These technologies are used to measure the effectiveness of their advertising campaigns and/or to personalize the advertising content that you see on websites that you visit.\n            </Paragraph>\n            <Paragraph>\n              Note that auditorium has no access to or control over these cookies that are used by third-party advertisers.\n            </Paragraph>\n            <Paragraph>\n              Third Party Privacy Policies\n              auditorium's Privacy Policy does not apply to other advertisers or websites. Thus, we are advising you to consult the respective Privacy Policies of these third-party ad servers for more detailed information. It may include their practices and instructions about how to opt-out of certain options.\n            </Paragraph>\n            <Paragraph>\n              You can choose to disable cookies through your individual browser options. To know more detailed information about cookie management with specific web browsers, it can be found at the browsers' respective websites.\n            </Paragraph>\n            <Paragraph>\n              CCPA Privacy Rights (Do Not Sell My Personal Information)\n              Under the CCPA, among other rights, California consumers have the right to:\n            </Paragraph>\n            <Paragraph>\n              Request that a business that collects a consumer's personal data disclose the categories and specific pieces of personal data that a business has collected about consumers.\n            </Paragraph>\n            <Paragraph>\n              Request that a business delete any personal data about the consumer that a business has collected.\n            </Paragraph>\n            <Paragraph>\n              Request that a business that sells a consumer's personal data, not sell the consumer's personal data.\n            </Paragraph>\n            <Paragraph>\n              If you make a request, we have one month to respond to you. If you would like to exercise any of these rights, please contact us.\n            </Paragraph>\n            <Paragraph>\n              GDPR Data Protection Rights\n              We would like to make sure you are fully aware of all of your data protection rights. Every user is entitled to the following:\n            </Paragraph>\n            <Paragraph>\n              The right to access  You have the right to request copies of your personal data. We may charge you a small fee for this service.\n            </Paragraph>\n            <Paragraph>\n              The right to rectification  You have the right to request that we correct any information you believe is inaccurate. You also have the right to request that we complete the information you believe is incomplete.\n            </Paragraph>\n            <Paragraph>\n              The right to erasure  You have the right to request that we erase your personal data, under certain conditions.\n            </Paragraph>\n            <Paragraph>\n              The right to restrict processing  You have the right to request that we restrict the processing of your personal data, under certain conditions.\n            </Paragraph>\n            <Paragraph>\n              The right to object to processing  You have the right to object to our processing of your personal data, under certain conditions.\n            </Paragraph>\n            <Paragraph>\n              The right to data portability  You have the right to request that we transfer the data that we have collected to another organization, or directly to you, under certain conditions.\n            </Paragraph>\n            <Paragraph>\n              If you make a request, we have one month to respond to you. If you would like to exercise any of these rights, please contact us.\n            </Paragraph>\n            <Paragraph>\n              Children's Information\n              Another part of our priority is adding protection for children while using the internet. We encourage parents and guardians to observe, participate in, and/or monitor and guide their online activity.\n            </Paragraph>\n            <Paragraph>\n              auditorium does not knowingly collect any Personal Identifiable Information from children under the age of 13. If you think that your child provided this kind of information on our website, we strongly encourage you to contact us immediately and we will do our best efforts to promptly remove such information from our records.\n            </Paragraph>\n        </ScrollView>\n      </Dialog.Content>\n      <Dialog.Actions style={{height: 20, marginBottom: 20}}>\n        <Button onPress={() => {\n          hideDialog();\n          setCheckAgreement(false);\n        }} style={{height: 20}} color={Colors.red}></Button>\n        <Button onPress={() => {\n          hideDialog();\n          setCheckAgreement(true);\n        }} style={{height: 20}}></Button>\n      </Dialog.Actions>\n    </Dialog>\n  </Portal>\n}\n\nconst styles = StyleSheet.create({\n  wrapper: {\n    position: 'absolute',\n    overflow: 'scroll',\n    top: 24,\n    bottom: 24\n  }\n})","import React, {useEffect, useState} from 'react';\nimport {Modal, Portal, Searchbar} from \"react-native-paper\";\nimport {ScrollView, Text, StyleSheet} from \"react-native\";\n\ninterface PropTypes {\n  visible: boolean;\n  hideDialog: () => void;\n  setSelected: (value: any) => void;\n  selected: any;\n  items: any[];\n}\n\nexport default function CustomPicker({visible, hideDialog, setSelected,selected, items}: PropTypes) {\n  const [searchText, setSearchText] = useState('');\n  const [filteredItems, setFilteredItems] = useState<any>([]);\n\n  useEffect(() => {\n    const filtered = items.length && items.filter(({name}) => {\n      if (searchText !== '') return String(name).toLowerCase().includes(searchText.toLowerCase());\n      return true;\n    });\n    setFilteredItems(filtered);\n  }, [items, searchText]);\n\n  const handlePress = (item: any) => {\n    setSelected({name: item.name, id: item.id});\n    hideDialog();\n  };\n\n  return (\n    <Portal>\n      <Modal visible={visible} onDismiss={hideDialog} contentContainerStyle={styles.container}>\n        <Searchbar\n          placeholder=\"\"\n          onChangeText={text => setSearchText(text)}\n          value={searchText}\n          style={styles.search}\n          clearButtonMode='while-editing'\n        />\n        <ScrollView style={{height: '80%'}}>\n          {filteredItems && [{name: ' ', id: -1}, ...filteredItems].map(item => (\n                <Text key={item.id} style={selected.id === item.id ? styles.selected : styles.item}\n                      onPress={() => handlePress(item)}\n                >\n                  {item.name}\n                </Text>\n              )\n            )}\n        </ScrollView>\n      </Modal>\n    </Portal>\n  )\n};\n\nconst styles = StyleSheet.create({\n  item: {\n    fontSize: 20,\n    borderBottomWidth: 1,\n    borderStyle: 'solid',\n    borderBottomColor: '#ccc',\n    padding: 10,\n    color: '#000',\n  },\n  selected: {\n    fontSize: 20,\n    borderBottomWidth: 1,\n    borderStyle: 'solid',\n    borderBottomColor: '#2b5dff',\n    padding: 10,\n    color: '#2b5dff'\n  },\n  container: {\n    backgroundColor: 'white',\n    padding: 20,\n    margin: 10,\n    borderRadius: 8,\n    justifyContent: 'center',\n    height: '60%'\n  },\n  search: {\n    marginBottom: 10\n  }\n});","import React, {useEffect, useState} from 'react';\nimport {Text, StyleSheet} from \"react-native\";\nimport {IconButton} from \"react-native-paper\";\nimport {View} from \"../Themed\";\nimport CustomPicker from \"./CustomPicker\";\n\ntype Item = {\n  name: string;\n  id: number;\n}\n\ninterface PropTypes {\n  selected: Item;\n  setSelected: (value: Item) => void;\n  name: string;\n  items: any[];\n  checkValidation: (value: number) => void;\n  setIsVisited: (value: boolean) => void;\n  underlineColor: string;\n}\n\nexport default function CustomPickerField({\n                                            selected, name, setSelected, items, setIsVisited,\n                                            checkValidation, underlineColor\n                                          }: PropTypes) {\n  const [visiblePicker, setVisiblePicker] = useState(false);\n\n  useEffect(() => {\n    checkValidation(selected.id);\n  }, [selected]);\n\n  const showPicker = () => {\n    setVisiblePicker(true);\n    setIsVisited(true);\n  };\n\n  const hidePicker = () => {\n    checkValidation(selected.id);\n    setVisiblePicker(false);\n  };\n\n  return <View style={styles.picker}>\n    <Text style={[styles.pickerField, {borderBottomColor: underlineColor}]} numberOfLines={1}\n          onPress={showPicker}\n    >\n      {selected.id === -1 ? name : selected.name}\n    </Text>\n    <IconButton icon='chevron-down' style={styles.pickerIcon} color='#ccc'\n                onPress={showPicker}\n    />\n    <CustomPicker visible={visiblePicker} hideDialog={hidePicker}\n                  setSelected={setSelected} items={items}\n                  selected={selected}\n    />\n  </View>\n};\n\nconst styles = StyleSheet.create({\n  picker: {\n    flexDirection: 'row',\n    position: 'relative',\n    backgroundColor: '#fff',\n  },\n  pickerField: {\n    borderBottomWidth: 1,\n    borderStyle: 'solid',\n    paddingVertical: 10,\n    paddingLeft: 22,\n    paddingRight: 42,\n    fontSize: 22,\n    marginTop: 20,\n    color: '#6f6f6f',\n    width: '100%',\n  },\n  pickerIcon: {\n    position: 'absolute',\n    right: 0,\n    top: 20,\n  }\n});","import { gql } from \"@apollo/client\";\r\n\r\nexport const SIGN_UP = gql`\r\n    mutation signup($input: SignupInput!) {\r\n        signup(input: $input) {\r\n            token\r\n            user {\r\n                id\r\n                lastName\r\n            }\r\n            userErrors {\r\n                message\r\n                code\r\n            }\r\n        }\r\n    }\r\n`;","import * as React from 'react';\nimport {Paragraph, Dialog, Portal, Button} from 'react-native-paper';\n\ninterface PropTypes {\n  message: string;\n  visible: boolean;\n  hideDialog: () => void;\n  navigateToLogin: () => void;\n}\n\nexport default function InfoDialog({visible, message, hideDialog, navigateToLogin}: PropTypes) {\n  return (\n      <Portal>\n        <Dialog visible={visible} dismissable={false}>\n          <Dialog.Title style={{textAlign: 'center'}}></Dialog.Title>\n          <Dialog.Content>\n            <Paragraph style={{textAlign: 'center'}}>{message}</Paragraph>\n          </Dialog.Content>\n          <Dialog.Actions>\n            <Button onPress={hideDialog} mode='contained' color='#f91354'\n                    style={{width: 70, marginRight: 8}}>\n              \n            </Button>\n            <Button onPress={() => {\n              hideDialog();\n              navigateToLogin();\n            }} mode='contained' style={{width: 70}}>\n              \n            </Button>\n          </Dialog.Actions>\n        </Dialog>\n      </Portal>\n  );\n};","import * as React from 'react';\nimport {Dimensions, ImageBackground, ScrollView, StyleSheet, Text} from 'react-native';\nimport {View} from '../../components/Themed';\nimport {Appbar, Banner, Button, Checkbox, HelperText, TextInput} from 'react-native-paper';\nimport {useState} from \"react\";\nimport useDegrees from \"../../hooks/useDegrees\";\nimport useDepartments from \"../../hooks/useDepartments\";\nimport Agreement from \"./components/Agreement\";\nimport CustomPickerField from \"../../components/CustomPicker/CustomPickerField\";\nimport moment from \"moment\";\nimport {useMutation} from \"@apollo/client\";\nimport {SIGN_UP} from \"../../api/operations/mutations/signUp\";\nimport InfoDialog from \"../../components/InfoDialog\";\nimport {ErrorCodes, ErrorCodesUa} from \"../../models/models\";\n\nconst currentYear: number = parseInt(moment().format('YYYY'));\n\nconst startYearsItems = [\n  {name: currentYear, id: currentYear},\n  {name: currentYear - 1, id: currentYear - 1},\n  {name: currentYear - 2, id: currentYear - 2},\n  {name: currentYear - 3, id: currentYear - 3},\n];\n\nconst windowHeight = Dimensions.get('window').height;\n\n\nexport default function SignUp({navigation}: any) {\n  const [selectedDepartment, setSelectedDepartment] = useState({name: '', id: -1});\n  const [selectedDegree, setSelectedDegree] = useState({name: '', id: -1});\n  const [selectedStartYear, setSelectedStartYear] = useState({name: '', id: -1});\n  const [visible, setVisible] = useState(true);\n  const [visibleAgreement, setVisibleAgreement] = useState(false);\n  const [visibleBackDialog, setVisibleBackDialog] = useState(false);\n  const backMessage = '      ?\\n    .';\n\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [patronymic, setPatronymic] = useState('');\n  const [email, setEmail] = useState('');\n  const [phoneNumber, setPhoneNumber] = useState('');\n  const [password, setPassword] = useState('');\n  const [passwordConfirm, setPasswordConfirm] = useState('');\n  const [checkAgreement, setCheckAgreement] = useState(false);\n  const degrees = useDegrees();\n  const departments = useDepartments(true);\n\n  const [isSignupTouched, setIsSignupTouched] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n\n  const [isLastNameValidated, setIsLastNameValidated] = useState<string | null>(null);\n  const [isFirstNameValidated, setIsFirstNameValidated] = useState<string | null>(null);\n  const [isEmailValidated, setIsEmailValidated] = useState<string | null>(null);\n  const [isPhoneValidated, setIsPhoneValidated] = useState<string | null>(null);\n  const [isPasswordValidated, setIsPasswordValidated] = useState<string | null>(null);\n  const [isPasswordConfirmValidated, setIsPasswordConfirmValidated] = useState<string | null>(null);\n  const [isStartYearValidated, setIsStartYearValidated] = useState<string | null>(null);\n  const [isDepartmentValidated, setIsDepartmentValidated] = useState<string | null>(null);\n  const [isDegreeValidated, setIsDegreeValidated] = useState<string | null>(null);\n\n  const [isStartYearModalVisited, setIsStartYearModalVisited] = useState(false);\n  const [isDepartmentModalVisited, setIsDepartmentModalVisited] = useState(false);\n  const [isDegreeModalVisited, setIsDegreeModalVisited] = useState(false);\n\n  const [signup, {loading, error}] = useMutation(SIGN_UP);\n\n  const checkLastNameValidation = (value: string) => {\n    if (!value) {\n      return setIsLastNameValidated(\"' \");\n    }\n    return setIsLastNameValidated(null);\n  };\n\n  const checkFirstNameValidation = (value: string) => {\n    if (!value) {\n      return setIsFirstNameValidated(\"' \");\n    }\n    return setIsFirstNameValidated(null);\n  };\n\n  const checkEmailValidation = (value: string) => {\n    const re = /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/\n\n    if (!value) {\n      return setIsEmailValidated(\"' \");\n    }\n    if (!re.test(value)) {\n      return setIsEmailValidated(\" \");\n    }\n    return setIsEmailValidated(null);\n  };\n\n  const checkPhoneValidation = (value: string) => {\n    const re = /\\(?([0-9]{3})\\)?([ .-]?)([0-9]{3})\\2([0-9]{4})/\n\n    if (!value) {\n      return setIsPhoneValidated(\"' \");\n    }\n    if (!re.test(value)) {\n      return setIsPhoneValidated(\" \");\n    }\n    return setIsPhoneValidated(null);\n  };\n\n  const checkPasswordValidation = (value: string) => {\n    const re = /^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})/;\n    const strongRe = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\\$%\\^&\\*])(?=.{8,})/;\n\n    if (!value) {\n      return setIsPasswordValidated(\"' \");\n    }\n    if (!re.test(value)) {\n      return setIsPasswordValidated(\" \");\n    }\n    return setIsPasswordValidated(null);\n  };\n\n  const checkPasswordConfirmValidation = (value: string) => {\n    if (!value) {\n      return setIsPasswordConfirmValidated(\"' \");\n    }\n    if (password && passwordConfirm && (password !== passwordConfirm)) {\n      return setIsPasswordConfirmValidated('  ');\n    }\n    return setIsPasswordConfirmValidated(null);\n  };\n\n  const checkStartYearValidation = (value: number) => {\n    if (value === -1 && (isStartYearModalVisited || isSignupTouched)) {\n      return setIsStartYearValidated(\"   \");\n    }\n    return setIsStartYearValidated(null);\n  };\n\n  const checkDepartmentValidation = (value: number) => {\n    if (value === -1 && (isDegreeModalVisited || isSignupTouched)) {\n      return setIsDepartmentValidated(\"  \");\n    }\n    return setIsDepartmentValidated(null);\n  };\n\n  const checkDegreeValidation = (value: number) => {\n    if (value === -1 && (isDegreeModalVisited || isSignupTouched)) {\n      return setIsDegreeValidated(\"   \");\n    }\n    return setIsDegreeValidated(null);\n  };\n\n  const handleSubmit = async () => {\n    navigation.navigate('SignUpStepTwo');\n\n    checkLastNameValidation(lastName);\n    checkFirstNameValidation(firstName);\n    checkEmailValidation(email);\n    checkPhoneValidation(phoneNumber);\n    checkPasswordValidation(password);\n    checkPasswordConfirmValidation(passwordConfirm);\n    checkStartYearValidation(selectedStartYear.id);\n    checkDepartmentValidation(selectedDepartment.id);\n    checkDegreeValidation(selectedDegree.id);\n\n    if (!isLastNameValidated && !isFirstNameValidated && !isEmailValidated && !isPasswordValidated\n        && !isPasswordConfirmValidated && !isStartYearValidated && !isDepartmentValidated\n        && !isDegreeValidated) {\n      try {\n        const result = await signup({\n          variables: {\n            input: {\n              lastName: lastName,\n              firstName: firstName,\n              patronymic: patronymic,\n              password: password,\n              email: email,\n              phoneNumber: phoneNumber,\n              department: selectedDepartment.id,\n              degree: selectedDegree.id,\n              startYear: selectedStartYear.id,\n            }\n          }\n        });\n        const hasErrors = result?.data.login.userErrors?.length;\n\n        if (hasErrors) {\n          const errorMessage = ErrorCodesUa[result?.data.login.userErrors[0].code as ErrorCodes];\n\n          alert(errorMessage);\n        } else {\n          navigation.navigate('SignUpStepTwo');\n        }\n      } catch (e) {\n        alert(e)\n      }\n    }\n  }\n\n  const showAgreement = () => setVisibleAgreement(true);\n\n  const hideAgreement = () => setVisibleAgreement(false);\n\n  const showBackDialog = () => setVisibleBackDialog(true);\n\n  const hideBackDialog = () => setVisibleBackDialog(false);\n\n  const navigateToLogin = () => {\n    navigation.goBack();\n  };\n\n  const handleBack = () => {\n    if (lastName || firstName || patronymic || email || phoneNumber || password || passwordConfirm\n        || selectedStartYear.id !== -1 || selectedDepartment.id !== -1 || selectedDegree.id !== -1) {\n      showBackDialog();\n    } else {\n      navigateToLogin();\n    }\n  };\n\n  const Error = ({validator}: any) => (\n    <HelperText type=\"error\" style={{color: '#f91354', height: validator ? 'auto' : 0}}>\n      {validator}\n    </HelperText>\n  );\n\n  return (\n    <ImageBackground source={require('../../assets/images/bg.jpg')}\n                     style={{width: '100%', height: '100%'}}>\n      <View style={styles.container}>\n        <Appbar style={styles.top}>\n          <Appbar.BackAction onPress={handleBack} color='#fff'/>\n          <Appbar.Content title='' subtitle=' 1  3' color='#fff'/>\n        </Appbar>\n        <View style={styles.wrapper}>\n          <ScrollView style={styles.scrollView}>\n            <Banner\n              icon='alert-circle'\n              visible={visible}\n              actions={[\n                {\n                  label: '',\n                  onPress: () => setVisible(false),\n                }\n              ]}\n            >\n                       .\n            </Banner>\n            <Text style={styles.infoPanel}>\n               ,         .\n            </Text>\n            <TextInput placeholder=\" *\" style={styles.input} value={lastName}\n                       underlineColor={!isLastNameValidated ? '#ccc' : '#f91354'}\n                       onChangeText={text => {\n                         setLastName(text);\n                         checkLastNameValidation(text);\n                       }}\n                       onBlur={() => checkLastNameValidation(lastName)}\n            />\n            <Error validator={isLastNameValidated}/>\n            <TextInput placeholder=\"' *\" style={styles.input} value={firstName}\n                       underlineColor={!isFirstNameValidated ? '#ccc' : '#f91354'}\n                       onChangeText={text => {\n                         setFirstName(text);\n                         checkFirstNameValidation(text);\n                       }}\n                       onBlur={() => checkFirstNameValidation(firstName)}\n            />\n            <Error validator={isFirstNameValidated}/>\n            <TextInput placeholder=\"-\" style={styles.input} value={patronymic}\n                       onChangeText={text => setPatronymic(text)}\n            />\n            <View style={{height: 10, backgroundColor: '#fff'}}/>\n            <TextInput placeholder=\"E-mail *\" style={styles.input} value={email}\n                       underlineColor={!isEmailValidated ? '#ccc' : '#f91354'}\n                       onChangeText={text => {\n                         setEmail(text);\n                         checkEmailValidation(text);\n                       }}\n                       onBlur={() => checkEmailValidation(email)}\n                       keyboardType='email-address'\n            />\n            <Error validator={isEmailValidated}/>\n            <TextInput placeholder=\".  *\" style={styles.input}\n                       underlineColor={!isEmailValidated ? '#ccc' : '#f91354'}\n                       onChangeText={text => {\n                         setPhoneNumber(text);\n                         checkPhoneValidation(text);\n                       }}\n                       onBlur={() => checkPhoneValidation(phoneNumber)}\n                       keyboardType='phone-pad'\n            />\n            <Error validator={isPhoneValidated}/>\n            <TextInput placeholder=\" *\" style={styles.input}\n                       underlineColor={!isPasswordValidated ? '#ccc' : '#f91354'}\n                       onChangeText={text => {\n                         setPassword(text);\n                         checkPasswordValidation(text);\n                       }}\n                       onBlur={() => checkPasswordValidation(password)}\n                       right={<TextInput.Icon name={showPassword ? 'eye' : 'eye-off'} color='#ccc'\n                                              onPress={() => setShowPassword(prevState => !prevState)}\n                                              forceTextInputFocus={false}\n                       />}\n                       secureTextEntry={!showPassword}\n            />\n            <Error validator={isPasswordValidated}/>\n            <TextInput placeholder=\"  *\" style={styles.input}\n                       underlineColor={!isPasswordConfirmValidated ? '#ccc' : '#f91354'}\n                       onChangeText={text => {\n                         setPasswordConfirm(text);\n                         checkPasswordConfirmValidation(text);\n                       }}\n                       onBlur={() => checkPasswordConfirmValidation(passwordConfirm)}\n                       right={<TextInput.Icon name={showPassword ? 'eye' : 'eye-off'} color='#ccc'\n                                              onPress={() => setShowPassword(prevState => !prevState)}\n                                              forceTextInputFocus={false}\n                       />}\n                       secureTextEntry={!showPassword}\n            />\n            <Error validator={isPasswordConfirmValidated}/>\n            <CustomPickerField selected={selectedStartYear} setSelected={setSelectedStartYear}\n                               name='  ' items={startYearsItems}\n                               checkValidation={checkStartYearValidation}\n                               setIsVisited={setIsStartYearModalVisited}\n                               underlineColor={!isStartYearValidated ? '#ccc' : '#f91354'}\n\n            />\n            <Error validator={isStartYearValidated}/>\n            <CustomPickerField name='' selected={selectedDepartment} items={departments}\n                               setSelected={setSelectedDepartment}\n                               checkValidation={checkDepartmentValidation}\n                               setIsVisited={setIsDepartmentModalVisited}\n                               underlineColor={!isDepartmentValidated ? '#ccc' : '#f91354'}\n\n            />\n            <Error validator={isDepartmentValidated}/>\n            <CustomPickerField name=' ' selected={selectedDegree} items={degrees}\n                               setSelected={setSelectedDegree}\n                               checkValidation={checkDegreeValidation}\n                               setIsVisited={setIsDegreeModalVisited}\n                               underlineColor={!isDegreeValidated ? '#ccc' : '#f91354'}\n\n            />\n            <Error validator={isDegreeValidated}/>\n            <View style={styles.agreement}>\n              <Checkbox status={checkAgreement ? 'checked' : 'unchecked'} color='#2b5dff'\n                        uncheckedColor='#f91354'\n                        onPress={() => {\n                          setIsSignupTouched(true);\n                          setCheckAgreement(prevState => !prevState);\n                        }}/>\n              <Text style={{width: '90%', backgroundColor: '#fff'}}>    \n                <Text style={styles.link} onPress={showAgreement}>  </Text> *</Text>\n            </View>\n          </ScrollView>\n          <View style={styles.navButtons}>\n            <Button\n              onPress={handleSubmit}\n              mode='contained' color='#f91354'\n              style={styles.signUpButton}\n              disabled={!checkAgreement || loading}\n              loading={loading}\n            >\n              \n            </Button>\n          </View>\n          <Agreement visible={visibleAgreement} hideDialog={hideAgreement}\n                     setCheckAgreement={setCheckAgreement}\n          />\n          <InfoDialog message={backMessage} visible={visibleBackDialog} hideDialog={hideBackDialog}\n                      navigateToLogin={navigateToLogin}\n          />\n        </View>\n      </View>\n    </ImageBackground>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    backgroundColor: 'transparent'\n  },\n  wrapper: {\n    backgroundColor: '#fff',\n    width: '100%',\n    height: windowHeight-80,\n    alignItems: 'center',\n  },\n  title: {\n    fontSize: 32,\n    fontWeight: 'bold',\n    color: '#fff',\n  },\n  navButtons: {\n    backgroundColor: 'transparent',\n    flexDirection: 'row',\n    marginBottom: 16,\n    marginTop: 16,\n  },\n  signUpButton: {\n    height: 50,\n    justifyContent: 'center',\n  },\n  scrollView: {\n    width: '90%',\n  },\n  input: {\n    width: '100%',\n    backgroundColor: 'transparent',\n    fontSize: 22,\n    paddingLeft: 10,\n    margin: 0,\n  },\n  top: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    paddingTop: 26,\n    height: 80,\n    backgroundColor: 'transparent',\n    elevation: 0\n  },\n  link: {\n    color: '#2b5dff',\n    textDecorationLine: 'underline'\n  },\n  agreement: {\n    paddingTop: 20,\n    paddingBottom: 5,\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: '#fff',\n  },\n  infoPanel: {\n    borderRadius: 8,\n    backgroundColor: '#b5e3ff',\n    padding: 8,\n    marginTop: 16\n  },\n});","import * as React from 'react';\nimport {View, StyleSheet, Text} from \"react-native\";\nimport {Button, TextInput} from \"react-native-paper\";\n\nexport default function ForgotPassword({navigation}: any) {\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.text}>\n          email      .\n      </Text>\n      <TextInput placeholder=\"E-mail\" style={styles.input}/>\n      <Button onPress={()=>navigation.navigate('ForgotPasswordSuccess')} mode='contained' color='#2b5dff'\n        style={styles.button}>\n         \n      </Button>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#2e287c',\n  },\n  text: {\n    color: '#fff',\n    fontSize: 20,\n    textAlign: 'center',\n    margin: 5,\n    width: '90%',\n    marginBottom: 32,\n  },\n  button: {\n    marginTop: 32,\n    height: 50,\n    justifyContent: 'center'\n  },\n  input: {\n    width: '90%',\n    height: 50\n  }\n});\n","import * as React from 'react';\nimport {View, StyleSheet, Text} from \"react-native\";\nimport {Button} from \"react-native-paper\";\n\nexport default function ForgotPasswordSuccess({navigation}: any) {\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.text}>\n         ,  .\n      </Text>\n      <Button onPress={()=>navigation.navigate('Login')} mode='contained' color='#2b5dff'\n        style={styles.loginButton}>\n          \n      </Button>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#2e287c',\n  },\n  text: {\n    color: '#fff',\n    fontSize: 20,\n    textAlign: 'center',\n    margin: 5,\n    width: '90%',\n    marginBottom: 32,\n  },\n  loginButton: {\n    marginTop: 32,\n    height: 50,\n    justifyContent: 'center'\n  },\n  input: {\n    width: '90%',\n    height: 50\n  }\n});\n","import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_USERS = gql`\r\n  query getUsers {\r\n    users {\r\n      id\r\n      firstName\r\n      patronymic\r\n      lastName\r\n      type\r\n      department {\r\n        name\r\n      }\r\n      email\r\n      phoneNumber\r\n      extraPhoneNumbers\r\n      nameTemp\r\n      studentInfo {\r\n        degree {\r\n          name\r\n        }\r\n        startYear\r\n        accountStatus\r\n      }\r\n      employeeInfo {\r\n        employmentType\r\n        accountStatus\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_USER_BY_ID = gql`\r\n  query getUserById($where: UserWhereUniqueInput!) {\r\n    user(where: $where) {\r\n      id\r\n      firstName\r\n      patronymic\r\n      lastName\r\n      type\r\n      department {\r\n        id\r\n        name\r\n      }\r\n      occupiedClassrooms {\r\n        id\r\n        state \r\n        classroom {\r\n          id\r\n          name\r\n        }\r\n      }\r\n      queue {\r\n        id\r\n        state\r\n        type\r\n        classroom {\r\n          id\r\n        }\r\n      }\r\n      queueInfo {\r\n        id\r\n        sanctionedUntil\r\n        currentSession {\r\n          id\r\n          state\r\n          skips\r\n        }\r\n      }\r\n      email\r\n      phoneNumber\r\n      extraPhoneNumbers\r\n      nameTemp\r\n      studentInfo {\r\n        degree {\r\n          name\r\n        }\r\n        startYear\r\n        accountStatus\r\n      }\r\n      employeeInfo {\r\n        employmentType\r\n        accountStatus\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import {useEffect, useState} from \"react\";\nimport {client} from \"../api/client\";\nimport {GET_CLASSROOMS} from \"../api/operations/queries/classrooms\";\nimport {ISODateString} from \"../helpers/helpers\";\nimport {ClassroomType, User} from \"../models/models\";\nimport {gql, useQuery} from \"@apollo/client\";\nimport {GET_USERS} from \"../api/operations/queries/users\";\n\nconst useUsers = (): Array<User> => {\n  const [users, setUsers] = useState<User[]>([]);\n\n  useEffect(() => {\n    client.query({query: GET_USERS, fetchPolicy: \"cache-first\"}).then((data) => {\n        setUsers(data.data.users.slice().sort((a: User, b: User) => a.id - b.id));\n      });\n  }, []);\n\n  return users;\n};\n\nexport default useUsers;","import {HOUR, MINUTE, TIME_SNIPPETS, WORKING_DAY_END, WORKING_DAY_START,} from \"./constants\";\nimport {\n  ACCESS_RIGHTS,\n  ClassroomType,\n  CurrentUser, DisabledState,\n  Mode,\n  OccupiedInfo,\n  OccupiedState,\n  ScheduleUnitType,\n  User,\n  UserTypes,\n} from \"../models/models\";\nimport moment from \"moment\";\nimport {ReactElement} from \"react\";\nimport {accessRightsVar, desirableClassroomIdsVar, minimalClassroomIdsVar} from \"../api/client\";\n\nexport const getScheduleTimeline = (start: number, end: number): string[] => {\n  let timeSnippets: string[] = [];\n  for (let hour = start; hour <= end; hour++) {\n    if (hour === end) {\n      timeSnippets.push(hour + \":00\");\n    } else {\n      TIME_SNIPPETS.forEach((minutes) => {\n        timeSnippets.push(hour + minutes);\n      });\n    }\n  }\n  return timeSnippets;\n};\n\nconst getScheduleTimeInMilliseconds = (scheduleUnitTime: any) => {\n  return scheduleUnitTime\n    .split(\":\")\n    .map((el: any, index: number) => {\n      return index === 0 ? Number(el) * HOUR : Number(el) * MINUTE;\n    })\n    .reduce((acc: any, curr: any) => acc + curr);\n};\n\nexport const getPossiblyOccupied = (schedule: Array<any>) => {\n  const current =\n    new Date().getHours() * HOUR + new Date().getMinutes() * MINUTE;\n  const timeSnippets = schedule.map((el: any) => {\n    return {\n      from: getScheduleTimeInMilliseconds(el.from),\n      to: getScheduleTimeInMilliseconds(el.to),\n    };\n  });\n  return timeSnippets\n    .map((el: any) => {\n      return current >= el.from && current <= el.to;\n    })\n    .some((el: any) => el === true);\n};\n\nexport const getTimeHHMM = (date: Date) => {\n  return date.getHours() + \":\" + formatMinutesToMM(date.getMinutes());\n};\n\nexport const getScheduleUnitRowLength = (\n  schedule: Array<ScheduleUnitType>,\n  units: string\n) =>\n  schedule\n    .map((scheduleUnit: ScheduleUnitType) => {\n      return parseInt(scheduleUnit.to) - parseInt(scheduleUnit.from) + units;\n    })\n    .join(\" \");\n\nexport const formatMinutesToMM = (value: number) => {\n  if (value <= 9) return `0${value}`;\n  else return value;\n};\n\nexport const fullName = (user: User, withInitials = false) => {\n  if (user) {\n    if (user.nameTemp) return user.nameTemp\n    if (withInitials) {\n      return `${user.lastName} ${user.firstName.charAt(0)}. ${\n        user.patronymic ? user.patronymic.charAt(0) + \".\" : \"\"\n      }`;\n    } else {\n      return `${user.lastName} ${user.firstName} ${\n        user.patronymic ? user.patronymic : \"\"\n      }`;\n    }\n  }\n  return \"\";\n};\n\nexport const typeStyle = (occupied: OccupiedInfo, isDisabled = false) => {\n  const student = {backgroundColor: \"#2e287c\", color: \"#fff\"};\n  const employee = {backgroundColor: \"#ffc000\", color: \"#fff\"};\n  const vacant = {\n    backgroundColor: \"transparent\",\n    color: \"#000\",\n  };\n  const disabled = {\n    backgroundColor: \"#00000011\",\n    color: \"#454545\",\n  };\n  if (isDisabled) return disabled;\n  if (isNotFree(occupied)) {\n    switch (occupied.user.type) {\n      case UserTypes.STUDENT:\n        return student;\n      case UserTypes.POST_GRADUATE:\n        return student;\n      default:\n        return employee;\n    }\n  }\n  return vacant;\n};\n\n//get int from time unit. ex: \"9:15\" -> 36 where each 15 min == 1; ex: \"00:15\" -> 1, \"10:00\" ->40\nconst simpleIntFromScheduleUnit = (time: string) => {\n  const reducer = (accumulator: any, currentValue: any) =>\n    accumulator + currentValue;\n  return time\n    .split(\":\")\n    .map((el: string, index: number) => {\n      if (index === 0) {\n        return parseInt(el) * 4;\n      } else {\n        switch (parseInt(el)) {\n          case 0:\n            return 0;\n          case 15:\n            return 1;\n          case 30:\n            return 2;\n          case 45:\n            return 3;\n        }\n      }\n    })\n    .reduce(reducer);\n};\n\n//get schedule units size in fr units for grids\nexport const getScheduleUnitSize = (\n  units: Array<ScheduleUnitType>,\n  fillEmpty = true\n) => {\n  const items = [];\n  if (fillEmpty) {\n    items.push(parseInt(units[0].from) - WORKING_DAY_START);\n  }\n  for (let item of units) {\n    const from = simpleIntFromScheduleUnit(item.from);\n    const to = simpleIntFromScheduleUnit(item.to);\n    items.push((to as number) - (from as number));\n  }\n  if (fillEmpty) {\n    items.push(WORKING_DAY_END - parseInt(units[units.length - 1].to));\n  }\n\n  return items.map((item) => `${item}fr`).join(\" \");\n};\n\nexport const ISODateString = (d: Date) => {\n  function pad(n: any) {\n    return n < 10 ? \"0\" + n : n;\n  }\n\n  return (\n    d.getUTCFullYear() +\n    \"-\" +\n    pad(d.getUTCMonth() + 1) +\n    \"-\" +\n    pad(d.getUTCDate())\n  );\n};\n\nexport const scheduleUnitToDate = (item: ScheduleUnitType) => {\n  const from = item.from.split(':');\n  const to = item.to.split(':');\n  const fromHours = +from[0];\n  const fromMinutes = +from[1];\n  const toHours = +to[0];\n  const toMinutes = +to[1];\n  const fromDate = moment({hours: fromHours, minutes: fromMinutes, seconds: 0, milliseconds: 0});\n  const toDate = moment({hours: toHours, minutes: toMinutes, seconds: 0, milliseconds: 0});\n\n  return {\n    from: fromDate,\n    to: toDate\n  };\n};\n\nexport const isOccupiedOnSchedule = (scheduleUnits: ScheduleUnitType[]) => {\n  const result: any = [];\n\n  scheduleUnits.forEach(item => result.push(scheduleUnitToDate(item)));\n\n  return result.some((item: { from: Date, to: Date }) => {\n    const current = moment();\n\n    return current.isAfter(item.from) && current.isBefore(item.to);\n  });\n};\n\nexport const showNotification = (dispatcher: any, data: string[] | HTMLElement[] | ReactElement[]) => {\n  dispatcher({\n    header: data[0],\n    message: data[1],\n    type: data[2],\n  });\n};\n\nexport const setAccessRights = (user: User) => {\n  let accessRights = ACCESS_RIGHTS.USER;\n\n  if (user && user?.type) {\n    switch (user.type) {\n      case UserTypes.ADMIN:\n        accessRights = ACCESS_RIGHTS.ADMIN;\n        break;\n      case UserTypes.DISPATCHER:\n        accessRights = ACCESS_RIGHTS.DISPATCHER;\n        break;\n      default:\n        accessRights = ACCESS_RIGHTS.USER;\n    }\n  }\n\n  accessRightsVar(accessRights);\n};\n\nexport const isTeacherType = (type: UserTypes) => {\n  return type === UserTypes.TEACHER || type === UserTypes.CONCERTMASTER || type === UserTypes.ILLUSTRATOR;\n};\n\nexport const getTimeFromUntil = (until: string, minutesDuration = 2) => {\n  if (until) {\n    const differenceInMs = moment(until).diff(moment());\n    const tempTime = moment.duration(differenceInMs);\n\n    const resultHHMMSS = tempTime.hours() + ':' + tempTime.minutes() + ':' + tempTime.seconds();\n    const resultPercents = differenceInMs / ((MINUTE * minutesDuration) / 100);\n\n    return [resultHHMMSS, resultPercents];\n  }\n};\n\nexport const isPendingForMe = (occupied: OccupiedInfo, me: User, mode: Mode) => {\n  return (\n    (occupied.state === OccupiedState.PENDING || occupied.state === OccupiedState.RESERVED) &&\n    occupied.user.id === me.id\n    && mode === Mode.INLINE\n  );\n}\n\nexport const isOwnClassroom = (occupied: OccupiedInfo, me: User) => {\n  return occupied.state === OccupiedState.OCCUPIED && occupied.user.id === me.id;\n};\n\nexport const isOccupiedOrPendingByCurrentUser = (occupied: OccupiedInfo, currentUser: User) => {\n  return (\n    occupied.state === OccupiedState.OCCUPIED\n    || occupied.state === OccupiedState.PENDING\n    || occupied.state === OccupiedState.RESERVED\n        ) && occupied.user.id === currentUser.id;\n}\n\nexport const isNotFree = (occupied: OccupiedInfo) => {\n  return occupied.state !== OccupiedState.FREE;\n};\n\nexport const getIsMeOccupied = (me: CurrentUser, classrooms: ClassroomType[]) => {\n  return !!classrooms.find(({occupied}) => occupied.state === OccupiedState.OCCUPIED && me.id === occupied.user.id);\n};\n\nexport const hasOwnClassroom = (occupiedClassrooms: any) => {\n  const ownClassroom = occupiedClassrooms.find((classroom: any) => {\n    return classroom.state === OccupiedState.OCCUPIED || classroom.state === OccupiedState.RESERVED;\n  });\n  return ownClassroom ? ownClassroom.classroom.id : null;\n};\n\nexport const isEnabledForCurrentDepartment = (classroom: ClassroomType, currentUser: User) => {\n  return classroom.chair?.exclusivelyQueueAllowedDepartmentsInfo.length ?\n    classroom.chair?.exclusivelyQueueAllowedDepartmentsInfo\n      .some(({department}) => department.id === currentUser?.department?.id) : true;\n};\n\nexport const isEnabledForQueue = (classroom: ClassroomType, user: any) => {\n    const ownClassroomId = hasOwnClassroom(user.occupiedClassrooms);\n\n    return classroom.id !== ownClassroomId && !classroom.isHidden &&\n      classroom.disabled.state === DisabledState.NOT_DISABLED &&\n      isEnabledForCurrentDepartment(classroom, user) &&\n      !(user.occupiedClassrooms.some((data: any) => {\n        return data.classroom.id === classroom.id && data.state === OccupiedState.PENDING\n      }));\n};","import React from 'react';\nimport {View, Text, StyleSheet} from \"react-native\";\nimport {ActivityIndicator, Divider, Modal, Portal, Title} from \"react-native-paper\";\nimport {fullName, isTeacherType} from \"../helpers/helpers\";\nimport {useQuery} from \"@apollo/client\";\nimport {GET_USER_BY_ID} from \"../api/operations/queries/users\";\nimport {UserTypes, UserTypesUa} from \"../models/models\";\nimport {Linking} from 'react-native'\n\ninterface PropTypes {\n  userId: number;\n  hideModal: () => void;\n  visible: boolean;\n}\n\nexport default function UserInfo({userId, hideModal, visible}: PropTypes) {\n  const {data, loading, error} = useQuery(GET_USER_BY_ID, {\n    variables: {where: {id: userId}}\n  });\n\n  const openPhoneNumber = (phoneNumber: string) => Linking.openURL(`tel:${phoneNumber}`);\n\n  return <Portal>\n    <Modal visible={visible} onDismiss={hideModal} contentContainerStyle={styles.containerStyle}>\n      {!loading && !error ? <>\n          <Title style={styles.occupantName}>{data.user.nameTemp === null ? fullName(data.user) :\n            data.user.nameTemp}</Title>\n          <Divider style={styles.divider}/>\n          <Text>: {UserTypesUa[data.user.type as UserTypes]}</Text>\n          <Text>: {data.user.department?.name}</Text>\n          <Divider style={styles.divider}/>\n        {isTeacherType(data.user.type) && <>\n            <View style={styles.phoneRow}><Text>: </Text>\n                <Text onPress={() => openPhoneNumber(data.user.phoneNumber)} style={styles.phoneNumber}>\n                  {data.user.phoneNumber}\n                </Text>\n            </View>\n          {JSON.parse(data.user.extraPhoneNumbers).map((number: string, index: number) => {\n            return <View key={index} style={styles.phoneRow}>\n              <Text>{`. ${index + 2}: `}</Text>\n              <Text onPress={() => openPhoneNumber(number)} style={styles.phoneNumber}>\n                {number}\n              </Text>\n            </View>\n          })}\n        </>}\n      </> : <ActivityIndicator animating={true} color='#2e287c'/>}\n    </Modal>\n  </Portal>\n};\n\nconst styles = StyleSheet.create(({\n  occupantName: {},\n  containerStyle: {\n    backgroundColor: 'white',\n    padding: 20,\n    margin: 10,\n    borderRadius: 8\n  },\n  divider: {\n    marginTop: 16,\n    marginBottom: 16\n  },\n  phoneRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between'\n  },\n  phoneNumber: {\n    borderRadius: 8,\n    borderWidth: 1,\n    borderStyle: 'solid',\n    borderColor: '#eee',\n    padding: 8,\n    fontSize: 16,\n    marginTop: 8,\n    color: '#2b5dff'\n  }\n}));","import React, {useEffect, useState} from 'react';\nimport {StyleSheet, View, ScrollView, Dimensions} from \"react-native\";\nimport useUsers from \"../hooks/useUsers\";\nimport {ActivityIndicator, DataTable, Searchbar} from \"react-native-paper\";\nimport {UserTypes, UserTypesUa} from \"../models/models\";\nimport {fullName, isTeacherType} from \"../helpers/helpers\";\nimport UserInfo from \"../components/UserInfo\";\n\nconst windowHeight = Dimensions.get('window').height;\n\nexport default function Users() {\n  const users = useUsers();\n  const [pages, setPages] = useState(0);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [visible, setVisible] = useState(false);\n  const [currentUserId, setCurrentUserId] = useState(0);\n  const [searchText, setSearchText] = useState('');\n  const UserElement = ({user}: any) => <DataTable.Row onPress={() => showModal(user.id)}>\n    <DataTable.Cell>{fullName(user)}</DataTable.Cell>\n    <DataTable.Cell>{UserTypesUa[user.type as UserTypes]}</DataTable.Cell>\n  </DataTable.Row>;\n\n  const showModal = (userId: number) => {\n    setVisible(true);\n    setCurrentUserId(userId);\n  };\n\n  const hideModal = () => setVisible(false);\n\n  useEffect(() => {\n    setPages(users.length / 13)\n  }, [users]);\n\n  return <View>\n    <Searchbar\n      placeholder=\"\"\n      onChangeText={text => {\n        setSearchText(text);\n        setCurrentPage(0);\n      }}\n      value={searchText}\n      style={styles.search}\n    />\n    <DataTable>\n      <DataTable.Header style={styles.header}>\n        <DataTable.Title>...</DataTable.Title>\n        <DataTable.Title style={{alignSelf: 'center'}}></DataTable.Title>\n      </DataTable.Header>\n      {users.length ? <>\n        <View style={styles.list}>\n          <ScrollView>\n            {users?.filter(user => isTeacherType(user.type as UserTypes))\n              .slice()\n              //@ts-ignore\n              .sort((a , b) => fullName(a).toLowerCase() > fullName(b).toLowerCase())\n              .filter(user => fullName(user).toLowerCase().includes(searchText.toLowerCase()))\n              .slice(currentPage * 13, (currentPage * 13) + 13)\n              .map(user =>\n              <UserElement user={user}/>)}\n          </ScrollView>\n        </View>\n        <DataTable.Pagination\n          style={styles.pagination}\n          page={currentPage}\n          numberOfPages={pages}\n          onPageChange={page => {\n            setCurrentPage(page);\n          }}\n          label={`${currentPage * 13} - ${(currentPage * 13) + 13}  ${users.length}`}\n        />\n      </> : <ActivityIndicator animating={true} color='#2e287c'/>}\n    </DataTable>\n    {currentUserId ? <UserInfo userId={currentUserId} hideModal={hideModal} visible={visible}/> : null}\n  </View>\n}\n\nconst styles = StyleSheet.create(({\n  search: {\n    marginTop: 40,\n    marginBottom: -40\n  },\n  header: {\n    marginTop: 40,\n  },\n  list: {\n    height: windowHeight - 175\n  },\n  pagination: {\n    justifyContent: 'center',\n  }\n}));\n","import React, {useState} from 'react';\nimport {\n  SafeAreaView,\n  View,\n  StyleSheet,\n  Image,\n  Text,\n  Linking,\n} from 'react-native';\n\nimport {\n  DrawerContentScrollView,\n  DrawerItemList,\n} from '@react-navigation/drawer';\nimport {Avatar, Button, Dialog, IconButton, Portal} from \"react-native-paper\";\nimport {removeItem} from \"../api/asyncStorage\";\nimport {meVar} from \"../api/client\";\n\nconst CustomSidebarMenu = (props: any) => {\n  const [visible, setVisible] = useState(false);\n\n  const showDialog = () => setVisible(true);\n\n  const hideDialog = () => setVisible(false);\n\n  const logout = async () => {\n    await removeItem('user');\n    await removeItem('token');\n    meVar(null);\n    hideDialog();\n  };\n\n  return (\n    <SafeAreaView style={{flex: 1}}>\n      <Image\n        source={require('../assets/images/au_logo.png')}\n        style={styles.sideMenuProfileIcon}\n      />\n      <View style={styles.userData}>\n        <Avatar.Icon size={44} icon='account'/>\n        <Text style={styles.userName}>{meVar()?.firstName}, !</Text>\n        <IconButton\n          icon=\"logout\"\n          color=\"#f91354\"\n          size={30}\n          onPress={showDialog}\n          style={styles.logout}\n        />\n      </View>\n      <DrawerContentScrollView {...props}>\n        <DrawerItemList {...props} />\n      </DrawerContentScrollView>\n      <Text\n        style={{\n          fontSize: 16,\n          textAlign: 'center',\n          color: '#fff',\n          marginBottom: 16\n        }}\n        onPress={() => Linking.openURL('https://knmau.com.ua/')}\n      >\n         . ..\n      </Text>\n      <Portal>\n        <Dialog visible={visible} onDismiss={hideDialog}>\n          <Dialog.Title>     ?</Dialog.Title>\n          <Dialog.Actions>\n            <Button onPress={hideDialog}></Button>\n            <Button onPress={logout}></Button>\n          </Dialog.Actions>\n        </Dialog>\n      </Portal>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  sideMenuProfileIcon: {\n    resizeMode: 'center',\n    width: 200,\n    height: 70,\n    marginTop: 50,\n    alignSelf: 'center',\n  },\n  iconStyle: {\n    width: 15,\n    height: 15,\n    marginHorizontal: 5,\n  },\n  customItem: {\n    padding: 16,\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  userData: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginTop: 20,\n    marginHorizontal: 10,\n    borderRadius: 8,\n    borderWidth: 1,\n    padding: 12,\n    borderColor: '#ffffff22',\n    flexDirection: 'row'\n  },\n  userName: {\n    color: '#fff',\n    fontSize: 20,\n    paddingLeft: 10\n  },\n  logout: {\n    marginRight: -10,\n    marginVertical: -10\n  }\n});\n\nexport default CustomSidebarMenu;","import {gql} from \"@apollo/client\";\r\n\r\nexport const GET_ME = gql`\r\n    query meType {\r\n        me @client\r\n    }\r\n`;","import React, {useEffect, useState} from 'react';\nimport {StyleSheet, View, Text} from \"react-native\";\nimport {Appbar, Divider, Title} from \"react-native-paper\";\nimport {useQuery} from \"@apollo/client\";\nimport {GET_ME} from \"../api/operations/queries/me\";\nimport {fullName} from \"../helpers/helpers\";\nimport {UserTypes, UserTypesUa} from \"../models/models\";\nimport {getItem} from \"../api/asyncStorage\";\n\nexport default function Profile({navigation}: any) {\n  const {data: {me}} = useQuery(GET_ME);\n\n  const goBack = () => navigation.goBack();\n\n  return (\n    <View>\n      <Appbar style={styles.top}>\n        <Appbar.BackAction onPress={goBack}/>\n        <Appbar.Content\n          title=' '\n        />\n      </Appbar>\n      <View style={styles.wrapper}>\n        <Title>...</Title>\n        <Text style={{marginBottom: 10}}>{fullName(me)}</Text>\n        <Divider/>\n        <Title>  (ID)</Title>\n        <Text style={{marginBottom: 10}}>{me.id}</Text>\n        <Divider/>\n        <Title> </Title>\n        <Text style={{marginBottom: 10}}>{UserTypesUa[me.type as UserTypes]}</Text>\n        <Divider/>\n        {me.department && (\n          <>\n            <Title></Title>\n            <Text style={{marginBottom: 10}}>{me.department?.name}</Text>\n            <Divider/>\n          </>\n        )}\n        <Title>E-mail</Title>\n        <Text style={{marginBottom: 10}}>{me.email}</Text>\n        <Divider/>\n        <Title></Title>\n        <Text style={{marginBottom: 10}}>{me.phoneNumber}</Text>\n        <Divider/>\n        <Title>  </Title>\n        <Text style={{marginBottom: 10}}>{me.expireDate}</Text>\n        <Divider/>\n      </View>\n    </View>\n  )\n}\n\nconst styles = StyleSheet.create({\n  top: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    paddingTop: 26,\n    height: 80,\n    backgroundColor: '#2e287c',\n  },\n  wrapper: {\n    marginTop: 100,\n    marginLeft: 16,\n    marginRight: 16,\n  },\n});","import {useNavigation} from '@react-navigation/native';\nimport React from 'react';\nimport {View, Text, StyleSheet, ImageBackground} from \"react-native\";\nimport {Appbar, Button, Title} from \"react-native-paper\";\n\nexport default function SignUpStepTwo() {\n  const navigation = useNavigation();\n  const message1 = '   e-mail,   ,  ' +\n    '    .';\n  const message2 = '          .';\n\n\n  const navigateToLogin = () => {\n    navigation.navigate('Login');\n  };\n\n  return <ImageBackground source={require('../../assets/images/bg.jpg')}\n                          style={{width: '100%', height: '100%'}}>\n    <View style={styles.container}>\n      <Appbar style={styles.top}>\n        <Appbar.BackAction onPress={navigateToLogin}/>\n        <Appbar.Content title='' subtitle=' 2  3' color='#fff'/>\n      </Appbar>\n      <View style={styles.wrapper}>\n        <Title style={styles.title}>!  !</Title>\n        <Text style={styles.message}>{message1}</Text>\n        <Text style={styles.message}>{message2}</Text>\n        <Button mode='contained' style={styles.button} onPress={navigateToLogin}>  </Button>\n      </View>\n    </View>\n  </ImageBackground>\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n  },\n  top: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    paddingTop: 26,\n    height: 80,\n    backgroundColor: 'transparent',\n    elevation: 0\n  },\n  wrapper: {},\n  title: {\n    textAlign: 'center',\n    fontSize: 32,\n    padding: 20,\n    lineHeight: 40,\n    fontWeight: 'bold',\n    color: '#fff',\n    marginBottom: 30\n  },\n  message: {\n    textAlign: 'center',\n    borderRadius: 8,\n    backgroundColor: '#b5e3ff77',\n    padding: 8,\n    marginHorizontal: 20,\n    marginBottom: 10,\n    fontSize: 20,\n  },\n  button: {\n    width: 200,\n    alignSelf: 'center',\n    marginTop: 50,\n    height: 50,\n    justifyContent: 'center'\n  }\n});","import React, {useEffect, useState} from 'react';\nimport {View, Text, StyleSheet, ImageBackground} from \"react-native\";\nimport {Appbar, Button, Title} from \"react-native-paper\";\nimport {client, meVar} from \"../../api/client\";\nimport {GET_USER_BY_ID} from \"../../api/operations/queries/users\";\nimport {getItem, removeItem, setItem} from \"../../api/asyncStorage\";\n\nexport default function Verification() {\n  const message1 = '         . \\n' +\n    '  :';\n  const message2 = '        .';\n  const [storageUser, setStorageUser] = useState<any>(null);\n  const [update, setUpdate] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    getItem('user').then(u => setStorageUser(u));\n  },[]);\n\n  useEffect(() => {\n    if (storageUser) {\n      setIsLoading(true);\n      client.query({\n        query: GET_USER_BY_ID,\n        variables: {\n          where: {id: storageUser.id}\n        },\n        fetchPolicy: 'network-only',\n      }).then(({data: {user}}) => {\n        setItem('user', user).then(() => {\n          setIsLoading(false);\n        });\n      });\n    }\n  }, [update]);\n\n  const navigateToLogin = async () => {\n    await removeItem('user');\n    meVar(null);\n  };\n\n  return <ImageBackground source={require('../../assets/images/bg.jpg')}\n                          style={{width: '100%', height: '100%'}}>\n    <View style={styles.container}>\n      <Appbar style={styles.top}>\n        <Appbar.BackAction onPress={navigateToLogin}/>\n        <Appbar.Content title='' subtitle=' 3  3' color='#fff'/>\n      </Appbar>\n      <View style={styles.wrapper}>\n        <Title style={styles.title}>   </Title>\n        <Text style={styles.message}>{message1}</Text>\n        <Title style={styles.number}>{storageUser ? storageUser.id : ''}</Title>\n        <Text style={styles.message}>{message2}</Text>\n        <Button mode='contained' style={styles.button} loading={isLoading} disabled={isLoading}\n                onPress={() => setUpdate(prevState => !prevState)}\n        >\n          \n        </Button>\n        <Button mode='contained' style={styles.button} onPress={navigateToLogin}>\n            \n        </Button>\n      </View>\n    </View>\n  </ImageBackground>\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n  },\n  top: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    paddingTop: 26,\n    height: 80,\n    backgroundColor: 'transparent',\n    elevation: 0\n  },\n  wrapper: {},\n  title: {\n    textAlign: 'center',\n    fontSize: 32,\n    padding: 10,\n    lineHeight: 40,\n    fontWeight: 'bold',\n    color: '#fff',\n    marginBottom: 15\n  },\n  number: {\n    textAlign: 'center',\n    fontSize: 50,\n    padding: 30,\n    lineHeight: 60,\n    marginHorizontal: 20,\n    marginBottom: 12,\n    color: '#fff',\n    borderRadius: 8,\n    borderStyle: \"solid\",\n    borderColor: '#ffffff33',\n    borderWidth: 1,\n  },\n  message: {\n    textAlign: 'center',\n    borderRadius: 8,\n    backgroundColor: '#b5e3ff77',\n    padding: 8,\n    marginHorizontal: 20,\n    marginBottom: 10,\n    fontSize: 20,\n  },\n  button: {\n    width: 200,\n    alignSelf: 'center',\n    marginTop: 10,\n    height: 50,\n    justifyContent: 'center'\n  }\n});","import {gql, useQuery} from \"@apollo/client\";\n\nexport const useLocal = (localVarName: string) => {\n  return useQuery(gql`\n      query ${localVarName} {\n        ${localVarName} @client\n      }\n  `);\n};","import {gql} from \"@apollo/client\";\n\nexport const ADD_USER_TO_QUEUE = gql`\n    mutation addUserToQueue($input: AddUserToQueueInputType!) {\n        addUserToQueue(input: $input) {\n          user {\n            id\n            firstName\n            lastName\n            occupiedClassrooms {\n              id\n              state\n              until\n              classroom {\n                id\n              }\n            }\n            queueInfo {\n              id\n              currentSession {\n                id\n                state\n                skips\n              }\n            }\n          }\n          userErrors {\n              message\n              code\n            }\n        }\n    }\n`;","import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_CLASSROOM = gql`\r\n  query getClassroom($where: ClassroomWhereUniqueInput!) {\r\n    classroom(where: $where) {\r\n      id\r\n      description\r\n      name\r\n      floor\r\n      special\r\n      isHidden\r\n      chair {\r\n          id\r\n          name\r\n          exclusivelyQueueAllowedDepartmentsInfo {\r\n            department {\r\n              id\r\n              name\r\n            }\r\n          }\r\n      }\r\n      isWing\r\n      isOperaStudio\r\n      occupied {\r\n        user {\r\n          id\r\n          firstName\r\n          patronymic\r\n          lastName\r\n          type\r\n          nameTemp\r\n          email\r\n          phoneNumber\r\n        }\r\n        until\r\n        state\r\n      }\r\n      instruments {\r\n        name\r\n        type\r\n        rate\r\n      }\r\n      disabled {\r\n        comment\r\n        until\r\n        state\r\n      }\r\n    }\r\n  }\r\n`;","import React from 'react';\nimport {View, Text, StyleSheet, Image} from \"react-native\";\nimport {Divider, Modal, Portal, Title} from \"react-native-paper\";\nimport {fullName, isTeacherType} from \"../helpers/helpers\";\nimport {useQuery} from \"@apollo/client\";\nimport {GET_USER_BY_ID} from \"../api/operations/queries/users\";\nimport {InstrumentType, UserTypes, UserTypesUa} from \"../models/models\";\nimport {Linking} from 'react-native'\n\ninterface PropTypes {\n  instrument: InstrumentType;\n  hideModal: () => void;\n  visible: boolean;\n  imageSource: string;\n}\n\nexport default function InstrumentInfo({instrument, hideModal, visible}: PropTypes) {\n  let instrumentType: any = `./../assets/images/UpRightPiano.png`;\n  // @ts-ignore\n  const intRate = Math.round(instrument.rate);\n  const rate = new Array(10).fill(1);\n\n  switch (instrument.type) {\n    case 'Chembalo':\n      instrumentType = <Image source={require(`./../assets/images/Chembalo.png`)} style={styles.icon}/>;\n      break;\n    case 'GrandPiano':\n      instrumentType = <Image source={require(`./../assets/images/GrandPiano.png`)} style={styles.icon}/>;\n      break;\n    case 'UpRightPiano':\n      instrumentType = <Image source={require(`./../assets/images/UpRightPiano.png`)} style={styles.icon}/>;\n      break;\n    default:\n      instrumentType = <Image source={require(`./../assets/images/GrandPiano.png`)} style={styles.icon}/>;\n  }\n\n  return <Portal>\n    <Modal visible={visible} onDismiss={hideModal} contentContainerStyle={styles.containerStyle}>\n      <Title style={{textAlign: 'center'}}>{instrumentType} {instrument.name}</Title>\n      <Divider style={styles.divider}/>\n      <Text style={{textAlign: 'center'}}>: {instrument.type}</Text>\n      <Divider style={styles.divider}/>\n      <Text style={{textAlign: 'center'}}>: {instrument.rate.toFixed(1)}</Text>\n      <View style={styles.rate}>\n        {rate.map((item, index) => <Image key={index}\n          style={{...styles.star, opacity: index < intRate ? 1 : .3}}\n          source={require('../assets/images/star.png')}\n        />)}\n      </View>\n    </Modal>\n  </Portal>\n};\n\nconst styles = StyleSheet.create(({\n  containerStyle: {\n    backgroundColor: 'white',\n    padding: 20,\n    margin: 10,\n    borderRadius: 8\n  },\n  divider: {\n    marginTop: 16,\n    marginBottom: 16\n  },\n  phoneRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between'\n  },\n  phoneNumber: {\n    borderRadius: 8,\n    borderWidth: 1,\n    borderStyle: 'solid',\n    borderColor: '#eee',\n    padding: 8,\n    fontSize: 16,\n    marginTop: 8,\n    color: '#2b5dff'\n  },\n  icon: {\n    width: 20,\n    height: 20,\n    marginRight: 8,\n    marginLeft: 4,\n    opacity: .6\n  },\n  star: {\n    width: 20,\n    height: 20\n  },\n  rate: {\n    marginTop: 8,\n    flexDirection: 'row',\n    justifyContent: 'center'\n  }\n}));","import React, {useState} from 'react';\nimport {View, StyleSheet, Text, Dimensions, Image} from \"react-native\";\nimport {ClassroomType, InstrumentType} from \"../models/models\";\nimport InstrumentInfo from \"./InstrumentInfo\";\n\ninterface PropTypes {\n  instrument: InstrumentType;\n  expanded?: boolean;\n}\n\nexport default function InstrumentItem({instrument, expanded = false}: PropTypes) {\n  const {type, rate, name} = instrument;\n  let instrumentType: any = `./../assets/images/UpRightPiano.png`;\n  const [visible, setVisible] = useState(false);\n\n  const showModal = () => setVisible(true);\n\n  const hideModal = () => setVisible(false);\n\n  switch (type) {\n    case 'Chembalo':\n      instrumentType = <Image source={require(`./../assets/images/Chembalo.png`)} style={styles.icon}/>;\n      break;\n    case 'GrandPiano':\n      instrumentType = <Image source={require(`./../assets/images/GrandPiano.png`)} style={styles.icon}/>;\n      break;\n    case 'UpRightPiano':\n      instrumentType = <Image source={require(`./../assets/images/UpRightPiano.png`)} style={styles.icon}/>;\n      break;\n    default:\n      instrumentType = <Image source={require(`./../assets/images/GrandPiano.png`)} style={styles.icon}/>;\n  }\n\n  return <View style={styles.wrapper} onTouchEnd={expanded ? showModal : () => {}}>\n    {instrumentType}\n    {expanded && <>\n        <Text style={styles.name}>{name}</Text>\n        <Image style={styles.star} source={require('../assets/images/star.png')}/>\n    </>}\n    <Text>{rate.toFixed(1)}</Text>\n    <InstrumentInfo instrument={instrument} hideModal={hideModal} visible={visible}\n                    imageSource={instrumentType}/>\n  </View>\n};\n\nconst styles = StyleSheet.create({\n  wrapper: {\n    flexDirection: 'row',\n    marginTop: 4,\n    marginBottom: 4,\n    marginRight: 2,\n    backgroundColor: 'rgba(0, 0, 0, .05)',\n    paddingTop: 4,\n    paddingBottom: 4,\n    paddingLeft: 4,\n    paddingRight: 8,\n    borderRadius: 4,\n    alignItems: 'center'\n  },\n  icon: {\n    width: 20,\n    height: 20,\n    marginRight: 8,\n    marginLeft: 4,\n    opacity: .6\n  },\n  name: {\n    marginLeft: 4,\n    marginRight: 4\n  },\n  star: {\n    width: 20,\n    height: 20\n  }\n});","import {Mode, OccupiedInfo, OccupiedState, User} from \"../models/models\";\nimport React, {useEffect, useRef, useState} from \"react\";\nimport {useQuery} from \"@apollo/client\";\nimport {GET_ME} from \"../api/operations/queries/me\";\nimport {useLocal} from \"./useLocal\";\nimport {getTimeFromUntil, isNotFree, isPendingForMe} from \"../helpers/helpers\";\n\nconst useTimeLeft = (occupied: OccupiedInfo, minutesDuration: number) => {\n  const [timeLeft, setTimeLeft] = useState('');\n  const [timeLeftInPer, setTimeLeftInPer] = useState(100);\n  const interval = useRef<any>({current: null});\n  const {data: {me}} = useQuery(GET_ME);\n\n  useEffect(() => {\n    if (isNotFree(occupied) && occupied.user.id === me.id  && interval.current !== null) {\n      // @ts-ignore\n      interval.current = setInterval(() => {\n        // @ts-ignore\n        const [left, leftPer] = getTimeFromUntil(occupied.until, minutesDuration);\n        const hour: string = (left as string).split(':')?.[0] + ' . ';\n        const min: string = (left as string).split(':')?.[1] + ' . ';\n        const sec: string = (left as string).split(':')?.[2] + ' . ';\n\n        setTimeLeft(hour + min + sec);\n        setTimeLeftInPer(leftPer as number);\n        if (timeLeftInPer <= 0) clearInterval(interval.current);\n      }, 1000);\n    } else {\n      clearInterval(interval.current);\n      interval.current = null;\n      setTimeLeft('');\n    }\n  }, [occupied.state]);\n\n  return [timeLeft, timeLeftInPer];\n};\n\nexport default useTimeLeft;","export const HOUR = 3600000;\r\nexport const MINUTE = 60000;\r\nexport const TIME_SNIPPETS = [\":00\", \":15\", \":30\", \":45\"];\r\nexport const WORKING_DAY_END = 21;\r\nexport const WORKING_DAY_START = 8;","import React, {useState} from 'react';\nimport {fullName, getTimeHHMM, isNotFree, isOwnClassroom, isPendingForMe} from \"../helpers/helpers\";\nimport {StyleSheet, Text, View} from \"react-native\";\nimport {Banner, Button, Paragraph, ProgressBar, Surface} from \"react-native-paper\";\nimport {ClassroomType, Mode, OccupiedState, User, UserTypeColors, UserTypes, UserTypesUa} from \"../models/models\";\nimport colors from \"../constants/Colors\";\nimport UserInfo from \"./UserInfo\";\nimport {useLocal} from \"../hooks/useLocal\";\nimport useTimeLeft from \"../hooks/useTimeLeft\";\n\ntype PropTypes = {\n  classroom: ClassroomType;\n  user: User;\n}\n\nconst OccupantInfo: React.FC<PropTypes> = ({classroom, user}) => {\n  const {data: {mode}} = useLocal('mode');\n  const userFullName = isNotFree(classroom?.occupied) ? fullName(classroom.occupied?.user) : '';\n  const occupiedTotalTime = classroom.occupied.state === OccupiedState.OCCUPIED ? 180 :\n    classroom.occupied.state === OccupiedState.RESERVED ? 15 : 2;\n  const [timeLeft, timeLeftInPer] = useTimeLeft(classroom?.occupied, occupiedTotalTime);\n  const [visibleBanner, setVisibleBanner] = useState(true);\n  const [visible, setVisible] = useState(false);\n\n  const showModal = () => setVisible(true);\n\n  const hideModal = () => setVisible(false);\n\n  return <>{!isNotFree(classroom.occupied)\n    ? <Text style={styles.freeText}></Text>\n    : !isPendingForMe(classroom.occupied, user, mode) && (\n    <Surface style={[{elevation: visible ? 0 : 4}, styles.occupationInfo]}\n             onTouchEnd={showModal}\n    >\n      <Text style={styles.occupantName}>{userFullName}</Text>\n      <Text style={[{\n        backgroundColor: UserTypeColors[classroom.occupied.user.type as UserTypes]\n      },\n        styles.occupantType\n      ]}\n      >\n        {UserTypesUa[classroom.occupied.user.type as UserTypes]}\n      </Text>\n      {isOwnClassroom(classroom.occupied, user) ? (\n        timeLeftInPer > 0 && <View style={{marginTop: 30}}>\n            <Paragraph>\n                   : {timeLeft}\n            </Paragraph>\n            <ProgressBar progress={timeLeftInPer as number / 100} visible color={colors.red}\n                         style={styles.progressBar}\n            />\n        </View>\n      ) : (\n        <Text style={styles.occupiedUntil}>  {getTimeHHMM(new Date(classroom.occupied.until))}</Text>\n      )}\n      <UserInfo userId={classroom.occupied.user.id} hideModal={hideModal} visible={visible}/>\n    </Surface>\n  )}\n    {classroom.occupied.state === OccupiedState.RESERVED &&\n    classroom.occupied.user.id === user.id && (\n      <>\n        {timeLeftInPer > 0 && <View style={styles.spaceBottom30}>\n            <Banner visible={visibleBanner} actions={[{\n              label: '',\n              onPress: () => setVisibleBanner(false)\n            }]}\n                    style={styles.spaceBottom30}\n            >      .      - 3 .\n            </Banner>\n            <Paragraph>\n                   : {timeLeft}\n            </Paragraph>\n            <ProgressBar progress={timeLeftInPer as number / 100} visible color={colors.red}\n                         style={styles.progressBar}\n            />\n        </View>}\n      </>\n    )}\n    {classroom.occupied.state === OccupiedState.PENDING &&\n    classroom.occupied.user.id === user.id && mode === Mode.INLINE && (\n      <>\n        {timeLeftInPer > 0 && <View style={styles.spaceBottom30}>\n            <Banner visible={visibleBanner} actions={[{\n              label: '',\n              onPress: () => setVisibleBanner(false)\n            }]}\n                    style={styles.spaceBottom30}\n            >\n              {\n                `    ${user.queueInfo.currentSession?.skips} ${user.queueInfo.currentSession?.skips === 2 || user.queueInfo.currentSession?.skips === 3 || user.queueInfo.currentSession?.skips === 4 ? '.' : '.'\n                }         ,    .              ,        .`\n              }\n            </Banner>\n            <Paragraph>\n                    : {timeLeft}\n            </Paragraph>\n            <ProgressBar progress={timeLeftInPer as number / 100} visible color={colors.red}\n                         style={styles.progressBar}\n            />\n        </View>}\n        <View>\n          <Button mode='contained' style={{marginBottom: 8}} color='#f91354'>\n             \n          </Button>\n          <Button mode='contained'> </Button>\n        </View>\n      </>\n    )}\n  </>\n}\n\nconst styles = StyleSheet.create({\n  occupationInfo: {\n    borderRadius: 8,\n    padding: 16\n  },\n  freeText: {\n    textAlign: 'center',\n    fontSize: 20,\n    borderColor: '#ddd',\n    borderWidth: 1,\n    borderStyle: 'solid',\n    alignSelf: 'center',\n    paddingVertical: 8,\n    paddingHorizontal: 32,\n    borderRadius: 32,\n    color: '#bbb'\n  },\n  occupantName: {\n    textAlign: 'center',\n    fontSize: 16,\n  },\n  occupantType: {\n    color: '#fff',\n    textAlign: 'center',\n    alignSelf: 'center',\n    paddingVertical: 2,\n    paddingHorizontal: 4,\n    marginTop: 8,\n    borderRadius: 4,\n  },\n  occupiedUntil: {\n    textAlign: 'center',\n    marginTop: 8\n  },\n  progressBar: {\n    height: 24,\n    borderRadius: 6,\n  },\n  spaceBottom30: {\n    marginBottom: 30,\n    backgroundColor: '#ffffff'\n  }\n});\n\nexport default OccupantInfo;","import {client, meVar, minimalClassroomIdsVar, modeVar} from \"../../api/client\";\nimport {EnqueuedBy, Mode, QueueState, QueueType, User} from \"../../models/models\";\nimport {ADD_USER_TO_QUEUE} from \"../../api/operations/mutations/addUserToQueue\";\n\nconst getInLine = async (minimalClassroomsIds: number[], desirableClassroomIds: number[]) => {\n  const user: User | null = meVar();\n\n  const allClassroomIds = [...(new Set([...minimalClassroomsIds, ...desirableClassroomIds]))];\n\n  const minimalData = allClassroomIds.map(id => ({\n    classroomId: id,\n    type: QueueType.MINIMAL\n  }));\n\n  const desirableData = desirableClassroomIds.map(id => ({\n    classroomId: id,\n    type: QueueType.DESIRED\n  }));\n\n  try {\n    await client.mutate({\n      mutation: ADD_USER_TO_QUEUE, variables: {\n        input: {\n          userId: user.id,\n          data: [...minimalData, ...desirableData],\n          enqueuedBy: EnqueuedBy.SELF\n        }\n      }\n    })\n    modeVar(Mode.INLINE);\n    minimalClassroomIdsVar(allClassroomIds);\n  } catch (e) {\n    alert(JSON.stringify(e));\n  }\n};\n\nexport  default getInLine;","import {gql} from \"@apollo/client\";\n\nexport const REMOVE_USER_FROM_QUEUE = gql`\n    mutation removeUserFromQueue($input: RemoveUserFromQueueInputType!) {\n        removeUserFromQueue(input: $input) {\n           user {\n            id\n            firstName\n            lastName\n            occupiedClassrooms {\n              id\n              state\n              until\n              classroom {\n                id\n              }\n            }\n            }\n            userErrors {\n             message\n             code\n            }\n        }\n    }\n`;","import {QueueSession, QueueType, User, UserQueueState} from \"../../models/models\";\nimport {getItem} from \"../../api/asyncStorage\";\nimport {client, desirableClassroomIdsVar, isMinimalSetupVar, minimalClassroomIdsVar} from \"../../api/client\";\nimport {REMOVE_USER_FROM_QUEUE} from \"../../api/operations/mutations/removeUserFromQueue\";\n\nexport default async function removeFromLine(classroomId?: number, currentSession?: QueueSession) {\n  const user: User | undefined = await getItem('user');\n  if (classroomId) {\n    try {\n      await client.mutate({\n        mutation: REMOVE_USER_FROM_QUEUE,\n        variables: {\n          input: {\n            userId: user.id,\n            deleteWhere: {\n              classroomId: {\n                equals: classroomId\n              },\n              type: {\n                equals: currentSession.state === UserQueueState.IN_QUEUE_MINIMAL\n                  ? QueueType.MINIMAL : QueueType.DESIRED\n              }\n            }\n          }\n        }\n      });\n      minimalClassroomIdsVar([]);\n      desirableClassroomIdsVar([]);\n      isMinimalSetupVar(true);\n    } catch (e) {\n      alert(JSON.stringify(e))\n    }\n  } else {\n    try {\n      await client.mutate({\n        mutation: REMOVE_USER_FROM_QUEUE,\n        variables: {\n          input: {\n            userId: user.id\n          }\n        }\n      });\n      minimalClassroomIdsVar([]);\n      desirableClassroomIdsVar([]);\n      isMinimalSetupVar(true);\n    } catch (e) {\n      alert(JSON.stringify(e))\n    }\n  }\n};","import React, {useState} from 'react';\nimport {useLocal} from \"../hooks/useLocal\";\nimport {Button, Divider} from \"react-native-paper\";\nimport {desirableClassroomIdsVar, minimalClassroomIdsVar} from \"../api/client\";\nimport {StyleSheet} from \"react-native\";\nimport {ClassroomType, Mode, QueueRecord, QueueType, User, UserQueueState} from \"../models/models\";\nimport getInLine from \"../helpers/queue/getInLine\";\nimport WaitDialog from \"./WaitDialog\";\nimport {isEnabledForQueue} from \"../helpers/helpers\";\nimport {useNavigation} from \"@react-navigation/native\";\nimport removeFromLine from \"../helpers/queue/removeFromLine\";\n\ntype PropTypes = {\n  classroom: ClassroomType;\n  currentUser: User;\n}\n\nconst ClassroomQueueControlButtons: React.FC<PropTypes> = ({\n                                                             classroom, currentUser: {\n    queueInfo: {currentSession}, queue, ...currentUser\n  }\n                                                           }) => {\n  const {data: {mode}} = useLocal('mode');\n  const {data: {isMinimalSetup}} = useLocal('isMinimalSetup');\n  const {data: {desirableClassroomIds}} = useLocal('desirableClassroomIds');\n  const {data: {minimalClassroomIds}} = useLocal('minimalClassroomIds');\n  const currentRecord: QueueRecord[] = currentSession?.state === UserQueueState.IN_QUEUE_MINIMAL\n    && queue.filter(queueRecord => queueRecord.classroom.id === classroom.id);\n  const [loading, setLoading] = useState(false);\n  const navigation = useNavigation();\n\n  const handleClassroomForQueue = async () => {\n    if (isMinimalSetup) {\n      const minimalSet = new Set([...minimalClassroomIds]);\n      minimalSet.has(classroom.id) ? minimalSet.delete(classroom.id) : minimalSet.add(classroom.id)\n      minimalClassroomIdsVar([...minimalSet]);\n    } else {\n      const desiredSet = new Set([...desirableClassroomIds]);\n      desiredSet.has(classroom.id) ? desiredSet.delete(classroom.id) : desiredSet.add(classroom.id)\n      desirableClassroomIdsVar([...desiredSet]);\n    }\n    navigation.goBack();\n  };\n\n  const asyncHandleClassroomForQueue = async (exist: boolean) => {\n    setLoading(true);\n    if (currentSession?.state === UserQueueState.IN_QUEUE_MINIMAL) {\n      if (exist) {\n        await removeFromLine(classroom.id, currentSession)\n      } else {\n        await getInLine([classroom.id], []);\n      }\n    } else if (currentSession?.state === UserQueueState.IN_QUEUE_DESIRED_AND_OCCUPYING) {\n      if (exist) {\n        await removeFromLine(classroom.id, currentSession)\n      } else {\n        await getInLine([], [classroom.id]);\n      }\n    }\n    setLoading(false);\n    navigation.goBack();\n  };\n  if (!isEnabledForQueue(classroom, currentUser)) return null;\n  return (\n    <>\n      <WaitDialog visible={loading}/>\n      {mode === Mode.QUEUE_SETUP && (\n        <>\n          <Divider style={styles.divider}/>\n          {isMinimalSetup ? (\n            minimalClassroomIds.includes(classroom.id) ? (\n              <Button mode='contained' style={{marginBottom: 8}}\n                      onPress={handleClassroomForQueue}\n              >\n                   ()\n              </Button>\n            ) : (\n              <Button mode='contained' style={{marginBottom: 8}}\n                      onPress={handleClassroomForQueue}\n              >\n                   ()\n              </Button>\n            )\n          ) : (\n            desirableClassroomIds.includes(classroom.id) ? (\n              <Button mode='contained' style={{marginBottom: 8}}\n                      onPress={handleClassroomForQueue}\n              >\n                   ()\n              </Button>\n            ) : (\n              <Button mode='contained' style={{marginBottom: 8}}\n                      onPress={handleClassroomForQueue}\n              >\n                   ()\n              </Button>\n            )\n          )}\n        </>\n      )}\n      {(currentSession?.state === UserQueueState.IN_QUEUE_MINIMAL\n        || currentSession?.state === UserQueueState.IN_QUEUE_DESIRED_AND_OCCUPYING)\n      && (\n        <>\n          <Divider style={styles.divider}/>\n          {currentRecord.some(({type}) => type === QueueType.MINIMAL) ? (\n            <Button mode='contained' style={{marginBottom: 8}}\n                    onPress={() => asyncHandleClassroomForQueue(true)}\n            >\n                \n            </Button>\n          ) : (\n            <Button mode='contained' style={{marginBottom: 8}}\n                    onPress={() => asyncHandleClassroomForQueue(false)}\n            >\n                \n            </Button>\n          )}\n        </>\n      )}\n    </>\n  );\n}\n\nconst styles = StyleSheet.create(\n  {\n    divider: {\n      marginTop: 16,\n      marginBottom: 16\n    },\n  }\n)\n\nexport default ClassroomQueueControlButtons;","import React, {useEffect, useState} from 'react';\nimport {StyleSheet, Text, View} from \"react-native\";\nimport {\n  ClassroomType,\n  DisabledState,\n  InstrumentType,\n  OccupiedState,\n  QueueState,\n  QueueType,\n  UserQueueState\n} from \"../models/models\";\nimport {ActivityIndicator, Appbar, Button, Chip, Divider, Title} from \"react-native-paper\";\nimport {useNavigation} from \"@react-navigation/native\";\nimport {useQuery} from \"@apollo/client\";\nimport {isEnabledForCurrentDepartment, isOccupiedOrPendingByCurrentUser} from \"../helpers/helpers\";\nimport {useLocal} from \"../hooks/useLocal\";\nimport {client} from \"../api/client\";\nimport {ADD_USER_TO_QUEUE} from \"../api/operations/mutations/addUserToQueue\";\nimport Colors from \"../constants/Colors\";\nimport {GET_CLASSROOM} from \"../api/operations/queries/classroom\";\nimport {GET_USER_BY_ID} from \"../api/operations/queries/users\";\nimport moment from \"moment\";\nimport InstrumentItem from \"./InstrumentItem\";\nimport OccupantInfo from \"./OccupantInfo\";\nimport ClassroomQueueControlButtons from \"./ClassroomQueueControlButtons\";\n\ninterface PropTypes {\n  route: any;\n}\n\nexport default function ClassroomInfo({route: {params: {classroomId, currentUserId}}}: PropTypes) {\n  const navigation = useNavigation();\n  const [classroom, setClassroom] = useState<ClassroomType | null>(null);\n  const {\n    data: userData,\n    loading: userLoading,\n    error: userError,\n  } = useQuery(GET_USER_BY_ID, {\n    variables: {\n      where: {\n        id: currentUserId\n      }\n    }\n  });\n  const {data: {mode}} = useLocal('mode');\n  const {data: {isMinimalSetup}} = useLocal('isMinimalSetup');\n  const {data: {desirableClassroomIds}} = useLocal('desirableClassroomIds');\n  const {data: {minimalClassroomIds}} = useLocal('minimalClassroomIds');\n\n  useEffect(() => {\n    try {\n      client.query({\n        query: GET_CLASSROOM,\n        variables: {\n          where: {\n            id: classroomId\n          }\n        }\n      }).then(({data}: any) => {\n        setClassroom(data.classroom);\n      });\n    } catch (e) {\n      alert(JSON.stringify(e));\n    }\n  }, []);\n\n  const goBack = () => navigation.goBack();\n\n  const getReservedClassroom = () => {\n    //TODO: get FREE classroom with RESERVED state\n    alert('TODO: get FREE classroom with RESERVED state')\n  };\n\n  const addOneClassroomToQueue = async (isMinimal: boolean) => {\n    try {\n      await client.mutate({\n        mutation: ADD_USER_TO_QUEUE,\n        variables: {\n          input: [{\n            userId: currentUserId.id,\n            classroomId: classroomId,\n            state: QueueState.ACTIVE,\n            type: isMinimal ? QueueType.MINIMAL : QueueType.DESIRED\n          }]\n        }\n      });\n    } catch (e) {\n      alert(JSON.stringify(e));\n    }\n  };\n\n  return <View style={styles.container}>\n    <Appbar style={styles.top}>\n      <Appbar.BackAction onPress={goBack}/>\n      {classroom && userData && (\n        <Appbar.Content\n          title={` ${classroom.name}`}\n          subtitle={classroom.chair ? classroom.chair.name : ''}\n        />\n      )}\n    </Appbar>\n    <View style={styles.wrapper}>\n      {(!classroom || !userData) ? <ActivityIndicator animating color='#fff' size={64}/> : (\n        <View>\n          {!isEnabledForCurrentDepartment(classroom, userData.user) && (\n            <View style={styles.warning}>\n              <Title style={styles.warningText}>    </Title>\n            </View>\n          )}\n          {classroom.disabled.state === DisabledState.DISABLED && (\n            <View style={styles.warning}>\n              <Title style={styles.warningText}>   </Title>\n              <Title style={styles.warningText}>{classroom.disabled.comment}</Title>\n              <Title style={styles.warningText}>\n                 {moment(classroom.disabled.until).format('DD-MM-YYYY HH:mm')}\n              </Title>\n            </View>\n          )}\n          {classroom.isHidden && (\n            <View style={styles.warning}>\n              <Title style={styles.warningText}> </Title>\n            </View>\n          )}\n          <View style={styles.tags}>\n            {classroom.isWing && <Chip selected selectedColor='#00f' mode='outlined'\n                                       style={styles.tag}></Chip>}\n            {classroom.isOperaStudio && <Chip selected selectedColor='#00f' mode='outlined'\n                                              style={styles.tag}> </Chip>}\n            {classroom.special && <Chip selected selectedColor='#00f' mode='outlined'\n                                        style={styles.tag}></Chip>}\n          </View>\n          <Divider style={styles.divider}/>\n          <View>\n            <Text style={{textAlign: 'center'}}>{classroom.description}</Text>\n          </View>\n          <Divider style={styles.divider}/>\n          <View>\n            <Text style={{textAlign: 'center'}}>: {classroom.floor}</Text>\n          </View>\n          <Divider style={styles.divider}/>\n          <View>\n            {!!classroom.instruments.length && (\n              <>\n                {classroom.instruments?.map((instrument: InstrumentType) => (\n                  <InstrumentItem key={instrument.id} instrument={instrument} expanded/>\n                ))}\n                <Divider style={styles.divider}/>\n              </>\n            )}\n          </View>\n          <OccupantInfo classroom={classroom} user={userData.user}/>\n          {classroom.occupied.state !== OccupiedState.FREE\n          && !isOccupiedOrPendingByCurrentUser(classroom.occupied, userData.user)\n          && <ClassroomQueueControlButtons classroom={classroom} currentUser={userData.user}/>\n          }\n          {classroom.disabled.state !== DisabledState.DISABLED\n          && classroom.occupied.state === OccupiedState.FREE\n          && userData.user.queueInfo.currentSession?.state !== UserQueueState.OCCUPYING\n          && userData.user.queueInfo.currentSession?.state !== UserQueueState.IN_QUEUE_DESIRED_AND_OCCUPYING\n          && (\n            <>\n              <Divider style={styles.divider}/>\n              <Button mode='contained' onPress={getReservedClassroom}>\n                 \n              </Button>\n            </>\n          )}\n        </View>\n      )}\n    </View>\n  </View>\n};\n\nconst styles = StyleSheet.create({\n  top: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    paddingTop: 26,\n    height: 80,\n    backgroundColor: '#2e287c',\n  },\n  container: {\n    backgroundColor: '#ffffff',\n    height: '100%'\n  },\n  wrapper: {\n    marginTop: 100,\n    paddingLeft: 16,\n    paddingRight: 16,\n    backgroundColor: '#fff',\n    height: '100%'\n  },\n  warning: {\n    backgroundColor: '#f9135411',\n    borderColor: Colors.red,\n    borderWidth: 2,\n    borderRadius: 8,\n    padding: 16,\n    marginBottom: 16\n  },\n  warningText: {\n    fontWeight: \"bold\",\n    color: Colors.red,\n    textAlign: \"center\"\n  },\n  divider: {\n    marginTop: 16,\n    marginBottom: 16\n  },\n  department: {\n    fontSize: 20,\n    marginBottom: 16,\n    textAlign: 'center'\n  },\n  tags: {\n    flexDirection: 'row',\n    justifyContent: 'center'\n  },\n  tag: {\n    marginRight: 8\n  },\n  description: {\n    fontSize: 16,\n  },\n  scheduleHeader: {\n    textAlign: 'center',\n    marginBottom: 16,\n  },\n  occupationInfo: {\n    borderRadius: 8,\n    padding: 16\n  },\n  freeText: {\n    textAlign: 'center',\n    fontSize: 20,\n    borderColor: '#ddd',\n    borderWidth: 1,\n    borderStyle: 'solid',\n    alignSelf: 'center',\n    paddingVertical: 8,\n    paddingHorizontal: 32,\n    borderRadius: 32,\n    color: '#bbb'\n  },\n  occupantName: {\n    textAlign: 'center',\n    fontSize: 16,\n  },\n  occupantType: {\n    color: '#fff',\n    textAlign: 'center',\n    alignSelf: 'center',\n    paddingVertical: 2,\n    paddingHorizontal: 4,\n    marginTop: 8,\n    borderRadius: 4,\n  },\n  occupiedUntil: {\n    textAlign: 'center',\n    marginTop: 8\n  },\n  queueSetupButtons: {\n    marginTop: 32,\n    backgroundColor: '#ffffff'\n  },\n  progressBar: {\n    height: 24,\n    borderRadius: 6,\n  },\n  spaceBottom30: {\n    marginBottom: 30,\n    backgroundColor: '#ffffff'\n  }\n});","import {ClassroomType} from \"../models/models\";\n\nexport default function sortAB(a: ClassroomType, b: ClassroomType) {\n  return parseInt(a.name) - parseInt(b.name);\n}","import React from \"react\";\nimport {Dimensions, Image, StyleSheet, Text, TouchableHighlight, View} from \"react-native\";\nimport {ClassroomType, DisabledState} from \"../../models/models\";\nimport Colors from \"../../constants/Colors\";\nimport {Button, Surface} from \"react-native-paper\";\nimport InstrumentItem from \"../InstrumentItem\";\nimport {useNavigation} from \"@react-navigation/native\";\nimport {useLocal} from \"../../hooks/useLocal\";\n\nconst windowWidth = Dimensions.get('window').width;\nconst cellWidth = ((windowWidth - 10) / 3);\n\ntype PropTypes = {\n  classroom: ClassroomType;\n  isEnabledForCurrentUser: boolean;\n}\n\nconst FreeClassroomCell: React.FC<PropTypes> = ({classroom, isEnabledForCurrentUser}) => {\n  const navigation = useNavigation();\n  const special = !!classroom.special;\n  const {instruments, disabled} = classroom;\n  const isDisabled = disabled.state === DisabledState.DISABLED || !isEnabledForCurrentUser;\n\n  const handlePress = () => {\n    navigation.navigate('ClassroomInfo', {classroomId: classroom.id});\n  };\n\n  return (\n    <TouchableHighlight onPress={handlePress}>\n      <Surface style={[styles.cell, isDisabled ? styles.disabled : styles.free]}>\n        <View style={styles.cellHeader}>\n          <Text style={styles.name}>{classroom.name}</Text>\n          <Image source={require('./../../assets/images/specialPiano.png')}\n                 style={[special ? styles.special : styles.notSpecial]}/>\n        </View>\n        <Text style={styles.occupationInfo} numberOfLines={1}>\n          {isDisabled ? !isEnabledForCurrentUser ? '  ' : disabled?.comment : ''}\n        </Text>\n        <View style={styles.instruments}>\n          {instruments?.length\n            ? instruments\n              .slice()\n              .sort((a, b) => b.rate - a.rate).slice(0, 2)\n              .map(instrument => <InstrumentItem instrument={instrument} key={instrument.id}/>)\n            : <View style={styles.space}/>}\n        </View>\n      </Surface>\n    </TouchableHighlight>\n  )\n}\n\nexport default FreeClassroomCell;\n\nconst styles = StyleSheet.create({\n  cell: {\n    width: cellWidth,\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: 100,\n    margin: 1,\n    elevation: 2,\n    borderRadius: 4,\n    position: 'relative',\n    overflow: 'hidden',\n  },\n  occupationInfo: {\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center',\n    backgroundColor: '#00000011'\n  },\n  free: {\n    backgroundColor: '#4bfd63'\n  },\n  disabled: {\n    backgroundColor: '#ccc',\n  },\n  cellHeader: {\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: cellWidth,\n    paddingLeft: 16,\n    paddingRight: 16,\n    flexDirection: 'row',\n  },\n  name: {\n    fontSize: 35,\n    fontWeight: 'bold',\n  },\n  special: {\n    width: 20,\n    height: 20,\n    opacity: 1\n  },\n  notSpecial: {\n    width: 20,\n    height: 20,\n    opacity: 0\n  },\n  instruments: {\n    flexDirection: 'row'\n  },\n  space: {\n    height: 20,\n    margin: 8,\n  },\n  checkMark: {\n    position: 'absolute',\n    zIndex: 2,\n    backgroundColor: '#00000088'\n  },\n  timeLeftProgress: {\n    left: 0,\n    position: 'absolute',\n    zIndex: 1000,\n    backgroundColor: '#00000033',\n    height: 100,\n    width: cellWidth,\n  },\n  timeLeft: {\n    fontSize: 12,\n    backgroundColor: '#f91354',\n    color: '#fff',\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center'\n  },\n  keyImage: {\n    position: \"absolute\",\n    top: 8,\n    right: 8,\n    width: 30,\n    height: 30,\n    resizeMode: \"stretch\",\n    tintColor: Colors.red\n  }\n});","import React, {CSSProperties} from \"react\";\nimport {Dimensions, Image, StyleSheet, Text, TouchableHighlight, View} from \"react-native\";\nimport {ClassroomType, DisabledState, Mode} from \"../../models/models\";\nimport Colors from \"../../constants/Colors\";\nimport {IconButton, Surface} from \"react-native-paper\";\nimport InstrumentItem from \"../InstrumentItem\";\nimport {fullName, isNotFree, typeStyle} from \"../../helpers/helpers\";\nimport {useNavigation} from \"@react-navigation/native\";\nimport {useLocal} from \"../../hooks/useLocal\";\nimport {desirableClassroomIdsVar, minimalClassroomIdsVar} from \"../../api/client\";\nimport useTimeLeft from \"../../hooks/useTimeLeft\";\n\nconst windowWidth = Dimensions.get('window').width;\nconst cellWidth = ((windowWidth - 10) / 3);\n\ntype PropTypes = {\n  classroom: ClassroomType;\n  isEnabledForCurrentUser: boolean;\n}\n\nconst OccupiedClassroomCell: React.FC<PropTypes> = ({classroom, isEnabledForCurrentUser}) => {\n  const navigation = useNavigation();\n  const {data: {mode}} = useLocal('mode');\n  const {data: {isMinimalSetup}} = useLocal('isMinimalSetup');\n  const {data: {minimalClassroomIds}} = useLocal('minimalClassroomIds');\n  const {data: {desirableClassroomIds}} = useLocal('desirableClassroomIds');\n\n  const special = !!classroom.special;\n  const {instruments, occupied, disabled, isHidden} = classroom;\n  const isDisabled = disabled.state === DisabledState.DISABLED || !isEnabledForCurrentUser;\n  const userFullName = fullName(occupied.user, true);\n\n  const handleCheck = () => {\n    if (isMinimalSetup) {\n      const minimalSet = new Set([...minimalClassroomIds]);\n      minimalSet.has(classroom.id) ? minimalSet.delete(classroom.id) : minimalSet.add(classroom.id)\n      minimalClassroomIdsVar([...minimalSet]);\n    } else {\n      const desiredSet = new Set([...desirableClassroomIds]);\n      desiredSet.has(classroom.id) ? desiredSet.delete(classroom.id) : desiredSet.add(classroom.id)\n      desirableClassroomIdsVar([...desiredSet]);\n    }\n  };\n\n  const handlePress = () => {\n    if (mode === Mode.QUEUE_SETUP) {\n      handleCheck();\n    } else {\n      navigation.navigate('ClassroomInfo', {classroomId: classroom.id});\n    }\n  };\n\n  const handleLongPress = () => {\n    navigation.navigate('ClassroomInfo', {classroomId: classroom.id});\n  };\n\n  const isChecked = () => {\n    if (isMinimalSetup) {\n      return minimalClassroomIds.includes(classroom.id) && mode === Mode.QUEUE_SETUP;\n    } else {\n      return desirableClassroomIds.includes(classroom.id) && mode === Mode.QUEUE_SETUP;\n    }\n  };\n\n  const cellStyle = StyleSheet.create({\n    cell: {\n      width: cellWidth,\n      justifyContent: 'center',\n      alignItems: 'center',\n      height: 100,\n      margin: 1,\n      elevation: 2,\n      borderRadius: 4,\n      position: 'relative',\n      overflow: 'hidden',\n      opacity: isHidden ? .5 : 1,\n      backgroundColor: isDisabled ? '#ccc' : '#fff'\n    }\n  });\n\n  return (\n    <TouchableHighlight onPress={handlePress} onLongPress={handleLongPress}>\n      <Surface style={cellStyle.cell}>\n        {isChecked() && (\n          <IconButton icon='check-bold' style={styles.checkMark} color='#0f0'/>\n        )}\n        <View style={styles.cellHeader}>\n          <Text style={styles.name}>{classroom.name}</Text>\n          <Image source={require('./../../assets/images/specialPiano.png')}\n                 style={[special ? styles.special : styles.notSpecial]}/>\n        </View>\n        <Text style={[styles.occupationInfo, typeStyle(occupied, isDisabled)]} numberOfLines={1}>\n          {isDisabled ? !isEnabledForCurrentUser ? '  ' : disabled?.comment : userFullName}\n        </Text>\n        <View style={styles.instruments}>\n          {instruments?.length\n            ? instruments\n              .slice()\n              .sort((a, b) => b.rate - a.rate).slice(0, 2)\n              .map(instrument => <InstrumentItem instrument={instrument} key={instrument.id}/>)\n            : <View style={styles.space}/>}\n        </View>\n      </Surface>\n    </TouchableHighlight>\n  )\n}\n\nexport default OccupiedClassroomCell;\n\nconst styles = StyleSheet.create({\n  occupationInfo: {\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center'\n  },\n  cellHeader: {\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: cellWidth,\n    paddingLeft: 16,\n    paddingRight: 16,\n    flexDirection: 'row',\n  },\n  name: {\n    fontSize: 35,\n    fontWeight: 'bold',\n  },\n  special: {\n    width: 20,\n    height: 20,\n    opacity: 1\n  },\n  notSpecial: {\n    width: 20,\n    height: 20,\n    opacity: 0\n  },\n  instruments: {\n    flexDirection: 'row'\n  },\n  space: {\n    height: 20,\n    margin: 8,\n  },\n  checkMark: {\n    position: 'absolute',\n    zIndex: 2,\n    backgroundColor: '#00000088'\n  },\n  timeLeftProgress: {\n    left: 0,\n    position: 'absolute',\n    zIndex: 1000,\n    backgroundColor: '#00000033',\n    height: 100,\n    width: cellWidth,\n  },\n  timeLeft: {\n    fontSize: 12,\n    backgroundColor: '#f91354',\n    color: '#fff',\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center'\n  },\n  keyImage: {\n    position: \"absolute\",\n    top: 8,\n    right: 8,\n    width: 30,\n    height: 30,\n    resizeMode: \"stretch\",\n    tintColor: Colors.red\n  }\n});","import React from \"react\";\nimport {Dimensions, Image, StyleSheet, Text, TouchableHighlight, View} from \"react-native\";\nimport {ClassroomType, DisabledState} from \"../../models/models\";\nimport Colors from \"../../constants/Colors\";\nimport {Surface} from \"react-native-paper\";\nimport InstrumentItem from \"../InstrumentItem\";\nimport useTimeLeft from \"../../hooks/useTimeLeft\";\nimport {useNavigation} from \"@react-navigation/native\";\n\nconst windowWidth = Dimensions.get('window').width;\nconst cellWidth = ((windowWidth - 10) / 3);\n\ntype PropTypes = {\n  classroom: ClassroomType;\n}\n\nconst ReservedClassroomCell: React.FC<PropTypes> = ({classroom}) => {\n  const navigation = useNavigation();\n  const special = !!classroom.special;\n  const {instruments, occupied, disabled} = classroom;\n  const isDisabled = disabled.state === DisabledState.DISABLED;\n  const [timeLeft, timeLeftInPer] = useTimeLeft(occupied, 15);\n\n  const handlePress = () => {\n    navigation.navigate('ClassroomInfo', {classroomId: classroom.id});\n  };\n\n  const ProgressBackground = () => (\n    <View\n      style={{\n        ...styles.timeLeftProgress,\n        width: (cellWidth / 100) * (timeLeftInPer as number)\n      }}\n    />\n  );\n\n  return (\n    <TouchableHighlight onPress={handlePress}>\n      <Surface style={[styles.cell, isDisabled ? styles.disabled : styles.occupied]}>\n        <Image source={require('../../assets/images/key.png')} style={styles.keyImage}/>\n        <ProgressBackground/>\n        <View style={styles.cellHeader}>\n          <Text style={styles.name}>{classroom.name}</Text>\n          <Image source={require('./../../assets/images/specialPiano.png')}\n                 style={[special ? styles.special : styles.notSpecial]}/>\n        </View>\n        <Text style={styles.timeLeft} numberOfLines={1}>\n          {timeLeft}\n        </Text>\n        <View style={styles.instruments}>\n          {instruments?.length\n            ? instruments\n              .slice()\n              .sort((a, b) => b.rate - a.rate).slice(0, 2)\n              .map(instrument => <InstrumentItem instrument={instrument} key={instrument.id}/>)\n            : <View style={styles.space}/>}\n        </View>\n      </Surface>\n    </TouchableHighlight>\n  )\n}\n\nexport default ReservedClassroomCell;\n\nconst styles = StyleSheet.create({\n  cell: {\n    width: cellWidth,\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: 100,\n    margin: 1,\n    elevation: 2,\n    borderRadius: 4,\n    position: 'relative',\n    overflow: 'hidden',\n  },\n  occupied: {},\n  disabled: {\n    backgroundColor: '#ccc',\n  },\n  occupationInfo: {\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center'\n  },\n  cellHeader: {\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: cellWidth,\n    paddingLeft: 16,\n    paddingRight: 16,\n    flexDirection: 'row',\n  },\n  name: {\n    fontSize: 35,\n    fontWeight: 'bold',\n  },\n  special: {\n    width: 20,\n    height: 20,\n    opacity: 1\n  },\n  notSpecial: {\n    width: 20,\n    height: 20,\n    opacity: 0\n  },\n  instruments: {\n    flexDirection: 'row'\n  },\n  space: {\n    height: 20,\n    margin: 8,\n  },\n  checkMark: {\n    position: 'absolute',\n    zIndex: 2,\n    backgroundColor: '#00000088'\n  },\n  timeLeftProgress: {\n    left: 0,\n    position: 'absolute',\n    zIndex: 1000,\n    backgroundColor: '#00000033',\n    height: 100,\n    width: cellWidth,\n  },\n  timeLeft: {\n    fontSize: 12,\n    backgroundColor: '#f91354',\n    color: '#fff',\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center'\n  },\n  keyImage: {\n    position: \"absolute\",\n    zIndex: 2,\n    top: 8,\n    right: cellWidth / 2 - 15,\n    width: 30,\n    height: 30,\n    resizeMode: \"stretch\",\n    tintColor: Colors.red\n  }\n});","import React from \"react\";\nimport {Dimensions, Image, StyleSheet, Text, TouchableHighlight, View} from \"react-native\";\nimport {ClassroomType, DisabledState} from \"../../models/models\";\nimport Colors from \"../../constants/Colors\";\nimport {Surface} from \"react-native-paper\";\nimport InstrumentItem from \"../InstrumentItem\";\nimport useTimeLeft from \"../../hooks/useTimeLeft\";\nimport {useNavigation} from \"@react-navigation/native\";\n\nconst windowWidth = Dimensions.get('window').width;\nconst cellWidth = ((windowWidth - 10) / 3);\n\ntype PropTypes = {\n  classroom: ClassroomType;\n}\n\nconst PendingClassroomCell: React.FC<PropTypes> = ({classroom}) => {\n  const navigation = useNavigation();\n  const special = !!classroom.special;\n  const {instruments, occupied, disabled} = classroom;\n  const isDisabled = disabled.state === DisabledState.DISABLED;\n  const [timeLeft, timeLeftInPer] = useTimeLeft(occupied, 2);\n\n  const handlePress = () => {\n    navigation.navigate('ClassroomInfo', {classroomId: classroom.id});\n  };\n\n  const ProgressBackground = () => (\n    <View\n      style={{\n        ...styles.timeLeftProgress,\n        width: (cellWidth / 100) * (timeLeftInPer as number)\n      }}\n    />\n  );\n\n  return (\n    <TouchableHighlight onPress={handlePress}>\n      <Surface style={[styles.cell, isDisabled ? styles.disabled : styles.occupied]}>\n        <ProgressBackground/>\n        <View style={styles.cellHeader}>\n          <Text style={styles.name}>{classroom.name}</Text>\n          <Image source={require('./../../assets/images/specialPiano.png')}\n                 style={[special ? styles.special : styles.notSpecial]}/>\n        </View>\n        <Text style={styles.timeLeft} numberOfLines={1}>\n          {timeLeft}\n        </Text>\n        <View style={styles.instruments}>\n          {instruments?.length\n            ? instruments\n              .slice()\n              .sort((a, b) => b.rate - a.rate).slice(0, 2)\n              .map(instrument => <InstrumentItem instrument={instrument} key={instrument.id}/>)\n            : <View style={styles.space}/>}\n        </View>\n      </Surface>\n    </TouchableHighlight>\n  )\n}\n\nexport default PendingClassroomCell;\n\nconst styles = StyleSheet.create({\n  cell: {\n    width: cellWidth,\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: 100,\n    margin: 1,\n    elevation: 2,\n    borderRadius: 4,\n    position: 'relative',\n    overflow: 'hidden',\n  },\n  occupied: {},\n  disabled: {\n    backgroundColor: '#ccc',\n  },\n  occupationInfo: {\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center'\n  },\n  cellHeader: {\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: cellWidth,\n    paddingLeft: 16,\n    paddingRight: 16,\n    flexDirection: 'row',\n  },\n  name: {\n    fontSize: 35,\n    fontWeight: 'bold',\n  },\n  special: {\n    width: 20,\n    height: 20,\n    opacity: 1\n  },\n  notSpecial: {\n    width: 20,\n    height: 20,\n    opacity: 0\n  },\n  instruments: {\n    flexDirection: 'row'\n  },\n  space: {\n    height: 20,\n    margin: 8,\n  },\n  checkMark: {\n    position: 'absolute',\n    zIndex: 2,\n    backgroundColor: '#00000088'\n  },\n  timeLeftProgress: {\n    left: 0,\n    position: 'absolute',\n    zIndex: 1000,\n    backgroundColor: '#00000033',\n    height: 100,\n    width: cellWidth,\n  },\n  timeLeft: {\n    fontSize: 12,\n    backgroundColor: '#f91354',\n    color: '#fff',\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center'\n  },\n  keyImage: {\n    position: \"absolute\",\n    top: 8,\n    right: 8,\n    width: 30,\n    height: 30,\n    resizeMode: \"stretch\",\n    tintColor: Colors.red\n  }\n});","import React, {CSSProperties} from \"react\";\nimport {Dimensions, Image, StyleSheet, Text, TouchableHighlight, View} from \"react-native\";\nimport {ClassroomType, DisabledState, Mode} from \"../../models/models\";\nimport Colors from \"../../constants/Colors\";\nimport {IconButton, Surface} from \"react-native-paper\";\nimport InstrumentItem from \"../InstrumentItem\";\nimport {fullName, isNotFree, typeStyle} from \"../../helpers/helpers\";\nimport {useNavigation} from \"@react-navigation/native\";\nimport {useLocal} from \"../../hooks/useLocal\";\nimport {minimalClassroomIdsVar} from \"../../api/client\";\nimport useTimeLeft from \"../../hooks/useTimeLeft\";\n\nconst windowWidth = Dimensions.get('window').width;\nconst cellWidth = ((windowWidth - 10) / 3);\n\ntype PropTypes = {\n  classroom: ClassroomType;\n}\n\nconst OccupiedClassroomCell: React.FC<PropTypes> = ({classroom}) => {\n  const navigation = useNavigation();\n  const {data: {mode}} = useLocal('mode');\n  const {data: {isMinimalSetup}} = useLocal('isMinimalSetup');\n  const {data: {minimalClassroomIds}} = useLocal('minimalClassroomIds');\n  const {data: {desirableClassroomIds}} = useLocal('desirableClassroomIds');\n\n  const special = !!classroom.special;\n  const {instruments, occupied, disabled, isHidden} = classroom;\n  const isDisabled = disabled.state === DisabledState.DISABLED;\n  const [timeLeft, timeLeftInPer] = useTimeLeft(occupied, 180);\n\n  const ProgressBackground = () => (\n    <View\n      style={{\n        ...styles.timeLeftProgress,\n        width: (cellWidth / 100) * (timeLeftInPer as number)\n      }}\n    />\n  );\n\n  const handlePress = () => {\n      navigation.navigate('ClassroomInfo', {classroomId: classroom.id});\n  };\n\n  const cellStyle = StyleSheet.create({\n    cell: {\n      width: cellWidth,\n      justifyContent: 'center',\n      alignItems: 'center',\n      height: 100,\n      margin: 1,\n      elevation: 2,\n      borderRadius: 4,\n      position: 'relative',\n      overflow: 'hidden',\n      opacity: isHidden ? .5 : 1,\n      backgroundColor: isDisabled ? '#ccc' : '#fff'\n    }\n  });\n\n  return (\n    <TouchableHighlight onPress={handlePress}>\n      <Surface style={cellStyle.cell}>\n        <ProgressBackground/>\n        <View style={styles.cellHeader}>\n          <Text style={styles.name}>{classroom.name}</Text>\n          <Image source={require('./../../assets/images/specialPiano.png')}\n                 style={[special ? styles.special : styles.notSpecial]}/>\n        </View>\n        <Text style={styles.timeLeft} numberOfLines={1}>\n          {timeLeft}\n        </Text>\n        <View style={styles.instruments}>\n          {instruments?.length\n            ? instruments\n              .slice()\n              .sort((a, b) => b.rate - a.rate).slice(0, 2)\n              .map(instrument => <InstrumentItem instrument={instrument} key={instrument.id}/>)\n            : <View style={styles.space}/>}\n        </View>\n      </Surface>\n    </TouchableHighlight>\n  )\n}\n\nexport default OccupiedClassroomCell;\n\nconst styles = StyleSheet.create({\n  occupationInfo: {\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center'\n  },\n  cellHeader: {\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: cellWidth,\n    paddingLeft: 16,\n    paddingRight: 16,\n    flexDirection: 'row',\n  },\n  name: {\n    fontSize: 35,\n    fontWeight: 'bold',\n  },\n  special: {\n    width: 20,\n    height: 20,\n    opacity: 1\n  },\n  notSpecial: {\n    width: 20,\n    height: 20,\n    opacity: 0\n  },\n  instruments: {\n    flexDirection: 'row'\n  },\n  space: {\n    height: 20,\n    margin: 8,\n  },\n  checkMark: {\n    position: 'absolute',\n    zIndex: 2,\n    backgroundColor: '#00000088'\n  },\n  timeLeftProgress: {\n    left: 0,\n    position: 'absolute',\n    zIndex: 1000,\n    backgroundColor: '#00000033',\n    height: 100,\n    width: cellWidth,\n  },\n  timeLeft: {\n    fontSize: 12,\n    backgroundColor: '#f91354',\n    color: '#fff',\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center'\n  },\n  keyImage: {\n    position: \"absolute\",\n    top: 8,\n    right: 8,\n    width: 30,\n    height: 30,\n    resizeMode: \"stretch\",\n    tintColor: Colors.red\n  }\n});","import React from 'react';\nimport {StyleSheet, Text, View} from \"react-native\";\nimport {ClassroomType, OccupiedState, User} from \"../../models/models\";\nimport sortAB from \"../../helpers/sortAB\";\nimport FreeClassroomCell from \"./FreeClassroomCell\";\nimport OccupiedClassroomCell from \"./OccupiedClassroomCell\";\nimport ReservedClassroomCell from \"./ReservedClassroomCell\";\nimport PendingClassroomCell from \"./PendingClassroomCell\";\nimport {isEnabledForCurrentDepartment} from \"../../helpers/helpers\";\nimport OccupiedByCurrentUserClassroomCell from \"./OccupiedByCurrentUserClassroomCell\";\n\ntype PropTypes = {\n  classrooms: ClassroomType[];\n  currentUser: User;\n  title?: string;\n}\n\nconst ClassroomsBrowser: React.FC<PropTypes> = ({\n                                                  classrooms, title,\n                                                  currentUser\n                                                }) => {\n  if (!classrooms.length) return null;\n  return (\n    <>\n      {title && <Text style={styles.gridDivider}>\n        {title}\n      </Text>}\n      <View style={styles.grid}>\n        {classrooms.slice().sort(sortAB).map(classroom => {\n          const {occupied: {state, user}, id} = classroom;\n          const isEnabledForCurrentUser = isEnabledForCurrentDepartment(classroom, currentUser);\n\n          const isFree = state === OccupiedState.FREE;\n          const isOccupiedByCurrentUser = state === OccupiedState.OCCUPIED && user.id === currentUser.id;\n          const isOccupied = state === OccupiedState.OCCUPIED || OccupiedState.PENDING || OccupiedState.RESERVED;\n          const isPending = state === OccupiedState.PENDING && user.id === currentUser.id;\n          const isReserved = state === OccupiedState.RESERVED && user.id === currentUser.id;\n\n          if (isFree) return <FreeClassroomCell key={id} classroom={classroom}\n                                                isEnabledForCurrentUser={isEnabledForCurrentUser}\n          />\n          if (isReserved) return <ReservedClassroomCell key={id} classroom={classroom}/>\n          if (isPending) return <PendingClassroomCell key={id} classroom={classroom}/>\n          if (isOccupiedByCurrentUser) return <OccupiedByCurrentUserClassroomCell key={id} classroom={classroom}/>\n          if (isOccupied) return <OccupiedClassroomCell key={id} classroom={classroom}\n                                                        isEnabledForCurrentUser={isEnabledForCurrentUser}\n          />\n        })}\n      </View>\n    </>\n  );\n}\n\nconst styles = StyleSheet.create(\n  {\n    top: {\n      position: 'absolute',\n      left: 0,\n      right: 0,\n      top: 0,\n      paddingTop: 26,\n      height: 80,\n      backgroundColor: 'transparent',\n      zIndex: 1\n    },\n    grid: {\n      marginBottom: 8,\n      marginLeft: 2,\n      flexDirection: 'row',\n      flexWrap: 'wrap',\n      justifyContent: 'flex-start'\n    },\n    getInLine: {\n      position: 'absolute',\n      zIndex: 1,\n      bottom: 15,\n      width: '55%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    getOutLine: {\n      position: 'absolute',\n      zIndex: 1,\n      bottom: 15,\n      left: 20,\n      width: '43%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    getOutLineSingle: {\n      position: 'absolute',\n      zIndex: 1,\n      bottom: 15,\n      width: '55%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    approve: {\n      position: 'absolute',\n      zIndex: 1,\n      right: 20,\n      bottom: 15,\n      width: '43%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    wrapper: {\n      width: '100%',\n      height: '100%',\n      alignItems: 'center',\n      justifyContent: 'center',\n      backgroundColor: 'transparent',\n      paddingTop: 80,\n    },\n    queueSwitcher: {\n      flexDirection: 'row',\n      width: '76%',\n      justifyContent: 'center',\n      paddingHorizontal: 5,\n      marginHorizontal: 20,\n      alignItems: 'center',\n    },\n    gridDivider: {\n      color: '#fff',\n      marginBottom: 10,\n      marginLeft: 3,\n      marginRight: 3,\n      paddingLeft: 17,\n      borderBottomWidth: 1,\n      borderBottomColor: '#ffffff77',\n      paddingBottom: 10\n    }\n  }\n);\n\nexport default ClassroomsBrowser;","import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_CLASSROOMS = gql`\r\n  query getClassrooms($where: ClassroomWhereInput) {\r\n    classrooms(where: $where) {\r\n      id\r\n      description\r\n      name\r\n      floor\r\n      special\r\n      isHidden\r\n      chair {\r\n          name\r\n      }\r\n      isWing\r\n      isOperaStudio\r\n      occupied {\r\n        user {\r\n          id\r\n          firstName\r\n          patronymic\r\n          lastName\r\n          type\r\n          nameTemp\r\n          email\r\n          phoneNumber\r\n        }\r\n        until\r\n        state\r\n      }\r\n      instruments {\r\n        name\r\n        type\r\n        rate\r\n      }\r\n      disabled {\r\n        comment\r\n        until\r\n        state\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_CLASSROOMS_NO_SCHEDULE = gql`\r\n  query getClassroomsNoSchedule {\r\n    classrooms {\r\n      id\r\n      name\r\n      special\r\n      isHidden\r\n      chair {\r\n          id\r\n          name\r\n          exclusivelyQueueAllowedDepartmentsInfo {\r\n            department {\r\n              id\r\n              name\r\n            }\r\n          }\r\n      }\r\n      isWing\r\n      isOperaStudio\r\n      occupied {\r\n        user {\r\n          id\r\n          firstName\r\n          patronymic\r\n          lastName\r\n          type\r\n          nameTemp\r\n        }\r\n        until\r\n        state\r\n      }\r\n      instruments {\r\n        id\r\n        name\r\n        type\r\n        rate\r\n      }\r\n      disabled {\r\n        id\r\n        comment\r\n        until\r\n        state\r\n      }\r\n    }\r\n  }\r\n`;","import {gql} from \"@apollo/client/core\";\n\nexport const FOLLOW_CLASSROOMS = gql`\n  subscription {\n  classroomUpdate {\n  classroom {\n        id\n        occupied {\n          user {\n            id\n            firstName\n            lastName\n            patronymic\n            type\n          }\n          until\n          state\n        }\n        disabled {\n        comment\n        state\n        until\n      }\n      }\n    }\n  }\n`;","import {gql} from \"@apollo/client/core\";\n\nexport const FOLLOW_USER = gql`\n subscription userUpdate($userId: Int!) {\n    userUpdate(userId: $userId) {\n    user {\n      id\n      occupiedClassrooms {\n        id\n        state\n        classroom {\n          id\n          name\n        }\n      }\n      queue {\n        id\n        state\n        type\n        classroom {\n          id\n        }\n      }\n      queueInfo {\n        id\n        sanctionedUntil\n        currentSession {\n          id\n          state\n          skips\n        }\n      }\n    }\n  }\n}\n`;","import {ClassroomType, DisabledState, OccupiedState, User} from \"../models/models\";\nimport {isEnabledForCurrentDepartment} from \"./helpers\";\n\nexport const filterDisabledForQueue = (classroom: ClassroomType, currentUser: User) => {\n  return (\n    classroom.occupied.state !== OccupiedState.FREE &&\n    classroom.disabled.state === DisabledState.NOT_DISABLED &&\n    !classroom.isHidden &&\n    isEnabledForCurrentDepartment(classroom, currentUser)\n  );\n};","import {desirableClassroomIdsVar, minimalClassroomIdsVar} from \"../api/client\";\nimport {ClassroomType, SavedFilterT, User} from \"../models/models\";\nimport {filterDisabledForQueue} from \"./filterDisabledForQueue\";\n\nexport const filterSavedFilter = (savedFilter: SavedFilterT, classrooms: ClassroomType[], currentUser: User) => {\n  const enabledClassrooms = (classroom: ClassroomType, isMinimal: boolean) => {\n    return savedFilter[isMinimal ? 'minimalClassroomIds': 'desirableClassroomIds'].includes(classroom.id)\n      && filterDisabledForQueue(classroom, currentUser)\n  };\n\n  const minimalIds = classrooms\n    .filter((classroom) => enabledClassrooms(classroom, true))\n    .map(({id}) => id);\n\n  const desireIds = classrooms\n    .filter((classroom) => enabledClassrooms(classroom, false))\n    .map(({id}) => id);\n\n  minimalClassroomIdsVar(minimalIds);\n  desirableClassroomIdsVar(desireIds);\n};","import {StyleSheet} from \"react-native\";\nimport {Button, Dialog, Paragraph, Portal} from \"react-native-paper\";\nimport {InstrumentType, Mode} from \"../models/models\";\nimport React, {useState} from \"react\";\nimport {modeVar} from \"../api/client\";\nimport removeFromLine from \"../helpers/queue/removeFromLine\";\nimport WaitDialog from \"./WaitDialog\";\n\ninterface PropTypes {\n  hideDialog: () => void;\n  visible: boolean;\n}\n\nexport default function ConfirmLineOut({hideDialog, visible}: PropTypes) {\n  const [loading, setLoading] = useState(false);\n\n  const handleOk = async () => {\n    setLoading(true);\n    await removeFromLine();\n    modeVar(Mode.PRIMARY);\n    setLoading(false);\n    hideDialog();\n  };\n\n  return <Portal>\n    <Dialog visible={visible} onDismiss={hideDialog}>\n      <Dialog.Title>!</Dialog.Title>\n      <Dialog.Content>\n        <Paragraph>    ?     .</Paragraph>\n      </Dialog.Content>\n      <Dialog.Actions>\n        <Button onPress={hideDialog}></Button>\n        <Button onPress={handleOk}></Button>\n      </Dialog.Actions>\n    </Dialog>\n    <WaitDialog visible={loading}/>\n  </Portal>\n};","import React, {useEffect, useState} from 'react';\nimport {StyleSheet, Text, View} from \"react-native\";\nimport {Button} from \"react-native-paper\";\nimport Colors from \"../../constants/Colors\";\nimport {hasOwnClassroom} from \"../../helpers/helpers\";\nimport {ClassroomType, Mode, SavedFilterT} from \"../../models/models\";\nimport {useLocal} from \"../../hooks/useLocal\";\nimport {desirableClassroomIdsVar, minimalClassroomIdsVar, modeVar} from \"../../api/client\";\nimport {filterDisabledForQueue} from \"../../helpers/filterDisabledForQueue\";\nimport {getItem} from \"../../api/asyncStorage\";\nimport {filterSavedFilter} from \"../../helpers/filterSavedFIlters\";\nimport getInLine from \"../../helpers/queue/getInLine\";\nimport ErrorDialog from \"../../components/ErrorDialog\";\nimport moment from \"moment\";\nimport removeFromLine from \"../../helpers/queue/removeFromLine\";\nimport WaitDialog from \"../../components/WaitDialog\";\nimport ConfirmLineOut from \"../../components/ConfirmLineOut\";\n\ntype PropTypes = {\n  currentUser: any;\n  classrooms: ClassroomType[];\n}\n\nconst Buttons: React.FC<PropTypes> = ({currentUser: {queueInfo: {sanctionedUntil}, ...currentUser},\n                                        classrooms}) => {\n  const {data: {mode}} = useLocal('mode');\n  const {data: {desirableClassroomIds}} = useLocal('desirableClassroomIds');\n  const {data: {minimalClassroomIds}} = useLocal('minimalClassroomIds');\n  const [visibleModalError, setVisibleModalError] = useState(false);\n  const queueErrorMessage = `          ${sanctionedUntil ? moment(sanctionedUntil)\n    .format('DD-MM-YYYY HH:mm') : ''}.         .`;\n  const [loading, setLoading] = useState(false);\n  const [visibleLineOut, setVisibleLineOut] = useState(false);\n\n\n  const handlePress = async () => {\n    setLoading(true);\n    if (sanctionedUntil) return setVisibleModalError(true);\n    if (mode === Mode.PRIMARY) {\n      const availableClassroomsIds = classrooms.filter(classroom => {\n        return filterDisabledForQueue(classroom, currentUser);\n      }).map(({id}) => id);\n      modeVar(Mode.QUEUE_SETUP);\n      const savedFilters: SavedFilterT[] | undefined = await getItem('filters');\n      if (savedFilters) {\n        const mainFilter = savedFilters!.find(filter => filter.main);\n        if (mainFilter) {\n          filterSavedFilter(mainFilter, classrooms, currentUser)\n        } else {\n          minimalClassroomIdsVar(availableClassroomsIds);\n          desirableClassroomIdsVar([]);\n        }\n      } else {\n        minimalClassroomIdsVar(availableClassroomsIds);\n        desirableClassroomIdsVar([]);\n      }\n    }\n    if (mode === Mode.QUEUE_SETUP) {\n      modeVar(Mode.PRIMARY);\n      minimalClassroomIdsVar([]);\n      desirableClassroomIdsVar([]);\n    }\n    setLoading(false);\n  };\n\n  const handleReady = async () => {\n    setLoading(true);\n    await getInLine(minimalClassroomIds, desirableClassroomIds);\n    setLoading(false);\n  };\n\n  return (\n    <View style={styles.wrapper}>\n      {mode === Mode.PRIMARY && !(hasOwnClassroom(currentUser.occupiedClassrooms)) && (\n        <Button style={styles.getInLine} mode='contained' color={Colors.blue}\n                onPress={handlePress}>\n          <Text>  </Text>\n        </Button>\n      )}\n      {mode === Mode.QUEUE_SETUP && (\n        <>\n          <Button style={styles.getOutLine} mode='contained' color={Colors.red}\n                  onPress={handlePress}>\n            <Text></Text>\n          </Button>\n          <Button style={styles.approve} mode='contained' color={Colors.blue}\n                  disabled={!minimalClassroomIds.length && !desirableClassroomIds.length}\n                  onPress={handleReady}>\n            <Text>  </Text>\n          </Button>\n        </>\n      )}\n      {mode === Mode.INLINE && (\n        <Button style={styles.getOutLine} mode='contained' color={Colors.red}\n                onPress={() => setVisibleLineOut(true)}>\n          <Text>  </Text>\n        </Button>\n      )}\n      <ErrorDialog visible={visibleModalError} hideDialog={() => setVisibleModalError(false)}\n        message={queueErrorMessage}\n      />\n      <WaitDialog visible={loading}/>\n      <ConfirmLineOut hideDialog={() => setVisibleLineOut(false)} visible={visibleLineOut}/>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create(\n  {\n    wrapper: {\n      position: 'absolute',\n      bottom: 16,\n      left: 16,\n      right: 16,\n      flexDirection: 'row',\n      justifyContent: 'center',\n      zIndex: 1\n    },\n\n    getInLine: {\n      width: '55%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    getOutLine: {\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center',\n      marginRight: 16,\n    },\n    getOutLineSingle: {\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    approve: {\n      width: '48%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    }\n  }\n);\n\nexport default Buttons;","import {gql} from \"@apollo/client\";\n\nexport const GENERAL_QUEUE_SIZE = gql`\n  query {\n    generalQueueSize\n  }\n`;","import {gql} from \"@apollo/client/core\";\n\nexport const FOLLOW_GENERAL_QUEUE_SIZE = gql`\n  subscription generalQueueSize {\n    generalQueueSize\n  }\n`;","import {useEffect, useState} from \"react\";\nimport {GET_CLASSROOMS} from \"../api/operations/queries/classrooms\";\nimport {ISODateString} from \"../helpers/helpers\";\nimport {ClassroomType} from \"../models/models\";\nimport {useQuery} from \"@apollo/client\";\nimport {FOLLOW_CLASSROOMS} from \"../api/operations/subscriptions/classrooms\";\n\nconst useClassrooms = (props?: any): [Array<ClassroomType>, any] => {\n  const [classrooms, setClassrooms] = useState<ClassroomType[]>([]);\n  const {data, loading, error, subscribeToMore} = useQuery(GET_CLASSROOMS, {\n    variables: {\n      date: ISODateString(props?.date ? props.date : new Date()),\n    }\n  })\n\n  useEffect(() => {\n    !loading && !error && setClassrooms(\n      data.classrooms\n        .slice()\n        .sort(\n          (a: ClassroomType, b: ClassroomType) =>\n            parseInt(a.name) - parseInt(b.name)\n        )\n    );\n  }, [data, loading, error]);\n\n  return classrooms;\n};\n\nexport default useClassrooms;","import React, {useEffect, useState} from 'react';\nimport {StyleSheet, Text, View, Dimensions, TextInput} from \"react-native\";\nimport {Button, Checkbox, Headline, IconButton, Modal, Portal} from \"react-native-paper\";\nimport {ClassroomType, SavedFilterT, User} from \"../../models/models\";\nimport {getItem, setItem} from \"../../api/asyncStorage\";\nimport {useLocal} from \"../../hooks/useLocal\";\nimport Colors from \"../../constants/Colors\";\nimport {filterSavedFilter} from \"../../helpers/filterSavedFIlters\";\nimport useClassrooms from \"../../hooks/useClassrooms\";\n\nexport type SpecialT = 'with' | 'only' | 'without';\n\ninterface PropTypes {\n  hideModal: () => void;\n  visible: boolean;\n  currentUser: User;\n}\n\nconst windowWidth = Dimensions.get('window').width;\n\nexport default function SavedFilters({hideModal, visible, currentUser}: PropTypes) {\n  const classrooms: ClassroomType[] = useClassrooms();\n  const [savedFilters, setSavedFilters] = useState<SavedFilterT[]>([]);\n  const [isSaving, setIsSaving] = useState(false);\n  const [inputName, setInputName] = useState<string>('');\n  const {data: {desirableClassroomIds}} = useLocal('desirableClassroomIds');\n  const {data: {minimalClassroomIds}} = useLocal('minimalClassroomIds');\n  const [selectedFilter, setSelectedFilter] = useState(-1);\n  const [saveAsMainFilter, setSaveAsMainFilter] = useState(false);\n\n  useEffect(() => {\n    getItem('filters').then(data => {\n      setSavedFilters(data as any);\n    });\n    return () => {\n      setSelectedFilter(-1);\n      setInputName('');\n    };\n  }, []);\n\n  const handleSaveFilter = () => {\n    setIsSaving(true);\n\n    const item: SavedFilterT = {\n      minimalClassroomIds,\n      desirableClassroomIds,\n      name: inputName,\n      main: saveAsMainFilter\n    };\n\n    setItem('filters', savedFilters ? [...savedFilters?.map((filter: any) => {\n      return saveAsMainFilter ? ({...filter, main: false}) : filter\n    }), item] : [item]).then(res => {\n      setIsSaving(false);\n    });\n    // @ts-ignore\n    setSavedFilters(prevState => prevState ? [...prevState?.map((filter: any) => {\n      return saveAsMainFilter ? ({...filter, main: false}) : filter\n    }), item] : [item]);\n  };\n\n  const handleRemoveFilter = (index: number) => {\n    const newFilters = savedFilters;\n\n    newFilters.splice(index, 1);\n    setItem('filters', newFilters).then(res => {\n      getItem('filters').then((data: any) => setSavedFilters(data))\n    })\n    setSelectedFilter(-1);\n  };\n\n  const handleSelectFilter = (filterItem: any, index: number) => {\n    filterSavedFilter(filterItem, classrooms, currentUser)\n    setSelectedFilter(index);\n    hideModal();\n  };\n\n  return <Portal>\n    <Modal visible={visible} onDismiss={hideModal} contentContainerStyle={styles.containerStyle}>\n      <View style={styles.header}>\n        <Headline> </Headline>\n      </View>\n      <View style={styles.body}>\n        {savedFilters?.map((filterItem: SavedFilterT, index) => (\n          <View key={index} style={styles.itemRow}>\n            <Text style={selectedFilter === index ? styles.selectedItem : styles.item}\n                  onPress={() => handleSelectFilter(filterItem, index)}>\n              {filterItem.main ? filterItem.name + ' ()' : filterItem.name}\n            </Text>\n            <IconButton icon='trash-can-outline' style={styles.bin}\n              onPress={() => handleRemoveFilter(index)}\n            />\n          </View>\n        ))}\n        <View style={styles.newFilterSection}>\n          <TextInput placeholder='  ' value={inputName}\n                     onChangeText={text => setInputName(text)}\n          />\n          <View style={styles.mainFilterCheckbox}>\n            <Checkbox status={saveAsMainFilter ? 'checked' : 'unchecked'}\n                    onPress={() => setSaveAsMainFilter(prevState => !prevState)}\n            />\n            <Text>   </Text>\n          </View>\n          <Button mode='contained'\n                  disabled={isSaving || !inputName}\n                  onPress={handleSaveFilter}\n          >\n               \n          </Button>\n        </View>\n      </View>\n    </Modal>\n  </Portal>\n};\n\nconst styles = StyleSheet.create({\n  containerStyle: {\n    backgroundColor: 'white',\n    margin: 20,\n    borderRadius: 8,\n    justifyContent: 'center',\n    alignItems: 'flex-start',\n    overflow: 'hidden'\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: '#dddddd',\n    width: '100%',\n    backgroundColor: '#f1f1f1'\n  },\n  body: {\n    padding: 20,\n    width: '100%',\n  },\n  itemRow: {\n    flexDirection: 'row',\n    width: '100%',\n    justifyContent: 'space-between',\n    marginBottom: 5,\n  },\n  item: {\n    fontSize: 16,\n    borderBottomColor: '#eee',\n    borderBottomWidth: 1,\n    color: '#000',\n    width: '80%',\n    marginTop: 10\n  },\n  selectedItem: {\n    fontSize: 16,\n    borderBottomColor: '#eee',\n    borderBottomWidth: 1,\n    color: Colors.blue,\n    width: '80%',\n    marginTop: 10\n  },\n  bin: {\n    width: '20%',\n  },\n  mainFilterCheckbox: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 10,\n    marginLeft: -10\n  },\n  newFilterSection: {\n    borderRadius: 6,\n    borderWidth: 1,\n    borderColor: '#eee',\n    padding: 16,\n    marginTop: 50\n  }\n});","import React from 'react';\nimport {StyleSheet, Text, View} from \"react-native\";\nimport {\n  Modal,\n  Portal,\n  RadioButton,\n} from \"react-native-paper\";\n\ninterface PropTypes {\n  hideModal: () => void;\n  visible: boolean;\n  isGrandPianoOnly: boolean;\n  setIsGrandPianoOnly: (value: boolean) => void;\n}\n\nexport default function InstrumentsList({hideModal, visible, isGrandPianoOnly,\n                                          setIsGrandPianoOnly}: PropTypes) {\n\n  const handleSelect = (newValue: string) => {\n    setIsGrandPianoOnly(newValue === '0')\n    hideModal();\n  };\n\n  return <Portal>\n    <Modal visible={visible} onDismiss={hideModal} contentContainerStyle={styles.containerStyle}>\n      <View>\n        <RadioButton.Group onValueChange={newValue => handleSelect(newValue)}\n                           value={isGrandPianoOnly ? '0' : '1'}>\n          <View style={styles.item}>\n            <RadioButton value=\"0\" />\n            <Text></Text>\n          </View>\n          <View style={styles.item}>\n            <RadioButton value=\"1\" />\n            <Text>  </Text>\n          </View>\n        </RadioButton.Group>\n      </View>\n    </Modal>\n  </Portal>\n};\n\nconst styles = StyleSheet.create(({\n  containerStyle: {\n    position: 'absolute',\n    width: '90%',\n    backgroundColor: 'white',\n    margin: 20,\n    padding: 20,\n    borderRadius: 8,\n    justifyContent: 'center',\n    alignItems: 'flex-start',\n  },\n  item: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  }\n}));","import React from 'react'\nimport {StyleSheet, View, TouchableOpacity, Image} from 'react-native'\nimport {Dialog, Paragraph, Portal, ProgressBar} from \"react-native-paper\";\n\ntype PropTypes = {\n  size: number;\n  count: number;\n  setCount: (count: number) => void;\n  visible: boolean;\n  hideDialog: () => void;\n}\n\nexport default function CustomRating({size = 5, count, setCount, visible, hideDialog}: PropTypes) {\n  const stars = new Array(size).fill(null);\n\n  const handleRate = (value: number) => {\n    setCount(value);\n    hideDialog();\n  };\n\n\n  return (\n    <Portal>\n      <Dialog visible={visible} onDismiss={hideDialog}>\n        <Dialog.Title style={{textAlign: 'center'}}>  </Dialog.Title>\n        <Dialog.Content>\n          <View style={styles.rate}>\n            {stars.map((value, index) => (\n              <TouchableOpacity key={index} onPress={() => handleRate(index + 1)}>\n                <Image source={require('../../assets/images/star.png')}\n                       style={{...styles.star, opacity: index < count ? 1 : .3}}\n                />\n              </TouchableOpacity>\n            ))}\n          </View>\n        </Dialog.Content>\n      </Dialog>\n    </Portal>\n  )\n}\n\nconst styles = StyleSheet.create({\n  rate: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n  },\n  star: {\n    width: 20,\n    height: 20\n  },\n})","import React, {useState} from 'react';\nimport {StyleSheet, Text, View, Dimensions, ScrollView} from \"react-native\";\nimport {\n  Button,\n  IconButton,\n  Modal,\n  Portal,\n  TextInput\n} from \"react-native-paper\";\nimport {InstrumentType} from \"../../models/models\";\nimport InstrumentsList from \"./InstrumentsList\";\nimport CustomRating from \"../../components/CustomRating/CustomRating\";\nimport Colors from \"../../constants/Colors\";\n\nexport type SpecialT = 'with' | 'only' | 'without';\n\ninterface PropTypes {\n  hideModal: () => void;\n  visible: boolean;\n  instruments: InstrumentType[];\n  setInstruments: any;\n}\n\nconst windowWidth = Dimensions.get('window').width;\n\nexport default function InstrumentFilters({hideModal, visible, instruments, setInstruments}: PropTypes) {\n  const [isGrandPianoOnly, setIsGrandPianoOnly] = useState(false);\n  const [count, setCount] = useState(0);\n  const [visibleList, setVisibleList] = useState(false);\n  const [visibleRate, setVisibleRate] = useState(false);\n\n  const showModalList = () => setVisibleList(true);\n\n  const hideModalList = () => setVisibleList(false);\n\n  const showModalRate = () => setVisibleRate(true);\n\n  const hideModalRate = () => setVisibleRate(false);\n\n  const addInstrument = () => {\n    const newInstrument = {type: isGrandPianoOnly ? 'GrandPiano' : 'UpRightPiano', rate: count};\n    setInstruments((prevState: InstrumentType[]) => [...prevState, newInstrument]);\n    setCount(0);\n    setIsGrandPianoOnly(false);\n  };\n\n  const removeInstrument = (index: number) => {\n    const newArray = instruments.slice();\n    newArray.splice(index, 1);\n\n    setInstruments(newArray);\n  };\n\n  return <Portal>\n    <Modal visible={visible} onDismiss={hideModal} contentContainerStyle={styles.containerStyle}>\n      <View style={styles.body}>\n        <ScrollView>\n          {instruments.length ? instruments.map((instrument, index) => (\n            <View key={index} style={styles.instrumentRow}>\n              <Text style={{width: '40%'}}>\n                {instrument.type === 'UpRightPiano' ? '  ' : ''}\n              </Text>\n              <View style={{flexDirection: 'row', alignItems: 'center', width: '20%'}}>\n                <Button icon='star' color={Colors.orange} disabled>\n                  {instrument.rate} +\n                </Button>\n              </View>\n              <IconButton icon='trash-can-outline' onPress={() => removeInstrument(index)}/>\n            </View>\n          )) : <Text style={styles.noInstrumentsLabel}>  </Text>}\n          <View style={styles.newInstrumentRow}>\n            <View style={{width: '40%', flexDirection: 'row', alignItems: 'center'}}>\n              <Text onPress={showModalList}>\n                {!isGrandPianoOnly ? '  ' : ''}\n              </Text>\n              <IconButton icon='menu-down' onPress={showModalList}/>\n            </View>\n            <View style={{flexDirection: 'row', alignItems: 'center', width: '20%'}}>\n              <Button onPress={showModalRate} icon='star' color={Colors.orange}>{count} +</Button>\n              <CustomRating size={10} count={count} setCount={setCount} hideDialog={hideModalRate}\n                            visible={visibleRate}\n              />\n            </View>\n            <IconButton icon='plus' onPress={addInstrument}/>\n          </View>\n        </ScrollView>\n        <View style={styles.buttons}>\n          <Button mode='contained' onPress={hideModal}></Button>\n        </View>\n      </View>\n      <InstrumentsList hideModal={hideModalList} visible={visibleList}\n                       isGrandPianoOnly={isGrandPianoOnly} setIsGrandPianoOnly={setIsGrandPianoOnly} />\n    </Modal>\n  </Portal>\n};\n\nconst styles = StyleSheet.create(({\n  containerStyle: {\n    position: 'absolute',\n    height: 300,\n    width: '90%',\n    backgroundColor: 'white',\n    margin: 20,\n    borderRadius: 8,\n    justifyContent: 'center',\n    alignItems: 'flex-start',\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: '#dddddd',\n    width: '100%',\n    backgroundColor: '#f1f1f1'\n  },\n  body: {\n    padding: 20,\n  },\n  radioItem: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  divider: {\n    borderBottomColor: '#eee',\n    alignSelf: 'center',\n    borderBottomWidth: 1,\n    borderStyle: 'solid',\n    width: windowWidth - 80,\n    height: 1,\n    marginVertical: 16\n  },\n  checkbox: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  buttons: {\n    paddingTop: 16,\n    flexDirection: 'row',\n    justifyContent: 'flex-end'\n  },\n  instrumentRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: '100%',\n    borderBottomWidth: 1,\n    borderBottomColor: '#ccc',\n    padding: 10,\n  },\n  newInstrumentRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: '100%',\n    padding: 10,\n  },\n  countInput: {\n    height: 40,\n    width: 40,\n    backgroundColor: 'transparent',\n    paddingLeft: 5\n  },\n  noInstrumentsLabel: {\n    textAlign: 'center',\n    paddingBottom: 15,\n    color: '#ccc',\n    fontSize: 18,\n    borderBottomColor: '#eee',\n    borderBottomWidth: 1,\n  }\n}));","import React, {useState} from 'react';\nimport {StyleSheet, Text, View, Dimensions} from \"react-native\";\nimport {Button, Checkbox, Divider, Headline, Modal, Portal, RadioButton} from \"react-native-paper\";\nimport InstrumentFilters from \"./InstrumentFilters\";\nimport {InstrumentType} from \"../../models/models\";\n\nexport type SpecialT = 'with' | 'only' | 'without';\n\ninterface PropTypes {\n  hideModal: () => void;\n  visible: boolean;\n  apply: (instruments: InstrumentType[], withWing: boolean, operaStudioOnly: boolean, special: SpecialT) => void;\n}\n\nconst windowWidth = Dimensions.get('window').width;\n\nexport default function Filters({hideModal, visible, apply}: PropTypes) {\n  const [instruments, setInstruments] = useState<InstrumentType[]>([]);\n  const [special, setSpecial] = useState<SpecialT>('with');\n  const [withWing, setWithWing] = useState(true);\n  const [onlyOperaStudio, setOnlyOperaStudio] = useState(false);\n  const [visibleInstrumentFilters, setVisibleInstrumentFilters] = useState(false);\n\n  const showModalInstrumentFilters = () => setVisibleInstrumentFilters(true);\n\n  const hideModalInstrumentFilters= () => setVisibleInstrumentFilters(false);\n\n  const handleApply = () => {\n    apply(instruments, withWing, onlyOperaStudio, special);\n    hideModal();\n  };\n\n  const getEnding = () => {\n    switch (instruments.length) {\n      case 1: return '';\n      case 2: return '';\n      case 3: return '';\n      case 4: return '';\n      case 5: return '';\n      default: return '...';\n    }\n  };\n\n  return <Portal>\n    <Modal visible={visible} onDismiss={hideModal} contentContainerStyle={styles.containerStyle}>\n      <View style={styles.header}>\n        <Headline>   </Headline>\n      </View>\n      <View style={styles.body}>\n        <Button icon='pencil' onPress={showModalInstrumentFilters}>\n          <Text>\n            { !instruments.length\n              ? '-   '\n              : `${instruments.length} ${getEnding()}` }\n          </Text>\n        </Button>\n        <Divider style={styles.divider}/>\n        <View style={styles.checkbox}>\n          <Checkbox status={!withWing ? 'checked' : 'unchecked'}\n                    onPress={() => setWithWing(prevState => !prevState)}/>\n          <Text> </Text>\n        </View>\n        <View style={styles.checkbox}>\n          <Checkbox status={onlyOperaStudio ? 'checked' : 'unchecked'}\n                    onPress={() => setOnlyOperaStudio(prevState => !prevState)}/>\n          <Text>  </Text>\n        </View>\n        <Divider style={styles.divider}/>\n        <RadioButton.Group onValueChange={newValue => setSpecial(newValue as SpecialT)} value={special}>\n          <View style={styles.radioItem}>\n            <RadioButton value='with' />\n            <Text>  (-)</Text>\n          </View>\n          <View style={styles.radioItem}>\n            <RadioButton value='only' />\n            <Text>  (-)</Text>\n          </View>\n          <View style={styles.radioItem}>\n            <RadioButton value='without' />\n            <Text>  (-)</Text>\n          </View>\n        </RadioButton.Group>\n        <Divider style={styles.divider}/>\n        <View style={styles.buttons}>\n          <Button mode='contained' onPress={handleApply}></Button>\n        </View>\n        <InstrumentFilters hideModal={hideModalInstrumentFilters} visible={visibleInstrumentFilters}\n                           instruments={instruments} setInstruments={setInstruments} />\n      </View>\n    </Modal>\n  </Portal>\n};\n\nconst styles = StyleSheet.create({\n  containerStyle: {\n    backgroundColor: 'white',\n    margin: 20,\n    borderRadius: 8,\n    justifyContent: 'center',\n    alignItems: 'flex-start',\n    overflow: 'hidden'\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: '#dddddd',\n    width: '100%',\n    backgroundColor: '#f1f1f1'\n  },\n  body: {\n    padding: 20,\n  },\n  radioItem: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  divider: {\n    borderBottomColor: '#eee',\n    alignSelf: 'center',\n    borderBottomWidth: 1,\n    borderStyle: 'solid',\n    width: windowWidth - 80,\n    height: 1,\n    marginVertical: 16\n  },\n  checkbox: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  buttons: {\n    flexDirection: 'row',\n    justifyContent: 'center'\n  }\n});","import {ClassroomType, InstrumentType} from \"../../models/models\";\n\ntype InstrumentTypeOrderT = {\n  [index: string]: number;\n};\n\nconst instrumentTypeOrder: InstrumentTypeOrderT = {\n  GrandPiano: 0,\n  UpRightPiano: 1\n};\n\nexport function getClassroomsFilteredByInstruments(classrooms: ClassroomType[],\n                                                   userInstrumentFilterInput: InstrumentType[]) {\n  const instrumentsFilterSorted = sortUserFilterInstruments(userInstrumentFilterInput);\n\n  return classrooms.filter((classroom) => {\n    const instrumentsFilter = [...instrumentsFilterSorted];\n    let classroomInstruments = [...classroom.instruments];\n\n    if (instrumentsFilter.length > classroomInstruments.length) {\n      return false;\n    }\n\n    // first checking all the required grand pianos\n    while (instrumentsFilter[instrumentsFilter.length - 1]?.type === 'GrandPiano') {\n      const classroomGrandPianoInd = getMinimumSatisfactoryInstrumentIndex(\n        classroomInstruments,\n        'GrandPiano',\n        instrumentsFilter[instrumentsFilter.length - 1].rate\n      );\n      if (classroomGrandPianoInd === -1) {\n        return false;\n      }\n\n      instrumentsFilter.pop();\n      classroomInstruments.splice(classroomGrandPianoInd, 1);\n    }\n\n    // checking all the other instruments\n    while (instrumentsFilter.length) {\n      const classroomInstrumentInd = getMinimumSatisfactoryInstrumentIndex(\n        classroomInstruments, null, instrumentsFilter[instrumentsFilter.length - 1].rate\n      );\n      if (classroomInstrumentInd === -1) {\n        return false;\n      }\n\n      instrumentsFilter.pop();\n      classroomInstruments.splice(classroomInstrumentInd, 1);\n    }\n\n    return true;\n  })\n}\n\nfunction sortUserFilterInstruments(instruments: InstrumentType[]) {\n  return instruments.sort((instA, instB) => {\n\n    if (instrumentTypeOrder[instA.type] === instrumentTypeOrder[instB.type]) {\n      return instA.rate - instB.rate;\n    }\n\n    return instrumentTypeOrder[instB.type] - instrumentTypeOrder[instA.type]\n  })\n}\n\nfunction getMinimumSatisfactoryInstrumentIndex(instruments: InstrumentType[],\n                                               instrumentType: string | null, minimumRate: number) {\n  let bestIndex = -1;\n\n  instruments.forEach((instrument, i) => {\n    if (instrumentType && instrument.type !== instrumentType) return;\n\n    if (instrument.rate < minimumRate) return;\n\n    if (bestIndex === -1 || instrument.rate - minimumRate < instruments[bestIndex].rate - minimumRate) {\n      bestIndex = i;\n    }\n  });\n  return bestIndex;\n}","import {gql} from \"@apollo/client\";\n\nexport const GENERAL_QUEUE_POSITION = gql`\n  query generalQueuePosition($userId: Int!){\n    generalQueuePosition(userId: $userId)\n  }\n`;","import {gql} from \"@apollo/client/core\";\n\nexport const FOLLOW_GENERAL_QUEUE_POSITION = gql`\n  subscription generalQueuePosition($userId: Int!) {\n    generalQueuePosition(userId: $userId)\n  }\n`;","import React, {useEffect, useState} from 'react';\nimport {Appbar, Button} from \"react-native-paper\";\nimport {DrawerActions, useNavigation} from \"@react-navigation/native\";\nimport {StyleSheet, View} from \"react-native\";\nimport {useQuery} from \"@apollo/client\";\nimport {GENERAL_QUEUE_SIZE} from \"../../api/operations/queries/generalQueueSize\";\nimport {FOLLOW_GENERAL_QUEUE_SIZE} from \"../../api/operations/subscriptions/generalQueueSize\";\nimport {useLocal} from \"../../hooks/useLocal\";\nimport {ClassroomType, InstrumentType, Mode, User} from \"../../models/models\";\nimport {desirableClassroomIdsVar, isMinimalSetupVar, minimalClassroomIdsVar} from \"../../api/client\";\nimport SavedFilters from \"./SavedFilters\";\nimport Filters, {SpecialT} from \"./Filters\";\nimport {getClassroomsFilteredByInstruments} from \"./helpers\";\nimport {filterDisabledForQueue} from \"../../helpers/filterDisabledForQueue\";\nimport {GENERAL_QUEUE_POSITION} from \"../../api/operations/queries/generalQueuePosition\";\nimport {FOLLOW_GENERAL_QUEUE_POSITION} from \"../../api/operations/subscriptions/generalQueuePosition\";\n\ntype PropTypes = {\n  freeClassroomsAmount: number;\n  classrooms: ClassroomType[];\n  currentUser: User;\n}\n\nconst ClassroomsAppBar: React.FC<PropTypes> = (\n  {\n    freeClassroomsAmount, classrooms, currentUser\n  }\n) => {\n  const navigation = useNavigation();\n  const {data, loading, error, subscribeToMore} = useQuery(GENERAL_QUEUE_SIZE);\n  const {\n    data: dataPosition, loading: loadingPosition,\n    error: errorPosition, subscribeToMore: subscribeToMorePosition\n  } = useQuery(GENERAL_QUEUE_POSITION, {\n    variables: {\n      userId: currentUser.id\n    }\n  });\n  const {data: {mode}} = useLocal('mode');\n  const {data: {isMinimalSetup}} = useLocal('isMinimalSetup');\n  const [visible, setVisible] = useState(false);\n  const [visibleSavedFilters, setVisibleSavedFilters] = useState(false);\n  const [generalQueueSize, setGeneralQueueSize] = useState(0);\n  const [generalQueuePosition, setGeneralQueuePosition] = useState(0);\n\n  useEffect(() => {\n    const unsubscribeSize = subscribeToMore({\n        document: FOLLOW_GENERAL_QUEUE_SIZE,\n        updateQuery: (prev, {subscriptionData}) => {\n          if (!subscriptionData.data) return prev;\n          setGeneralQueueSize(subscriptionData.data.generalQueueSize);\n          return subscriptionData.data.generalQueueSize\n        }\n      }\n      )\n    ;\n    const unsubscribePosition = subscribeToMorePosition({\n        document: FOLLOW_GENERAL_QUEUE_POSITION,\n        variables: {\n          userId: currentUser.id\n        },\n        updateQuery: (prev, {subscriptionData}) => {\n          if (!subscriptionData.data) return prev;\n          setGeneralQueuePosition(subscriptionData.data.generalQueuePosition);\n          return subscriptionData.data.generalQueuePosition\n        }\n      }\n    );\n\n    return () => {\n      unsubscribeSize();\n      unsubscribePosition();\n    }\n  }, []);\n\n  useEffect(() => {\n    if (!loading && !error) setGeneralQueueSize(data.generalQueueSize);\n  }, [data, loading, error]);\n\n  const applyGeneralFilter = (instruments: InstrumentType[], withWing: boolean,\n                              operaStudioOnly: boolean, special: SpecialT) => {\n\n    const filteredClassroomsByInstruments = instruments.length ?\n      getClassroomsFilteredByInstruments(classrooms, instruments) : classrooms;\n\n    const filteredIds = filteredClassroomsByInstruments\n      .filter(classroom => filterDisabledForQueue(classroom, currentUser))\n      .filter(classroom => withWing ? true : !classroom.isWing)\n      .filter(classroom => operaStudioOnly ? classroom.isOperaStudio : true)\n      .filter(classroom => {\n        switch (special) {\n          case \"with\":\n            return true;\n          case \"only\":\n            return classroom.special;\n          case \"without\":\n            return !classroom.special;\n        }\n      })\n      .map((classroom) => classroom.id);\n\n    if (isMinimalSetup) {\n      minimalClassroomIdsVar(filteredIds);\n    } else {\n      desirableClassroomIdsVar(filteredIds);\n    }\n  };\n\n  const showModal = () => setVisible(true);\n\n  const hideModal = () => setVisible(false);\n\n  const showModalSavedFilters = () => setVisibleSavedFilters(true);\n\n  const hideModalSavedFilters = () => setVisibleSavedFilters(false);\n\n  return (\n    <Appbar style={styles.top}>\n      <Appbar.Action icon=\"menu\" onPress={() => navigation.dispatch(DrawerActions.openDrawer())}\n                     color='#fff'\n      />\n      {mode === Mode.INLINE && (\n        <Appbar.Content title={`   : ${generalQueuePosition}`}\n                        color='#fff'\n        />\n      )}\n      {mode === Mode.PRIMARY && (\n        <Appbar.Content title={`  : ${generalQueueSize}`}\n                        subtitle={` : ${freeClassroomsAmount}`}\n                        color='#fff'\n        />\n      )}\n      {mode === Mode.QUEUE_SETUP && (\n        <>\n          <View style={{flexDirection: 'row', justifyContent: 'space-between', width: '88%'}}>\n            <View style={styles.queueSwitcher}>\n              <Button mode={isMinimalSetup ? 'contained' : 'text'}\n                      style={{position: 'relative', width: '45%'}}\n                      color='#fff'\n                      onPress={() => isMinimalSetupVar(true)}\n              >\n                \n              </Button>\n              <Button\n                mode={!isMinimalSetup ? 'contained' : 'text'}\n                style={{position: 'relative', width: '35%'}}\n                color='#fff'\n                onPress={() => isMinimalSetupVar(false)}\n              >\n                \n              </Button>\n            </View>\n          </View>\n          <Appbar.Action icon=\"content-save\" onPress={showModalSavedFilters} color='#fff'\n                         style={{position: 'absolute', right: 40, top: 28}}/>\n          <Appbar.Action icon=\"filter\" onPress={showModal} color='#fff'\n                         style={{position: 'absolute', right: 0, top: 28}}/>\n        </>\n      )}\n      <SavedFilters hideModal={hideModalSavedFilters} visible={visibleSavedFilters} currentUser={currentUser}/>\n      <Filters hideModal={hideModal} visible={visible} apply={applyGeneralFilter}/>\n    </Appbar>\n  );\n}\n\nconst styles = StyleSheet.create({\n  top: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    paddingTop: 26,\n    height: 80,\n    backgroundColor: 'transparent',\n    zIndex: 1\n  },\n  queueSwitcher: {\n    flexDirection: 'row',\n    width: '76%',\n    justifyContent: 'center',\n    paddingHorizontal: 5,\n    marginHorizontal: 20,\n    alignItems: 'center',\n  },\n});\n\nexport default ClassroomsAppBar;","import {View, StyleSheet, Text, ScrollView, Dimensions} from \"react-native\";\nimport React from \"react\";\n\nexport default function Log({data}: any) {\n  return JSON.stringify(data).length > 2 ?\n    <View style={styles.container}>\n      <ScrollView>\n        <Text style={styles.text}>\n          {typeof data === 'object' ? JSON.stringify(data) : data}\n        </Text>\n      </ScrollView>\n    </View>\n    : <></>\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    width: '50%',\n    backgroundColor: '#00000099',\n    position: 'absolute',\n    zIndex: 99999999,\n    top: 70,\n    elevation: 1000,\n    right: 16,\n    padding: 16,\n    maxHeight: (Dimensions.get('window').height / 100) * 85\n  },\n  text: {\n    color: '#00ff65'\n  }\n});","import {Button, Dialog, Paragraph, Portal} from \"react-native-paper\";\nimport {Mode} from \"../models/models\";\nimport React, {useState} from \"react\";\nimport {modeVar} from \"../api/client\";\nimport removeFromLine from \"../helpers/queue/removeFromLine\";\nimport WaitDialog from \"./WaitDialog\";\n\nexport default function ConfirmContinueDesiredQueue() {\n  const [loading, setLoading] = useState(false);\n\n  const handleLeave = async () => {\n    setLoading(true);\n    await removeFromLine();\n    modeVar(Mode.PRIMARY);\n    setLoading(false);\n  };\n\n  const handleOk = () => {\n    //TODO: handle continue for DESIRED\n  };\n\n  return <Portal>\n    <Dialog visible={true}>\n      <Dialog.Title>!</Dialog.Title>\n      <Dialog.Content>\n        <Paragraph>           . ?</Paragraph>\n      </Dialog.Content>\n      <Dialog.Actions>\n        <Button onPress={handleLeave}> </Button>\n        <Button onPress={handleOk}></Button>\n      </Dialog.Actions>\n    </Dialog>\n    <WaitDialog visible={loading}/>\n  </Portal>\n};","import * as React from 'react';\nimport {Portal, Button, Modal} from 'react-native-paper';\nimport {View, Text, StyleSheet} from \"react-native\";\nimport {useState} from \"react\";\n\ninterface PropTypes {\n  visible: boolean;\n  hideDialog: () => void;\n}\n\nexport default function InlineDialog({visible, hideDialog}: PropTypes) {\n  return (\n    <Portal>\n      <Modal visible={visible} onDismiss={hideDialog} contentContainerStyle={styles.containerStyle}>\n        <View>\n          <Text style={styles.header}>!</Text>\n          <Text style={styles.paragraph}>    !</Text>\n          <View style={styles.buttons}>\n            <Button mode='contained' onPress={hideDialog}></Button>\n          </View>\n        </View>\n      </Modal>\n    </Portal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  containerStyle: {\n    backgroundColor: 'white',\n    padding: 20,\n    margin: 20,\n    borderRadius: 8\n  },\n  header: {\n    textAlign: 'center',\n    fontSize: 30,\n    fontWeight: 'bold',\n    marginBottom: 10,\n  },\n  paragraph: {\n    textAlign: 'center',\n    marginBottom: 5,\n    fontSize: 16\n  },\n  buttons: {\n    marginTop: 20,\n    flexDirection: 'row',\n    justifyContent: 'center'\n  }\n});","import * as React from 'react';\nimport {Portal, Button, Modal} from 'react-native-paper';\nimport {View, Text, StyleSheet} from \"react-native\";\nimport {useState} from \"react\";\n\ninterface PropTypes {\n  visible: boolean;\n  hideDialog: () => void;\n}\n\nexport default function QueueOutDialog({visible, hideDialog}: PropTypes) {\n  return (\n    <Portal>\n      <Modal visible={visible} onDismiss={hideDialog} contentContainerStyle={styles.containerStyle}>\n        <View>\n          <Text style={styles.header}>!</Text>\n          <Text style={styles.paragraph}>  !</Text>\n          <View style={styles.buttons}>\n            <Button mode='contained' onPress={hideDialog}></Button>\n          </View>\n        </View>\n      </Modal>\n    </Portal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  containerStyle: {\n    backgroundColor: 'white',\n    padding: 20,\n    margin: 20,\n    borderRadius: 8\n  },\n  header: {\n    textAlign: 'center',\n    fontSize: 30,\n    fontWeight: 'bold',\n    marginBottom: 10,\n  },\n  paragraph: {\n    textAlign: 'center',\n    marginBottom: 5,\n    fontSize: 16\n  },\n  buttons: {\n    marginTop: 20,\n    flexDirection: 'row',\n    justifyContent: 'center'\n  }\n});","import React, {useEffect, useState} from 'react';\nimport {Dimensions, ImageBackground, ScrollView, StyleSheet, TouchableOpacity, View} from \"react-native\";\nimport {ActivityIndicator} from \"react-native-paper\";\nimport {ClassroomType, DisabledState, Mode, OccupiedState, User, UserQueueState} from \"../../models/models\";\nimport {createStackNavigator} from \"@react-navigation/stack\";\nimport {RootStackParamList} from \"../../types\";\nimport ClassroomInfo from \"../../components/ClassroomInfo\";\nimport {useQuery} from \"@apollo/client\";\nimport ClassroomsBrowser from \"../../components/ClassroomsBrowser/ClassroomsBrowser\";\nimport {GET_CLASSROOMS_NO_SCHEDULE} from \"../../api/operations/queries/classrooms\";\nimport {FOLLOW_CLASSROOMS} from \"../../api/operations/subscriptions/classrooms\";\nimport {GET_USER_BY_ID} from \"../../api/operations/queries/users\";\nimport {FOLLOW_USER} from \"../../api/operations/subscriptions/user\";\nimport {getItem} from \"../../api/asyncStorage\";\nimport {hasOwnClassroom, isEnabledForCurrentDepartment, isEnabledForQueue} from \"../../helpers/helpers\";\nimport Buttons from \"./Buttons\";\nimport {useLocal} from \"../../hooks/useLocal\";\nimport {modeVar} from \"../../api/client\";\nimport ClassroomsAppBar from \"./ClassroomsAppBar\";\nimport Log from \"../../components/Log\";\nimport ConfirmContinueDesiredQueue from \"../../components/ConfirmContinueDesiredQueue\";\nimport {usePrevious} from \"../../hooks/usePrevious\";\nimport InlineDialog from \"../../components/InlineDialog\";\nimport QueueOutDialog from \"../../components/QueueOutDialog\";\n\nconst Stack = createStackNavigator<RootStackParamList>();\n\nconst windowHeight = Dimensions.get(\"window\").height;\n\nexport default function Home() {\n  const [currentUserId, setCurrentUserId] = useState(null);\n\n  useEffect(() => {\n    getItem('user').then((data: User) => setCurrentUserId(data.id));\n  }, []);\n  if (!currentUserId) return null;\n  // @ts-ignore\n  return <Stack.Navigator screenOptions={{headerShown: false}} initialRouteName='ClassroomsList'>\n    <Stack.Screen\n      name={'ClassroomsList' as any}\n      component={ClassroomsList}\n      initialParams={{currentUserId}}\n    />\n    <Stack.Screen\n      name={'ClassroomInfo' as any}\n      component={ClassroomInfo}\n      initialParams={{currentUserId}}\n    />\n  </Stack.Navigator>\n}\n\ntype QueryClassroomsData = {\n  classrooms: ClassroomType[];\n}\n\nconst ClassroomsList: React.FC = ({route}: any) => {\n  const {data: {mode}} = useLocal('mode');\n  const [showLog, setShowLog] = useState(false);\n  const [freeClassroomsAmount, setFreeClassroomsAmount] = useState(0);\n  const [showQueueInSuccess, setShownQueueInSuccess] = useState(false);\n  const [showQueueOutSuccess, setShownQueueOutSuccess] = useState(false);\n  const {\n    data,\n    loading,\n    error,\n    subscribeToMore\n  } = useQuery<QueryClassroomsData>(GET_CLASSROOMS_NO_SCHEDULE);\n  const {\n    data: userData,\n    loading: userLoading,\n    error: userError,\n    subscribeToMore: subscribeToMoreUser\n  } = useQuery(GET_USER_BY_ID, {\n    variables: {\n      where: {\n        id: route.params.currentUserId\n      }\n    }\n  });\n  const prevUserData: { user: User } = usePrevious(userData);\n\n  useEffect(() => {\n    if (userData && prevUserData) {\n      const {currentSession} = userData.user.queueInfo;\n      const {currentSession: prevSession} = prevUserData.user.queueInfo;\n      if (!prevSession && currentSession?.state === UserQueueState.IN_QUEUE_MINIMAL) {\n        setShownQueueInSuccess(true);\n      }\n      if (!currentSession &&\n        (prevSession?.state === UserQueueState.IN_QUEUE_MINIMAL ||\n          prevSession?.state === UserQueueState.IN_QUEUE_DESIRED_AND_OCCUPYING)) {\n        setShownQueueOutSuccess(true);\n      }\n    }\n  }, [userData]);\n\n  useEffect(() => {\n    const unsubscribeClassrooms = subscribeToMore({\n      document: FOLLOW_CLASSROOMS,\n    });\n    const unsubscribeUser = subscribeToMoreUser({\n      document: FOLLOW_USER,\n      variables: {\n        userId: route.params.currentUserId\n      }\n    });\n    return () => {\n      unsubscribeClassrooms();\n      unsubscribeUser();\n    };\n  }, []);\n\n  useEffect(() => {\n    if (!loading && !error && userData) {\n      const freeClassrooms = data.classrooms.filter(classroom => {\n        return classroom.occupied.state === OccupiedState.FREE\n          && classroom.disabled.state === DisabledState.NOT_DISABLED\n          && isEnabledForCurrentDepartment(classroom, userData.user)\n      });\n      setFreeClassroomsAmount(freeClassrooms.length);\n    }\n  }, [data, userData]);\n\n  useEffect(() => {\n    if (userData) {\n      if (!!userData.user.queue.length) modeVar(Mode.INLINE);\n      if (!userData.user.queue.length && mode === Mode.INLINE) modeVar(Mode.PRIMARY);\n    }\n  }, [userData]);\n\n  /**\n   * Find occupied classroom for current user (OCCUPIED or RESERVED)\n   * */\n  const own = ({id}: ClassroomType) => {\n    return id === hasOwnClassroom(userData.user.occupiedClassrooms);\n  };\n\n  /**\n   * Filter classrooms for primary state (not in queue and not in queue setup)\n   * Hidden shown when is occupied\n   * Without occupied by current user\n   * */\n  const primary = (classroom: ClassroomType) => {\n    const ownClassroomId = hasOwnClassroom(userData.user.occupiedClassrooms);\n    const fullHidden = classroom.occupied.state === OccupiedState.FREE && classroom.isHidden;\n\n    return classroom.id !== ownClassroomId && !fullHidden &&\n      !(userData.user.occupiedClassrooms.some((data: any) => {\n        return data.classroom.id === classroom.id && data.state === OccupiedState.PENDING\n      }))\n  };\n\n  /**\n   * From BE queue data\n   * Filter chosen classrooms in queue setup mode (MINIMAl and DESIRED)\n   * */\n  const chosen = (classroom: ClassroomType) => {\n\n    return userData.user.queue.some(({classroom: {id}, ...queueRecord}: any) => classroom.id === id)\n      && !(userData.user.occupiedClassrooms.some(({id}: ClassroomType) => classroom.id === id));\n  };\n\n  /**\n   * Others not in queue classrooms\n   * */\n  const notChosen = (classroom: ClassroomType) => {\n    const ownClassroomId = hasOwnClassroom(userData.user.occupiedClassrooms);\n\n    return !(userData.user.queue.some(({classroom: {id}}: any) => classroom.id === id)) &&\n      classroom.id !== ownClassroomId;\n  };\n\n  /**\n   * Filter action pending classrooms for current user\n   * */\n  const pending = ({id}: ClassroomType) => {\n    return userData.user.occupiedClassrooms.some((data: any) => {\n      return data.classroom.id === id && data.state === OccupiedState.PENDING\n    });\n  };\n\n  const handleShowLog = () => {\n    setShowLog(prevState => !prevState);\n  }\n\n  return (\n    <ImageBackground source={require('../../assets/images/bg.jpg')}\n                     style={{width: '100%', height: '100%'}}>\n      {!loading && !error && !userLoading && !userError\n      && userData.user.queueInfo.currentSession?.state === UserQueueState.IN_QUEUE_DESIRED_AND_OCCUPYING\n      && <ConfirmContinueDesiredQueue/>}\n      {!userLoading && !userError && (\n        <>\n          <InlineDialog visible={showQueueInSuccess}\n                        hideDialog={() => setShownQueueInSuccess(false)}\n          />\n          <QueueOutDialog visible={showQueueOutSuccess}\n                          hideDialog={() => setShownQueueOutSuccess(false)}\n          />\n        </>\n      )}\n      {mode !== Mode.QUEUE_SETUP && (\n        <TouchableOpacity style={styles.hiddenLogButton} onLongPress={handleShowLog}\n                          delayLongPress={3000}>\n        </TouchableOpacity>\n      )}\n      {!loading && !error && !userLoading && !userError && (\n        <ClassroomsAppBar freeClassroomsAmount={freeClassroomsAmount} classrooms={data.classrooms}\n                          currentUser={userData.user}\n        />\n      )}\n\n      <View style={styles.wrapper}>\n        {showLog && (\n          <Log data={JSON.stringify({...userData.user.queueInfo, ...userData.user.queue})}/>\n        )}\n        {!loading && !error && !userLoading && !userError && (\n          <ScrollView>\n            {/**\n             My classroom: OCCUPIED or RESERVED classroom by current user\n             Shown anytime except QUEUE_SETUP mode.\n             */}\n            {mode !== Mode.QUEUE_SETUP && (\n              <ClassroomsBrowser classrooms={data.classrooms.filter(own)} currentUser={userData.user}\n                                 title=' '\n              />\n            )}\n\n            {/**\n             Pending classroom: PENDING for approval by current user\n             Shown in QUEUED mode\n             */}\n            {mode === Mode.INLINE && (\n              <ClassroomsBrowser classrooms={data.classrooms.filter(pending)} currentUser={userData.user}\n                                 title=',   '\n              />\n            )}\n\n            {/**\n             Classrooms browser shown when current user is not in queue\n             Shown all classrooms except classrooms of current user (OCCUPIED, PENDING and RESERVED)\n             and hidden and FREE at same time\n             */}\n            {mode === Mode.PRIMARY && (\n              <ClassroomsBrowser classrooms={data.classrooms.filter(primary)} currentUser={userData.user}\n                                 title=' '\n              />\n            )}\n\n            {/**\n             Classrooms browser shown when current user is in QUEUE_SETUP mode\n             Shown all classrooms except classrooms of current user (OCCUPIED, PENDING and RESERVED),\n             hidden, free, disabled and disabled for current department\n             */}\n            {mode === Mode.QUEUE_SETUP && (\n              <ClassroomsBrowser classrooms={data.classrooms.filter((classroom => {\n                return isEnabledForQueue(classroom, userData.user);\n              }))} currentUser={userData.user}/>\n            )}\n\n            {/**\n             All chosen for queue classrooms when IN_QUEUE mode is enabled\n             */}\n            {mode === Mode.INLINE && (\n              <ClassroomsBrowser classrooms={data.classrooms.filter(chosen)} currentUser={userData.user}\n                                 title=',      '\n              />\n            )}\n\n            {/**\n             All NOT chosen for queue classrooms when IN_QUEUE mode is enabled\n             */}\n            {mode === Mode.INLINE && (\n              <ClassroomsBrowser classrooms={data.classrooms.filter(notChosen)} currentUser={userData.user}\n                                 title=' '\n              />\n            )}\n          </ScrollView>\n        )}\n        {loading && <ActivityIndicator animating color='#fff' size={64}/>}\n      </View>\n      {!!userData && !loading && !error && (\n        <Buttons currentUser={userData.user} classrooms={data.classrooms}/>\n      )}\n    </ImageBackground>\n  )\n}\n\nconst styles = StyleSheet.create(\n  {\n    grid: {\n      marginBottom: 80,\n      marginLeft: 2,\n      flexDirection: 'row',\n      flexWrap: 'wrap',\n      justifyContent: 'flex-start'\n    },\n    getInLine: {\n      position: 'absolute',\n      zIndex: 1,\n      bottom: 15,\n      width: '55%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    getOutLine: {\n      position: 'absolute',\n      zIndex: 1,\n      bottom: 15,\n      left: 20,\n      width: '43%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    getOutLineSingle: {\n      position: 'absolute',\n      zIndex: 1,\n      bottom: 15,\n      width: '55%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    approve: {\n      position: 'absolute',\n      zIndex: 1,\n      right: 20,\n      bottom: 15,\n      width: '43%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    wrapper: {\n      width: '100%',\n      height: '100%',\n      alignItems: 'center',\n      justifyContent: 'center',\n      backgroundColor: 'transparent',\n      paddingTop: 80,\n    },\n    queueSwitcher: {\n      flexDirection: 'row',\n      width: '76%',\n      justifyContent: 'center',\n      paddingHorizontal: 5,\n      marginHorizontal: 20,\n      alignItems: 'center',\n    },\n    gridDivider: {\n      color: '#fff',\n      marginBottom: 10,\n      marginLeft: 3,\n      marginRight: 3,\n      paddingLeft: 17,\n      borderBottomWidth: 1,\n      borderBottomColor: '#ffffff77',\n      paddingBottom: 10\n    },\n    hiddenLogButton: {\n      position: \"absolute\",\n      zIndex: 1000,\n      width: 100,\n      height: 50,\n      top: 16,\n      right: 16,\n    }\n  }\n);","import {useEffect, useRef} from \"react\";\n\nexport function usePrevious(value: any) {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n};","import React, {useEffect, useState} from 'react';\nimport {View, Text, StyleSheet, ImageBackground} from \"react-native\";\nimport {Appbar, Button, Title} from \"react-native-paper\";\nimport {client, meVar} from \"../../api/client\";\nimport {GET_USER_BY_ID} from \"../../api/operations/queries/users\";\nimport {getItem, removeItem, setItem} from \"../../api/asyncStorage\";\nimport { useNavigation } from '@react-navigation/native';\n\nexport default function Frozen() {\n  const message1 = '  .        .  :';\n  const message2 = '        .';\n  const [storageUser, setStorageUser] = useState<any>(null);\n  const [update, setUpdate] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const navigation = useNavigation();\n\n  useEffect(() => {\n    getItem('user').then(u => setStorageUser(u));\n  },[]);\n\n  useEffect(() => {\n    if (storageUser) {\n      setIsLoading(true);\n      client.query({\n        query: GET_USER_BY_ID,\n        variables: {\n          where: {id: storageUser.id}\n        },\n        fetchPolicy: 'network-only',\n      }).then(({data: {user}}) => {\n        setItem('user', user).then(() => {\n          setIsLoading(false);\n        });\n      });\n    }\n  }, [update]);\n\n  const navigateToLogin = async () => {\n    await removeItem('user');\n    meVar(null);\n  };\n\n  return <ImageBackground source={require('../../assets/images/bg.jpg')}\n                          style={{width: '100%', height: '100%'}}>\n    <View style={styles.container}>\n      <View style={styles.wrapper}>\n        <Title style={styles.title}> </Title>\n        <Text style={styles.message}>{message1}</Text>\n        <Title style={styles.number}>{storageUser ? storageUser.id : ''}</Title>\n        <Text style={styles.message}>{message2}</Text>\n        <Button mode='contained' style={styles.button} loading={isLoading} disabled={isLoading}\n                onPress={() => setUpdate(prevState => !prevState)}\n        >\n          \n        </Button>\n        <Button mode='contained' style={styles.button} onPress={navigateToLogin}>\n            \n        </Button>\n      </View>\n    </View>\n  </ImageBackground>\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n  },\n  top: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    paddingTop: 26,\n    height: 80,\n    backgroundColor: 'transparent',\n    elevation: 0\n  },\n  wrapper: {},\n  title: {\n    textAlign: 'center',\n    fontSize: 32,\n    padding: 10,\n    lineHeight: 40,\n    fontWeight: 'bold',\n    color: '#fff',\n    marginBottom: 15\n  },\n  number: {\n    textAlign: 'center',\n    fontSize: 50,\n    padding: 30,\n    lineHeight: 60,\n    marginHorizontal: 20,\n    marginBottom: 12,\n    color: '#fff',\n    borderRadius: 8,\n    borderStyle: \"solid\",\n    borderColor: '#ffffff33',\n    borderWidth: 1,\n  },\n  message: {\n    textAlign: 'center',\n    borderRadius: 8,\n    backgroundColor: '#b5e3ff77',\n    padding: 8,\n    marginHorizontal: 20,\n    marginBottom: 10,\n    fontSize: 20,\n  },\n  button: {\n    width: 200,\n    alignSelf: 'center',\n    marginTop: 10,\n    height: 50,\n    justifyContent: 'center'\n  }\n});","import React from 'react';\nimport {StyleSheet, Text, ImageBackground, View} from \"react-native\";\nimport {ProgressBar} from \"react-native-paper\";\n\nexport default function Loading() {\n\n  return (\n    <ImageBackground source={require('../assets/images/bg.jpg')} style={styles.background}>\n      <Text style={styles.text}>Loading...</Text>\n      <View style={{width: '70%', marginTop: 40}}>\n        <ProgressBar indeterminate color='#fff'/>\n      </View>\n    </ImageBackground>\n  )\n}\n\nconst styles = StyleSheet.create({\n  background: {\n    width: '100%',\n    height: '100%',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  text: {\n    color: '#fff',\n    fontSize: 24\n  }\n});","import React from 'react';\nimport {ImageBackground, Image, View} from \"react-native\";\nimport {ProgressBar} from \"react-native-paper\";\n\nexport default function Splash() {\n\n  return (\n    <ImageBackground source={require('./../assets/images/bg.jpg')} style={{\n      width: '100%',\n      height: '100%',\n      alignItems: 'center',\n      justifyContent: 'center'\n    }}>\n      <Image source={require('./../assets/images/au_logo_shadow.png')} style={{\n        width: '80%',\n        resizeMode: 'contain',\n        height: 130,\n      }}/>\n      <View style={{width: '70%', marginTop: 40}}>\n        <ProgressBar indeterminate color='#fff'/>\n      </View>\n    </ImageBackground>\n  )\n};","import React from 'react';\nimport {ScrollView, StyleSheet, View} from \"react-native\";\nimport {Appbar, Paragraph, Title} from \"react-native-paper\";\n\nexport default function PrivacyPolicy({ navigation }: any) {\n\n  const goBack = () => navigation.goBack();\n\n  return (\n    <View>\n      <Appbar style={styles.top}>\n        <Appbar.BackAction onPress={goBack}/>\n        <Appbar.Content\n          title=' '\n        />\n      </Appbar>\n      <ScrollView style={styles.wrapper}>\n          <Title>Privacy Policy for Auditorium</Title>\n          <Paragraph>At auditorium, accessible from http://auditorium.com.ua, one of our main priorities is the privacy of our visitors. This Privacy Policy document contains types of information that is collected and recorded by auditorium and how we use it.\n          </Paragraph>\n          <Paragraph>\n          If you have additional questions or require more information about our Privacy Policy, do not hesitate to contact us.\n          </Paragraph>\n          <Paragraph>\n          This Privacy Policy applies only to our online activities and is valid for visitors to our website with regards to the information that they shared and/or collect in auditorium. This policy is not applicable to any information collected offline or via channels other than this website. Our Privacy Policy was created with the help of the Privacy Policy Generator.\n          </Paragraph>\n          <Paragraph>\n          Consent\n          By using our website, you hereby consent to our Privacy Policy and agree to its terms.\n          </Paragraph>\n          <Paragraph>\n          Information we collect\n          The personal information that you are asked to provide, and the reasons why you are asked to provide it, will be made clear to you at the point we ask you to provide your personal information.\n          </Paragraph>\n          <Paragraph>\n          If you contact us directly, we may receive additional information about you such as your name, email address, phone number, the contents of the message and/or attachments you may send us, and any other information you may choose to provide.\n          </Paragraph>\n          <Paragraph>\n          When you register for an Account, we may ask for your contact information, including items such as name, company name, address, email address, and telephone number.\n          </Paragraph>\n          <Paragraph>\n          How we use your information\n          We use the information we collect in various ways, including to:\n          </Paragraph>\n          <Paragraph>\n          Provide, operate, and maintain our website\n          Improve, personalize, and expand our website\n          Understand and analyze how you use our website\n          Develop new products, services, features, and functionality\n          Communicate with you, either directly or through one of our partners, including for customer service, to provide you with updates and other information relating to the website, and for marketing and promotional purposes\n          Send you emails\n          Find and prevent fraud\n          Log Files\n          auditorium follows a standard procedure of using log files. These files log visitors when they visit websites. All hosting companies do this and a part of hosting services' analytics. The information collected by log files include internet protocol (IP) addresses, browser type, Internet Service Provider (ISP), date and time stamp, referring/exit pages, and possibly the number of clicks. These are not linked to any information that is personally identifiable. The purpose of the information is for analyzing trends, administering the site, tracking users' movement on the website, and gathering demographic information.\n          </Paragraph>\n          <Paragraph>\n          Advertising Partners Privacy Policies\n          You may consult this list to find the Privacy Policy for each of the advertising partners of auditorium.\n          </Paragraph>\n          <Paragraph>\n          Third-party ad servers or ad networks uses technologies like cookies, JavaScript, or Web Beacons that are used in their respective advertisements and links that appear on auditorium, which are sent directly to users' browser. They automatically receive your IP address when this occurs. These technologies are used to measure the effectiveness of their advertising campaigns and/or to personalize the advertising content that you see on websites that you visit.\n          </Paragraph>\n          <Paragraph>\n          Note that auditorium has no access to or control over these cookies that are used by third-party advertisers.\n          </Paragraph>\n          <Paragraph>\n          Third Party Privacy Policies\n          auditorium's Privacy Policy does not apply to other advertisers or websites. Thus, we are advising you to consult the respective Privacy Policies of these third-party ad servers for more detailed information. It may include their practices and instructions about how to opt-out of certain options.\n          </Paragraph>\n          <Paragraph>\n          You can choose to disable cookies through your individual browser options. To know more detailed information about cookie management with specific web browsers, it can be found at the browsers' respective websites.\n          </Paragraph>\n          <Paragraph>\n          CCPA Privacy Rights (Do Not Sell My Personal Information)\n          Under the CCPA, among other rights, California consumers have the right to:\n          </Paragraph>\n          <Paragraph>\n          Request that a business that collects a consumer's personal data disclose the categories and specific pieces of personal data that a business has collected about consumers.\n          </Paragraph>\n          <Paragraph>\n          Request that a business delete any personal data about the consumer that a business has collected.\n          </Paragraph>\n          <Paragraph>\n          Request that a business that sells a consumer's personal data, not sell the consumer's personal data.\n          </Paragraph>\n          <Paragraph>\n          If you make a request, we have one month to respond to you. If you would like to exercise any of these rights, please contact us.\n          </Paragraph>\n          <Paragraph>\n          GDPR Data Protection Rights\n          We would like to make sure you are fully aware of all of your data protection rights. Every user is entitled to the following:\n          </Paragraph>\n          <Paragraph>\n          The right to access  You have the right to request copies of your personal data. We may charge you a small fee for this service.\n          </Paragraph>\n          <Paragraph>\n          The right to rectification  You have the right to request that we correct any information you believe is inaccurate. You also have the right to request that we complete the information you believe is incomplete.\n          </Paragraph>\n          <Paragraph>\n          The right to erasure  You have the right to request that we erase your personal data, under certain conditions.\n          </Paragraph>\n          <Paragraph>\n          The right to restrict processing  You have the right to request that we restrict the processing of your personal data, under certain conditions.\n          </Paragraph>\n          <Paragraph>\n          The right to object to processing  You have the right to object to our processing of your personal data, under certain conditions.\n          </Paragraph>\n          <Paragraph>\n          The right to data portability  You have the right to request that we transfer the data that we have collected to another organization, or directly to you, under certain conditions.\n          </Paragraph>\n          <Paragraph>\n          If you make a request, we have one month to respond to you. If you would like to exercise any of these rights, please contact us.\n          </Paragraph>\n          <Paragraph>\n          Children's Information\n          Another part of our priority is adding protection for children while using the internet. We encourage parents and guardians to observe, participate in, and/or monitor and guide their online activity.\n          </Paragraph>\n          <Paragraph>\n          auditorium does not knowingly collect any Personal Identifiable Information from children under the age of 13. If you think that your child provided this kind of information on our website, we strongly encourage you to contact us immediately and we will do our best efforts to promptly remove such information from our records.\n          </Paragraph>\n      </ScrollView>\n    </View>\n  )\n}\n\nconst styles = StyleSheet.create({\n  top: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    paddingTop: 26,\n    height: 80,\n    backgroundColor: '#2e287c',\n  },\n  wrapper: {\n    marginTop: 100,\n    marginLeft: 16,\n    marginRight: 16,\n  },\n});","import {DarkTheme, DefaultTheme, NavigationContainer} from '@react-navigation/native';\nimport {createStackNavigator} from '@react-navigation/stack';\nimport * as React from 'react';\nimport {useEffect, useState} from 'react';\nimport {ColorSchemeName, StyleSheet} from 'react-native';\nimport {RootStackParamList} from '../types';\nimport Login from \"../screens/Login\";\nimport SignUp from \"../screens/Signup/SignUp\";\nimport ForgotPassword from \"../screens/ForgotPassword\";\nimport ForgotPasswordSuccess from \"../screens/ForgotPasswordSuccess\";\nimport {createDrawerNavigator} from \"@react-navigation/drawer\";\nimport Users from \"../screens/Users\";\nimport CustomSidebarMenu from \"./CustomSidebarMenu\";\nimport Profile from \"../screens/Profile\";\nimport {getItem} from \"../api/asyncStorage\";\nimport {AccountStatuses, User} from \"../models/models\";\nimport SignUpStepTwo from \"../screens/Signup/SignUpStepTwo\";\nimport Verification from \"../screens/Signup/Verification\";\nimport Home from \"../screens/ClassroomsList/ClassroomsList\";\nimport {meVar} from \"../api/client\";\nimport {useQuery} from \"@apollo/client\";\nimport {GET_ME} from \"../api/operations/queries/me\";\nimport Frozen from \"../screens/Signup/Frozen\";\nimport Loading from \"../screens/Loading\";\nimport * as SplashScreen from \"expo-splash-screen\";\nimport Splash from \"../screens/Splash\";\nimport PrivacyPolicy from \"../screens/PrivacyPolicy\";\n\nexport default function Navigation({colorScheme}: { colorScheme: ColorSchemeName }) {\n  return (\n    <NavigationContainer\n      theme={colorScheme === 'dark' ? DarkTheme : DefaultTheme}>\n      <RootNavigator/>\n    </NavigationContainer>\n  );\n}\n\nconst Drawer = createDrawerNavigator();\nconst Stack = createStackNavigator<RootStackParamList>();\n\n\nfunction RootNavigator() {\n  const [accountStatus, setAccountStatus] = useState<AccountStatuses | null>(null);\n  const {data: {me}} = useQuery(GET_ME);\n  const [appIsReady, setAppIsReady] = useState(false);\n\n  const getAccountStatus = (user: User) => {\n    //@ts-ignore\n    const {studentInfo, employeeInfo} = user;\n\n    const isStudent = !!studentInfo;\n    const status = isStudent ? studentInfo?.accountStatus : employeeInfo?.accountStatus;\n    setAccountStatus(status);\n  }\n\n  const getMe = async () => {\n    if (!me) {\n      try {\n        const user: User | undefined = await getItem('user')\n        if (user) {\n          getAccountStatus(user);\n          meVar(user);\n        } else {\n        }\n      } catch (e) {\n        alert(JSON.stringify(e));\n      }\n    } else {\n      getAccountStatus(me);\n    }\n  }\n\n  useEffect(() => {\n    getMe();\n  }, [me]);\n\n  const checkStatus = ((accountStatus: AccountStatuses) => {\n    switch (accountStatus) {\n      case AccountStatuses.UNVERIFIED:\n        return Verification;\n      case AccountStatuses.FROZEN:\n      case AccountStatuses.ACADEMIC_LEAVE:\n        return Frozen;\n      case AccountStatuses.ACTIVE:\n        return Home;\n      default:\n        return Loading;\n    }\n  });\n\n\n  useEffect(() => {\n    async function prepare() {\n      try {\n        await getMe();\n        await SplashScreen.preventAutoHideAsync();\n      } catch (e) {\n        console.warn(e);\n      } finally {\n        setAppIsReady(true);\n      }\n    }\n\n    prepare();\n  }, []);\n\n return (\n    me ? <Drawer.Navigator initialRouteName=\"Home\" drawerStyle={styles.drawer} drawerContentOptions={{\n        activeBackgroundColor: '#2b5dff',\n        labelStyle: {\n          fontSize: 20,\n          color: '#fff'\n        },\n      }}\n                           drawerContent={(props: any) => <CustomSidebarMenu {...props}/>}\n      >\n        <Drawer.Screen name=\"Home\"\n          //TODO set !== to ===\n                       component={checkStatus(accountStatus as AccountStatuses)}\n                       options={{\n                         title: '',\n                       }}\n                       initialParams={{id: meVar()?.id}}\n        />\n        <Drawer.Screen name=\"Users\" component={Users} options={{\n          title: '',\n        }}/>\n        {/*<Drawer.Screen name=\"Schedule\" component={Schedule} options={{*/}\n        {/*  title: ''*/}\n        {/*}}/>*/}\n        <Drawer.Screen name=\"Profile\" component={Profile} options={{\n          title: ' '\n        }}/>\n        <Drawer.Screen name=\"PrivacyPolicy\" component={PrivacyPolicy} options={{\n          title: ' '\n        }}/>\n      </Drawer.Navigator>\n      : <Stack.Navigator screenOptions={{headerShown: false}} initialRouteName=\"Login\">\n        <Stack.Screen\n          name=\"Login\"\n          component={appIsReady ? Login : Splash}\n        />\n        <Stack.Screen\n          name=\"SignUp\"\n          component={SignUp}\n        />\n        <Stack.Screen\n          name=\"SignUpStepTwo\"\n          component={SignUpStepTwo}\n        />\n        <Stack.Screen\n          name=\"ForgotPassword\"\n          component={ForgotPassword}\n        />\n        <Stack.Screen\n          name=\"ForgotPasswordSuccess\"\n          component={ForgotPasswordSuccess}\n        />\n      </Stack.Navigator>\n  );\n}\n\nconst styles = StyleSheet.create({\n  drawer: {\n    backgroundColor: '#2e287c',\n  }\n});\n","import {StatusBar} from 'expo-status-bar';\nimport React from 'react';\nimport {SafeAreaProvider} from 'react-native-safe-area-context';\n\nimport useColorScheme from './hooks/useColorScheme';\nimport Navigation from './navigation';\nimport {ApolloProvider} from \"@apollo/client\";\nimport {client} from \"./api/client\";\nimport {Provider, DefaultTheme} from \"react-native-paper\";\nimport PushNotification from \"./screens/PushNotification\";\n\nexport default function App() {\n  const colorScheme = useColorScheme();\n\n  const theme = {\n    ...DefaultTheme,\n    roundness: 8,\n    colors: {\n      ...DefaultTheme.colors,\n      primary: '#2b5dff',\n      accent: '#ffc000',\n    },\n  };\n\n  return (\n    <ApolloProvider client={client}>\n      <SafeAreaProvider>\n        <Provider theme={theme}>\n          <Navigation colorScheme={colorScheme}/>\n          <StatusBar/>\n        </Provider>\n      </SafeAreaProvider>\n    </ApolloProvider>\n  );\n}\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOAAAACICAYAAAD+iufWAAAB6klEQVR4Xu3TsS1AUQBA0T+ERIE5xBg6pVKisYAYxwB6iULQiE4kFKIwxuN/hQ3ebU5xijvAXQ6vnsdyejd2zu+BSdbntvf2Lx7GcnILTLa9Z0BoGBBCBoSQASFkQAgZEEIGhJABIWRACBkQQgaEkAEhZEAIGRBCBoSQASFkQAgZEEIGhJABIWRACBkQQgaEkAEhZEAIGRBCBoSQASFkQAgZEEIGhJABIWRACBkQQgaEkAEhZEAIGRBCBoSQASFkQAgZEEIGhJABIWRACBkQQgaEkAEhZEAIGRBCBoSQASFkQAgZEEIGhJABIWRACBkQQgaEkAEhZEAIGRBCBoSQASH0P+DxIzDZ9t7R5c3YPbsGJlvfW75f9sbX0wJMtr63jI9lAI2/AV+B6QwIIQNCyIAQMiCEDAghA0LIgBAyIIQMCCEDQsiAEDIghAwIIQNCyIAQMiCEDAghA0LIgBAyIIQMCCEDQsiAEDIghAwIIQNCyIAQMiCEDAghA0LIgBAyIIQMCCEDQsiAEDIghAwIIQNCyIAQMiCEDAghA0LIgBAyIIQMCCEDQsiAEDIghAwIIQNCyIAQMiCEDAghA0LIgBAyIIQMCCEDQsiAEDIghAwIIQNCyIAQMiCEtgE/D8Z4+413YJr1ud/3fgCFyrWhM9fD5QAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/en.d565fadc.png\";","var map = {\n\t\"./af\": 275,\n\t\"./af.js\": 275,\n\t\"./ar\": 276,\n\t\"./ar-dz\": 277,\n\t\"./ar-dz.js\": 277,\n\t\"./ar-kw\": 278,\n\t\"./ar-kw.js\": 278,\n\t\"./ar-ly\": 279,\n\t\"./ar-ly.js\": 279,\n\t\"./ar-ma\": 280,\n\t\"./ar-ma.js\": 280,\n\t\"./ar-sa\": 281,\n\t\"./ar-sa.js\": 281,\n\t\"./ar-tn\": 282,\n\t\"./ar-tn.js\": 282,\n\t\"./ar.js\": 276,\n\t\"./az\": 283,\n\t\"./az.js\": 283,\n\t\"./be\": 284,\n\t\"./be.js\": 284,\n\t\"./bg\": 285,\n\t\"./bg.js\": 285,\n\t\"./bm\": 286,\n\t\"./bm.js\": 286,\n\t\"./bn\": 287,\n\t\"./bn-bd\": 288,\n\t\"./bn-bd.js\": 288,\n\t\"./bn.js\": 287,\n\t\"./bo\": 289,\n\t\"./bo.js\": 289,\n\t\"./br\": 290,\n\t\"./br.js\": 290,\n\t\"./bs\": 291,\n\t\"./bs.js\": 291,\n\t\"./ca\": 292,\n\t\"./ca.js\": 292,\n\t\"./cs\": 293,\n\t\"./cs.js\": 293,\n\t\"./cv\": 294,\n\t\"./cv.js\": 294,\n\t\"./cy\": 295,\n\t\"./cy.js\": 295,\n\t\"./da\": 296,\n\t\"./da.js\": 296,\n\t\"./de\": 297,\n\t\"./de-at\": 298,\n\t\"./de-at.js\": 298,\n\t\"./de-ch\": 299,\n\t\"./de-ch.js\": 299,\n\t\"./de.js\": 297,\n\t\"./dv\": 300,\n\t\"./dv.js\": 300,\n\t\"./el\": 301,\n\t\"./el.js\": 301,\n\t\"./en-au\": 302,\n\t\"./en-au.js\": 302,\n\t\"./en-ca\": 303,\n\t\"./en-ca.js\": 303,\n\t\"./en-gb\": 304,\n\t\"./en-gb.js\": 304,\n\t\"./en-ie\": 305,\n\t\"./en-ie.js\": 305,\n\t\"./en-il\": 306,\n\t\"./en-il.js\": 306,\n\t\"./en-in\": 307,\n\t\"./en-in.js\": 307,\n\t\"./en-nz\": 308,\n\t\"./en-nz.js\": 308,\n\t\"./en-sg\": 309,\n\t\"./en-sg.js\": 309,\n\t\"./eo\": 310,\n\t\"./eo.js\": 310,\n\t\"./es\": 311,\n\t\"./es-do\": 312,\n\t\"./es-do.js\": 312,\n\t\"./es-mx\": 313,\n\t\"./es-mx.js\": 313,\n\t\"./es-us\": 314,\n\t\"./es-us.js\": 314,\n\t\"./es.js\": 311,\n\t\"./et\": 315,\n\t\"./et.js\": 315,\n\t\"./eu\": 316,\n\t\"./eu.js\": 316,\n\t\"./fa\": 317,\n\t\"./fa.js\": 317,\n\t\"./fi\": 318,\n\t\"./fi.js\": 318,\n\t\"./fil\": 319,\n\t\"./fil.js\": 319,\n\t\"./fo\": 320,\n\t\"./fo.js\": 320,\n\t\"./fr\": 321,\n\t\"./fr-ca\": 322,\n\t\"./fr-ca.js\": 322,\n\t\"./fr-ch\": 323,\n\t\"./fr-ch.js\": 323,\n\t\"./fr.js\": 321,\n\t\"./fy\": 324,\n\t\"./fy.js\": 324,\n\t\"./ga\": 325,\n\t\"./ga.js\": 325,\n\t\"./gd\": 326,\n\t\"./gd.js\": 326,\n\t\"./gl\": 327,\n\t\"./gl.js\": 327,\n\t\"./gom-deva\": 328,\n\t\"./gom-deva.js\": 328,\n\t\"./gom-latn\": 329,\n\t\"./gom-latn.js\": 329,\n\t\"./gu\": 330,\n\t\"./gu.js\": 330,\n\t\"./he\": 331,\n\t\"./he.js\": 331,\n\t\"./hi\": 332,\n\t\"./hi.js\": 332,\n\t\"./hr\": 333,\n\t\"./hr.js\": 333,\n\t\"./hu\": 334,\n\t\"./hu.js\": 334,\n\t\"./hy-am\": 335,\n\t\"./hy-am.js\": 335,\n\t\"./id\": 336,\n\t\"./id.js\": 336,\n\t\"./is\": 337,\n\t\"./is.js\": 337,\n\t\"./it\": 338,\n\t\"./it-ch\": 339,\n\t\"./it-ch.js\": 339,\n\t\"./it.js\": 338,\n\t\"./ja\": 340,\n\t\"./ja.js\": 340,\n\t\"./jv\": 341,\n\t\"./jv.js\": 341,\n\t\"./ka\": 342,\n\t\"./ka.js\": 342,\n\t\"./kk\": 343,\n\t\"./kk.js\": 343,\n\t\"./km\": 344,\n\t\"./km.js\": 344,\n\t\"./kn\": 345,\n\t\"./kn.js\": 345,\n\t\"./ko\": 346,\n\t\"./ko.js\": 346,\n\t\"./ku\": 347,\n\t\"./ku.js\": 347,\n\t\"./ky\": 348,\n\t\"./ky.js\": 348,\n\t\"./lb\": 349,\n\t\"./lb.js\": 349,\n\t\"./lo\": 350,\n\t\"./lo.js\": 350,\n\t\"./lt\": 351,\n\t\"./lt.js\": 351,\n\t\"./lv\": 352,\n\t\"./lv.js\": 352,\n\t\"./me\": 353,\n\t\"./me.js\": 353,\n\t\"./mi\": 354,\n\t\"./mi.js\": 354,\n\t\"./mk\": 355,\n\t\"./mk.js\": 355,\n\t\"./ml\": 356,\n\t\"./ml.js\": 356,\n\t\"./mn\": 357,\n\t\"./mn.js\": 357,\n\t\"./mr\": 358,\n\t\"./mr.js\": 358,\n\t\"./ms\": 359,\n\t\"./ms-my\": 360,\n\t\"./ms-my.js\": 360,\n\t\"./ms.js\": 359,\n\t\"./mt\": 361,\n\t\"./mt.js\": 361,\n\t\"./my\": 362,\n\t\"./my.js\": 362,\n\t\"./nb\": 363,\n\t\"./nb.js\": 363,\n\t\"./ne\": 364,\n\t\"./ne.js\": 364,\n\t\"./nl\": 365,\n\t\"./nl-be\": 366,\n\t\"./nl-be.js\": 366,\n\t\"./nl.js\": 365,\n\t\"./nn\": 367,\n\t\"./nn.js\": 367,\n\t\"./oc-lnc\": 368,\n\t\"./oc-lnc.js\": 368,\n\t\"./pa-in\": 369,\n\t\"./pa-in.js\": 369,\n\t\"./pl\": 370,\n\t\"./pl.js\": 370,\n\t\"./pt\": 371,\n\t\"./pt-br\": 372,\n\t\"./pt-br.js\": 372,\n\t\"./pt.js\": 371,\n\t\"./ro\": 373,\n\t\"./ro.js\": 373,\n\t\"./ru\": 374,\n\t\"./ru.js\": 374,\n\t\"./sd\": 375,\n\t\"./sd.js\": 375,\n\t\"./se\": 376,\n\t\"./se.js\": 376,\n\t\"./si\": 377,\n\t\"./si.js\": 377,\n\t\"./sk\": 378,\n\t\"./sk.js\": 378,\n\t\"./sl\": 379,\n\t\"./sl.js\": 379,\n\t\"./sq\": 380,\n\t\"./sq.js\": 380,\n\t\"./sr\": 381,\n\t\"./sr-cyrl\": 382,\n\t\"./sr-cyrl.js\": 382,\n\t\"./sr.js\": 381,\n\t\"./ss\": 383,\n\t\"./ss.js\": 383,\n\t\"./sv\": 384,\n\t\"./sv.js\": 384,\n\t\"./sw\": 385,\n\t\"./sw.js\": 385,\n\t\"./ta\": 386,\n\t\"./ta.js\": 386,\n\t\"./te\": 387,\n\t\"./te.js\": 387,\n\t\"./tet\": 388,\n\t\"./tet.js\": 388,\n\t\"./tg\": 389,\n\t\"./tg.js\": 389,\n\t\"./th\": 390,\n\t\"./th.js\": 390,\n\t\"./tk\": 391,\n\t\"./tk.js\": 391,\n\t\"./tl-ph\": 392,\n\t\"./tl-ph.js\": 392,\n\t\"./tlh\": 393,\n\t\"./tlh.js\": 393,\n\t\"./tr\": 394,\n\t\"./tr.js\": 394,\n\t\"./tzl\": 395,\n\t\"./tzl.js\": 395,\n\t\"./tzm\": 396,\n\t\"./tzm-latn\": 397,\n\t\"./tzm-latn.js\": 397,\n\t\"./tzm.js\": 396,\n\t\"./ug-cn\": 398,\n\t\"./ug-cn.js\": 398,\n\t\"./uk\": 399,\n\t\"./uk.js\": 399,\n\t\"./ur\": 400,\n\t\"./ur.js\": 400,\n\t\"./uz\": 401,\n\t\"./uz-latn\": 402,\n\t\"./uz-latn.js\": 402,\n\t\"./uz.js\": 401,\n\t\"./vi\": 403,\n\t\"./vi.js\": 403,\n\t\"./x-pseudo\": 404,\n\t\"./x-pseudo.js\": 404,\n\t\"./yo\": 405,\n\t\"./yo.js\": 405,\n\t\"./zh-cn\": 406,\n\t\"./zh-cn.js\": 406,\n\t\"./zh-hk\": 407,\n\t\"./zh-hk.js\": 407,\n\t\"./zh-mo\": 408,\n\t\"./zh-mo.js\": 408,\n\t\"./zh-tw\": 409,\n\t\"./zh-tw.js\": 409\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 585;","module.exports = __webpack_public_path__ + \"static/media/au_logo.de05cb10.png\";","module.exports = __webpack_public_path__ + \"static/media/key.5df04324.png\";"],"sourceRoot":""}