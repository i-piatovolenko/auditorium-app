{"version":3,"sources":["assets/images/bg.jpg","assets/images/specialPiano.png","assets/images/GrandPiano.png","assets/images/star.png","assets/images/au_logo_shadow.png","assets/images/Chembalo.png","assets/images/UpRightPiano.png","hooks/useColorScheme.ts","constants/Colors.ts","components/Themed.tsx","api/operations/mutations/login.ts","components/WaitDialog.tsx","models/models.ts","api/asyncStorage.ts","components/ErrorDialog.tsx","api/client.ts","api/operations/queries/lang.ts","screens/Login.tsx","api/operations/queries/degrees.ts","hooks/useDegrees.ts","api/operations/queries/departments.ts","hooks/useDepartments.ts","screens/Signup/components/Agreement.tsx","components/CustomPicker/CustomPicker.tsx","components/CustomPicker/CustomPickerField.tsx","api/operations/mutations/signUp.ts","components/InfoDialog.tsx","screens/Signup/SignUp.tsx","screens/ForgotPassword.tsx","screens/ForgotPasswordSuccess.tsx","api/operations/queries/users.ts","hooks/useUsers.ts","helpers/helpers.ts","components/UserInfo.tsx","screens/Users.tsx","navigation/CustomSidebarMenu.tsx","api/operations/queries/me.ts","screens/Profile.tsx","screens/Signup/SignUpStepTwo.tsx","screens/Signup/Verification.tsx","hooks/useLocal.ts","api/operations/mutations/addUserToQueue.ts","api/operations/queries/classroom.ts","components/InstrumentInfo.tsx","components/InstrumentItem.tsx","hooks/useTimeLeft.ts","helpers/constants.ts","components/OccupantInfo.tsx","helpers/queue/getInLine.ts","api/operations/mutations/removeUserFromQueue.ts","helpers/queue/removeFromLine.ts","components/ClassroomQueueControlButtons.tsx","components/ClassroomInfo.tsx","helpers/sortAB.ts","components/ClassroomsBrowser/FreeClassroomCell.tsx","components/ClassroomsBrowser/OccupiedClassroomCell.tsx","components/ClassroomsBrowser/ReservedClassroomCell.tsx","components/ClassroomsBrowser/PendingClassroomCell.tsx","components/ClassroomsBrowser/OccupiedByCurrentUserClassroomCell.tsx","components/ClassroomsBrowser/ClassroomsBrowser.tsx","api/operations/queries/classrooms.ts","api/operations/subscriptions/classrooms.ts","api/operations/subscriptions/user.ts","helpers/filterDisabledForQueue.ts","helpers/filterSavedFIlters.ts","components/ConfirmLineOut.tsx","screens/ClassroomsList/Buttons.tsx","api/operations/queries/generalQueueSize.ts","api/operations/subscriptions/generalQueueSize.ts","hooks/useClassrooms.tsx","screens/ClassroomsList/SavedFilters.tsx","screens/ClassroomsList/InstrumentsList.tsx","components/CustomRating/CustomRating.tsx","screens/ClassroomsList/InstrumentFilters.tsx","screens/ClassroomsList/Filters.tsx","screens/ClassroomsList/helpers.ts","api/operations/queries/generalQueuePosition.ts","api/operations/subscriptions/generalQueuePosition.ts","screens/ClassroomsList/ClassroomsAppBar.tsx","components/Log.tsx","components/ConfirmContinueDesiredQueue.tsx","components/InlineDialog.tsx","components/QueueOutDialog.tsx","screens/ClassroomsList/ClassroomsList.tsx","hooks/usePrevious.ts","screens/Signup/Frozen.tsx","screens/Loading.tsx","screens/Splash.tsx","screens/PrivacyPolicy.tsx","navigation/index.tsx","App.tsx","assets/images/ua.png","assets/images/en.png","node_modules/moment/locale sync /^/.//.*$","assets/images/au_logo.png","assets/images/key.png"],"names":["module","exports","useColorScheme","_useColorScheme","light","text","background","tint","tabIconDefault","tabIconSelected","dark","red","blue","darkBlue","orange","useThemeColor","props","colorName","theme","colorFromProps","Colors","Text","style","lightColor","darkColor","otherProps","color","View","backgroundColor","LOGIN","gql","WaitDialog","visible","message","Portal","Dialog","dismissable","Title","textAlign","Content","Paragraph","ProgressBar","indeterminate","marginTop","ACCESS_RIGHTS","Mode","ErrorCodesUa","ErrorCodes","EmploymentTypes","EmploymentTypesUa","UserTypes","UserTypesUa","UserTypeColors","ActivityTypesColor","ActivityTypes","NotificationsTypes","AccountStatuses","UserQueueState","OccupiedState","DisabledState","ClassroomsFilterTypes","QueueState","QueueType","Langs","EnqueuedBy","setItem","key","value","a","async","AsyncStorage","JSON","stringify","console","log","getItem","then","result","parse","removeItem","ErrorDialog","hideDialog","onDismiss","marginBottom","Actions","Button","onPress","wsLink","WebSocketLink","uri","options","reconnect","connectionParams","token","authorization","subscriptionMiddleware","applyMiddleware","next","subscriptionClient","use","httpLink","createHttpLink","authLink","setContext","_","headers","splitLink","split","query","definition","getMainDefinition","kind","operation","client","ApolloClient","link","concat","cache","InMemoryCache","typePolicies","Query","fields","me","read","meVar","lang","langVar","accessRights","accessRightsVar","mode","modeVar","minimalClassroomIds","minimalClassroomIdsVar","desirableClassroomIds","desirableClassroomIdsVar","isMinimalSetup","isMinimalSetupVar","makeVar","UA","USER","PRIMARY","GET_LANG","Login","route","navigation","useMutation","login","loading","useState","email","setEmail","password","setPassword","showPassword","setShowPassword","modalActivator","setModalActivator","showError","setShowError","errorMessage","setErrorMessage","pushNotificationToken","useQuery","data","useEffect","res","handleChangeLang","lng","styles","container","ImageBackground","source","require","bg","Image","logo","langSwitcher","TouchableHighlight","langImageSelected","langImage","EN","title","Surface","inputs","TextInput","label","input","onChangeText","e","secureTextEntry","selectionColor","right","Icon","name","prevState","length","variables","notificationToken","userErrors","code","user","queue","minimal","filter","type","state","MINIMAL","ACTIVE","desired","DESIRED","INLINE","map","classroom","id","graphQLErrors","button","disabled","navigate","uppercase","labelStyle","footer","StyleSheet","create","flex","alignItems","justifyContent","overflow","width","resizeMode","fontSize","fontWeight","elevation","borderRadius","paddingLeft","paddingRight","paddingBottom","height","opacity","flexDirection","GET_DEGREES","useDegrees","updateList","degrees","setDegrees","where","fetchPolicy","slice","sort","b","GET_DEPARTMENTS","useDepartments","departments","setDepartments","Agreement","setCheckAgreement","wrapper","ScrollView","position","top","bottom","CustomPicker","setSelected","selected","items","searchText","setSearchText","filteredItems","setFilteredItems","filtered","String","toLowerCase","includes","Modal","contentContainerStyle","Searchbar","placeholder","search","clearButtonMode","item","handlePress","borderBottomWidth","borderStyle","borderBottomColor","padding","margin","CustomPickerField","setIsVisited","checkValidation","underlineColor","visiblePicker","setVisiblePicker","showPicker","picker","pickerField","numberOfLines","IconButton","icon","pickerIcon","paddingVertical","SIGN_UP","InfoDialog","navigateToLogin","marginRight","currentYear","parseInt","moment","format","startYearsItems","windowHeight","Dimensions","get","SignUp","selectedDepartment","setSelectedDepartment","selectedDegree","setSelectedDegree","selectedStartYear","setSelectedStartYear","setVisible","visibleAgreement","setVisibleAgreement","visibleBackDialog","setVisibleBackDialog","firstName","setFirstName","lastName","setLastName","patronymic","setPatronymic","phoneNumber","setPhoneNumber","passwordConfirm","setPasswordConfirm","checkAgreement","isSignupTouched","setIsSignupTouched","isLastNameValidated","setIsLastNameValidated","isFirstNameValidated","setIsFirstNameValidated","isEmailValidated","setIsEmailValidated","isPhoneValidated","setIsPhoneValidated","isPasswordValidated","setIsPasswordValidated","isPasswordConfirmValidated","setIsPasswordConfirmValidated","isStartYearValidated","setIsStartYearValidated","isDepartmentValidated","setIsDepartmentValidated","isDegreeValidated","setIsDegreeValidated","isStartYearModalVisited","setIsStartYearModalVisited","setIsDepartmentModalVisited","isDegreeModalVisited","setIsDegreeModalVisited","signup","checkLastNameValidation","error","checkFirstNameValidation","checkEmailValidation","test","checkPhoneValidation","checkPasswordValidation","checkPasswordConfirmValidation","checkStartYearValidation","checkDepartmentValidation","checkDegreeValidation","goBack","Error","validator","HelperText","Appbar","BackAction","subtitle","scrollView","Banner","actions","infoPanel","onBlur","keyboardType","forceTextInputFocus","agreement","Checkbox","status","uncheckedColor","navButtons","department","degree","startYear","alert","signUpButton","left","paddingTop","textDecorationLine","ForgotPassword","ForgotPasswordSuccess","loginButton","GET_USERS","GET_USER_BY_ID","useUsers","users","setUsers","formatMinutesToMM","fullName","withInitials","nameTemp","charAt","typeStyle","occupied","isDisabled","student","employee","vacant","isNotFree","STUDENT","POST_GRADUATE","ISODateString","d","pad","n","getUTCFullYear","getUTCMonth","getUTCDate","isTeacherType","TEACHER","CONCERTMASTER","ILLUSTRATOR","FREE","hasOwnClassroom","occupiedClassrooms","ownClassroom","find","OCCUPIED","RESERVED","isEnabledForCurrentDepartment","currentUser","chair","exclusivelyQueueAllowedDepartmentsInfo","some","isEnabledForQueue","ownClassroomId","isHidden","NOT_DISABLED","PENDING","UserInfo","userId","hideModal","openPhoneNumber","Linking","openURL","containerStyle","ActivityIndicator","animating","occupantName","Divider","divider","phoneRow","extraPhoneNumbers","number","index","borderWidth","borderColor","Users","pages","setPages","currentPage","setCurrentPage","currentUserId","setCurrentUserId","UserElement","DataTable","Row","showModal","Cell","Header","header","alignSelf","list","Pagination","pagination","page","numberOfPages","onPageChange","sideMenuProfileIcon","iconStyle","marginHorizontal","customItem","userData","userName","logout","marginVertical","CustomSidebarMenu","SafeAreaView","size","DrawerContentScrollView","DrawerItemList","GET_ME","Profile","expireDate","marginLeft","SignUpStepTwo","useNavigation","lineHeight","Verification","storageUser","setStorageUser","update","setUpdate","isLoading","setIsLoading","u","useLocal","localVarName","ADD_USER_TO_QUEUE","GET_CLASSROOM","InstrumentInfo","instrument","instrumentType","intRate","Math","round","rate","Array","fill","toFixed","star","InstrumentItem","expanded","onTouchEnd","imageSource","useTimeLeft","minutesDuration","timeLeft","setTimeLeft","timeLeftInPer","setTimeLeftInPer","interval","useRef","current","setInterval","until","differenceInMs","diff","tempTime","duration","resultHHMMSS","hours","minutes","seconds","resultPercents","getTimeFromUntil","leftPer","hour","min","sec","clearInterval","occupationInfo","freeText","paddingHorizontal","occupantType","occupiedUntil","progressBar","spaceBottom30","OccupantInfo","date","userFullName","occupiedTotalTime","visibleBanner","setVisibleBanner","isPendingForMe","progress","colors","Date","getHours","getMinutes","queueInfo","currentSession","skips","getInLine","minimalClassroomsIds","allClassroomIds","Set","minimalData","classroomId","desirableData","mutate","mutation","enqueuedBy","SELF","REMOVE_USER_FROM_QUEUE","removeFromLine","deleteWhere","equals","IN_QUEUE_MINIMAL","ClassroomQueueControlButtons","currentRecord","queueRecord","setLoading","handleClassroomForQueue","minimalSet","has","delete","add","desiredSet","asyncHandleClassroomForQueue","exist","IN_QUEUE_DESIRED_AND_OCCUPYING","QUEUE_SETUP","ClassroomInfo","params","setClassroom","warning","warningText","DISABLED","comment","tags","isWing","Chip","selectedColor","tag","isOperaStudio","special","description","floor","instruments","OCCUPYING","scheduleHeader","queueSetupButtons","sortAB","cellWidth","FreeClassroomCell","isEnabledForCurrentUser","cell","free","cellHeader","notSpecial","space","checkMark","zIndex","timeLeftProgress","keyImage","tintColor","OccupiedClassroomCell","cellStyle","handleCheck","onLongPress","ReservedClassroomCell","PendingClassroomCell","grid","flexWrap","getOutLine","getOutLineSingle","approve","queueSwitcher","gridDivider","ClassroomsBrowser","classrooms","isFree","isOccupiedByCurrentUser","isOccupied","isPending","isReserved","OccupiedByCurrentUserClassroomCell","GET_CLASSROOMS","GET_CLASSROOMS_NO_SCHEDULE","FOLLOW_CLASSROOMS","FOLLOW_USER","filterDisabledForQueue","filterSavedFilter","savedFilter","enabledClassrooms","isMinimal","minimalIds","desireIds","ConfirmLineOut","Buttons","sanctionedUntil","visibleModalError","setVisibleModalError","queueErrorMessage","visibleLineOut","setVisibleLineOut","availableClassroomsIds","savedFilters","mainFilter","main","GENERAL_QUEUE_SIZE","FOLLOW_GENERAL_QUEUE_SIZE","useClassrooms","setClassrooms","subscribeToMore","SavedFilters","setSavedFilters","isSaving","setIsSaving","inputName","setInputName","selectedFilter","setSelectedFilter","saveAsMainFilter","setSaveAsMainFilter","Headline","body","filterItem","itemRow","selectedItem","handleSelectFilter","bin","newFilters","splice","handleRemoveFilter","newFilterSection","mainFilterCheckbox","InstrumentsList","isGrandPianoOnly","setIsGrandPianoOnly","RadioButton","Group","onValueChange","newValue","handleSelect","CustomRating","count","setCount","stars","TouchableOpacity","handleRate","windowWidth","InstrumentFilters","setInstruments","visibleList","setVisibleList","visibleRate","setVisibleRate","showModalList","instrumentRow","newArray","removeInstrument","noInstrumentsLabel","newInstrumentRow","newInstrument","buttons","radioItem","checkbox","countInput","Filters","apply","setSpecial","withWing","setWithWing","onlyOperaStudio","setOnlyOperaStudio","visibleInstrumentFilters","setVisibleInstrumentFilters","getEnding","instrumentTypeOrder","GrandPiano","UpRightPiano","getClassroomsFilteredByInstruments","userInstrumentFilterInput","instrumentsFilterSorted","instA","instB","instrumentsFilter","classroomInstruments","classroomGrandPianoInd","getMinimumSatisfactoryInstrumentIndex","pop","classroomInstrumentInd","minimumRate","bestIndex","forEach","i","GENERAL_QUEUE_POSITION","FOLLOW_GENERAL_QUEUE_POSITION","ClassroomsAppBar","freeClassroomsAmount","subscribeToMorePosition","visibleSavedFilters","setVisibleSavedFilters","generalQueueSize","setGeneralQueueSize","generalQueuePosition","setGeneralQueuePosition","unsubscribeSize","document","updateQuery","prev","subscriptionData","unsubscribePosition","Action","dispatch","DrawerActions","openDrawer","operaStudioOnly","filteredIds","Log","maxHeight","ConfirmContinueDesiredQueue","InlineDialog","paragraph","QueueOutDialog","Stack","createStackNavigator","Home","Navigator","screenOptions","headerShown","initialRouteName","Screen","component","ClassroomsList","initialParams","showLog","setShowLog","setFreeClassroomsAmount","showQueueInSuccess","setShownQueueInSuccess","showQueueOutSuccess","setShownQueueOutSuccess","userLoading","userError","subscribeToMoreUser","prevUserData","ref","usePrevious","prevSession","unsubscribeClassrooms","unsubscribeUser","freeClassrooms","hiddenLogButton","delayLongPress","fullHidden","Frozen","Loading","Splash","PrivacyPolicy","Navigation","colorScheme","NavigationContainer","DarkTheme","DefaultTheme","RootNavigator","Drawer","createDrawerNavigator","accountStatus","setAccountStatus","appIsReady","setAppIsReady","getAccountStatus","studentInfo","employeeInfo","getMe","SplashScreen","warn","drawerStyle","drawer","drawerContentOptions","activeBackgroundColor","drawerContent","UNVERIFIED","FROZEN","ACADEMIC_LEAVE","checkStatus","App","roundness","primary","accent","Provider","StatusBar","webpackContext","req","webpackContextResolve","__webpack_require__","o","keys","Object","resolve"],"mappings":"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","file":"static/js/app.dcc21479.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/bg.5326a7ca.jpg\";","module.exports = __webpack_public_path__ + \"static/media/specialPiano.11c92757.png\";","module.exports = __webpack_public_path__ + \"static/media/GrandPiano.5e053f8a.png\";","module.exports = __webpack_public_path__ + \"static/media/star.f99f6a14.png\";","module.exports = __webpack_public_path__ + \"static/media/au_logo_shadow.0250c21a.png\";","module.exports = __webpack_public_path__ + \"static/media/Chembalo.5e053f8a.png\";","module.exports = __webpack_public_path__ + \"static/media/UpRightPiano.791ce387.png\";","import { ColorSchemeName, useColorScheme as _useColorScheme } from 'react-native';\n\n// The useColorScheme value is always either light or dark, but the built-in\n// type suggests that it can be null. This will not happen in practice, so this\n// makes it a bit easier to work with.\nexport default function useColorScheme(): NonNullable<ColorSchemeName> {\n  return _useColorScheme() as NonNullable<ColorSchemeName>;\n}\n","const tintColorLight = '#2f95dc';\nconst tintColorDark = '#fff';\n\nexport default {\n  light: {\n    text: '#000',\n    background: '#fff',\n    tint: tintColorLight,\n    tabIconDefault: '#ccc',\n    tabIconSelected: tintColorLight,\n  },\n  dark: {\n    text: '#fff',\n    background: '#000',\n    tint: tintColorDark,\n    tabIconDefault: '#ccc',\n    tabIconSelected: tintColorDark,\n  },\n  red: '#f91354',\n  blue: '#2b5dff',\n  darkBlue: '#2e287c',\n  orange: '#ffc000',\n};\n","/**\n * Learn more about Light and Dark modes:\n * https://docs.expo.io/guides/color-schemes/\n */\n\nimport * as React from 'react';\nimport { Text as DefaultText, View as DefaultView } from 'react-native';\n\nimport Colors from '../constants/Colors';\nimport useColorScheme from '../hooks/useColorScheme';\n\nexport function useThemeColor(\n  props: { light?: string; dark?: string },\n  colorName: keyof typeof Colors.light & keyof typeof Colors.dark\n) {\n  const theme = useColorScheme();\n  const colorFromProps = props[theme];\n\n  if (colorFromProps) {\n    return colorFromProps;\n  } else {\n    return Colors[theme][colorName];\n  }\n}\n\ntype ThemeProps = {\n  lightColor?: string;\n  darkColor?: string;\n};\n\nexport type TextProps = ThemeProps & DefaultText['props'];\nexport type ViewProps = ThemeProps & DefaultView['props'];\n\nexport function Text(props: TextProps) {\n  const { style, lightColor, darkColor, ...otherProps } = props;\n  const color = useThemeColor({ light: lightColor, dark: darkColor }, 'text');\n\n  return <DefaultText style={[{ color }, style]} {...otherProps} />;\n}\n\nexport function View(props: ViewProps) {\n  const { style, lightColor, darkColor, ...otherProps } = props;\n  const backgroundColor = useThemeColor({ light: lightColor, dark: darkColor }, 'background');\n\n  return <DefaultView style={[{ backgroundColor }, style]} {...otherProps} />;\n}\n","import { gql } from \"@apollo/client\";\r\n\r\nexport const LOGIN = gql`\r\n    mutation login($input: LoginInput!) {\r\n        login(input: $input) {\r\n            token\r\n            user {\r\n                id\r\n                firstName\r\n                patronymic\r\n                lastName\r\n                type\r\n                phoneNumber\r\n                extraPhoneNumbers\r\n                email\r\n                department {\r\n                  id\r\n                  name  \r\n                }\r\n                occupiedClassrooms {\r\n                state\r\n                until\r\n                classroom {\r\n                 id\r\n                 name\r\n                }\r\n                }\r\n                studentInfo {\r\n                  degree {\r\n                    name\r\n                  }\r\n                  startYear\r\n                  accountStatus\r\n                }\r\n                employeeInfo {\r\n                  employmentType\r\n                  accountStatus\r\n                }\r\n                queue {\r\n                  id\r\n                  classroom {\r\n                    id\r\n                    name\r\n                  }\r\n                  state\r\n                  type\r\n                }\r\n            }\r\n               \r\n            userErrors {\r\n                message\r\n                code\r\n            }\r\n        }\r\n    }\r\n`;","import * as React from 'react';\nimport {Paragraph, Dialog, Portal, ProgressBar} from 'react-native-paper';\n\ninterface PropTypes {\n  message?: string;\n  visible: boolean;\n}\n\nexport default function WaitDialog({visible, message}: PropTypes) {\n  return (\n      <Portal>\n        <Dialog visible={visible} dismissable={false}>\n          <Dialog.Title style={{textAlign: 'center'}}>Зачекайте, будь ласка!</Dialog.Title>\n          <Dialog.Content>\n            {message && <Paragraph style={{textAlign: 'center'}}>{message}</Paragraph>}\n            <ProgressBar indeterminate style={{marginTop: 16}}/>\n          </Dialog.Content>\n        </Dialog>\n      </Portal>\n  );\n};","export enum ACCESS_RIGHTS {\r\n  USER,\r\n  DISPATCHER,\r\n  ADMIN\r\n}\r\n\r\nexport enum Mode {\r\n  PRIMARY = 'PRIMARY',\r\n  QUEUE_SETUP = 'QUEUE_SETUP',\r\n  INLINE = 'INLINE',\r\n  OWNER = 'OWNER'\r\n}\r\n\r\nexport enum ErrorCodesUa {\r\n  INVALID_PASSWORD = \"Невірний пароль\",\r\n  USER_NOT_FOUND = \"Користувача не знайдено\",\r\n}\r\n\r\nexport enum ErrorCodes {\r\n  INVALID_PASSWORD = \"INVALID_PASSWORD\",\r\n  USER_NOT_FOUND = \"USER_NOT_FOUND\",\r\n}\r\n\r\nexport enum EmploymentTypes {\r\n  FULL_TIME = 'FULL_TIME',\r\n  PART_TIME = 'PART_TIME',\r\n  HOURLY = 'HOURLY',\r\n}\r\n\r\nexport enum EmploymentTypesUa {\r\n  FULL_TIME = 'Штатний співробітник',\r\n  PART_TIME = 'Часткова',\r\n  HOURLY = 'Погодинна',\r\n}\r\n\r\nexport enum UserTypes {\r\n  STUDENT = \"STUDENT\",\r\n  TEACHER = \"TEACHER\",\r\n  POST_GRADUATE = \"POST_GRADUATE\",\r\n  ADMIN = \"ADMIN\",\r\n  DISPATCHER = \"DISPATCHER\",\r\n  PIANO_TUNER = \"PIANO_TUNER\",\r\n  STAFF = \"STAFF\",\r\n  CONCERTMASTER = \"CONCERTMASTER\",\r\n  ILLUSTRATOR = \"ILLUSTRATOR\",\r\n  OTHER = \"OTHER\",\r\n}\r\n\r\nexport enum UserTypesUa {\r\n  STUDENT = \"Студент\",\r\n  TEACHER = \"Викладач\",\r\n  POST_GRADUATE = \"Асистент/аспірант\",\r\n  ADMIN = \"Адмін\",\r\n  DISPATCHER = \"Диспетчер\",\r\n  PIANO_TUNER = \"Настроювач фортепіано\",\r\n  STAFF = \"Співробітник\",\r\n  CONCERTMASTER = \"Концертмейстер\",\r\n  ILLUSTRATOR = \"Іллюстратор\",\r\n  OTHER = \"Користувач\",\r\n}\r\n\r\nexport enum UserTypeColors {\r\n  STUDENT = \"#1e2c4f\",\r\n  TEACHER = \"#ffa200\",\r\n  POST_GRADUATE = \"#1e2c4f\",\r\n  ADMIN = \"#ffa200\",\r\n  DISPATCHER = \"#ffa200\",\r\n  PIANO_TUNER = \"#ffa200\",\r\n  STAFF = \"#ffa200\",\r\n  CONCERTMASTER = \"#ffa200\",\r\n  ILLUSTRATOR = \"#ffa200\",\r\n  OTHER = \"#ffa200\",\r\n}\r\n\r\nexport enum ActivityTypesColor {\r\n  LECTURE = '#ffa200',\r\n  INDIVIDUAL_LESSON = '#2b5dff'\r\n}\r\n\r\nexport enum ActivityTypes {\r\n  LECTURE = 'LECTURE',\r\n  INDIVIDUAL_LESSON = 'INDIVIDUAL_LESSON'\r\n}\r\n\r\nexport enum NotificationsTypes {\r\n  OK = \"ok\",\r\n  ALERT = \"alert\",\r\n  DEFAULT = \"default\",\r\n}\r\n\r\nexport enum AccountStatuses {\r\n  ACTIVE = 'ACTIVE',\r\n  UNVERIFIED = 'UNVERIFIED',\r\n  ACADEMIC_LEAVE = 'ACADEMIC_LEAVE',\r\n  FROZEN = 'FROZEN'\r\n}\r\n\r\nexport type User = {\r\n  id: number;\r\n  createdAt: Date;\r\n  firstName: string;\r\n  patronymic: string | null;\r\n  lastName: string;\r\n  type: string;\r\n  department: Department;\r\n  email: string;\r\n  phoneNumber: string;\r\n  extraPhoneNumbers: string | null;\r\n  nameTemp: string | null;\r\n  startYear: number;\r\n  studentInfo: StudentInfo;\r\n  employeeInfo: EmployeeInfo;\r\n  expireDate: string | null;\r\n  classroom: ClassroomType;\r\n  queue: QueueRecord[];\r\n  queueInfo: UserQueueInfo;\r\n};\r\n\r\nexport type UserQueueInfo = {\r\n  id: number;\r\n  user: User;\r\n  sanctionedUntil: string;\r\n  currentSession: QueueSession\r\n}\r\n\r\nexport type QueueSession = {\r\n  id: number;\r\n  queueInfo: UserQueueInfo;\r\n  state: UserQueueState;\r\n  enqueuedBy: EnqueuedBy;\r\n  skips: number;\r\n  remainingOccupationTime: string;\r\n}\r\n\r\nexport enum UserQueueState {\r\n  IN_QUEUE_MINIMAL = 'IN_QUEUE_MINIMAL',\r\n  IN_QUEUE_DESIRED_AND_OCCUPYING = 'IN_QUEUE_DESIRED_AND_OCCUPYING',\r\n  QUEUE_RESERVED_NOT_OCCUPYING = 'QUEUE_RESERVED_NOT_OCCUPYING',\r\n  OCCUPYING = 'OCCUPYING',\r\n}\r\n\r\nexport type CurrentUser = {\r\n  id: number;\r\n  createdAt: Date;\r\n  firstName: string;\r\n  patronymic: string | null;\r\n  lastName: string;\r\n  type: string;\r\n  department: Department;\r\n  email: string;\r\n  phoneNumber: string;\r\n  extraPhoneNumbers: string | null;\r\n  nameTemp: string | null;\r\n  startYear: number;\r\n  studentInfo: StudentInfo;\r\n  employeeInfo: EmployeeInfo;\r\n  expireDate: Date | null;\r\n  occupiedClassrooms: {\r\n    id: number;\r\n    state: OccupiedState;\r\n    until: string;\r\n    classroom: ClassroomType;\r\n    user: User;\r\n  }[];\r\n  queue: QueueRecord[];\r\n}\r\n\r\nexport type StudentInfo = {\r\n  degree: Degree;\r\n  startYear: number;\r\n  accountStatus: AccountStatuses;\r\n};\r\n\r\nexport type EmployeeInfo = {\r\n  employmentType: EmploymentTypes;\r\n  accountStatus: AccountStatuses;\r\n};\r\n\r\nexport type OccupiedInfo = {\r\n  user: User | null;\r\n  until: Date | null;\r\n  state: OccupiedState;\r\n};\r\n\r\nexport enum OccupiedState {\r\n  FREE = 'FREE',\r\n  OCCUPIED = 'OCCUPIED',\r\n  PENDING = 'PENDING',\r\n  RESERVED = 'RESERVED'\r\n}\r\n\r\nexport type Comment = {\r\n  id: number;\r\n  user: User;\r\n  body: string;\r\n  date: Date;\r\n};\r\n\r\nexport type InstrumentType = {\r\n  id: number;\r\n  type: string;\r\n  name: string;\r\n  rate: number;\r\n  persNumber: number;\r\n  comments: Comment | null;\r\n  classroom: ClassroomType;\r\n};\r\n\r\nexport enum DisabledState {\r\n  DISABLED = 'DISABLED',\r\n  NOT_DISABLED = 'NOT_DISABLED'\r\n}\r\n\r\nexport type DisabledInfo = {\r\n  state: DisabledState;\r\n  comment: string;\r\n  until: string;\r\n};\r\n\r\nexport type ScheduleUnitType = {\r\n  id: number;\r\n  user: User;\r\n  classroom: ClassroomType;\r\n  dateStart: Date;\r\n  dateEnd: Date;\r\n  dayOfWeek: number;\r\n  from: string;\r\n  to: string;\r\n  activity: string;\r\n};\r\n\r\nexport type ClassroomType = {\r\n  id: number;\r\n  name: string;\r\n  chair: {\r\n    id: number;\r\n    name: string;\r\n    faculty: Faculty;\r\n    users: User[];\r\n    exclusivelyQueueAllowedDepartmentsInfo: {\r\n      department: Department | null }[];\r\n  } | null;\r\n  special: string | null;\r\n  floor: number;\r\n  isWing: boolean;\r\n  isOperaStudio: boolean;\r\n  description: string | null;\r\n  occupied: OccupiedInfo;\r\n  instruments: Array<InstrumentType>;\r\n  disabled: DisabledInfo | null;\r\n  schedule: Array<ScheduleUnitType>;\r\n  isHidden: boolean;\r\n};\r\n\r\nexport type RegisterUnit = {\r\n  id: number;\r\n  user: User;\r\n  nameTemp: string;\r\n  classroom: {\r\n    id: number;\r\n    name: string;\r\n  };\r\n  start: string;\r\n  end: string;\r\n};\r\n\r\nexport type Degree = {\r\n  id: number\r\n  name: string;\r\n  startMonth: number;\r\n  startDay: number;\r\n  durationMonths: number;\r\n};\r\n\r\nexport type Faculty = {\r\n  id: number;\r\n  name: string;\r\n  departments: Department[];\r\n  users: User[];\r\n}\r\n\r\nexport type Department = {\r\n  id: number;\r\n  name: string;\r\n  faculty: Faculty;\r\n  users: User[];\r\n};\r\n\r\nexport type MenuElement = {\r\n  text: string;\r\n  path: string;\r\n  icon: string;\r\n  exact?: boolean;\r\n  rights: string;\r\n};\r\n\r\nexport enum ClassroomsFilterTypes {\r\n  ALL = 'ALL',\r\n  FREE = 'FREE',\r\n  SPECIAL = 'SPECIAL',\r\n  INLINE = 'INLINE'\r\n}\r\n\r\nexport enum QueueState {\r\n  ACTIVE = 'ACTIVE',\r\n  RESERVED = 'RESERVED'\r\n}\r\n\r\nexport enum QueueType {\r\n  MINIMAL = 'MINIMAL',\r\n  DESIRED = 'DESIRED'\r\n}\r\n\r\nexport type QueueRecord = {\r\n  id: number;\r\n  user: User;\r\n  date: string;\r\n  classroom: ClassroomType;\r\n  state: QueueState;\r\n  type: QueueType;\r\n}\r\n\r\nexport type SavedFilterT = {\r\n  minimalClassroomIds: number[];\r\n  desirableClassroomIds: number[];\r\n  name: string;\r\n  main: boolean;\r\n}\r\n\r\nexport enum Langs {\r\n  EN = 'EN',\r\n  UA = 'UA'\r\n}\r\n\r\nexport enum EnqueuedBy {\r\n  SELF = 'SELF',\r\n  DISPATCHER = 'DISPATCHER'\r\n}","import AsyncStorage from '@react-native-async-storage/async-storage'\n\n\nexport const setItem = async (key: string, value: any) => {\n  try {\n    await AsyncStorage.setItem(key, JSON.stringify(value));\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nexport const getItem = async (key: string) => {\n  let result;\n  try {\n    await AsyncStorage.getItem(key).then(value => {\n      if (value !== null) {\n        result = JSON.parse(value as string)\n      }\n    });\n    return result;\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nexport const removeItem = async (key: string) => {\n  try {\n    await AsyncStorage.removeItem(key);\n  } catch (e) {\n    console.log(e);\n  }\n};","import * as React from 'react';\nimport {Dialog, Portal, Button} from 'react-native-paper';\nimport {Text} from 'react-native';\n\ninterface PropTypes {\n  visible: boolean;\n  hideDialog: () => void;\n  message?: string;\n}\n\nexport default function ErrorDialog({visible, hideDialog, message}: PropTypes) {\n  return (\n    <Portal>\n      <Dialog visible={visible} onDismiss={hideDialog}>\n        <Dialog.Title style={{color: '#f91354'}}>Упс!</Dialog.Title>\n        <Dialog.Content>\n          <Text style={{marginBottom: -20}}>{!message ? 'Щось пішло не так' : message}</Text>\n        </Dialog.Content>\n        <Dialog.Actions>\n          <Button onPress={hideDialog}>Закрити</Button>\n        </Dialog.Actions>\n      </Dialog>\n    </Portal>\n  );\n};","import {ApolloClient, createHttpLink, InMemoryCache, makeVar, split} from \"@apollo/client\";\r\nimport {ACCESS_RIGHTS, Langs, Mode, User} from \"../models/models\";\r\nimport {WebSocketLink} from '@apollo/client/link/ws';\r\nimport {getMainDefinition} from \"@apollo/client/utilities\";\r\nimport {setContext} from \"@apollo/client/link/context\";\r\nimport {getItem} from \"./asyncStorage\";\r\n\r\nconst wsLink: any = new WebSocketLink({\r\n    uri: 'ws://api.auditoriu.me/',\r\n    options: {\r\n      reconnect: true,\r\n      connectionParams: async () => {\r\n        const token = await getItem('token');\r\n        return {\r\n          authorization: token ? `Bearer ${token}` : \"\",\r\n        }\r\n      }\r\n    }\r\n  }\r\n);\r\n\r\nconst subscriptionMiddleware = {\r\n  applyMiddleware: async (options: any, next: any) => {\r\n    const token = await getItem('token');\r\n    options.authorization = token ? `Bearer ${token}` : \"\"\r\n    next()\r\n  },\r\n}\r\n\r\nwsLink.subscriptionClient.use([subscriptionMiddleware]);\r\n\r\nconst httpLink = createHttpLink({\r\n  uri: 'http://api.auditoriu.me/'\r\n});\r\n\r\nconst authLink = setContext(async function (_, {headers}) {\r\n  const token = await getItem('token');\r\n  return {\r\n    headers: {\r\n      ...headers,\r\n      authorization: token ? `Bearer ${token}` : \"\",\r\n    }\r\n  }\r\n});\r\n\r\nconst splitLink = split(\r\n  ({query}) => {\r\n    const definition = getMainDefinition(query);\r\n    return (\r\n      definition.kind === 'OperationDefinition' &&\r\n      definition.operation === 'subscription'\r\n    );\r\n  },\r\n  wsLink,\r\n  httpLink,\r\n);\r\n\r\nexport const client = new ApolloClient({\r\n  link: authLink.concat(splitLink),\r\n  cache: new InMemoryCache({\r\n    typePolicies: {\r\n      Query: {\r\n        fields: {\r\n          me: {\r\n            read() {\r\n              return meVar();\r\n            },\r\n          },\r\n          lang: {\r\n            read() {\r\n              return langVar();\r\n            },\r\n          },\r\n          accessRights: {\r\n            read() {\r\n              return accessRightsVar();\r\n            },\r\n          },\r\n          mode: {\r\n            read() {\r\n              return modeVar();\r\n            },\r\n          },\r\n          minimalClassroomIds: {\r\n            read() {\r\n              return minimalClassroomIdsVar();\r\n            },\r\n\r\n          },\r\n          desirableClassroomIds: {\r\n            read() {\r\n              return desirableClassroomIdsVar();\r\n            },\r\n          },\r\n          isMinimalSetup: {\r\n            read() {\r\n              return isMinimalSetupVar();\r\n            },\r\n          },\r\n        },\r\n      },\r\n    },\r\n  }),\r\n});\r\n\r\nexport const meVar = makeVar<User | null>(null);\r\nexport const langVar = makeVar<Langs>(Langs.UA);\r\nexport const accessRightsVar = makeVar(ACCESS_RIGHTS.USER);\r\nexport const modeVar = makeVar(Mode.PRIMARY);\r\nexport const minimalClassroomIdsVar = makeVar<number[]>([]);\r\nexport const desirableClassroomIdsVar = makeVar<number[]>([]);\r\nexport const isMinimalSetupVar = makeVar(true);","import {gql} from \"@apollo/client\";\r\n\r\nexport const GET_LANG = gql`\r\n    query langType {\r\n        lang @client\r\n    }\r\n`;","import * as React from 'react';\nimport {useEffect, useState} from 'react';\nimport {Image, ImageBackground, StyleSheet, TouchableHighlight} from 'react-native';\nimport {Button, Surface, TextInput} from 'react-native-paper';\nimport {Text, View} from '../components/Themed';\nimport {useMutation, useQuery} from \"@apollo/client\";\nimport {LOGIN} from \"../api/operations/mutations/login\";\nimport WaitDialog from \"../components/WaitDialog\";\nimport {getItem, setItem} from \"../api/asyncStorage\";\nimport ErrorDialog from \"../components/ErrorDialog\";\nimport {ErrorCodes, ErrorCodesUa, Langs, Mode, QueueState, QueueType, User} from \"../models/models\";\nimport {desirableClassroomIdsVar, langVar, meVar, minimalClassroomIdsVar, modeVar, wsLink} from \"../api/client\";\nimport PushNotification from \"./PushNotification\";\nimport {GET_LANG} from \"../api/operations/queries/lang\";\n\nexport default function Login({route, navigation}: any) {\n  const [login, {loading}] = useMutation(LOGIN);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n  const [modalActivator, setModalActivator] = useState<boolean | null>(null);\n  const [showError, setShowError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [pushNotificationToken, setPushNotificationToken] = useState('');\n  const {data: {lang}} = useQuery(GET_LANG);\n\n  useEffect(() => {\n    if (modalActivator !== null) {\n      setShowError(true);\n    }\n  }, [modalActivator]);\n\n  useEffect(() => {\n    getItem('lang').then(res => {\n      if (res) {\n        langVar(res);\n      } else {\n        setItem('lang', lang);\n      }\n    });\n  }, []);\n\n  const handleChangeLang = async (lng: Langs) => {\n    await setItem('lang', lng);\n    langVar(lng);\n  };\n\n  const hideError = () => {\n    setShowError(false);\n  };\n\n  const handleSubmit = async () => {\n    let result: any;\n    if (email.length && password.length) {\n      try {\n        result = await login({\n          variables: {\n            input: {\n              email: email,\n              password: password,\n              notificationToken: pushNotificationToken\n            }\n          }\n        });\n        if (result?.data.login.userErrors?.length) {\n          setErrorMessage(ErrorCodesUa[result?.data.login.userErrors[0].code as ErrorCodes]);\n          setModalActivator(prevState => !prevState);\n        } else {\n          const user: User = result?.data.login.user;\n          const token: string = result?.data.login.token;\n          await setItem('user', user);\n          await setItem('token', token);\n          if (user.queue.length) {\n            const minimal = user.queue.filter(({type, state}) => {\n              return type === QueueType.MINIMAL && state === QueueState.ACTIVE;\n            });\n            const desired = user.queue.filter(({type, state}) => {\n              return type === QueueType.DESIRED && state === QueueState.ACTIVE;\n            });\n            modeVar(Mode.INLINE);\n            minimalClassroomIdsVar(minimal.map(({classroom: {id}}) => id));\n            desirableClassroomIdsVar(desired.map(({classroom: {id}}) => id));\n          }\n          meVar(user);\n        }\n      } catch (e) {\n        setErrorMessage(e?.graphQLErrors[0]?.message || JSON.stringify(e));\n        setModalActivator(prevState => !prevState);\n      }\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      {/*<PushNotification setPushNotificationToken={setPushNotificationToken}/>*/}\n      <ImageBackground source={require('../assets/images/bg.jpg')} style={styles.bg}>\n        <Image source={require('./../assets/images/au_logo_shadow.png')} style={styles.logo}/>\n        <View style={styles.langSwitcher}>\n          <TouchableHighlight onPress={() => handleChangeLang(Langs.UA)}>\n            <Image source={require('../assets/images/ua.png')}\n                   style={lang === Langs.UA ? styles.langImageSelected : styles.langImage}\n            />\n          </TouchableHighlight>\n          <TouchableHighlight onPress={() => handleChangeLang(Langs.EN)}>\n            <Image source={require('../assets/images/en.png')}\n                   style={lang === Langs.EN ? styles.langImageSelected : styles.langImage}\n            />\n          </TouchableHighlight>\n        </View>\n        <Text style={styles.title}>Вхід</Text>\n        <Surface style={styles.inputs}>\n          <TextInput label='Логін'\n                     style={styles.input}\n                     onChangeText={(e) => setEmail(e)}\n          />\n          <TextInput label='Пароль'\n                     style={styles.input}\n                     onChangeText={(e) => setPassword(e)}\n                     secureTextEntry={!showPassword}\n                     selectionColor='#2b5dff'\n                     right={<TextInput.Icon name={showPassword ? 'eye' : 'eye-off'} color='#2b5dff'\n                                            onPress={() => setShowPassword(prevState => !prevState)}\n                     />}\n          />\n\n          <Button onPress={handleSubmit} mode='contained' color='#2b5dff' loading={loading}\n                  style={styles.button} disabled={(!email || !password) || loading}>\n            Увійти\n          </Button>\n          <Button onPress={() => navigation.navigate('SignUp')} mode='contained' color='#f91354'\n                  style={styles.button}>\n            Реєстрація\n          </Button>\n        </Surface>\n        <Button onPress={() => navigation.navigate('ForgotPassword')} uppercase={false}\n                labelStyle={{color: '#fff'}} style={styles.button}>\n          Відновити пароль\n        </Button>\n        <View style={styles.footer}>\n          <Text style={{color: '#fff'}}>Національна музична академія України ім. П. І. Чайковського</Text>\n          <Text style={{color: '#fff', marginTop: 16}}>Auditorium © 2021</Text>\n        </View>\n      </ImageBackground>\n      <WaitDialog message='Відбувається вхід у систему' visible={loading}/>\n      <ErrorDialog visible={showError} hideDialog={hideError} message={errorMessage}/>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#2e287c',\n    overflow: 'hidden'\n  },\n  logo: {\n    width: '80%',\n    resizeMode: 'contain',\n    flex: 1\n  },\n  title: {\n    fontSize: 32,\n    fontWeight: 'bold',\n    color: '#fff',\n  },\n  input: {\n    width: '100%',\n    fontSize: 22,\n    backgroundColor: 'transparent',\n  },\n  inputs: {\n    width: '90%',\n    elevation: 16,\n    borderRadius: 8,\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingLeft: 16,\n    paddingRight: 16,\n    paddingBottom: 16,\n    marginTop: 32,\n  },\n  button: {\n    marginTop: 16,\n    width: '100%',\n    height: 50,\n    justifyContent: 'center',\n  }, bg: {\n    width: '100%',\n    height: '100%',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  footer: {\n    backgroundColor: 'transparent',\n    alignItems: 'center',\n    textAlign: 'center',\n    opacity: .5,\n    marginBottom: 16\n  },\n  langSwitcher: {\n    justifyContent: 'center',\n    flexDirection: \"row\",\n    marginBottom: 16\n  },\n  langImage: {\n    width: 50,\n    height: 35,\n    opacity: .3\n  },\n  langImageSelected: {\n    width: 50,\n    height: 35,\n  }\n});\n","import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_DEGREES = gql`\r\n    query getDegrees {\r\n        degrees {\r\n            id\r\n            name\r\n            startMonth\r\n            startDay\r\n            durationMonths\r\n        }\r\n    }\r\n`;","import {useEffect, useState} from \"react\";\nimport {client} from \"../api/client\";\nimport {Degree} from \"../models/models\";\nimport {GET_DEGREES} from \"../api/operations/queries/degrees\";\n\nconst useDegrees = (updateList: boolean = false): Array<Degree> => {\n  const [degrees, setDegrees] = useState<Degree[]>([]);\n\n  useEffect(() => {\n    client.query({query: GET_DEGREES, variables: {\n      where: {\n      }\n      },\n      fetchPolicy: 'network-only'\n    }).then((data) => {\n      setDegrees(data.data.degrees\n          .slice().sort((a: Degree, b: Degree) => a.id - b.id));\n      });\n  }, [updateList]);\n\n  return degrees;\n};\n\nexport default useDegrees;","import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_DEPARTMENTS = gql`\r\n    query getDepartments($where: DepartmentWhereInput!) {\r\n        departments(where: $where) {\r\n            id\r\n            name\r\n            faculty {\r\n              id\r\n              name\r\n            }\r\n        }\r\n    }\r\n`;","import {useEffect, useState} from \"react\";\nimport {client} from \"../api/client\";\nimport {Department} from \"../models/models\";\nimport {GET_DEPARTMENTS} from \"../api/operations/queries/departments\";\n\nconst useDepartments = (updateList: boolean): Array<Department> => {\n  const [departments, setDepartments] = useState<Department[]>([]);\n\n  useEffect(() => {\n    client.query({query: GET_DEPARTMENTS, variables: {\n      where: {\n      }\n      },\n      fetchPolicy: 'network-only'\n    }).then((data) => {\n      setDepartments(data.data.departments\n          .slice().sort((a: Department, b: Department) => a.id - b.id));\n      });\n  }, [updateList]);\n\n  return departments;\n};\n\nexport default useDepartments;","import React from 'react';\nimport {Button, Dialog, Paragraph, Portal, Title} from \"react-native-paper\";\nimport {ScrollView, StyleSheet} from \"react-native\";\nimport Colors from \"../../../constants/Colors\";\n\ninterface PropTypes {\n  visible: boolean;\n  hideDialog: () => void;\n  setCheckAgreement: (value: boolean) => void;\n}\n\nexport default function Agreement({visible, hideDialog, setCheckAgreement}: PropTypes) {\n  return <Portal>\n    <Dialog visible={visible} onDismiss={hideDialog} style={styles.wrapper}>\n      <Dialog.Title>Умови користування</Dialog.Title>\n      <Dialog.Content>\n        <ScrollView style={{height: '80%'}}>\n            <Title>Privacy Policy for Auditorium</Title>\n            <Paragraph>At auditorium, accessible from http://auditorium.com.ua, one of our main priorities is the privacy of our visitors. This Privacy Policy document contains types of information that is collected and recorded by auditorium and how we use it.\n            </Paragraph>\n            <Paragraph>\n              If you have additional questions or require more information about our Privacy Policy, do not hesitate to contact us.\n            </Paragraph>\n            <Paragraph>\n              This Privacy Policy applies only to our online activities and is valid for visitors to our website with regards to the information that they shared and/or collect in auditorium. This policy is not applicable to any information collected offline or via channels other than this website. Our Privacy Policy was created with the help of the Privacy Policy Generator.\n            </Paragraph>\n            <Paragraph>\n              Consent\n              By using our website, you hereby consent to our Privacy Policy and agree to its terms.\n            </Paragraph>\n            <Paragraph>\n              Information we collect\n              The personal information that you are asked to provide, and the reasons why you are asked to provide it, will be made clear to you at the point we ask you to provide your personal information.\n            </Paragraph>\n            <Paragraph>\n              If you contact us directly, we may receive additional information about you such as your name, email address, phone number, the contents of the message and/or attachments you may send us, and any other information you may choose to provide.\n            </Paragraph>\n            <Paragraph>\n              When you register for an Account, we may ask for your contact information, including items such as name, company name, address, email address, and telephone number.\n            </Paragraph>\n            <Paragraph>\n              How we use your information\n              We use the information we collect in various ways, including to:\n            </Paragraph>\n            <Paragraph>\n              Provide, operate, and maintain our website\n              Improve, personalize, and expand our website\n              Understand and analyze how you use our website\n              Develop new products, services, features, and functionality\n              Communicate with you, either directly or through one of our partners, including for customer service, to provide you with updates and other information relating to the website, and for marketing and promotional purposes\n              Send you emails\n              Find and prevent fraud\n              Log Files\n              auditorium follows a standard procedure of using log files. These files log visitors when they visit websites. All hosting companies do this and a part of hosting services' analytics. The information collected by log files include internet protocol (IP) addresses, browser type, Internet Service Provider (ISP), date and time stamp, referring/exit pages, and possibly the number of clicks. These are not linked to any information that is personally identifiable. The purpose of the information is for analyzing trends, administering the site, tracking users' movement on the website, and gathering demographic information.\n            </Paragraph>\n            <Paragraph>\n              Advertising Partners Privacy Policies\n              You may consult this list to find the Privacy Policy for each of the advertising partners of auditorium.\n            </Paragraph>\n            <Paragraph>\n              Third-party ad servers or ad networks uses technologies like cookies, JavaScript, or Web Beacons that are used in their respective advertisements and links that appear on auditorium, which are sent directly to users' browser. They automatically receive your IP address when this occurs. These technologies are used to measure the effectiveness of their advertising campaigns and/or to personalize the advertising content that you see on websites that you visit.\n            </Paragraph>\n            <Paragraph>\n              Note that auditorium has no access to or control over these cookies that are used by third-party advertisers.\n            </Paragraph>\n            <Paragraph>\n              Third Party Privacy Policies\n              auditorium's Privacy Policy does not apply to other advertisers or websites. Thus, we are advising you to consult the respective Privacy Policies of these third-party ad servers for more detailed information. It may include their practices and instructions about how to opt-out of certain options.\n            </Paragraph>\n            <Paragraph>\n              You can choose to disable cookies through your individual browser options. To know more detailed information about cookie management with specific web browsers, it can be found at the browsers' respective websites.\n            </Paragraph>\n            <Paragraph>\n              CCPA Privacy Rights (Do Not Sell My Personal Information)\n              Under the CCPA, among other rights, California consumers have the right to:\n            </Paragraph>\n            <Paragraph>\n              Request that a business that collects a consumer's personal data disclose the categories and specific pieces of personal data that a business has collected about consumers.\n            </Paragraph>\n            <Paragraph>\n              Request that a business delete any personal data about the consumer that a business has collected.\n            </Paragraph>\n            <Paragraph>\n              Request that a business that sells a consumer's personal data, not sell the consumer's personal data.\n            </Paragraph>\n            <Paragraph>\n              If you make a request, we have one month to respond to you. If you would like to exercise any of these rights, please contact us.\n            </Paragraph>\n            <Paragraph>\n              GDPR Data Protection Rights\n              We would like to make sure you are fully aware of all of your data protection rights. Every user is entitled to the following:\n            </Paragraph>\n            <Paragraph>\n              The right to access – You have the right to request copies of your personal data. We may charge you a small fee for this service.\n            </Paragraph>\n            <Paragraph>\n              The right to rectification – You have the right to request that we correct any information you believe is inaccurate. You also have the right to request that we complete the information you believe is incomplete.\n            </Paragraph>\n            <Paragraph>\n              The right to erasure – You have the right to request that we erase your personal data, under certain conditions.\n            </Paragraph>\n            <Paragraph>\n              The right to restrict processing – You have the right to request that we restrict the processing of your personal data, under certain conditions.\n            </Paragraph>\n            <Paragraph>\n              The right to object to processing – You have the right to object to our processing of your personal data, under certain conditions.\n            </Paragraph>\n            <Paragraph>\n              The right to data portability – You have the right to request that we transfer the data that we have collected to another organization, or directly to you, under certain conditions.\n            </Paragraph>\n            <Paragraph>\n              If you make a request, we have one month to respond to you. If you would like to exercise any of these rights, please contact us.\n            </Paragraph>\n            <Paragraph>\n              Children's Information\n              Another part of our priority is adding protection for children while using the internet. We encourage parents and guardians to observe, participate in, and/or monitor and guide their online activity.\n            </Paragraph>\n            <Paragraph>\n              auditorium does not knowingly collect any Personal Identifiable Information from children under the age of 13. If you think that your child provided this kind of information on our website, we strongly encourage you to contact us immediately and we will do our best efforts to promptly remove such information from our records.\n            </Paragraph>\n        </ScrollView>\n      </Dialog.Content>\n      <Dialog.Actions style={{height: 20, marginBottom: 20}}>\n        <Button onPress={() => {\n          hideDialog();\n          setCheckAgreement(false);\n        }} style={{height: 20}} color={Colors.red}>Відхилити</Button>\n        <Button onPress={() => {\n          hideDialog();\n          setCheckAgreement(true);\n        }} style={{height: 20}}>Прийняти</Button>\n      </Dialog.Actions>\n    </Dialog>\n  </Portal>\n}\n\nconst styles = StyleSheet.create({\n  wrapper: {\n    position: 'absolute',\n    overflow: 'scroll',\n    top: 24,\n    bottom: 24\n  }\n})","import React, {useEffect, useState} from 'react';\nimport {Modal, Portal, Searchbar} from \"react-native-paper\";\nimport {ScrollView, Text, StyleSheet} from \"react-native\";\n\ninterface PropTypes {\n  visible: boolean;\n  hideDialog: () => void;\n  setSelected: (value: any) => void;\n  selected: any;\n  items: any[];\n}\n\nexport default function CustomPicker({visible, hideDialog, setSelected,selected, items}: PropTypes) {\n  const [searchText, setSearchText] = useState('');\n  const [filteredItems, setFilteredItems] = useState<any>([]);\n\n  useEffect(() => {\n    const filtered = items.length && items.filter(({name}) => {\n      if (searchText !== '') return String(name).toLowerCase().includes(searchText.toLowerCase());\n      return true;\n    });\n    setFilteredItems(filtered);\n  }, [items, searchText]);\n\n  const handlePress = (item: any) => {\n    setSelected({name: item.name, id: item.id});\n    hideDialog();\n  };\n\n  return (\n    <Portal>\n      <Modal visible={visible} onDismiss={hideDialog} contentContainerStyle={styles.container}>\n        <Searchbar\n          placeholder=\"Пошук\"\n          onChangeText={text => setSearchText(text)}\n          value={searchText}\n          style={styles.search}\n          clearButtonMode='while-editing'\n        />\n        <ScrollView style={{height: '80%'}}>\n          {filteredItems && [{name: 'Не вибрано', id: -1}, ...filteredItems].map(item => (\n                <Text key={item.id} style={selected.id === item.id ? styles.selected : styles.item}\n                      onPress={() => handlePress(item)}\n                >\n                  {item.name}\n                </Text>\n              )\n            )}\n        </ScrollView>\n      </Modal>\n    </Portal>\n  )\n};\n\nconst styles = StyleSheet.create({\n  item: {\n    fontSize: 20,\n    borderBottomWidth: 1,\n    borderStyle: 'solid',\n    borderBottomColor: '#ccc',\n    padding: 10,\n    color: '#000',\n  },\n  selected: {\n    fontSize: 20,\n    borderBottomWidth: 1,\n    borderStyle: 'solid',\n    borderBottomColor: '#2b5dff',\n    padding: 10,\n    color: '#2b5dff'\n  },\n  container: {\n    backgroundColor: 'white',\n    padding: 20,\n    margin: 10,\n    borderRadius: 8,\n    justifyContent: 'center',\n    height: '60%'\n  },\n  search: {\n    marginBottom: 10\n  }\n});","import React, {useEffect, useState} from 'react';\nimport {Text, StyleSheet} from \"react-native\";\nimport {IconButton} from \"react-native-paper\";\nimport {View} from \"../Themed\";\nimport CustomPicker from \"./CustomPicker\";\n\ntype Item = {\n  name: string;\n  id: number;\n}\n\ninterface PropTypes {\n  selected: Item;\n  setSelected: (value: Item) => void;\n  name: string;\n  items: any[];\n  checkValidation: (value: number) => void;\n  setIsVisited: (value: boolean) => void;\n  underlineColor: string;\n}\n\nexport default function CustomPickerField({\n                                            selected, name, setSelected, items, setIsVisited,\n                                            checkValidation, underlineColor\n                                          }: PropTypes) {\n  const [visiblePicker, setVisiblePicker] = useState(false);\n\n  useEffect(() => {\n    checkValidation(selected.id);\n  }, [selected]);\n\n  const showPicker = () => {\n    setVisiblePicker(true);\n    setIsVisited(true);\n  };\n\n  const hidePicker = () => {\n    checkValidation(selected.id);\n    setVisiblePicker(false);\n  };\n\n  return <View style={styles.picker}>\n    <Text style={[styles.pickerField, {borderBottomColor: underlineColor}]} numberOfLines={1}\n          onPress={showPicker}\n    >\n      {selected.id === -1 ? name : selected.name}\n    </Text>\n    <IconButton icon='chevron-down' style={styles.pickerIcon} color='#ccc'\n                onPress={showPicker}\n    />\n    <CustomPicker visible={visiblePicker} hideDialog={hidePicker}\n                  setSelected={setSelected} items={items}\n                  selected={selected}\n    />\n  </View>\n};\n\nconst styles = StyleSheet.create({\n  picker: {\n    flexDirection: 'row',\n    position: 'relative',\n    backgroundColor: '#fff',\n  },\n  pickerField: {\n    borderBottomWidth: 1,\n    borderStyle: 'solid',\n    paddingVertical: 10,\n    paddingLeft: 22,\n    paddingRight: 42,\n    fontSize: 22,\n    marginTop: 20,\n    color: '#6f6f6f',\n    width: '100%',\n  },\n  pickerIcon: {\n    position: 'absolute',\n    right: 0,\n    top: 20,\n  }\n});","import { gql } from \"@apollo/client\";\r\n\r\nexport const SIGN_UP = gql`\r\n    mutation signup($input: SignupInput!) {\r\n        signup(input: $input) {\r\n            token\r\n            user {\r\n                id\r\n                lastName\r\n            }\r\n            userErrors {\r\n                message\r\n                code\r\n            }\r\n        }\r\n    }\r\n`;","import * as React from 'react';\nimport {Paragraph, Dialog, Portal, Button} from 'react-native-paper';\n\ninterface PropTypes {\n  message: string;\n  visible: boolean;\n  hideDialog: () => void;\n  navigateToLogin: () => void;\n}\n\nexport default function InfoDialog({visible, message, hideDialog, navigateToLogin}: PropTypes) {\n  return (\n      <Portal>\n        <Dialog visible={visible} dismissable={false}>\n          <Dialog.Title style={{textAlign: 'center'}}>Увага</Dialog.Title>\n          <Dialog.Content>\n            <Paragraph style={{textAlign: 'center'}}>{message}</Paragraph>\n          </Dialog.Content>\n          <Dialog.Actions>\n            <Button onPress={hideDialog} mode='contained' color='#f91354'\n                    style={{width: 70, marginRight: 8}}>\n              Ні\n            </Button>\n            <Button onPress={() => {\n              hideDialog();\n              navigateToLogin();\n            }} mode='contained' style={{width: 70}}>\n              Так\n            </Button>\n          </Dialog.Actions>\n        </Dialog>\n      </Portal>\n  );\n};","import * as React from 'react';\nimport {Dimensions, ImageBackground, ScrollView, StyleSheet, Text} from 'react-native';\nimport {View} from '../../components/Themed';\nimport {Appbar, Banner, Button, Checkbox, HelperText, TextInput} from 'react-native-paper';\nimport {useState} from \"react\";\nimport useDegrees from \"../../hooks/useDegrees\";\nimport useDepartments from \"../../hooks/useDepartments\";\nimport Agreement from \"./components/Agreement\";\nimport CustomPickerField from \"../../components/CustomPicker/CustomPickerField\";\nimport moment from \"moment\";\nimport {useMutation} from \"@apollo/client\";\nimport {SIGN_UP} from \"../../api/operations/mutations/signUp\";\nimport InfoDialog from \"../../components/InfoDialog\";\nimport {ErrorCodes, ErrorCodesUa} from \"../../models/models\";\n\nconst currentYear: number = parseInt(moment().format('YYYY'));\n\nconst startYearsItems = [\n  {name: currentYear, id: currentYear},\n  {name: currentYear - 1, id: currentYear - 1},\n  {name: currentYear - 2, id: currentYear - 2},\n  {name: currentYear - 3, id: currentYear - 3},\n];\n\nconst windowHeight = Dimensions.get('window').height;\n\n\nexport default function SignUp({navigation}: any) {\n  const [selectedDepartment, setSelectedDepartment] = useState({name: '', id: -1});\n  const [selectedDegree, setSelectedDegree] = useState({name: '', id: -1});\n  const [selectedStartYear, setSelectedStartYear] = useState({name: '', id: -1});\n  const [visible, setVisible] = useState(true);\n  const [visibleAgreement, setVisibleAgreement] = useState(false);\n  const [visibleBackDialog, setVisibleBackDialog] = useState(false);\n  const backMessage = 'Ви дійсно бажаєте повернутись на сторінку входу?\\n Введені дані будуть стерті.';\n\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [patronymic, setPatronymic] = useState('');\n  const [email, setEmail] = useState('');\n  const [phoneNumber, setPhoneNumber] = useState('');\n  const [password, setPassword] = useState('');\n  const [passwordConfirm, setPasswordConfirm] = useState('');\n  const [checkAgreement, setCheckAgreement] = useState(false);\n  const degrees = useDegrees();\n  const departments = useDepartments(true);\n\n  const [isSignupTouched, setIsSignupTouched] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n\n  const [isLastNameValidated, setIsLastNameValidated] = useState<string | null>(null);\n  const [isFirstNameValidated, setIsFirstNameValidated] = useState<string | null>(null);\n  const [isEmailValidated, setIsEmailValidated] = useState<string | null>(null);\n  const [isPhoneValidated, setIsPhoneValidated] = useState<string | null>(null);\n  const [isPasswordValidated, setIsPasswordValidated] = useState<string | null>(null);\n  const [isPasswordConfirmValidated, setIsPasswordConfirmValidated] = useState<string | null>(null);\n  const [isStartYearValidated, setIsStartYearValidated] = useState<string | null>(null);\n  const [isDepartmentValidated, setIsDepartmentValidated] = useState<string | null>(null);\n  const [isDegreeValidated, setIsDegreeValidated] = useState<string | null>(null);\n\n  const [isStartYearModalVisited, setIsStartYearModalVisited] = useState(false);\n  const [isDepartmentModalVisited, setIsDepartmentModalVisited] = useState(false);\n  const [isDegreeModalVisited, setIsDegreeModalVisited] = useState(false);\n\n  const [signup, {loading, error}] = useMutation(SIGN_UP);\n\n  const checkLastNameValidation = (value: string) => {\n    if (!value) {\n      return setIsLastNameValidated(\"Обов'язкове поле\");\n    }\n    return setIsLastNameValidated(null);\n  };\n\n  const checkFirstNameValidation = (value: string) => {\n    if (!value) {\n      return setIsFirstNameValidated(\"Обов'язкове поле\");\n    }\n    return setIsFirstNameValidated(null);\n  };\n\n  const checkEmailValidation = (value: string) => {\n    const re = /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/\n\n    if (!value) {\n      return setIsEmailValidated(\"Обов'язкове поле\");\n    }\n    if (!re.test(value)) {\n      return setIsEmailValidated(\"Невірний формат\");\n    }\n    return setIsEmailValidated(null);\n  };\n\n  const checkPhoneValidation = (value: string) => {\n    const re = /\\(?([0-9]{3})\\)?([ .-]?)([0-9]{3})\\2([0-9]{4})/\n\n    if (!value) {\n      return setIsPhoneValidated(\"Обов'язкове поле\");\n    }\n    if (!re.test(value)) {\n      return setIsPhoneValidated(\"Невірний формат\");\n    }\n    return setIsPhoneValidated(null);\n  };\n\n  const checkPasswordValidation = (value: string) => {\n    const re = /^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})/;\n    const strongRe = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\\$%\\^&\\*])(?=.{8,})/;\n\n    if (!value) {\n      return setIsPasswordValidated(\"Обов'язкове поле\");\n    }\n    if (!re.test(value)) {\n      return setIsPasswordValidated(\"Невірний формат\");\n    }\n    return setIsPasswordValidated(null);\n  };\n\n  const checkPasswordConfirmValidation = (value: string) => {\n    if (!value) {\n      return setIsPasswordConfirmValidated(\"Обов'язкове поле\");\n    }\n    if (password && passwordConfirm && (password !== passwordConfirm)) {\n      return setIsPasswordConfirmValidated('Паролі не співпадають');\n    }\n    return setIsPasswordConfirmValidated(null);\n  };\n\n  const checkStartYearValidation = (value: number) => {\n    if (value === -1 && (isStartYearModalVisited || isSignupTouched)) {\n      return setIsStartYearValidated(\"Рік вступу не вибрано\");\n    }\n    return setIsStartYearValidated(null);\n  };\n\n  const checkDepartmentValidation = (value: number) => {\n    if (value === -1 && (isDegreeModalVisited || isSignupTouched)) {\n      return setIsDepartmentValidated(\"Кафедру не вибрано\");\n    }\n    return setIsDepartmentValidated(null);\n  };\n\n  const checkDegreeValidation = (value: number) => {\n    if (value === -1 && (isDegreeModalVisited || isSignupTouched)) {\n      return setIsDegreeValidated(\"Навчальний ступінь не вибрано\");\n    }\n    return setIsDegreeValidated(null);\n  };\n\n  const handleSubmit = async () => {\n    navigation.navigate('SignUpStepTwo');\n\n    checkLastNameValidation(lastName);\n    checkFirstNameValidation(firstName);\n    checkEmailValidation(email);\n    checkPhoneValidation(phoneNumber);\n    checkPasswordValidation(password);\n    checkPasswordConfirmValidation(passwordConfirm);\n    checkStartYearValidation(selectedStartYear.id);\n    checkDepartmentValidation(selectedDepartment.id);\n    checkDegreeValidation(selectedDegree.id);\n\n    if (!isLastNameValidated && !isFirstNameValidated && !isEmailValidated && !isPasswordValidated\n        && !isPasswordConfirmValidated && !isStartYearValidated && !isDepartmentValidated\n        && !isDegreeValidated) {\n      try {\n        const result = await signup({\n          variables: {\n            input: {\n              lastName: lastName,\n              firstName: firstName,\n              patronymic: patronymic,\n              password: password,\n              email: email,\n              phoneNumber: phoneNumber,\n              department: selectedDepartment.id,\n              degree: selectedDegree.id,\n              startYear: selectedStartYear.id,\n            }\n          }\n        });\n        const hasErrors = result?.data.login.userErrors?.length;\n\n        if (hasErrors) {\n          const errorMessage = ErrorCodesUa[result?.data.login.userErrors[0].code as ErrorCodes];\n\n          alert(errorMessage);\n        } else {\n          navigation.navigate('SignUpStepTwo');\n        }\n      } catch (e) {\n        alert(e)\n      }\n    }\n  }\n\n  const showAgreement = () => setVisibleAgreement(true);\n\n  const hideAgreement = () => setVisibleAgreement(false);\n\n  const showBackDialog = () => setVisibleBackDialog(true);\n\n  const hideBackDialog = () => setVisibleBackDialog(false);\n\n  const navigateToLogin = () => {\n    navigation.goBack();\n  };\n\n  const handleBack = () => {\n    if (lastName || firstName || patronymic || email || phoneNumber || password || passwordConfirm\n        || selectedStartYear.id !== -1 || selectedDepartment.id !== -1 || selectedDegree.id !== -1) {\n      showBackDialog();\n    } else {\n      navigateToLogin();\n    }\n  };\n\n  const Error = ({validator}: any) => (\n    <HelperText type=\"error\" style={{color: '#f91354', height: validator ? 'auto' : 0}}>\n      {validator}\n    </HelperText>\n  );\n\n  return (\n    <ImageBackground source={require('../../assets/images/bg.jpg')}\n                     style={{width: '100%', height: '100%'}}>\n      <View style={styles.container}>\n        <Appbar style={styles.top}>\n          <Appbar.BackAction onPress={handleBack} color='#fff'/>\n          <Appbar.Content title='Реєстрація' subtitle='Крок 1 із 3' color='#fff'/>\n        </Appbar>\n        <View style={styles.wrapper}>\n          <ScrollView style={styles.scrollView}>\n            <Banner\n              icon='alert-circle'\n              visible={visible}\n              actions={[\n                {\n                  label: 'Зрозуміло',\n                  onPress: () => setVisible(false),\n                }\n              ]}\n            >\n              Реєстрація педагогів та співробітників навчального закладу відбувається за допомогою диспетчера.\n            </Banner>\n            <Text style={styles.infoPanel}>\n              Введіть дані, що співпадають з вашим студентським квитком або іншим документом.\n            </Text>\n            <TextInput placeholder=\"Прізвище *\" style={styles.input} value={lastName}\n                       underlineColor={!isLastNameValidated ? '#ccc' : '#f91354'}\n                       onChangeText={text => {\n                         setLastName(text);\n                         checkLastNameValidation(text);\n                       }}\n                       onBlur={() => checkLastNameValidation(lastName)}\n            />\n            <Error validator={isLastNameValidated}/>\n            <TextInput placeholder=\"Ім'я *\" style={styles.input} value={firstName}\n                       underlineColor={!isFirstNameValidated ? '#ccc' : '#f91354'}\n                       onChangeText={text => {\n                         setFirstName(text);\n                         checkFirstNameValidation(text);\n                       }}\n                       onBlur={() => checkFirstNameValidation(firstName)}\n            />\n            <Error validator={isFirstNameValidated}/>\n            <TextInput placeholder=\"По-батькові\" style={styles.input} value={patronymic}\n                       onChangeText={text => setPatronymic(text)}\n            />\n            <View style={{height: 10, backgroundColor: '#fff'}}/>\n            <TextInput placeholder=\"E-mail *\" style={styles.input} value={email}\n                       underlineColor={!isEmailValidated ? '#ccc' : '#f91354'}\n                       onChangeText={text => {\n                         setEmail(text);\n                         checkEmailValidation(text);\n                       }}\n                       onBlur={() => checkEmailValidation(email)}\n                       keyboardType='email-address'\n            />\n            <Error validator={isEmailValidated}/>\n            <TextInput placeholder=\"Тел. номер *\" style={styles.input}\n                       underlineColor={!isEmailValidated ? '#ccc' : '#f91354'}\n                       onChangeText={text => {\n                         setPhoneNumber(text);\n                         checkPhoneValidation(text);\n                       }}\n                       onBlur={() => checkPhoneValidation(phoneNumber)}\n                       keyboardType='phone-pad'\n            />\n            <Error validator={isPhoneValidated}/>\n            <TextInput placeholder=\"Пароль *\" style={styles.input}\n                       underlineColor={!isPasswordValidated ? '#ccc' : '#f91354'}\n                       onChangeText={text => {\n                         setPassword(text);\n                         checkPasswordValidation(text);\n                       }}\n                       onBlur={() => checkPasswordValidation(password)}\n                       right={<TextInput.Icon name={showPassword ? 'eye' : 'eye-off'} color='#ccc'\n                                              onPress={() => setShowPassword(prevState => !prevState)}\n                                              forceTextInputFocus={false}\n                       />}\n                       secureTextEntry={!showPassword}\n            />\n            <Error validator={isPasswordValidated}/>\n            <TextInput placeholder=\"Повторіть пароль *\" style={styles.input}\n                       underlineColor={!isPasswordConfirmValidated ? '#ccc' : '#f91354'}\n                       onChangeText={text => {\n                         setPasswordConfirm(text);\n                         checkPasswordConfirmValidation(text);\n                       }}\n                       onBlur={() => checkPasswordConfirmValidation(passwordConfirm)}\n                       right={<TextInput.Icon name={showPassword ? 'eye' : 'eye-off'} color='#ccc'\n                                              onPress={() => setShowPassword(prevState => !prevState)}\n                                              forceTextInputFocus={false}\n                       />}\n                       secureTextEntry={!showPassword}\n            />\n            <Error validator={isPasswordConfirmValidated}/>\n            <CustomPickerField selected={selectedStartYear} setSelected={setSelectedStartYear}\n                               name='Рік початку навчання' items={startYearsItems}\n                               checkValidation={checkStartYearValidation}\n                               setIsVisited={setIsStartYearModalVisited}\n                               underlineColor={!isStartYearValidated ? '#ccc' : '#f91354'}\n\n            />\n            <Error validator={isStartYearValidated}/>\n            <CustomPickerField name='Кафедра' selected={selectedDepartment} items={departments}\n                               setSelected={setSelectedDepartment}\n                               checkValidation={checkDepartmentValidation}\n                               setIsVisited={setIsDepartmentModalVisited}\n                               underlineColor={!isDepartmentValidated ? '#ccc' : '#f91354'}\n\n            />\n            <Error validator={isDepartmentValidated}/>\n            <CustomPickerField name='Навчальний ступінь' selected={selectedDegree} items={degrees}\n                               setSelected={setSelectedDegree}\n                               checkValidation={checkDegreeValidation}\n                               setIsVisited={setIsDegreeModalVisited}\n                               underlineColor={!isDegreeValidated ? '#ccc' : '#f91354'}\n\n            />\n            <Error validator={isDegreeValidated}/>\n            <View style={styles.agreement}>\n              <Checkbox status={checkAgreement ? 'checked' : 'unchecked'} color='#2b5dff'\n                        uncheckedColor='#f91354'\n                        onPress={() => {\n                          setIsSignupTouched(true);\n                          setCheckAgreement(prevState => !prevState);\n                        }}/>\n              <Text style={{width: '90%', backgroundColor: '#fff'}}>Я прочитав і погоджуюсь з\n                <Text style={styles.link} onPress={showAgreement}> політикою конфіденційності</Text> *</Text>\n            </View>\n          </ScrollView>\n          <View style={styles.navButtons}>\n            <Button\n              onPress={handleSubmit}\n              mode='contained' color='#f91354'\n              style={styles.signUpButton}\n              disabled={!checkAgreement || loading}\n              loading={loading}\n            >\n              Зареєструватися\n            </Button>\n          </View>\n          <Agreement visible={visibleAgreement} hideDialog={hideAgreement}\n                     setCheckAgreement={setCheckAgreement}\n          />\n          <InfoDialog message={backMessage} visible={visibleBackDialog} hideDialog={hideBackDialog}\n                      navigateToLogin={navigateToLogin}\n          />\n        </View>\n      </View>\n    </ImageBackground>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    backgroundColor: 'transparent'\n  },\n  wrapper: {\n    backgroundColor: '#fff',\n    width: '100%',\n    height: windowHeight-80,\n    alignItems: 'center',\n  },\n  title: {\n    fontSize: 32,\n    fontWeight: 'bold',\n    color: '#fff',\n  },\n  navButtons: {\n    backgroundColor: 'transparent',\n    flexDirection: 'row',\n    marginBottom: 16,\n    marginTop: 16,\n  },\n  signUpButton: {\n    height: 50,\n    justifyContent: 'center',\n  },\n  scrollView: {\n    width: '90%',\n  },\n  input: {\n    width: '100%',\n    backgroundColor: 'transparent',\n    fontSize: 22,\n    paddingLeft: 10,\n    margin: 0,\n  },\n  top: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    paddingTop: 26,\n    height: 80,\n    backgroundColor: 'transparent',\n    elevation: 0\n  },\n  link: {\n    color: '#2b5dff',\n    textDecorationLine: 'underline'\n  },\n  agreement: {\n    paddingTop: 20,\n    paddingBottom: 5,\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: '#fff',\n  },\n  infoPanel: {\n    borderRadius: 8,\n    backgroundColor: '#b5e3ff',\n    padding: 8,\n    marginTop: 16\n  },\n});","import * as React from 'react';\nimport {View, StyleSheet, Text} from \"react-native\";\nimport {Button, TextInput} from \"react-native-paper\";\n\nexport default function ForgotPassword({navigation}: any) {\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.text}>\n        Введіть Вашу email адресу куди ми відправимо новий пароль.\n      </Text>\n      <TextInput placeholder=\"E-mail\" style={styles.input}/>\n      <Button onPress={()=>navigation.navigate('ForgotPasswordSuccess')} mode='contained' color='#2b5dff'\n        style={styles.button}>\n        Відновити пароль\n      </Button>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#2e287c',\n  },\n  text: {\n    color: '#fff',\n    fontSize: 20,\n    textAlign: 'center',\n    margin: 5,\n    width: '90%',\n    marginBottom: 32,\n  },\n  button: {\n    marginTop: 32,\n    height: 50,\n    justifyContent: 'center'\n  },\n  input: {\n    width: '90%',\n    height: 50\n  }\n});\n","import * as React from 'react';\nimport {View, StyleSheet, Text} from \"react-native\";\nimport {Button} from \"react-native-paper\";\n\nexport default function ForgotPasswordSuccess({navigation}: any) {\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.text}>\n        Пароль надіслано, перевірте пошту.\n      </Text>\n      <Button onPress={()=>navigation.navigate('Login')} mode='contained' color='#2b5dff'\n        style={styles.loginButton}>\n        На сторінку входу\n      </Button>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#2e287c',\n  },\n  text: {\n    color: '#fff',\n    fontSize: 20,\n    textAlign: 'center',\n    margin: 5,\n    width: '90%',\n    marginBottom: 32,\n  },\n  loginButton: {\n    marginTop: 32,\n    height: 50,\n    justifyContent: 'center'\n  },\n  input: {\n    width: '90%',\n    height: 50\n  }\n});\n","import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_USERS = gql`\r\n  query getUsers {\r\n    users {\r\n      id\r\n      firstName\r\n      patronymic\r\n      lastName\r\n      type\r\n      department {\r\n        name\r\n      }\r\n      email\r\n      phoneNumber\r\n      extraPhoneNumbers\r\n      nameTemp\r\n      studentInfo {\r\n        degree {\r\n          name\r\n        }\r\n        startYear\r\n        accountStatus\r\n      }\r\n      employeeInfo {\r\n        employmentType\r\n        accountStatus\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_USER_BY_ID = gql`\r\n  query getUserById($where: UserWhereUniqueInput!) {\r\n    user(where: $where) {\r\n      id\r\n      firstName\r\n      patronymic\r\n      lastName\r\n      type\r\n      department {\r\n        id\r\n        name\r\n      }\r\n      occupiedClassrooms {\r\n        id\r\n        state \r\n        classroom {\r\n          id\r\n          name\r\n        }\r\n      }\r\n      queue {\r\n        id\r\n        state\r\n        type\r\n        classroom {\r\n          id\r\n        }\r\n      }\r\n      queueInfo {\r\n        id\r\n        sanctionedUntil\r\n        currentSession {\r\n          id\r\n          state\r\n          skips\r\n        }\r\n      }\r\n      email\r\n      phoneNumber\r\n      extraPhoneNumbers\r\n      nameTemp\r\n      studentInfo {\r\n        degree {\r\n          name\r\n        }\r\n        startYear\r\n        accountStatus\r\n      }\r\n      employeeInfo {\r\n        employmentType\r\n        accountStatus\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import {useEffect, useState} from \"react\";\nimport {client} from \"../api/client\";\nimport {GET_CLASSROOMS} from \"../api/operations/queries/classrooms\";\nimport {ISODateString} from \"../helpers/helpers\";\nimport {ClassroomType, User} from \"../models/models\";\nimport {gql, useQuery} from \"@apollo/client\";\nimport {GET_USERS} from \"../api/operations/queries/users\";\n\nconst useUsers = (): Array<User> => {\n  const [users, setUsers] = useState<User[]>([]);\n\n  useEffect(() => {\n    client.query({query: GET_USERS, fetchPolicy: \"cache-first\"}).then((data) => {\n        setUsers(data.data.users.slice().sort((a: User, b: User) => a.id - b.id));\n      });\n  }, []);\n\n  return users;\n};\n\nexport default useUsers;","import {HOUR, MINUTE, TIME_SNIPPETS, WORKING_DAY_END, WORKING_DAY_START,} from \"./constants\";\nimport {\n  ACCESS_RIGHTS,\n  ClassroomType,\n  CurrentUser, DisabledState,\n  Mode,\n  OccupiedInfo,\n  OccupiedState,\n  ScheduleUnitType,\n  User,\n  UserTypes,\n} from \"../models/models\";\nimport moment from \"moment\";\nimport {ReactElement} from \"react\";\nimport {accessRightsVar, desirableClassroomIdsVar, minimalClassroomIdsVar} from \"../api/client\";\n\nexport const getScheduleTimeline = (start: number, end: number): string[] => {\n  let timeSnippets: string[] = [];\n  for (let hour = start; hour <= end; hour++) {\n    if (hour === end) {\n      timeSnippets.push(hour + \":00\");\n    } else {\n      TIME_SNIPPETS.forEach((minutes) => {\n        timeSnippets.push(hour + minutes);\n      });\n    }\n  }\n  return timeSnippets;\n};\n\nconst getScheduleTimeInMilliseconds = (scheduleUnitTime: any) => {\n  return scheduleUnitTime\n    .split(\":\")\n    .map((el: any, index: number) => {\n      return index === 0 ? Number(el) * HOUR : Number(el) * MINUTE;\n    })\n    .reduce((acc: any, curr: any) => acc + curr);\n};\n\nexport const getPossiblyOccupied = (schedule: Array<any>) => {\n  const current =\n    new Date().getHours() * HOUR + new Date().getMinutes() * MINUTE;\n  const timeSnippets = schedule.map((el: any) => {\n    return {\n      from: getScheduleTimeInMilliseconds(el.from),\n      to: getScheduleTimeInMilliseconds(el.to),\n    };\n  });\n  return timeSnippets\n    .map((el: any) => {\n      return current >= el.from && current <= el.to;\n    })\n    .some((el: any) => el === true);\n};\n\nexport const getTimeHHMM = (date: Date) => {\n  return date.getHours() + \":\" + formatMinutesToMM(date.getMinutes());\n};\n\nexport const getScheduleUnitRowLength = (\n  schedule: Array<ScheduleUnitType>,\n  units: string\n) =>\n  schedule\n    .map((scheduleUnit: ScheduleUnitType) => {\n      return parseInt(scheduleUnit.to) - parseInt(scheduleUnit.from) + units;\n    })\n    .join(\" \");\n\nexport const formatMinutesToMM = (value: number) => {\n  if (value <= 9) return `0${value}`;\n  else return value;\n};\n\nexport const fullName = (user: User, withInitials = false) => {\n  if (user) {\n    if (user.nameTemp) return user.nameTemp\n    if (withInitials) {\n      return `${user.lastName} ${user.firstName.charAt(0)}. ${\n        user.patronymic ? user.patronymic.charAt(0) + \".\" : \"\"\n      }`;\n    } else {\n      return `${user.lastName} ${user.firstName} ${\n        user.patronymic ? user.patronymic : \"\"\n      }`;\n    }\n  }\n  return \"\";\n};\n\nexport const typeStyle = (occupied: OccupiedInfo, isDisabled = false) => {\n  const student = {backgroundColor: \"#2e287c\", color: \"#fff\"};\n  const employee = {backgroundColor: \"#ffc000\", color: \"#fff\"};\n  const vacant = {\n    backgroundColor: \"transparent\",\n    color: \"#000\",\n  };\n  const disabled = {\n    backgroundColor: \"#00000011\",\n    color: \"#454545\",\n  };\n  if (isDisabled) return disabled;\n  if (isNotFree(occupied)) {\n    switch (occupied.user.type) {\n      case UserTypes.STUDENT:\n        return student;\n      case UserTypes.POST_GRADUATE:\n        return student;\n      default:\n        return employee;\n    }\n  }\n  return vacant;\n};\n\n//get int from time unit. ex: \"9:15\" -> 36 where each 15 min == 1; ex: \"00:15\" -> 1, \"10:00\" ->40\nconst simpleIntFromScheduleUnit = (time: string) => {\n  const reducer = (accumulator: any, currentValue: any) =>\n    accumulator + currentValue;\n  return time\n    .split(\":\")\n    .map((el: string, index: number) => {\n      if (index === 0) {\n        return parseInt(el) * 4;\n      } else {\n        switch (parseInt(el)) {\n          case 0:\n            return 0;\n          case 15:\n            return 1;\n          case 30:\n            return 2;\n          case 45:\n            return 3;\n        }\n      }\n    })\n    .reduce(reducer);\n};\n\n//get schedule units size in fr units for grids\nexport const getScheduleUnitSize = (\n  units: Array<ScheduleUnitType>,\n  fillEmpty = true\n) => {\n  const items = [];\n  if (fillEmpty) {\n    items.push(parseInt(units[0].from) - WORKING_DAY_START);\n  }\n  for (let item of units) {\n    const from = simpleIntFromScheduleUnit(item.from);\n    const to = simpleIntFromScheduleUnit(item.to);\n    items.push((to as number) - (from as number));\n  }\n  if (fillEmpty) {\n    items.push(WORKING_DAY_END - parseInt(units[units.length - 1].to));\n  }\n\n  return items.map((item) => `${item}fr`).join(\" \");\n};\n\nexport const ISODateString = (d: Date) => {\n  function pad(n: any) {\n    return n < 10 ? \"0\" + n : n;\n  }\n\n  return (\n    d.getUTCFullYear() +\n    \"-\" +\n    pad(d.getUTCMonth() + 1) +\n    \"-\" +\n    pad(d.getUTCDate())\n  );\n};\n\nexport const scheduleUnitToDate = (item: ScheduleUnitType) => {\n  const from = item.from.split(':');\n  const to = item.to.split(':');\n  const fromHours = +from[0];\n  const fromMinutes = +from[1];\n  const toHours = +to[0];\n  const toMinutes = +to[1];\n  const fromDate = moment({hours: fromHours, minutes: fromMinutes, seconds: 0, milliseconds: 0});\n  const toDate = moment({hours: toHours, minutes: toMinutes, seconds: 0, milliseconds: 0});\n\n  return {\n    from: fromDate,\n    to: toDate\n  };\n};\n\nexport const isOccupiedOnSchedule = (scheduleUnits: ScheduleUnitType[]) => {\n  const result: any = [];\n\n  scheduleUnits.forEach(item => result.push(scheduleUnitToDate(item)));\n\n  return result.some((item: { from: Date, to: Date }) => {\n    const current = moment();\n\n    return current.isAfter(item.from) && current.isBefore(item.to);\n  });\n};\n\nexport const showNotification = (dispatcher: any, data: string[] | HTMLElement[] | ReactElement[]) => {\n  dispatcher({\n    header: data[0],\n    message: data[1],\n    type: data[2],\n  });\n};\n\nexport const setAccessRights = (user: User) => {\n  let accessRights = ACCESS_RIGHTS.USER;\n\n  if (user && user?.type) {\n    switch (user.type) {\n      case UserTypes.ADMIN:\n        accessRights = ACCESS_RIGHTS.ADMIN;\n        break;\n      case UserTypes.DISPATCHER:\n        accessRights = ACCESS_RIGHTS.DISPATCHER;\n        break;\n      default:\n        accessRights = ACCESS_RIGHTS.USER;\n    }\n  }\n\n  accessRightsVar(accessRights);\n};\n\nexport const isTeacherType = (type: UserTypes) => {\n  return type === UserTypes.TEACHER || type === UserTypes.CONCERTMASTER || type === UserTypes.ILLUSTRATOR;\n};\n\nexport const getTimeFromUntil = (until: string, minutesDuration = 2) => {\n  if (until) {\n    const differenceInMs = moment(until).diff(moment());\n    const tempTime = moment.duration(differenceInMs);\n\n    const resultHHMMSS = tempTime.hours() + ':' + tempTime.minutes() + ':' + tempTime.seconds();\n    const resultPercents = differenceInMs / ((MINUTE * minutesDuration) / 100);\n\n    return [resultHHMMSS, resultPercents];\n  }\n};\n\nexport const isPendingForMe = (occupied: OccupiedInfo, me: User, mode: Mode) => {\n  return (\n    (occupied.state === OccupiedState.PENDING || occupied.state === OccupiedState.RESERVED) &&\n    occupied.user.id === me.id\n    && mode === Mode.INLINE\n  );\n}\n\nexport const isOwnClassroom = (occupied: OccupiedInfo, me: User) => {\n  return occupied.state === OccupiedState.OCCUPIED && occupied.user.id === me.id;\n};\n\nexport const isOccupiedOrPendingByCurrentUser = (occupied: OccupiedInfo, currentUser: User) => {\n  return (\n    occupied.state === OccupiedState.OCCUPIED\n    || occupied.state === OccupiedState.PENDING\n    || occupied.state === OccupiedState.RESERVED\n        ) && occupied.user.id === currentUser.id;\n}\n\nexport const isNotFree = (occupied: OccupiedInfo) => {\n  return occupied.state !== OccupiedState.FREE;\n};\n\nexport const getIsMeOccupied = (me: CurrentUser, classrooms: ClassroomType[]) => {\n  return !!classrooms.find(({occupied}) => occupied.state === OccupiedState.OCCUPIED && me.id === occupied.user.id);\n};\n\nexport const hasOwnClassroom = (occupiedClassrooms: any) => {\n  const ownClassroom = occupiedClassrooms.find((classroom: any) => {\n    return classroom.state === OccupiedState.OCCUPIED || classroom.state === OccupiedState.RESERVED;\n  });\n  return ownClassroom ? ownClassroom.classroom.id : null;\n};\n\nexport const isEnabledForCurrentDepartment = (classroom: ClassroomType, currentUser: User) => {\n  return classroom.chair?.exclusivelyQueueAllowedDepartmentsInfo.length ?\n    classroom.chair?.exclusivelyQueueAllowedDepartmentsInfo\n      .some(({department}) => department.id === currentUser?.department?.id) : true;\n};\n\nexport const isEnabledForQueue = (classroom: ClassroomType, user: any) => {\n    const ownClassroomId = hasOwnClassroom(user.occupiedClassrooms);\n\n    return classroom.id !== ownClassroomId && !classroom.isHidden &&\n      classroom.disabled.state === DisabledState.NOT_DISABLED &&\n      isEnabledForCurrentDepartment(classroom, user) &&\n      !(user.occupiedClassrooms.some((data: any) => {\n        return data.classroom.id === classroom.id && data.state === OccupiedState.PENDING\n      }));\n};","import React from 'react';\nimport {View, Text, StyleSheet} from \"react-native\";\nimport {ActivityIndicator, Divider, Modal, Portal, Title} from \"react-native-paper\";\nimport {fullName, isTeacherType} from \"../helpers/helpers\";\nimport {useQuery} from \"@apollo/client\";\nimport {GET_USER_BY_ID} from \"../api/operations/queries/users\";\nimport {UserTypes, UserTypesUa} from \"../models/models\";\nimport {Linking} from 'react-native'\n\ninterface PropTypes {\n  userId: number;\n  hideModal: () => void;\n  visible: boolean;\n}\n\nexport default function UserInfo({userId, hideModal, visible}: PropTypes) {\n  const {data, loading, error} = useQuery(GET_USER_BY_ID, {\n    variables: {where: {id: userId}}\n  });\n\n  const openPhoneNumber = (phoneNumber: string) => Linking.openURL(`tel:${phoneNumber}`);\n\n  return <Portal>\n    <Modal visible={visible} onDismiss={hideModal} contentContainerStyle={styles.containerStyle}>\n      {!loading && !error ? <>\n          <Title style={styles.occupantName}>{data.user.nameTemp === null ? fullName(data.user) :\n            data.user.nameTemp}</Title>\n          <Divider style={styles.divider}/>\n          <Text>Статус: {UserTypesUa[data.user.type as UserTypes]}</Text>\n          <Text>Кафедра: {data.user.department?.name}</Text>\n          <Divider style={styles.divider}/>\n        {isTeacherType(data.user.type) && <>\n            <View style={styles.phoneRow}><Text>Тел: </Text>\n                <Text onPress={() => openPhoneNumber(data.user.phoneNumber)} style={styles.phoneNumber}>\n                  {data.user.phoneNumber}\n                </Text>\n            </View>\n          {JSON.parse(data.user.extraPhoneNumbers).map((number: string, index: number) => {\n            return <View key={index} style={styles.phoneRow}>\n              <Text>{`Тел. ${index + 2}: `}</Text>\n              <Text onPress={() => openPhoneNumber(number)} style={styles.phoneNumber}>\n                {number}\n              </Text>\n            </View>\n          })}\n        </>}\n      </> : <ActivityIndicator animating={true} color='#2e287c'/>}\n    </Modal>\n  </Portal>\n};\n\nconst styles = StyleSheet.create(({\n  occupantName: {},\n  containerStyle: {\n    backgroundColor: 'white',\n    padding: 20,\n    margin: 10,\n    borderRadius: 8\n  },\n  divider: {\n    marginTop: 16,\n    marginBottom: 16\n  },\n  phoneRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between'\n  },\n  phoneNumber: {\n    borderRadius: 8,\n    borderWidth: 1,\n    borderStyle: 'solid',\n    borderColor: '#eee',\n    padding: 8,\n    fontSize: 16,\n    marginTop: 8,\n    color: '#2b5dff'\n  }\n}));","import React, {useEffect, useState} from 'react';\nimport {StyleSheet, View, ScrollView, Dimensions} from \"react-native\";\nimport useUsers from \"../hooks/useUsers\";\nimport {ActivityIndicator, DataTable, Searchbar} from \"react-native-paper\";\nimport {UserTypes, UserTypesUa} from \"../models/models\";\nimport {fullName, isTeacherType} from \"../helpers/helpers\";\nimport UserInfo from \"../components/UserInfo\";\n\nconst windowHeight = Dimensions.get('window').height;\n\nexport default function Users() {\n  const users = useUsers();\n  const [pages, setPages] = useState(0);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [visible, setVisible] = useState(false);\n  const [currentUserId, setCurrentUserId] = useState(0);\n  const [searchText, setSearchText] = useState('');\n  const UserElement = ({user}: any) => <DataTable.Row onPress={() => showModal(user.id)}>\n    <DataTable.Cell>{fullName(user)}</DataTable.Cell>\n    <DataTable.Cell>{UserTypesUa[user.type as UserTypes]}</DataTable.Cell>\n  </DataTable.Row>;\n\n  const showModal = (userId: number) => {\n    setVisible(true);\n    setCurrentUserId(userId);\n  };\n\n  const hideModal = () => setVisible(false);\n\n  useEffect(() => {\n    setPages(users.length / 13)\n  }, [users]);\n\n  return <View>\n    <Searchbar\n      placeholder=\"Пошук\"\n      onChangeText={text => {\n        setSearchText(text);\n        setCurrentPage(0);\n      }}\n      value={searchText}\n      style={styles.search}\n    />\n    <DataTable>\n      <DataTable.Header style={styles.header}>\n        <DataTable.Title>П.І.Б.</DataTable.Title>\n        <DataTable.Title style={{alignSelf: 'center'}}>Статус</DataTable.Title>\n      </DataTable.Header>\n      {users.length ? <>\n        <View style={styles.list}>\n          <ScrollView>\n            {users?.filter(user => isTeacherType(user.type as UserTypes))\n              .slice()\n              //@ts-ignore\n              .sort((a , b) => fullName(a).toLowerCase() > fullName(b).toLowerCase())\n              .filter(user => fullName(user).toLowerCase().includes(searchText.toLowerCase()))\n              .slice(currentPage * 13, (currentPage * 13) + 13)\n              .map(user =>\n              <UserElement user={user}/>)}\n          </ScrollView>\n        </View>\n        <DataTable.Pagination\n          style={styles.pagination}\n          page={currentPage}\n          numberOfPages={pages}\n          onPageChange={page => {\n            setCurrentPage(page);\n          }}\n          label={`${currentPage * 13} - ${(currentPage * 13) + 13} з ${users.length}`}\n        />\n      </> : <ActivityIndicator animating={true} color='#2e287c'/>}\n    </DataTable>\n    {currentUserId ? <UserInfo userId={currentUserId} hideModal={hideModal} visible={visible}/> : null}\n  </View>\n}\n\nconst styles = StyleSheet.create(({\n  search: {\n    marginTop: 40,\n    marginBottom: -40\n  },\n  header: {\n    marginTop: 40,\n  },\n  list: {\n    height: windowHeight - 175\n  },\n  pagination: {\n    justifyContent: 'center',\n  }\n}));\n","import React, {useState} from 'react';\nimport {\n  SafeAreaView,\n  View,\n  StyleSheet,\n  Image,\n  Text,\n  Linking,\n} from 'react-native';\n\nimport {\n  DrawerContentScrollView,\n  DrawerItemList,\n} from '@react-navigation/drawer';\nimport {Avatar, Button, Dialog, IconButton, Portal} from \"react-native-paper\";\nimport {removeItem} from \"../api/asyncStorage\";\nimport {meVar} from \"../api/client\";\n\nconst CustomSidebarMenu = (props: any) => {\n  const [visible, setVisible] = useState(false);\n\n  const showDialog = () => setVisible(true);\n\n  const hideDialog = () => setVisible(false);\n\n  const logout = async () => {\n    await removeItem('user');\n    await removeItem('token');\n    meVar(null);\n    hideDialog();\n  };\n\n  return (\n    <SafeAreaView style={{flex: 1}}>\n      <Image\n        source={require('../assets/images/au_logo.png')}\n        style={styles.sideMenuProfileIcon}\n      />\n      <View style={styles.userData}>\n        <Avatar.Icon size={44} icon='account'/>\n        <Text style={styles.userName}>{meVar()?.firstName}, вітаємо!</Text>\n        <IconButton\n          icon=\"logout\"\n          color=\"#f91354\"\n          size={30}\n          onPress={showDialog}\n          style={styles.logout}\n        />\n      </View>\n      <DrawerContentScrollView {...props}>\n        <DrawerItemList {...props} />\n      </DrawerContentScrollView>\n      <Text\n        style={{\n          fontSize: 16,\n          textAlign: 'center',\n          color: '#fff',\n          marginBottom: 16\n        }}\n        onPress={() => Linking.openURL('https://knmau.com.ua/')}\n      >\n        НМАУ ім. П.І.Чайковського\n      </Text>\n      <Portal>\n        <Dialog visible={visible} onDismiss={hideDialog}>\n          <Dialog.Title>Ви дійсно бажаєте вийти з аккаунту?</Dialog.Title>\n          <Dialog.Actions>\n            <Button onPress={hideDialog}>Відміна</Button>\n            <Button onPress={logout}>Так</Button>\n          </Dialog.Actions>\n        </Dialog>\n      </Portal>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  sideMenuProfileIcon: {\n    resizeMode: 'center',\n    width: 200,\n    height: 70,\n    marginTop: 50,\n    alignSelf: 'center',\n  },\n  iconStyle: {\n    width: 15,\n    height: 15,\n    marginHorizontal: 5,\n  },\n  customItem: {\n    padding: 16,\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  userData: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginTop: 20,\n    marginHorizontal: 10,\n    borderRadius: 8,\n    borderWidth: 1,\n    padding: 12,\n    borderColor: '#ffffff22',\n    flexDirection: 'row'\n  },\n  userName: {\n    color: '#fff',\n    fontSize: 20,\n    paddingLeft: 10\n  },\n  logout: {\n    marginRight: -10,\n    marginVertical: -10\n  }\n});\n\nexport default CustomSidebarMenu;","import {gql} from \"@apollo/client\";\r\n\r\nexport const GET_ME = gql`\r\n    query meType {\r\n        me @client\r\n    }\r\n`;","import React, {useEffect, useState} from 'react';\nimport {StyleSheet, View, Text} from \"react-native\";\nimport {Appbar, Divider, Title} from \"react-native-paper\";\nimport {useQuery} from \"@apollo/client\";\nimport {GET_ME} from \"../api/operations/queries/me\";\nimport {fullName} from \"../helpers/helpers\";\nimport {UserTypes, UserTypesUa} from \"../models/models\";\nimport {getItem} from \"../api/asyncStorage\";\n\nexport default function Profile({navigation}: any) {\n  const {data: {me}} = useQuery(GET_ME);\n\n  const goBack = () => navigation.goBack();\n\n  return (\n    <View>\n      <Appbar style={styles.top}>\n        <Appbar.BackAction onPress={goBack}/>\n        <Appbar.Content\n          title='Мій профіль'\n        />\n      </Appbar>\n      <View style={styles.wrapper}>\n        <Title>П.І.Б.</Title>\n        <Text style={{marginBottom: 10}}>{fullName(me)}</Text>\n        <Divider/>\n        <Title>Персональний номер (ID)</Title>\n        <Text style={{marginBottom: 10}}>{me.id}</Text>\n        <Divider/>\n        <Title>Тип аккаунту</Title>\n        <Text style={{marginBottom: 10}}>{UserTypesUa[me.type as UserTypes]}</Text>\n        <Divider/>\n        {me.department && (\n          <>\n            <Title>Кафедра</Title>\n            <Text style={{marginBottom: 10}}>{me.department?.name}</Text>\n            <Divider/>\n          </>\n        )}\n        <Title>E-mail</Title>\n        <Text style={{marginBottom: 10}}>{me.email}</Text>\n        <Divider/>\n        <Title>Телефон</Title>\n        <Text style={{marginBottom: 10}}>{me.phoneNumber}</Text>\n        <Divider/>\n        <Title>Термін дії аккаунту</Title>\n        <Text style={{marginBottom: 10}}>{me.expireDate}</Text>\n        <Divider/>\n      </View>\n    </View>\n  )\n}\n\nconst styles = StyleSheet.create({\n  top: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    paddingTop: 26,\n    height: 80,\n    backgroundColor: '#2e287c',\n  },\n  wrapper: {\n    marginTop: 100,\n    marginLeft: 16,\n    marginRight: 16,\n  },\n});","import {useNavigation} from '@react-navigation/native';\nimport React from 'react';\nimport {View, Text, StyleSheet, ImageBackground} from \"react-native\";\nimport {Appbar, Button, Title} from \"react-native-paper\";\n\nexport default function SignUpStepTwo() {\n  const navigation = useNavigation();\n  const message1 = 'Щоб підтвердити вказаний e-mail, перейдіть за посиланням, яке ми' +\n    ' надіслали на Вашу адресу.';\n  const message2 = 'Далі увійдіть до свого аккаунту та пройдіть верифікацію в учбовій частині.';\n\n\n  const navigateToLogin = () => {\n    navigation.navigate('Login');\n  };\n\n  return <ImageBackground source={require('../../assets/images/bg.jpg')}\n                          style={{width: '100%', height: '100%'}}>\n    <View style={styles.container}>\n      <Appbar style={styles.top}>\n        <Appbar.BackAction onPress={navigateToLogin}/>\n        <Appbar.Content title='Реєстрація' subtitle='Крок 2 із 3' color='#fff'/>\n      </Appbar>\n      <View style={styles.wrapper}>\n        <Title style={styles.title}>Вітаємо! Реєстрація успішна!</Title>\n        <Text style={styles.message}>{message1}</Text>\n        <Text style={styles.message}>{message2}</Text>\n        <Button mode='contained' style={styles.button} onPress={navigateToLogin}>На сторінку входу</Button>\n      </View>\n    </View>\n  </ImageBackground>\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n  },\n  top: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    paddingTop: 26,\n    height: 80,\n    backgroundColor: 'transparent',\n    elevation: 0\n  },\n  wrapper: {},\n  title: {\n    textAlign: 'center',\n    fontSize: 32,\n    padding: 20,\n    lineHeight: 40,\n    fontWeight: 'bold',\n    color: '#fff',\n    marginBottom: 30\n  },\n  message: {\n    textAlign: 'center',\n    borderRadius: 8,\n    backgroundColor: '#b5e3ff77',\n    padding: 8,\n    marginHorizontal: 20,\n    marginBottom: 10,\n    fontSize: 20,\n  },\n  button: {\n    width: 200,\n    alignSelf: 'center',\n    marginTop: 50,\n    height: 50,\n    justifyContent: 'center'\n  }\n});","import React, {useEffect, useState} from 'react';\nimport {View, Text, StyleSheet, ImageBackground} from \"react-native\";\nimport {Appbar, Button, Title} from \"react-native-paper\";\nimport {client, meVar} from \"../../api/client\";\nimport {GET_USER_BY_ID} from \"../../api/operations/queries/users\";\nimport {getItem, removeItem, setItem} from \"../../api/asyncStorage\";\n\nexport default function Verification() {\n  const message1 = 'Для доступу до застосунку підтвердіть свій аккаунт в учбовій частині. \\n' +\n    'Ваш номер користувача:';\n  const message2 = 'Після верифікації оновіть сторінку або поверніться на сторінку входу.';\n  const [storageUser, setStorageUser] = useState<any>(null);\n  const [update, setUpdate] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    getItem('user').then(u => setStorageUser(u));\n  },[]);\n\n  useEffect(() => {\n    if (storageUser) {\n      setIsLoading(true);\n      client.query({\n        query: GET_USER_BY_ID,\n        variables: {\n          where: {id: storageUser.id}\n        },\n        fetchPolicy: 'network-only',\n      }).then(({data: {user}}) => {\n        setItem('user', user).then(() => {\n          setIsLoading(false);\n        });\n      });\n    }\n  }, [update]);\n\n  const navigateToLogin = async () => {\n    await removeItem('user');\n    meVar(null);\n  };\n\n  return <ImageBackground source={require('../../assets/images/bg.jpg')}\n                          style={{width: '100%', height: '100%'}}>\n    <View style={styles.container}>\n      <Appbar style={styles.top}>\n        <Appbar.BackAction onPress={navigateToLogin}/>\n        <Appbar.Content title='Реєстрація' subtitle='Крок 3 із 3' color='#fff'/>\n      </Appbar>\n      <View style={styles.wrapper}>\n        <Title style={styles.title}>Верифікація в учбовій частині</Title>\n        <Text style={styles.message}>{message1}</Text>\n        <Title style={styles.number}>{storageUser ? storageUser.id : ''}</Title>\n        <Text style={styles.message}>{message2}</Text>\n        <Button mode='contained' style={styles.button} loading={isLoading} disabled={isLoading}\n                onPress={() => setUpdate(prevState => !prevState)}\n        >\n          Оновити\n        </Button>\n        <Button mode='contained' style={styles.button} onPress={navigateToLogin}>\n          На сторінку входу\n        </Button>\n      </View>\n    </View>\n  </ImageBackground>\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n  },\n  top: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    paddingTop: 26,\n    height: 80,\n    backgroundColor: 'transparent',\n    elevation: 0\n  },\n  wrapper: {},\n  title: {\n    textAlign: 'center',\n    fontSize: 32,\n    padding: 10,\n    lineHeight: 40,\n    fontWeight: 'bold',\n    color: '#fff',\n    marginBottom: 15\n  },\n  number: {\n    textAlign: 'center',\n    fontSize: 50,\n    padding: 30,\n    lineHeight: 60,\n    marginHorizontal: 20,\n    marginBottom: 12,\n    color: '#fff',\n    borderRadius: 8,\n    borderStyle: \"solid\",\n    borderColor: '#ffffff33',\n    borderWidth: 1,\n  },\n  message: {\n    textAlign: 'center',\n    borderRadius: 8,\n    backgroundColor: '#b5e3ff77',\n    padding: 8,\n    marginHorizontal: 20,\n    marginBottom: 10,\n    fontSize: 20,\n  },\n  button: {\n    width: 200,\n    alignSelf: 'center',\n    marginTop: 10,\n    height: 50,\n    justifyContent: 'center'\n  }\n});","import {gql, useQuery} from \"@apollo/client\";\n\nexport const useLocal = (localVarName: string) => {\n  return useQuery(gql`\n      query ${localVarName} {\n        ${localVarName} @client\n      }\n  `);\n};","import {gql} from \"@apollo/client\";\n\nexport const ADD_USER_TO_QUEUE = gql`\n    mutation addUserToQueue($input: AddUserToQueueInputType!) {\n        addUserToQueue(input: $input) {\n          user {\n            id\n            firstName\n            lastName\n            occupiedClassrooms {\n              id\n              state\n              until\n              classroom {\n                id\n              }\n            }\n            queueInfo {\n              id\n              currentSession {\n                id\n                state\n                skips\n              }\n            }\n          }\n          userErrors {\n              message\n              code\n            }\n        }\n    }\n`;","import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_CLASSROOM = gql`\r\n  query getClassroom($where: ClassroomWhereUniqueInput!) {\r\n    classroom(where: $where) {\r\n      id\r\n      description\r\n      name\r\n      floor\r\n      special\r\n      isHidden\r\n      chair {\r\n          id\r\n          name\r\n          exclusivelyQueueAllowedDepartmentsInfo {\r\n            department {\r\n              id\r\n              name\r\n            }\r\n          }\r\n      }\r\n      isWing\r\n      isOperaStudio\r\n      occupied {\r\n        user {\r\n          id\r\n          firstName\r\n          patronymic\r\n          lastName\r\n          type\r\n          nameTemp\r\n          email\r\n          phoneNumber\r\n        }\r\n        until\r\n        state\r\n      }\r\n      instruments {\r\n        name\r\n        type\r\n        rate\r\n      }\r\n      disabled {\r\n        comment\r\n        until\r\n        state\r\n      }\r\n    }\r\n  }\r\n`;","import React from 'react';\nimport {View, Text, StyleSheet, Image} from \"react-native\";\nimport {Divider, Modal, Portal, Title} from \"react-native-paper\";\nimport {fullName, isTeacherType} from \"../helpers/helpers\";\nimport {useQuery} from \"@apollo/client\";\nimport {GET_USER_BY_ID} from \"../api/operations/queries/users\";\nimport {InstrumentType, UserTypes, UserTypesUa} from \"../models/models\";\nimport {Linking} from 'react-native'\n\ninterface PropTypes {\n  instrument: InstrumentType;\n  hideModal: () => void;\n  visible: boolean;\n  imageSource: string;\n}\n\nexport default function InstrumentInfo({instrument, hideModal, visible}: PropTypes) {\n  let instrumentType: any = `./../assets/images/UpRightPiano.png`;\n  // @ts-ignore\n  const intRate = Math.round(instrument.rate);\n  const rate = new Array(10).fill(1);\n\n  switch (instrument.type) {\n    case 'Chembalo':\n      instrumentType = <Image source={require(`./../assets/images/Chembalo.png`)} style={styles.icon}/>;\n      break;\n    case 'GrandPiano':\n      instrumentType = <Image source={require(`./../assets/images/GrandPiano.png`)} style={styles.icon}/>;\n      break;\n    case 'UpRightPiano':\n      instrumentType = <Image source={require(`./../assets/images/UpRightPiano.png`)} style={styles.icon}/>;\n      break;\n    default:\n      instrumentType = <Image source={require(`./../assets/images/GrandPiano.png`)} style={styles.icon}/>;\n  }\n\n  return <Portal>\n    <Modal visible={visible} onDismiss={hideModal} contentContainerStyle={styles.containerStyle}>\n      <Title style={{textAlign: 'center'}}>{instrumentType} {instrument.name}</Title>\n      <Divider style={styles.divider}/>\n      <Text style={{textAlign: 'center'}}>Тип: {instrument.type}</Text>\n      <Divider style={styles.divider}/>\n      <Text style={{textAlign: 'center'}}>Рейтинг: {instrument.rate.toFixed(1)}</Text>\n      <View style={styles.rate}>\n        {rate.map((item, index) => <Image key={index}\n          style={{...styles.star, opacity: index < intRate ? 1 : .3}}\n          source={require('../assets/images/star.png')}\n        />)}\n      </View>\n    </Modal>\n  </Portal>\n};\n\nconst styles = StyleSheet.create(({\n  containerStyle: {\n    backgroundColor: 'white',\n    padding: 20,\n    margin: 10,\n    borderRadius: 8\n  },\n  divider: {\n    marginTop: 16,\n    marginBottom: 16\n  },\n  phoneRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between'\n  },\n  phoneNumber: {\n    borderRadius: 8,\n    borderWidth: 1,\n    borderStyle: 'solid',\n    borderColor: '#eee',\n    padding: 8,\n    fontSize: 16,\n    marginTop: 8,\n    color: '#2b5dff'\n  },\n  icon: {\n    width: 20,\n    height: 20,\n    marginRight: 8,\n    marginLeft: 4,\n    opacity: .6\n  },\n  star: {\n    width: 20,\n    height: 20\n  },\n  rate: {\n    marginTop: 8,\n    flexDirection: 'row',\n    justifyContent: 'center'\n  }\n}));","import React, {useState} from 'react';\nimport {View, StyleSheet, Text, Dimensions, Image} from \"react-native\";\nimport {ClassroomType, InstrumentType} from \"../models/models\";\nimport InstrumentInfo from \"./InstrumentInfo\";\n\ninterface PropTypes {\n  instrument: InstrumentType;\n  expanded?: boolean;\n}\n\nexport default function InstrumentItem({instrument, expanded = false}: PropTypes) {\n  const {type, rate, name} = instrument;\n  let instrumentType: any = `./../assets/images/UpRightPiano.png`;\n  const [visible, setVisible] = useState(false);\n\n  const showModal = () => setVisible(true);\n\n  const hideModal = () => setVisible(false);\n\n  switch (type) {\n    case 'Chembalo':\n      instrumentType = <Image source={require(`./../assets/images/Chembalo.png`)} style={styles.icon}/>;\n      break;\n    case 'GrandPiano':\n      instrumentType = <Image source={require(`./../assets/images/GrandPiano.png`)} style={styles.icon}/>;\n      break;\n    case 'UpRightPiano':\n      instrumentType = <Image source={require(`./../assets/images/UpRightPiano.png`)} style={styles.icon}/>;\n      break;\n    default:\n      instrumentType = <Image source={require(`./../assets/images/GrandPiano.png`)} style={styles.icon}/>;\n  }\n\n  return <View style={styles.wrapper} onTouchEnd={expanded ? showModal : () => {}}>\n    {instrumentType}\n    {expanded && <>\n        <Text style={styles.name}>{name}</Text>\n        <Image style={styles.star} source={require('../assets/images/star.png')}/>\n    </>}\n    <Text>{rate.toFixed(1)}</Text>\n    <InstrumentInfo instrument={instrument} hideModal={hideModal} visible={visible}\n                    imageSource={instrumentType}/>\n  </View>\n};\n\nconst styles = StyleSheet.create({\n  wrapper: {\n    flexDirection: 'row',\n    marginTop: 4,\n    marginBottom: 4,\n    marginRight: 2,\n    backgroundColor: 'rgba(0, 0, 0, .05)',\n    paddingTop: 4,\n    paddingBottom: 4,\n    paddingLeft: 4,\n    paddingRight: 8,\n    borderRadius: 4,\n    alignItems: 'center'\n  },\n  icon: {\n    width: 20,\n    height: 20,\n    marginRight: 8,\n    marginLeft: 4,\n    opacity: .6\n  },\n  name: {\n    marginLeft: 4,\n    marginRight: 4\n  },\n  star: {\n    width: 20,\n    height: 20\n  }\n});","import {Mode, OccupiedInfo, OccupiedState, User} from \"../models/models\";\nimport React, {useEffect, useRef, useState} from \"react\";\nimport {useQuery} from \"@apollo/client\";\nimport {GET_ME} from \"../api/operations/queries/me\";\nimport {useLocal} from \"./useLocal\";\nimport {getTimeFromUntil, isNotFree, isPendingForMe} from \"../helpers/helpers\";\n\nconst useTimeLeft = (occupied: OccupiedInfo, minutesDuration: number) => {\n  const [timeLeft, setTimeLeft] = useState('');\n  const [timeLeftInPer, setTimeLeftInPer] = useState(100);\n  const interval = useRef<any>({current: null});\n  const {data: {me}} = useQuery(GET_ME);\n\n  useEffect(() => {\n    if (isNotFree(occupied) && occupied.user.id === me.id  && interval.current !== null) {\n      // @ts-ignore\n      interval.current = setInterval(() => {\n        // @ts-ignore\n        const [left, leftPer] = getTimeFromUntil(occupied.until, minutesDuration);\n        const hour: string = (left as string).split(':')?.[0] + ' год. ';\n        const min: string = (left as string).split(':')?.[1] + ' хв. ';\n        const sec: string = (left as string).split(':')?.[2] + ' сек. ';\n\n        setTimeLeft(hour + min + sec);\n        setTimeLeftInPer(leftPer as number);\n        if (timeLeftInPer <= 0) clearInterval(interval.current);\n      }, 1000);\n    } else {\n      clearInterval(interval.current);\n      interval.current = null;\n      setTimeLeft('');\n    }\n  }, [occupied.state]);\n\n  return [timeLeft, timeLeftInPer];\n};\n\nexport default useTimeLeft;","export const HOUR = 3600000;\r\nexport const MINUTE = 60000;\r\nexport const TIME_SNIPPETS = [\":00\", \":15\", \":30\", \":45\"];\r\nexport const WORKING_DAY_END = 21;\r\nexport const WORKING_DAY_START = 8;","import React, {useState} from 'react';\nimport {fullName, getTimeHHMM, isNotFree, isOwnClassroom, isPendingForMe} from \"../helpers/helpers\";\nimport {StyleSheet, Text, View} from \"react-native\";\nimport {Banner, Button, Paragraph, ProgressBar, Surface} from \"react-native-paper\";\nimport {ClassroomType, Mode, OccupiedState, User, UserTypeColors, UserTypes, UserTypesUa} from \"../models/models\";\nimport colors from \"../constants/Colors\";\nimport UserInfo from \"./UserInfo\";\nimport {useLocal} from \"../hooks/useLocal\";\nimport useTimeLeft from \"../hooks/useTimeLeft\";\n\ntype PropTypes = {\n  classroom: ClassroomType;\n  user: User;\n}\n\nconst OccupantInfo: React.FC<PropTypes> = ({classroom, user}) => {\n  const {data: {mode}} = useLocal('mode');\n  const userFullName = isNotFree(classroom?.occupied) ? fullName(classroom.occupied?.user) : '';\n  const occupiedTotalTime = classroom.occupied.state === OccupiedState.OCCUPIED ? 180 :\n    classroom.occupied.state === OccupiedState.RESERVED ? 15 : 2;\n  const [timeLeft, timeLeftInPer] = useTimeLeft(classroom?.occupied, occupiedTotalTime);\n  const [visibleBanner, setVisibleBanner] = useState(true);\n  const [visible, setVisible] = useState(false);\n\n  const showModal = () => setVisible(true);\n\n  const hideModal = () => setVisible(false);\n\n  return <>{!isNotFree(classroom.occupied)\n    ? <Text style={styles.freeText}>Вільно</Text>\n    : !isPendingForMe(classroom.occupied, user, mode) && (\n    <Surface style={[{elevation: visible ? 0 : 4}, styles.occupationInfo]}\n             onTouchEnd={showModal}\n    >\n      <Text style={styles.occupantName}>{userFullName}</Text>\n      <Text style={[{\n        backgroundColor: UserTypeColors[classroom.occupied.user.type as UserTypes]\n      },\n        styles.occupantType\n      ]}\n      >\n        {UserTypesUa[classroom.occupied.user.type as UserTypes]}\n      </Text>\n      {isOwnClassroom(classroom.occupied, user) ? (\n        timeLeftInPer > 0 && <View style={{marginTop: 30}}>\n            <Paragraph>\n                Часу на заняття залишилось: {timeLeft}\n            </Paragraph>\n            <ProgressBar progress={timeLeftInPer as number / 100} visible color={colors.red}\n                         style={styles.progressBar}\n            />\n        </View>\n      ) : (\n        <Text style={styles.occupiedUntil}>Зайнято до {getTimeHHMM(new Date(classroom.occupied.until))}</Text>\n      )}\n      <UserInfo userId={classroom.occupied.user.id} hideModal={hideModal} visible={visible}/>\n    </Surface>\n  )}\n    {classroom.occupied.state === OccupiedState.RESERVED &&\n    classroom.occupied.user.id === user.id && (\n      <>\n        {timeLeftInPer > 0 && <View style={styles.spaceBottom30}>\n            <Banner visible={visibleBanner} actions={[{\n              label: 'Зрозуміло',\n              onPress: () => setVisibleBanner(false)\n            }]}\n                    style={styles.spaceBottom30}\n            >Заберіть ключі від аудиторії в учбовій частині. Максимальний час знаходження в аудиторії - 3 години.\n            </Banner>\n            <Paragraph>\n                Час на прийняття рішення: {timeLeft}\n            </Paragraph>\n            <ProgressBar progress={timeLeftInPer as number / 100} visible color={colors.red}\n                         style={styles.progressBar}\n            />\n        </View>}\n      </>\n    )}\n    {classroom.occupied.state === OccupiedState.PENDING &&\n    classroom.occupied.user.id === user.id && mode === Mode.INLINE && (\n      <>\n        {timeLeftInPer > 0 && <View style={styles.spaceBottom30}>\n            <Banner visible={visibleBanner} actions={[{\n              label: 'Зрозуміло',\n              onPress: () => setVisibleBanner(false)\n            }]}\n                    style={styles.spaceBottom30}\n            >\n              {\n                `Ви можете відхилити аудиторію ${user.queueInfo.currentSession?.skips} раз${user.queueInfo.currentSession?.skips === 2 || user.queueInfo.currentSession?.skips === 3 || user.queueInfo.currentSession?.skips === 4 ? 'и.' : '.'\n                } Якщо аудиторія не буде підтверджена на протязі визначеного часу, вона буде відхилена автоматично. Якщо показник допустимих відхилень дорівнює нулю і Ви не підтверджуєте та не відхиляєте аудиторію, вона автоматично відхиляється і Ви вибуваєте з черги.`\n              }\n            </Banner>\n            <Paragraph>\n                Часу на прийняття рішення залишилось: {timeLeft}\n            </Paragraph>\n            <ProgressBar progress={timeLeftInPer as number / 100} visible color={colors.red}\n                         style={styles.progressBar}\n            />\n        </View>}\n        <View>\n          <Button mode='contained' style={{marginBottom: 8}} color='#f91354'>\n            Відхилити аудиторію\n          </Button>\n          <Button mode='contained'>Підтвердити аудиторію</Button>\n        </View>\n      </>\n    )}\n  </>\n}\n\nconst styles = StyleSheet.create({\n  occupationInfo: {\n    borderRadius: 8,\n    padding: 16\n  },\n  freeText: {\n    textAlign: 'center',\n    fontSize: 20,\n    borderColor: '#ddd',\n    borderWidth: 1,\n    borderStyle: 'solid',\n    alignSelf: 'center',\n    paddingVertical: 8,\n    paddingHorizontal: 32,\n    borderRadius: 32,\n    color: '#bbb'\n  },\n  occupantName: {\n    textAlign: 'center',\n    fontSize: 16,\n  },\n  occupantType: {\n    color: '#fff',\n    textAlign: 'center',\n    alignSelf: 'center',\n    paddingVertical: 2,\n    paddingHorizontal: 4,\n    marginTop: 8,\n    borderRadius: 4,\n  },\n  occupiedUntil: {\n    textAlign: 'center',\n    marginTop: 8\n  },\n  progressBar: {\n    height: 24,\n    borderRadius: 6,\n  },\n  spaceBottom30: {\n    marginBottom: 30,\n    backgroundColor: '#ffffff'\n  }\n});\n\nexport default OccupantInfo;","import {client, meVar, minimalClassroomIdsVar, modeVar} from \"../../api/client\";\nimport {EnqueuedBy, Mode, QueueState, QueueType, User} from \"../../models/models\";\nimport {ADD_USER_TO_QUEUE} from \"../../api/operations/mutations/addUserToQueue\";\n\nconst getInLine = async (minimalClassroomsIds: number[], desirableClassroomIds: number[]) => {\n  const user: User | null = meVar();\n\n  const allClassroomIds = [...(new Set([...minimalClassroomsIds, ...desirableClassroomIds]))];\n\n  const minimalData = allClassroomIds.map(id => ({\n    classroomId: id,\n    type: QueueType.MINIMAL\n  }));\n\n  const desirableData = desirableClassroomIds.map(id => ({\n    classroomId: id,\n    type: QueueType.DESIRED\n  }));\n\n  try {\n    await client.mutate({\n      mutation: ADD_USER_TO_QUEUE, variables: {\n        input: {\n          userId: user.id,\n          data: [...minimalData, ...desirableData],\n          enqueuedBy: EnqueuedBy.SELF\n        }\n      }\n    })\n    modeVar(Mode.INLINE);\n    minimalClassroomIdsVar(allClassroomIds);\n  } catch (e) {\n    alert(JSON.stringify(e));\n  }\n};\n\nexport  default getInLine;","import {gql} from \"@apollo/client\";\n\nexport const REMOVE_USER_FROM_QUEUE = gql`\n    mutation removeUserFromQueue($input: RemoveUserFromQueueInputType!) {\n        removeUserFromQueue(input: $input) {\n           user {\n            id\n            firstName\n            lastName\n            occupiedClassrooms {\n              id\n              state\n              until\n              classroom {\n                id\n              }\n            }\n            }\n            userErrors {\n             message\n             code\n            }\n        }\n    }\n`;","import {QueueSession, QueueType, User, UserQueueState} from \"../../models/models\";\nimport {getItem} from \"../../api/asyncStorage\";\nimport {client, desirableClassroomIdsVar, isMinimalSetupVar, minimalClassroomIdsVar} from \"../../api/client\";\nimport {REMOVE_USER_FROM_QUEUE} from \"../../api/operations/mutations/removeUserFromQueue\";\n\nexport default async function removeFromLine(classroomId?: number, currentSession?: QueueSession) {\n  const user: User | undefined = await getItem('user');\n  if (classroomId) {\n    try {\n      await client.mutate({\n        mutation: REMOVE_USER_FROM_QUEUE,\n        variables: {\n          input: {\n            userId: user.id,\n            deleteWhere: {\n              classroomId: {\n                equals: classroomId\n              },\n              type: {\n                equals: currentSession.state === UserQueueState.IN_QUEUE_MINIMAL\n                  ? QueueType.MINIMAL : QueueType.DESIRED\n              }\n            }\n          }\n        }\n      });\n      minimalClassroomIdsVar([]);\n      desirableClassroomIdsVar([]);\n      isMinimalSetupVar(true);\n    } catch (e) {\n      alert(JSON.stringify(e))\n    }\n  } else {\n    try {\n      await client.mutate({\n        mutation: REMOVE_USER_FROM_QUEUE,\n        variables: {\n          input: {\n            userId: user.id\n          }\n        }\n      });\n      minimalClassroomIdsVar([]);\n      desirableClassroomIdsVar([]);\n      isMinimalSetupVar(true);\n    } catch (e) {\n      alert(JSON.stringify(e))\n    }\n  }\n};","import React, {useState} from 'react';\nimport {useLocal} from \"../hooks/useLocal\";\nimport {Button, Divider} from \"react-native-paper\";\nimport {desirableClassroomIdsVar, minimalClassroomIdsVar} from \"../api/client\";\nimport {StyleSheet} from \"react-native\";\nimport {ClassroomType, Mode, QueueRecord, QueueType, User, UserQueueState} from \"../models/models\";\nimport getInLine from \"../helpers/queue/getInLine\";\nimport WaitDialog from \"./WaitDialog\";\nimport {isEnabledForQueue} from \"../helpers/helpers\";\nimport {useNavigation} from \"@react-navigation/native\";\nimport removeFromLine from \"../helpers/queue/removeFromLine\";\n\ntype PropTypes = {\n  classroom: ClassroomType;\n  currentUser: User;\n}\n\nconst ClassroomQueueControlButtons: React.FC<PropTypes> = ({\n                                                             classroom, currentUser: {\n    queueInfo: {currentSession}, queue, ...currentUser\n  }\n                                                           }) => {\n  const {data: {mode}} = useLocal('mode');\n  const {data: {isMinimalSetup}} = useLocal('isMinimalSetup');\n  const {data: {desirableClassroomIds}} = useLocal('desirableClassroomIds');\n  const {data: {minimalClassroomIds}} = useLocal('minimalClassroomIds');\n  const currentRecord: QueueRecord[] = currentSession?.state === UserQueueState.IN_QUEUE_MINIMAL\n    && queue.filter(queueRecord => queueRecord.classroom.id === classroom.id);\n  const [loading, setLoading] = useState(false);\n  const navigation = useNavigation();\n\n  const handleClassroomForQueue = async () => {\n    if (isMinimalSetup) {\n      const minimalSet = new Set([...minimalClassroomIds]);\n      minimalSet.has(classroom.id) ? minimalSet.delete(classroom.id) : minimalSet.add(classroom.id)\n      minimalClassroomIdsVar([...minimalSet]);\n    } else {\n      const desiredSet = new Set([...desirableClassroomIds]);\n      desiredSet.has(classroom.id) ? desiredSet.delete(classroom.id) : desiredSet.add(classroom.id)\n      desirableClassroomIdsVar([...desiredSet]);\n    }\n    navigation.goBack();\n  };\n\n  const asyncHandleClassroomForQueue = async (exist: boolean) => {\n    setLoading(true);\n    if (currentSession?.state === UserQueueState.IN_QUEUE_MINIMAL) {\n      if (exist) {\n        await removeFromLine(classroom.id, currentSession)\n      } else {\n        await getInLine([classroom.id], []);\n      }\n    } else if (currentSession?.state === UserQueueState.IN_QUEUE_DESIRED_AND_OCCUPYING) {\n      if (exist) {\n        await removeFromLine(classroom.id, currentSession)\n      } else {\n        await getInLine([], [classroom.id]);\n      }\n    }\n    setLoading(false);\n    navigation.goBack();\n  };\n  if (!isEnabledForQueue(classroom, currentUser)) return null;\n  return (\n    <>\n      <WaitDialog visible={loading}/>\n      {mode === Mode.QUEUE_SETUP && (\n        <>\n          <Divider style={styles.divider}/>\n          {isMinimalSetup ? (\n            minimalClassroomIds.includes(classroom.id) ? (\n              <Button mode='contained' style={{marginBottom: 8}}\n                      onPress={handleClassroomForQueue}\n              >\n                Видалити з черги (мінімальні)\n              </Button>\n            ) : (\n              <Button mode='contained' style={{marginBottom: 8}}\n                      onPress={handleClassroomForQueue}\n              >\n                Додати до черги (мінімальні)\n              </Button>\n            )\n          ) : (\n            desirableClassroomIds.includes(classroom.id) ? (\n              <Button mode='contained' style={{marginBottom: 8}}\n                      onPress={handleClassroomForQueue}\n              >\n                Видалити з черги (бажані)\n              </Button>\n            ) : (\n              <Button mode='contained' style={{marginBottom: 8}}\n                      onPress={handleClassroomForQueue}\n              >\n                Додати до черги (бажані)\n              </Button>\n            )\n          )}\n        </>\n      )}\n      {(currentSession?.state === UserQueueState.IN_QUEUE_MINIMAL\n        || currentSession?.state === UserQueueState.IN_QUEUE_DESIRED_AND_OCCUPYING)\n      && (\n        <>\n          <Divider style={styles.divider}/>\n          {currentRecord.some(({type}) => type === QueueType.MINIMAL) ? (\n            <Button mode='contained' style={{marginBottom: 8}}\n                    onPress={() => asyncHandleClassroomForQueue(true)}\n            >\n              Видалити з черги\n            </Button>\n          ) : (\n            <Button mode='contained' style={{marginBottom: 8}}\n                    onPress={() => asyncHandleClassroomForQueue(false)}\n            >\n              Додати до черги\n            </Button>\n          )}\n        </>\n      )}\n    </>\n  );\n}\n\nconst styles = StyleSheet.create(\n  {\n    divider: {\n      marginTop: 16,\n      marginBottom: 16\n    },\n  }\n)\n\nexport default ClassroomQueueControlButtons;","import React, {useEffect, useState} from 'react';\nimport {StyleSheet, Text, View} from \"react-native\";\nimport {\n  ClassroomType,\n  DisabledState,\n  InstrumentType,\n  OccupiedState,\n  QueueState,\n  QueueType,\n  UserQueueState\n} from \"../models/models\";\nimport {ActivityIndicator, Appbar, Button, Chip, Divider, Title} from \"react-native-paper\";\nimport {useNavigation} from \"@react-navigation/native\";\nimport {useQuery} from \"@apollo/client\";\nimport {isEnabledForCurrentDepartment, isOccupiedOrPendingByCurrentUser} from \"../helpers/helpers\";\nimport {useLocal} from \"../hooks/useLocal\";\nimport {client} from \"../api/client\";\nimport {ADD_USER_TO_QUEUE} from \"../api/operations/mutations/addUserToQueue\";\nimport Colors from \"../constants/Colors\";\nimport {GET_CLASSROOM} from \"../api/operations/queries/classroom\";\nimport {GET_USER_BY_ID} from \"../api/operations/queries/users\";\nimport moment from \"moment\";\nimport InstrumentItem from \"./InstrumentItem\";\nimport OccupantInfo from \"./OccupantInfo\";\nimport ClassroomQueueControlButtons from \"./ClassroomQueueControlButtons\";\n\ninterface PropTypes {\n  route: any;\n}\n\nexport default function ClassroomInfo({route: {params: {classroomId, currentUserId}}}: PropTypes) {\n  const navigation = useNavigation();\n  const [classroom, setClassroom] = useState<ClassroomType | null>(null);\n  const {\n    data: userData,\n    loading: userLoading,\n    error: userError,\n  } = useQuery(GET_USER_BY_ID, {\n    variables: {\n      where: {\n        id: currentUserId\n      }\n    }\n  });\n  const {data: {mode}} = useLocal('mode');\n  const {data: {isMinimalSetup}} = useLocal('isMinimalSetup');\n  const {data: {desirableClassroomIds}} = useLocal('desirableClassroomIds');\n  const {data: {minimalClassroomIds}} = useLocal('minimalClassroomIds');\n\n  useEffect(() => {\n    try {\n      client.query({\n        query: GET_CLASSROOM,\n        variables: {\n          where: {\n            id: classroomId\n          }\n        }\n      }).then(({data}: any) => {\n        setClassroom(data.classroom);\n      });\n    } catch (e) {\n      alert(JSON.stringify(e));\n    }\n  }, []);\n\n  const goBack = () => navigation.goBack();\n\n  const getReservedClassroom = () => {\n    //TODO: get FREE classroom with RESERVED state\n    alert('TODO: get FREE classroom with RESERVED state')\n  };\n\n  const addOneClassroomToQueue = async (isMinimal: boolean) => {\n    try {\n      await client.mutate({\n        mutation: ADD_USER_TO_QUEUE,\n        variables: {\n          input: [{\n            userId: currentUserId.id,\n            classroomId: classroomId,\n            state: QueueState.ACTIVE,\n            type: isMinimal ? QueueType.MINIMAL : QueueType.DESIRED\n          }]\n        }\n      });\n    } catch (e) {\n      alert(JSON.stringify(e));\n    }\n  };\n\n  return <View style={styles.container}>\n    <Appbar style={styles.top}>\n      <Appbar.BackAction onPress={goBack}/>\n      {classroom && userData && (\n        <Appbar.Content\n          title={`Аудиторія ${classroom.name}`}\n          subtitle={classroom.chair ? classroom.chair.name : ''}\n        />\n      )}\n    </Appbar>\n    <View style={styles.wrapper}>\n      {(!classroom || !userData) ? <ActivityIndicator animating color='#fff' size={64}/> : (\n        <View>\n          {!isEnabledForCurrentDepartment(classroom, userData.user) && (\n            <View style={styles.warning}>\n              <Title style={styles.warningText}>Аудиторія недоступна для вашої кафедри</Title>\n            </View>\n          )}\n          {classroom.disabled.state === DisabledState.DISABLED && (\n            <View style={styles.warning}>\n              <Title style={styles.warningText}>Аудиторія відключена від системи</Title>\n              <Title style={styles.warningText}>{classroom.disabled.comment}</Title>\n              <Title style={styles.warningText}>\n                до {moment(classroom.disabled.until).format('DD-MM-YYYY HH:mm')}\n              </Title>\n            </View>\n          )}\n          {classroom.isHidden && (\n            <View style={styles.warning}>\n              <Title style={styles.warningText}>Аудиторія недоступна</Title>\n            </View>\n          )}\n          <View style={styles.tags}>\n            {classroom.isWing && <Chip selected selectedColor='#00f' mode='outlined'\n                                       style={styles.tag}>Флігель</Chip>}\n            {classroom.isOperaStudio && <Chip selected selectedColor='#00f' mode='outlined'\n                                              style={styles.tag}>Оперна студія</Chip>}\n            {classroom.special && <Chip selected selectedColor='#00f' mode='outlined'\n                                        style={styles.tag}>Спеціалізована</Chip>}\n          </View>\n          <Divider style={styles.divider}/>\n          <View>\n            <Text style={{textAlign: 'center'}}>{classroom.description}</Text>\n          </View>\n          <Divider style={styles.divider}/>\n          <View>\n            <Text style={{textAlign: 'center'}}>Поверх: {classroom.floor}</Text>\n          </View>\n          <Divider style={styles.divider}/>\n          <View>\n            {!!classroom.instruments.length && (\n              <>\n                {classroom.instruments?.map((instrument: InstrumentType) => (\n                  <InstrumentItem key={instrument.id} instrument={instrument} expanded/>\n                ))}\n                <Divider style={styles.divider}/>\n              </>\n            )}\n          </View>\n          <OccupantInfo classroom={classroom} user={userData.user}/>\n          {classroom.occupied.state !== OccupiedState.FREE\n          && !isOccupiedOrPendingByCurrentUser(classroom.occupied, userData.user)\n          && <ClassroomQueueControlButtons classroom={classroom} currentUser={userData.user}/>\n          }\n          {classroom.disabled.state !== DisabledState.DISABLED\n          && classroom.occupied.state === OccupiedState.FREE\n          && userData.user.queueInfo.currentSession?.state !== UserQueueState.OCCUPYING\n          && userData.user.queueInfo.currentSession?.state !== UserQueueState.IN_QUEUE_DESIRED_AND_OCCUPYING\n          && (\n            <>\n              <Divider style={styles.divider}/>\n              <Button mode='contained' onPress={getReservedClassroom}>\n                Взяти аудиторію\n              </Button>\n            </>\n          )}\n        </View>\n      )}\n    </View>\n  </View>\n};\n\nconst styles = StyleSheet.create({\n  top: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    paddingTop: 26,\n    height: 80,\n    backgroundColor: '#2e287c',\n  },\n  container: {\n    backgroundColor: '#ffffff',\n    height: '100%'\n  },\n  wrapper: {\n    marginTop: 100,\n    paddingLeft: 16,\n    paddingRight: 16,\n    backgroundColor: '#fff',\n    height: '100%'\n  },\n  warning: {\n    backgroundColor: '#f9135411',\n    borderColor: Colors.red,\n    borderWidth: 2,\n    borderRadius: 8,\n    padding: 16,\n    marginBottom: 16\n  },\n  warningText: {\n    fontWeight: \"bold\",\n    color: Colors.red,\n    textAlign: \"center\"\n  },\n  divider: {\n    marginTop: 16,\n    marginBottom: 16\n  },\n  department: {\n    fontSize: 20,\n    marginBottom: 16,\n    textAlign: 'center'\n  },\n  tags: {\n    flexDirection: 'row',\n    justifyContent: 'center'\n  },\n  tag: {\n    marginRight: 8\n  },\n  description: {\n    fontSize: 16,\n  },\n  scheduleHeader: {\n    textAlign: 'center',\n    marginBottom: 16,\n  },\n  occupationInfo: {\n    borderRadius: 8,\n    padding: 16\n  },\n  freeText: {\n    textAlign: 'center',\n    fontSize: 20,\n    borderColor: '#ddd',\n    borderWidth: 1,\n    borderStyle: 'solid',\n    alignSelf: 'center',\n    paddingVertical: 8,\n    paddingHorizontal: 32,\n    borderRadius: 32,\n    color: '#bbb'\n  },\n  occupantName: {\n    textAlign: 'center',\n    fontSize: 16,\n  },\n  occupantType: {\n    color: '#fff',\n    textAlign: 'center',\n    alignSelf: 'center',\n    paddingVertical: 2,\n    paddingHorizontal: 4,\n    marginTop: 8,\n    borderRadius: 4,\n  },\n  occupiedUntil: {\n    textAlign: 'center',\n    marginTop: 8\n  },\n  queueSetupButtons: {\n    marginTop: 32,\n    backgroundColor: '#ffffff'\n  },\n  progressBar: {\n    height: 24,\n    borderRadius: 6,\n  },\n  spaceBottom30: {\n    marginBottom: 30,\n    backgroundColor: '#ffffff'\n  }\n});","import {ClassroomType} from \"../models/models\";\n\nexport default function sortAB(a: ClassroomType, b: ClassroomType) {\n  return parseInt(a.name) - parseInt(b.name);\n}","import React from \"react\";\nimport {Dimensions, Image, StyleSheet, Text, TouchableHighlight, View} from \"react-native\";\nimport {ClassroomType, DisabledState} from \"../../models/models\";\nimport Colors from \"../../constants/Colors\";\nimport {Button, Surface} from \"react-native-paper\";\nimport InstrumentItem from \"../InstrumentItem\";\nimport {useNavigation} from \"@react-navigation/native\";\nimport {useLocal} from \"../../hooks/useLocal\";\n\nconst windowWidth = Dimensions.get('window').width;\nconst cellWidth = ((windowWidth - 10) / 3);\n\ntype PropTypes = {\n  classroom: ClassroomType;\n  isEnabledForCurrentUser: boolean;\n}\n\nconst FreeClassroomCell: React.FC<PropTypes> = ({classroom, isEnabledForCurrentUser}) => {\n  const navigation = useNavigation();\n  const special = !!classroom.special;\n  const {instruments, disabled} = classroom;\n  const isDisabled = disabled.state === DisabledState.DISABLED || !isEnabledForCurrentUser;\n\n  const handlePress = () => {\n    navigation.navigate('ClassroomInfo', {classroomId: classroom.id});\n  };\n\n  return (\n    <TouchableHighlight onPress={handlePress}>\n      <Surface style={[styles.cell, isDisabled ? styles.disabled : styles.free]}>\n        <View style={styles.cellHeader}>\n          <Text style={styles.name}>{classroom.name}</Text>\n          <Image source={require('./../../assets/images/specialPiano.png')}\n                 style={[special ? styles.special : styles.notSpecial]}/>\n        </View>\n        <Text style={styles.occupationInfo} numberOfLines={1}>\n          {isDisabled ? !isEnabledForCurrentUser ? 'Для студентів кафедри' : disabled?.comment : 'Вільно'}\n        </Text>\n        <View style={styles.instruments}>\n          {instruments?.length\n            ? instruments\n              .slice()\n              .sort((a, b) => b.rate - a.rate).slice(0, 2)\n              .map(instrument => <InstrumentItem instrument={instrument} key={instrument.id}/>)\n            : <View style={styles.space}/>}\n        </View>\n      </Surface>\n    </TouchableHighlight>\n  )\n}\n\nexport default FreeClassroomCell;\n\nconst styles = StyleSheet.create({\n  cell: {\n    width: cellWidth,\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: 100,\n    margin: 1,\n    elevation: 2,\n    borderRadius: 4,\n    position: 'relative',\n    overflow: 'hidden',\n  },\n  occupationInfo: {\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center',\n    backgroundColor: '#00000011'\n  },\n  free: {\n    backgroundColor: '#4bfd63'\n  },\n  disabled: {\n    backgroundColor: '#ccc',\n  },\n  cellHeader: {\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: cellWidth,\n    paddingLeft: 16,\n    paddingRight: 16,\n    flexDirection: 'row',\n  },\n  name: {\n    fontSize: 35,\n    fontWeight: 'bold',\n  },\n  special: {\n    width: 20,\n    height: 20,\n    opacity: 1\n  },\n  notSpecial: {\n    width: 20,\n    height: 20,\n    opacity: 0\n  },\n  instruments: {\n    flexDirection: 'row'\n  },\n  space: {\n    height: 20,\n    margin: 8,\n  },\n  checkMark: {\n    position: 'absolute',\n    zIndex: 2,\n    backgroundColor: '#00000088'\n  },\n  timeLeftProgress: {\n    left: 0,\n    position: 'absolute',\n    zIndex: 1000,\n    backgroundColor: '#00000033',\n    height: 100,\n    width: cellWidth,\n  },\n  timeLeft: {\n    fontSize: 12,\n    backgroundColor: '#f91354',\n    color: '#fff',\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center'\n  },\n  keyImage: {\n    position: \"absolute\",\n    top: 8,\n    right: 8,\n    width: 30,\n    height: 30,\n    resizeMode: \"stretch\",\n    tintColor: Colors.red\n  }\n});","import React, {CSSProperties} from \"react\";\nimport {Dimensions, Image, StyleSheet, Text, TouchableHighlight, View} from \"react-native\";\nimport {ClassroomType, DisabledState, Mode} from \"../../models/models\";\nimport Colors from \"../../constants/Colors\";\nimport {IconButton, Surface} from \"react-native-paper\";\nimport InstrumentItem from \"../InstrumentItem\";\nimport {fullName, isNotFree, typeStyle} from \"../../helpers/helpers\";\nimport {useNavigation} from \"@react-navigation/native\";\nimport {useLocal} from \"../../hooks/useLocal\";\nimport {desirableClassroomIdsVar, minimalClassroomIdsVar} from \"../../api/client\";\nimport useTimeLeft from \"../../hooks/useTimeLeft\";\n\nconst windowWidth = Dimensions.get('window').width;\nconst cellWidth = ((windowWidth - 10) / 3);\n\ntype PropTypes = {\n  classroom: ClassroomType;\n  isEnabledForCurrentUser: boolean;\n}\n\nconst OccupiedClassroomCell: React.FC<PropTypes> = ({classroom, isEnabledForCurrentUser}) => {\n  const navigation = useNavigation();\n  const {data: {mode}} = useLocal('mode');\n  const {data: {isMinimalSetup}} = useLocal('isMinimalSetup');\n  const {data: {minimalClassroomIds}} = useLocal('minimalClassroomIds');\n  const {data: {desirableClassroomIds}} = useLocal('desirableClassroomIds');\n\n  const special = !!classroom.special;\n  const {instruments, occupied, disabled, isHidden} = classroom;\n  const isDisabled = disabled.state === DisabledState.DISABLED || !isEnabledForCurrentUser;\n  const userFullName = fullName(occupied.user, true);\n\n  const handleCheck = () => {\n    if (isMinimalSetup) {\n      const minimalSet = new Set([...minimalClassroomIds]);\n      minimalSet.has(classroom.id) ? minimalSet.delete(classroom.id) : minimalSet.add(classroom.id)\n      minimalClassroomIdsVar([...minimalSet]);\n    } else {\n      const desiredSet = new Set([...desirableClassroomIds]);\n      desiredSet.has(classroom.id) ? desiredSet.delete(classroom.id) : desiredSet.add(classroom.id)\n      desirableClassroomIdsVar([...desiredSet]);\n    }\n  };\n\n  const handlePress = () => {\n    if (mode === Mode.QUEUE_SETUP) {\n      handleCheck();\n    } else {\n      navigation.navigate('ClassroomInfo', {classroomId: classroom.id});\n    }\n  };\n\n  const handleLongPress = () => {\n    navigation.navigate('ClassroomInfo', {classroomId: classroom.id});\n  };\n\n  const isChecked = () => {\n    if (isMinimalSetup) {\n      return minimalClassroomIds.includes(classroom.id) && mode === Mode.QUEUE_SETUP;\n    } else {\n      return desirableClassroomIds.includes(classroom.id) && mode === Mode.QUEUE_SETUP;\n    }\n  };\n\n  const cellStyle = StyleSheet.create({\n    cell: {\n      width: cellWidth,\n      justifyContent: 'center',\n      alignItems: 'center',\n      height: 100,\n      margin: 1,\n      elevation: 2,\n      borderRadius: 4,\n      position: 'relative',\n      overflow: 'hidden',\n      opacity: isHidden ? .5 : 1,\n      backgroundColor: isDisabled ? '#ccc' : '#fff'\n    }\n  });\n\n  return (\n    <TouchableHighlight onPress={handlePress} onLongPress={handleLongPress}>\n      <Surface style={cellStyle.cell}>\n        {isChecked() && (\n          <IconButton icon='check-bold' style={styles.checkMark} color='#0f0'/>\n        )}\n        <View style={styles.cellHeader}>\n          <Text style={styles.name}>{classroom.name}</Text>\n          <Image source={require('./../../assets/images/specialPiano.png')}\n                 style={[special ? styles.special : styles.notSpecial]}/>\n        </View>\n        <Text style={[styles.occupationInfo, typeStyle(occupied, isDisabled)]} numberOfLines={1}>\n          {isDisabled ? !isEnabledForCurrentUser ? 'Для студентів кафедри' : disabled?.comment : userFullName}\n        </Text>\n        <View style={styles.instruments}>\n          {instruments?.length\n            ? instruments\n              .slice()\n              .sort((a, b) => b.rate - a.rate).slice(0, 2)\n              .map(instrument => <InstrumentItem instrument={instrument} key={instrument.id}/>)\n            : <View style={styles.space}/>}\n        </View>\n      </Surface>\n    </TouchableHighlight>\n  )\n}\n\nexport default OccupiedClassroomCell;\n\nconst styles = StyleSheet.create({\n  occupationInfo: {\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center'\n  },\n  cellHeader: {\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: cellWidth,\n    paddingLeft: 16,\n    paddingRight: 16,\n    flexDirection: 'row',\n  },\n  name: {\n    fontSize: 35,\n    fontWeight: 'bold',\n  },\n  special: {\n    width: 20,\n    height: 20,\n    opacity: 1\n  },\n  notSpecial: {\n    width: 20,\n    height: 20,\n    opacity: 0\n  },\n  instruments: {\n    flexDirection: 'row'\n  },\n  space: {\n    height: 20,\n    margin: 8,\n  },\n  checkMark: {\n    position: 'absolute',\n    zIndex: 2,\n    backgroundColor: '#00000088'\n  },\n  timeLeftProgress: {\n    left: 0,\n    position: 'absolute',\n    zIndex: 1000,\n    backgroundColor: '#00000033',\n    height: 100,\n    width: cellWidth,\n  },\n  timeLeft: {\n    fontSize: 12,\n    backgroundColor: '#f91354',\n    color: '#fff',\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center'\n  },\n  keyImage: {\n    position: \"absolute\",\n    top: 8,\n    right: 8,\n    width: 30,\n    height: 30,\n    resizeMode: \"stretch\",\n    tintColor: Colors.red\n  }\n});","import React from \"react\";\nimport {Dimensions, Image, StyleSheet, Text, TouchableHighlight, View} from \"react-native\";\nimport {ClassroomType, DisabledState} from \"../../models/models\";\nimport Colors from \"../../constants/Colors\";\nimport {Surface} from \"react-native-paper\";\nimport InstrumentItem from \"../InstrumentItem\";\nimport useTimeLeft from \"../../hooks/useTimeLeft\";\nimport {useNavigation} from \"@react-navigation/native\";\n\nconst windowWidth = Dimensions.get('window').width;\nconst cellWidth = ((windowWidth - 10) / 3);\n\ntype PropTypes = {\n  classroom: ClassroomType;\n}\n\nconst ReservedClassroomCell: React.FC<PropTypes> = ({classroom}) => {\n  const navigation = useNavigation();\n  const special = !!classroom.special;\n  const {instruments, occupied, disabled} = classroom;\n  const isDisabled = disabled.state === DisabledState.DISABLED;\n  const [timeLeft, timeLeftInPer] = useTimeLeft(occupied, 15);\n\n  const handlePress = () => {\n    navigation.navigate('ClassroomInfo', {classroomId: classroom.id});\n  };\n\n  const ProgressBackground = () => (\n    <View\n      style={{\n        ...styles.timeLeftProgress,\n        width: (cellWidth / 100) * (timeLeftInPer as number)\n      }}\n    />\n  );\n\n  return (\n    <TouchableHighlight onPress={handlePress}>\n      <Surface style={[styles.cell, isDisabled ? styles.disabled : styles.occupied]}>\n        <Image source={require('../../assets/images/key.png')} style={styles.keyImage}/>\n        <ProgressBackground/>\n        <View style={styles.cellHeader}>\n          <Text style={styles.name}>{classroom.name}</Text>\n          <Image source={require('./../../assets/images/specialPiano.png')}\n                 style={[special ? styles.special : styles.notSpecial]}/>\n        </View>\n        <Text style={styles.timeLeft} numberOfLines={1}>\n          {timeLeft}\n        </Text>\n        <View style={styles.instruments}>\n          {instruments?.length\n            ? instruments\n              .slice()\n              .sort((a, b) => b.rate - a.rate).slice(0, 2)\n              .map(instrument => <InstrumentItem instrument={instrument} key={instrument.id}/>)\n            : <View style={styles.space}/>}\n        </View>\n      </Surface>\n    </TouchableHighlight>\n  )\n}\n\nexport default ReservedClassroomCell;\n\nconst styles = StyleSheet.create({\n  cell: {\n    width: cellWidth,\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: 100,\n    margin: 1,\n    elevation: 2,\n    borderRadius: 4,\n    position: 'relative',\n    overflow: 'hidden',\n  },\n  occupied: {},\n  disabled: {\n    backgroundColor: '#ccc',\n  },\n  occupationInfo: {\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center'\n  },\n  cellHeader: {\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: cellWidth,\n    paddingLeft: 16,\n    paddingRight: 16,\n    flexDirection: 'row',\n  },\n  name: {\n    fontSize: 35,\n    fontWeight: 'bold',\n  },\n  special: {\n    width: 20,\n    height: 20,\n    opacity: 1\n  },\n  notSpecial: {\n    width: 20,\n    height: 20,\n    opacity: 0\n  },\n  instruments: {\n    flexDirection: 'row'\n  },\n  space: {\n    height: 20,\n    margin: 8,\n  },\n  checkMark: {\n    position: 'absolute',\n    zIndex: 2,\n    backgroundColor: '#00000088'\n  },\n  timeLeftProgress: {\n    left: 0,\n    position: 'absolute',\n    zIndex: 1000,\n    backgroundColor: '#00000033',\n    height: 100,\n    width: cellWidth,\n  },\n  timeLeft: {\n    fontSize: 12,\n    backgroundColor: '#f91354',\n    color: '#fff',\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center'\n  },\n  keyImage: {\n    position: \"absolute\",\n    zIndex: 2,\n    top: 8,\n    right: cellWidth / 2 - 15,\n    width: 30,\n    height: 30,\n    resizeMode: \"stretch\",\n    tintColor: Colors.red\n  }\n});","import React from \"react\";\nimport {Dimensions, Image, StyleSheet, Text, TouchableHighlight, View} from \"react-native\";\nimport {ClassroomType, DisabledState} from \"../../models/models\";\nimport Colors from \"../../constants/Colors\";\nimport {Surface} from \"react-native-paper\";\nimport InstrumentItem from \"../InstrumentItem\";\nimport useTimeLeft from \"../../hooks/useTimeLeft\";\nimport {useNavigation} from \"@react-navigation/native\";\n\nconst windowWidth = Dimensions.get('window').width;\nconst cellWidth = ((windowWidth - 10) / 3);\n\ntype PropTypes = {\n  classroom: ClassroomType;\n}\n\nconst PendingClassroomCell: React.FC<PropTypes> = ({classroom}) => {\n  const navigation = useNavigation();\n  const special = !!classroom.special;\n  const {instruments, occupied, disabled} = classroom;\n  const isDisabled = disabled.state === DisabledState.DISABLED;\n  const [timeLeft, timeLeftInPer] = useTimeLeft(occupied, 2);\n\n  const handlePress = () => {\n    navigation.navigate('ClassroomInfo', {classroomId: classroom.id});\n  };\n\n  const ProgressBackground = () => (\n    <View\n      style={{\n        ...styles.timeLeftProgress,\n        width: (cellWidth / 100) * (timeLeftInPer as number)\n      }}\n    />\n  );\n\n  return (\n    <TouchableHighlight onPress={handlePress}>\n      <Surface style={[styles.cell, isDisabled ? styles.disabled : styles.occupied]}>\n        <ProgressBackground/>\n        <View style={styles.cellHeader}>\n          <Text style={styles.name}>{classroom.name}</Text>\n          <Image source={require('./../../assets/images/specialPiano.png')}\n                 style={[special ? styles.special : styles.notSpecial]}/>\n        </View>\n        <Text style={styles.timeLeft} numberOfLines={1}>\n          {timeLeft}\n        </Text>\n        <View style={styles.instruments}>\n          {instruments?.length\n            ? instruments\n              .slice()\n              .sort((a, b) => b.rate - a.rate).slice(0, 2)\n              .map(instrument => <InstrumentItem instrument={instrument} key={instrument.id}/>)\n            : <View style={styles.space}/>}\n        </View>\n      </Surface>\n    </TouchableHighlight>\n  )\n}\n\nexport default PendingClassroomCell;\n\nconst styles = StyleSheet.create({\n  cell: {\n    width: cellWidth,\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: 100,\n    margin: 1,\n    elevation: 2,\n    borderRadius: 4,\n    position: 'relative',\n    overflow: 'hidden',\n  },\n  occupied: {},\n  disabled: {\n    backgroundColor: '#ccc',\n  },\n  occupationInfo: {\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center'\n  },\n  cellHeader: {\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: cellWidth,\n    paddingLeft: 16,\n    paddingRight: 16,\n    flexDirection: 'row',\n  },\n  name: {\n    fontSize: 35,\n    fontWeight: 'bold',\n  },\n  special: {\n    width: 20,\n    height: 20,\n    opacity: 1\n  },\n  notSpecial: {\n    width: 20,\n    height: 20,\n    opacity: 0\n  },\n  instruments: {\n    flexDirection: 'row'\n  },\n  space: {\n    height: 20,\n    margin: 8,\n  },\n  checkMark: {\n    position: 'absolute',\n    zIndex: 2,\n    backgroundColor: '#00000088'\n  },\n  timeLeftProgress: {\n    left: 0,\n    position: 'absolute',\n    zIndex: 1000,\n    backgroundColor: '#00000033',\n    height: 100,\n    width: cellWidth,\n  },\n  timeLeft: {\n    fontSize: 12,\n    backgroundColor: '#f91354',\n    color: '#fff',\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center'\n  },\n  keyImage: {\n    position: \"absolute\",\n    top: 8,\n    right: 8,\n    width: 30,\n    height: 30,\n    resizeMode: \"stretch\",\n    tintColor: Colors.red\n  }\n});","import React, {CSSProperties} from \"react\";\nimport {Dimensions, Image, StyleSheet, Text, TouchableHighlight, View} from \"react-native\";\nimport {ClassroomType, DisabledState, Mode} from \"../../models/models\";\nimport Colors from \"../../constants/Colors\";\nimport {IconButton, Surface} from \"react-native-paper\";\nimport InstrumentItem from \"../InstrumentItem\";\nimport {fullName, isNotFree, typeStyle} from \"../../helpers/helpers\";\nimport {useNavigation} from \"@react-navigation/native\";\nimport {useLocal} from \"../../hooks/useLocal\";\nimport {minimalClassroomIdsVar} from \"../../api/client\";\nimport useTimeLeft from \"../../hooks/useTimeLeft\";\n\nconst windowWidth = Dimensions.get('window').width;\nconst cellWidth = ((windowWidth - 10) / 3);\n\ntype PropTypes = {\n  classroom: ClassroomType;\n}\n\nconst OccupiedClassroomCell: React.FC<PropTypes> = ({classroom}) => {\n  const navigation = useNavigation();\n  const {data: {mode}} = useLocal('mode');\n  const {data: {isMinimalSetup}} = useLocal('isMinimalSetup');\n  const {data: {minimalClassroomIds}} = useLocal('minimalClassroomIds');\n  const {data: {desirableClassroomIds}} = useLocal('desirableClassroomIds');\n\n  const special = !!classroom.special;\n  const {instruments, occupied, disabled, isHidden} = classroom;\n  const isDisabled = disabled.state === DisabledState.DISABLED;\n  const [timeLeft, timeLeftInPer] = useTimeLeft(occupied, 180);\n\n  const ProgressBackground = () => (\n    <View\n      style={{\n        ...styles.timeLeftProgress,\n        width: (cellWidth / 100) * (timeLeftInPer as number)\n      }}\n    />\n  );\n\n  const handlePress = () => {\n      navigation.navigate('ClassroomInfo', {classroomId: classroom.id});\n  };\n\n  const cellStyle = StyleSheet.create({\n    cell: {\n      width: cellWidth,\n      justifyContent: 'center',\n      alignItems: 'center',\n      height: 100,\n      margin: 1,\n      elevation: 2,\n      borderRadius: 4,\n      position: 'relative',\n      overflow: 'hidden',\n      opacity: isHidden ? .5 : 1,\n      backgroundColor: isDisabled ? '#ccc' : '#fff'\n    }\n  });\n\n  return (\n    <TouchableHighlight onPress={handlePress}>\n      <Surface style={cellStyle.cell}>\n        <ProgressBackground/>\n        <View style={styles.cellHeader}>\n          <Text style={styles.name}>{classroom.name}</Text>\n          <Image source={require('./../../assets/images/specialPiano.png')}\n                 style={[special ? styles.special : styles.notSpecial]}/>\n        </View>\n        <Text style={styles.timeLeft} numberOfLines={1}>\n          {timeLeft}\n        </Text>\n        <View style={styles.instruments}>\n          {instruments?.length\n            ? instruments\n              .slice()\n              .sort((a, b) => b.rate - a.rate).slice(0, 2)\n              .map(instrument => <InstrumentItem instrument={instrument} key={instrument.id}/>)\n            : <View style={styles.space}/>}\n        </View>\n      </Surface>\n    </TouchableHighlight>\n  )\n}\n\nexport default OccupiedClassroomCell;\n\nconst styles = StyleSheet.create({\n  occupationInfo: {\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center'\n  },\n  cellHeader: {\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: cellWidth,\n    paddingLeft: 16,\n    paddingRight: 16,\n    flexDirection: 'row',\n  },\n  name: {\n    fontSize: 35,\n    fontWeight: 'bold',\n  },\n  special: {\n    width: 20,\n    height: 20,\n    opacity: 1\n  },\n  notSpecial: {\n    width: 20,\n    height: 20,\n    opacity: 0\n  },\n  instruments: {\n    flexDirection: 'row'\n  },\n  space: {\n    height: 20,\n    margin: 8,\n  },\n  checkMark: {\n    position: 'absolute',\n    zIndex: 2,\n    backgroundColor: '#00000088'\n  },\n  timeLeftProgress: {\n    left: 0,\n    position: 'absolute',\n    zIndex: 1000,\n    backgroundColor: '#00000033',\n    height: 100,\n    width: cellWidth,\n  },\n  timeLeft: {\n    fontSize: 12,\n    backgroundColor: '#f91354',\n    color: '#fff',\n    width: cellWidth,\n    margin: 2,\n    paddingHorizontal: 4,\n    paddingBottom: 2,\n    textAlign: 'center'\n  },\n  keyImage: {\n    position: \"absolute\",\n    top: 8,\n    right: 8,\n    width: 30,\n    height: 30,\n    resizeMode: \"stretch\",\n    tintColor: Colors.red\n  }\n});","import React from 'react';\nimport {StyleSheet, Text, View} from \"react-native\";\nimport {ClassroomType, OccupiedState, User} from \"../../models/models\";\nimport sortAB from \"../../helpers/sortAB\";\nimport FreeClassroomCell from \"./FreeClassroomCell\";\nimport OccupiedClassroomCell from \"./OccupiedClassroomCell\";\nimport ReservedClassroomCell from \"./ReservedClassroomCell\";\nimport PendingClassroomCell from \"./PendingClassroomCell\";\nimport {isEnabledForCurrentDepartment} from \"../../helpers/helpers\";\nimport OccupiedByCurrentUserClassroomCell from \"./OccupiedByCurrentUserClassroomCell\";\n\ntype PropTypes = {\n  classrooms: ClassroomType[];\n  currentUser: User;\n  title?: string;\n}\n\nconst ClassroomsBrowser: React.FC<PropTypes> = ({\n                                                  classrooms, title,\n                                                  currentUser\n                                                }) => {\n  if (!classrooms.length) return null;\n  return (\n    <>\n      {title && <Text style={styles.gridDivider}>\n        {title}\n      </Text>}\n      <View style={styles.grid}>\n        {classrooms.slice().sort(sortAB).map(classroom => {\n          const {occupied: {state, user}, id} = classroom;\n          const isEnabledForCurrentUser = isEnabledForCurrentDepartment(classroom, currentUser);\n\n          const isFree = state === OccupiedState.FREE;\n          const isOccupiedByCurrentUser = state === OccupiedState.OCCUPIED && user.id === currentUser.id;\n          const isOccupied = state === OccupiedState.OCCUPIED || OccupiedState.PENDING || OccupiedState.RESERVED;\n          const isPending = state === OccupiedState.PENDING && user.id === currentUser.id;\n          const isReserved = state === OccupiedState.RESERVED && user.id === currentUser.id;\n\n          if (isFree) return <FreeClassroomCell key={id} classroom={classroom}\n                                                isEnabledForCurrentUser={isEnabledForCurrentUser}\n          />\n          if (isReserved) return <ReservedClassroomCell key={id} classroom={classroom}/>\n          if (isPending) return <PendingClassroomCell key={id} classroom={classroom}/>\n          if (isOccupiedByCurrentUser) return <OccupiedByCurrentUserClassroomCell key={id} classroom={classroom}/>\n          if (isOccupied) return <OccupiedClassroomCell key={id} classroom={classroom}\n                                                        isEnabledForCurrentUser={isEnabledForCurrentUser}\n          />\n        })}\n      </View>\n    </>\n  );\n}\n\nconst styles = StyleSheet.create(\n  {\n    top: {\n      position: 'absolute',\n      left: 0,\n      right: 0,\n      top: 0,\n      paddingTop: 26,\n      height: 80,\n      backgroundColor: 'transparent',\n      zIndex: 1\n    },\n    grid: {\n      marginBottom: 8,\n      marginLeft: 2,\n      flexDirection: 'row',\n      flexWrap: 'wrap',\n      justifyContent: 'flex-start'\n    },\n    getInLine: {\n      position: 'absolute',\n      zIndex: 1,\n      bottom: 15,\n      width: '55%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    getOutLine: {\n      position: 'absolute',\n      zIndex: 1,\n      bottom: 15,\n      left: 20,\n      width: '43%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    getOutLineSingle: {\n      position: 'absolute',\n      zIndex: 1,\n      bottom: 15,\n      width: '55%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    approve: {\n      position: 'absolute',\n      zIndex: 1,\n      right: 20,\n      bottom: 15,\n      width: '43%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    wrapper: {\n      width: '100%',\n      height: '100%',\n      alignItems: 'center',\n      justifyContent: 'center',\n      backgroundColor: 'transparent',\n      paddingTop: 80,\n    },\n    queueSwitcher: {\n      flexDirection: 'row',\n      width: '76%',\n      justifyContent: 'center',\n      paddingHorizontal: 5,\n      marginHorizontal: 20,\n      alignItems: 'center',\n    },\n    gridDivider: {\n      color: '#fff',\n      marginBottom: 10,\n      marginLeft: 3,\n      marginRight: 3,\n      paddingLeft: 17,\n      borderBottomWidth: 1,\n      borderBottomColor: '#ffffff77',\n      paddingBottom: 10\n    }\n  }\n);\n\nexport default ClassroomsBrowser;","import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_CLASSROOMS = gql`\r\n  query getClassrooms($where: ClassroomWhereInput) {\r\n    classrooms(where: $where) {\r\n      id\r\n      description\r\n      name\r\n      floor\r\n      special\r\n      isHidden\r\n      chair {\r\n          name\r\n      }\r\n      isWing\r\n      isOperaStudio\r\n      occupied {\r\n        user {\r\n          id\r\n          firstName\r\n          patronymic\r\n          lastName\r\n          type\r\n          nameTemp\r\n          email\r\n          phoneNumber\r\n        }\r\n        until\r\n        state\r\n      }\r\n      instruments {\r\n        name\r\n        type\r\n        rate\r\n      }\r\n      disabled {\r\n        comment\r\n        until\r\n        state\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_CLASSROOMS_NO_SCHEDULE = gql`\r\n  query getClassroomsNoSchedule {\r\n    classrooms {\r\n      id\r\n      name\r\n      special\r\n      isHidden\r\n      chair {\r\n          id\r\n          name\r\n          exclusivelyQueueAllowedDepartmentsInfo {\r\n            department {\r\n              id\r\n              name\r\n            }\r\n          }\r\n      }\r\n      isWing\r\n      isOperaStudio\r\n      occupied {\r\n        user {\r\n          id\r\n          firstName\r\n          patronymic\r\n          lastName\r\n          type\r\n          nameTemp\r\n        }\r\n        until\r\n        state\r\n      }\r\n      instruments {\r\n        id\r\n        name\r\n        type\r\n        rate\r\n      }\r\n      disabled {\r\n        id\r\n        comment\r\n        until\r\n        state\r\n      }\r\n    }\r\n  }\r\n`;","import {gql} from \"@apollo/client/core\";\n\nexport const FOLLOW_CLASSROOMS = gql`\n  subscription {\n  classroomUpdate {\n  classroom {\n        id\n        occupied {\n          user {\n            id\n            firstName\n            lastName\n            patronymic\n            type\n          }\n          until\n          state\n        }\n        disabled {\n        comment\n        state\n        until\n      }\n      }\n    }\n  }\n`;","import {gql} from \"@apollo/client/core\";\n\nexport const FOLLOW_USER = gql`\n subscription userUpdate($userId: Int!) {\n    userUpdate(userId: $userId) {\n    user {\n      id\n      occupiedClassrooms {\n        id\n        state\n        classroom {\n          id\n          name\n        }\n      }\n      queue {\n        id\n        state\n        type\n        classroom {\n          id\n        }\n      }\n      queueInfo {\n        id\n        sanctionedUntil\n        currentSession {\n          id\n          state\n          skips\n        }\n      }\n    }\n  }\n}\n`;","import {ClassroomType, DisabledState, OccupiedState, User} from \"../models/models\";\nimport {isEnabledForCurrentDepartment} from \"./helpers\";\n\nexport const filterDisabledForQueue = (classroom: ClassroomType, currentUser: User) => {\n  return (\n    classroom.occupied.state !== OccupiedState.FREE &&\n    classroom.disabled.state === DisabledState.NOT_DISABLED &&\n    !classroom.isHidden &&\n    isEnabledForCurrentDepartment(classroom, currentUser)\n  );\n};","import {desirableClassroomIdsVar, minimalClassroomIdsVar} from \"../api/client\";\nimport {ClassroomType, SavedFilterT, User} from \"../models/models\";\nimport {filterDisabledForQueue} from \"./filterDisabledForQueue\";\n\nexport const filterSavedFilter = (savedFilter: SavedFilterT, classrooms: ClassroomType[], currentUser: User) => {\n  const enabledClassrooms = (classroom: ClassroomType, isMinimal: boolean) => {\n    return savedFilter[isMinimal ? 'minimalClassroomIds': 'desirableClassroomIds'].includes(classroom.id)\n      && filterDisabledForQueue(classroom, currentUser)\n  };\n\n  const minimalIds = classrooms\n    .filter((classroom) => enabledClassrooms(classroom, true))\n    .map(({id}) => id);\n\n  const desireIds = classrooms\n    .filter((classroom) => enabledClassrooms(classroom, false))\n    .map(({id}) => id);\n\n  minimalClassroomIdsVar(minimalIds);\n  desirableClassroomIdsVar(desireIds);\n};","import {StyleSheet} from \"react-native\";\nimport {Button, Dialog, Paragraph, Portal} from \"react-native-paper\";\nimport {InstrumentType, Mode} from \"../models/models\";\nimport React, {useState} from \"react\";\nimport {modeVar} from \"../api/client\";\nimport removeFromLine from \"../helpers/queue/removeFromLine\";\nimport WaitDialog from \"./WaitDialog\";\n\ninterface PropTypes {\n  hideDialog: () => void;\n  visible: boolean;\n}\n\nexport default function ConfirmLineOut({hideDialog, visible}: PropTypes) {\n  const [loading, setLoading] = useState(false);\n\n  const handleOk = async () => {\n    setLoading(true);\n    await removeFromLine();\n    modeVar(Mode.PRIMARY);\n    setLoading(false);\n    hideDialog();\n  };\n\n  return <Portal>\n    <Dialog visible={visible} onDismiss={hideDialog}>\n      <Dialog.Title>Увага!</Dialog.Title>\n      <Dialog.Content>\n        <Paragraph>Ви дійсно бажаєте покинути чергу? Цю дію неможливо буде відмінити.</Paragraph>\n      </Dialog.Content>\n      <Dialog.Actions>\n        <Button onPress={hideDialog}>Ні</Button>\n        <Button onPress={handleOk}>Так</Button>\n      </Dialog.Actions>\n    </Dialog>\n    <WaitDialog visible={loading}/>\n  </Portal>\n};","import React, {useEffect, useState} from 'react';\nimport {StyleSheet, Text, View} from \"react-native\";\nimport {Button} from \"react-native-paper\";\nimport Colors from \"../../constants/Colors\";\nimport {hasOwnClassroom} from \"../../helpers/helpers\";\nimport {ClassroomType, Mode, SavedFilterT} from \"../../models/models\";\nimport {useLocal} from \"../../hooks/useLocal\";\nimport {desirableClassroomIdsVar, minimalClassroomIdsVar, modeVar} from \"../../api/client\";\nimport {filterDisabledForQueue} from \"../../helpers/filterDisabledForQueue\";\nimport {getItem} from \"../../api/asyncStorage\";\nimport {filterSavedFilter} from \"../../helpers/filterSavedFIlters\";\nimport getInLine from \"../../helpers/queue/getInLine\";\nimport ErrorDialog from \"../../components/ErrorDialog\";\nimport moment from \"moment\";\nimport removeFromLine from \"../../helpers/queue/removeFromLine\";\nimport WaitDialog from \"../../components/WaitDialog\";\nimport ConfirmLineOut from \"../../components/ConfirmLineOut\";\n\ntype PropTypes = {\n  currentUser: any;\n  classrooms: ClassroomType[];\n}\n\nconst Buttons: React.FC<PropTypes> = ({currentUser: {queueInfo: {sanctionedUntil}, ...currentUser},\n                                        classrooms}) => {\n  const {data: {mode}} = useLocal('mode');\n  const {data: {desirableClassroomIds}} = useLocal('desirableClassroomIds');\n  const {data: {minimalClassroomIds}} = useLocal('minimalClassroomIds');\n  const [visibleModalError, setVisibleModalError] = useState(false);\n  const queueErrorMessage = `Ви не можете ставати в чергу через накладені санкції до ${sanctionedUntil ? moment(sanctionedUntil)\n    .format('DD-MM-YYYY HH:mm') : ''}. До закінчення санкційного терміну ви можете брати вільні аудиторії.`;\n  const [loading, setLoading] = useState(false);\n  const [visibleLineOut, setVisibleLineOut] = useState(false);\n\n\n  const handlePress = async () => {\n    setLoading(true);\n    if (sanctionedUntil) return setVisibleModalError(true);\n    if (mode === Mode.PRIMARY) {\n      const availableClassroomsIds = classrooms.filter(classroom => {\n        return filterDisabledForQueue(classroom, currentUser);\n      }).map(({id}) => id);\n      modeVar(Mode.QUEUE_SETUP);\n      const savedFilters: SavedFilterT[] | undefined = await getItem('filters');\n      if (savedFilters) {\n        const mainFilter = savedFilters!.find(filter => filter.main);\n        if (mainFilter) {\n          filterSavedFilter(mainFilter, classrooms, currentUser)\n        } else {\n          minimalClassroomIdsVar(availableClassroomsIds);\n          desirableClassroomIdsVar([]);\n        }\n      } else {\n        minimalClassroomIdsVar(availableClassroomsIds);\n        desirableClassroomIdsVar([]);\n      }\n    }\n    if (mode === Mode.QUEUE_SETUP) {\n      modeVar(Mode.PRIMARY);\n      minimalClassroomIdsVar([]);\n      desirableClassroomIdsVar([]);\n    }\n    setLoading(false);\n  };\n\n  const handleReady = async () => {\n    setLoading(true);\n    await getInLine(minimalClassroomIds, desirableClassroomIds);\n    setLoading(false);\n  };\n\n  return (\n    <View style={styles.wrapper}>\n      {mode === Mode.PRIMARY && !(hasOwnClassroom(currentUser.occupiedClassrooms)) && (\n        <Button style={styles.getInLine} mode='contained' color={Colors.blue}\n                onPress={handlePress}>\n          <Text>Стати в чергу</Text>\n        </Button>\n      )}\n      {mode === Mode.QUEUE_SETUP && (\n        <>\n          <Button style={styles.getOutLine} mode='contained' color={Colors.red}\n                  onPress={handlePress}>\n            <Text>Відміна</Text>\n          </Button>\n          <Button style={styles.approve} mode='contained' color={Colors.blue}\n                  disabled={!minimalClassroomIds.length && !desirableClassroomIds.length}\n                  onPress={handleReady}>\n            <Text>Стати в чергу</Text>\n          </Button>\n        </>\n      )}\n      {mode === Mode.INLINE && (\n        <Button style={styles.getOutLine} mode='contained' color={Colors.red}\n                onPress={() => setVisibleLineOut(true)}>\n          <Text>Вийти з черги</Text>\n        </Button>\n      )}\n      <ErrorDialog visible={visibleModalError} hideDialog={() => setVisibleModalError(false)}\n        message={queueErrorMessage}\n      />\n      <WaitDialog visible={loading}/>\n      <ConfirmLineOut hideDialog={() => setVisibleLineOut(false)} visible={visibleLineOut}/>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create(\n  {\n    wrapper: {\n      position: 'absolute',\n      bottom: 16,\n      left: 16,\n      right: 16,\n      flexDirection: 'row',\n      justifyContent: 'center',\n      zIndex: 1\n    },\n\n    getInLine: {\n      width: '55%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    getOutLine: {\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center',\n      marginRight: 16,\n    },\n    getOutLineSingle: {\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    approve: {\n      width: '48%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    }\n  }\n);\n\nexport default Buttons;","import {gql} from \"@apollo/client\";\n\nexport const GENERAL_QUEUE_SIZE = gql`\n  query {\n    generalQueueSize\n  }\n`;","import {gql} from \"@apollo/client/core\";\n\nexport const FOLLOW_GENERAL_QUEUE_SIZE = gql`\n  subscription generalQueueSize {\n    generalQueueSize\n  }\n`;","import {useEffect, useState} from \"react\";\nimport {GET_CLASSROOMS} from \"../api/operations/queries/classrooms\";\nimport {ISODateString} from \"../helpers/helpers\";\nimport {ClassroomType} from \"../models/models\";\nimport {useQuery} from \"@apollo/client\";\nimport {FOLLOW_CLASSROOMS} from \"../api/operations/subscriptions/classrooms\";\n\nconst useClassrooms = (props?: any): [Array<ClassroomType>, any] => {\n  const [classrooms, setClassrooms] = useState<ClassroomType[]>([]);\n  const {data, loading, error, subscribeToMore} = useQuery(GET_CLASSROOMS, {\n    variables: {\n      date: ISODateString(props?.date ? props.date : new Date()),\n    }\n  })\n\n  useEffect(() => {\n    !loading && !error && setClassrooms(\n      data.classrooms\n        .slice()\n        .sort(\n          (a: ClassroomType, b: ClassroomType) =>\n            parseInt(a.name) - parseInt(b.name)\n        )\n    );\n  }, [data, loading, error]);\n\n  return classrooms;\n};\n\nexport default useClassrooms;","import React, {useEffect, useState} from 'react';\nimport {StyleSheet, Text, View, Dimensions, TextInput} from \"react-native\";\nimport {Button, Checkbox, Headline, IconButton, Modal, Portal} from \"react-native-paper\";\nimport {ClassroomType, SavedFilterT, User} from \"../../models/models\";\nimport {getItem, setItem} from \"../../api/asyncStorage\";\nimport {useLocal} from \"../../hooks/useLocal\";\nimport Colors from \"../../constants/Colors\";\nimport {filterSavedFilter} from \"../../helpers/filterSavedFIlters\";\nimport useClassrooms from \"../../hooks/useClassrooms\";\n\nexport type SpecialT = 'with' | 'only' | 'without';\n\ninterface PropTypes {\n  hideModal: () => void;\n  visible: boolean;\n  currentUser: User;\n}\n\nconst windowWidth = Dimensions.get('window').width;\n\nexport default function SavedFilters({hideModal, visible, currentUser}: PropTypes) {\n  const classrooms: ClassroomType[] = useClassrooms();\n  const [savedFilters, setSavedFilters] = useState<SavedFilterT[]>([]);\n  const [isSaving, setIsSaving] = useState(false);\n  const [inputName, setInputName] = useState<string>('');\n  const {data: {desirableClassroomIds}} = useLocal('desirableClassroomIds');\n  const {data: {minimalClassroomIds}} = useLocal('minimalClassroomIds');\n  const [selectedFilter, setSelectedFilter] = useState(-1);\n  const [saveAsMainFilter, setSaveAsMainFilter] = useState(false);\n\n  useEffect(() => {\n    getItem('filters').then(data => {\n      setSavedFilters(data as any);\n    });\n    return () => {\n      setSelectedFilter(-1);\n      setInputName('');\n    };\n  }, []);\n\n  const handleSaveFilter = () => {\n    setIsSaving(true);\n\n    const item: SavedFilterT = {\n      minimalClassroomIds,\n      desirableClassroomIds,\n      name: inputName,\n      main: saveAsMainFilter\n    };\n\n    setItem('filters', savedFilters ? [...savedFilters?.map((filter: any) => {\n      return saveAsMainFilter ? ({...filter, main: false}) : filter\n    }), item] : [item]).then(res => {\n      setIsSaving(false);\n    });\n    // @ts-ignore\n    setSavedFilters(prevState => prevState ? [...prevState?.map((filter: any) => {\n      return saveAsMainFilter ? ({...filter, main: false}) : filter\n    }), item] : [item]);\n  };\n\n  const handleRemoveFilter = (index: number) => {\n    const newFilters = savedFilters;\n\n    newFilters.splice(index, 1);\n    setItem('filters', newFilters).then(res => {\n      getItem('filters').then((data: any) => setSavedFilters(data))\n    })\n    setSelectedFilter(-1);\n  };\n\n  const handleSelectFilter = (filterItem: any, index: number) => {\n    filterSavedFilter(filterItem, classrooms, currentUser)\n    setSelectedFilter(index);\n    hideModal();\n  };\n\n  return <Portal>\n    <Modal visible={visible} onDismiss={hideModal} contentContainerStyle={styles.containerStyle}>\n      <View style={styles.header}>\n        <Headline>Збережені фільтри</Headline>\n      </View>\n      <View style={styles.body}>\n        {savedFilters?.map((filterItem: SavedFilterT, index) => (\n          <View key={index} style={styles.itemRow}>\n            <Text style={selectedFilter === index ? styles.selectedItem : styles.item}\n                  onPress={() => handleSelectFilter(filterItem, index)}>\n              {filterItem.main ? filterItem.name + ' (основний)' : filterItem.name}\n            </Text>\n            <IconButton icon='trash-can-outline' style={styles.bin}\n              onPress={() => handleRemoveFilter(index)}\n            />\n          </View>\n        ))}\n        <View style={styles.newFilterSection}>\n          <TextInput placeholder='Назва нового фільтру' value={inputName}\n                     onChangeText={text => setInputName(text)}\n          />\n          <View style={styles.mainFilterCheckbox}>\n            <Checkbox status={saveAsMainFilter ? 'checked' : 'unchecked'}\n                    onPress={() => setSaveAsMainFilter(prevState => !prevState)}\n            />\n            <Text>Застосувати як основний фільтр</Text>\n          </View>\n          <Button mode='contained'\n                  disabled={isSaving || !inputName}\n                  onPress={handleSaveFilter}\n          >\n            Зберегти новий сет аудиторій\n          </Button>\n        </View>\n      </View>\n    </Modal>\n  </Portal>\n};\n\nconst styles = StyleSheet.create({\n  containerStyle: {\n    backgroundColor: 'white',\n    margin: 20,\n    borderRadius: 8,\n    justifyContent: 'center',\n    alignItems: 'flex-start',\n    overflow: 'hidden'\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: '#dddddd',\n    width: '100%',\n    backgroundColor: '#f1f1f1'\n  },\n  body: {\n    padding: 20,\n    width: '100%',\n  },\n  itemRow: {\n    flexDirection: 'row',\n    width: '100%',\n    justifyContent: 'space-between',\n    marginBottom: 5,\n  },\n  item: {\n    fontSize: 16,\n    borderBottomColor: '#eee',\n    borderBottomWidth: 1,\n    color: '#000',\n    width: '80%',\n    marginTop: 10\n  },\n  selectedItem: {\n    fontSize: 16,\n    borderBottomColor: '#eee',\n    borderBottomWidth: 1,\n    color: Colors.blue,\n    width: '80%',\n    marginTop: 10\n  },\n  bin: {\n    width: '20%',\n  },\n  mainFilterCheckbox: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 10,\n    marginLeft: -10\n  },\n  newFilterSection: {\n    borderRadius: 6,\n    borderWidth: 1,\n    borderColor: '#eee',\n    padding: 16,\n    marginTop: 50\n  }\n});","import React from 'react';\nimport {StyleSheet, Text, View} from \"react-native\";\nimport {\n  Modal,\n  Portal,\n  RadioButton,\n} from \"react-native-paper\";\n\ninterface PropTypes {\n  hideModal: () => void;\n  visible: boolean;\n  isGrandPianoOnly: boolean;\n  setIsGrandPianoOnly: (value: boolean) => void;\n}\n\nexport default function InstrumentsList({hideModal, visible, isGrandPianoOnly,\n                                          setIsGrandPianoOnly}: PropTypes) {\n\n  const handleSelect = (newValue: string) => {\n    setIsGrandPianoOnly(newValue === '0')\n    hideModal();\n  };\n\n  return <Portal>\n    <Modal visible={visible} onDismiss={hideModal} contentContainerStyle={styles.containerStyle}>\n      <View>\n        <RadioButton.Group onValueChange={newValue => handleSelect(newValue)}\n                           value={isGrandPianoOnly ? '0' : '1'}>\n          <View style={styles.item}>\n            <RadioButton value=\"0\" />\n            <Text>Рояль</Text>\n          </View>\n          <View style={styles.item}>\n            <RadioButton value=\"1\" />\n            <Text>Піаніно або рояль</Text>\n          </View>\n        </RadioButton.Group>\n      </View>\n    </Modal>\n  </Portal>\n};\n\nconst styles = StyleSheet.create(({\n  containerStyle: {\n    position: 'absolute',\n    width: '90%',\n    backgroundColor: 'white',\n    margin: 20,\n    padding: 20,\n    borderRadius: 8,\n    justifyContent: 'center',\n    alignItems: 'flex-start',\n  },\n  item: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  }\n}));","import React from 'react'\nimport {StyleSheet, View, TouchableOpacity, Image} from 'react-native'\nimport {Dialog, Paragraph, Portal, ProgressBar} from \"react-native-paper\";\n\ntype PropTypes = {\n  size: number;\n  count: number;\n  setCount: (count: number) => void;\n  visible: boolean;\n  hideDialog: () => void;\n}\n\nexport default function CustomRating({size = 5, count, setCount, visible, hideDialog}: PropTypes) {\n  const stars = new Array(size).fill(null);\n\n  const handleRate = (value: number) => {\n    setCount(value);\n    hideDialog();\n  };\n\n\n  return (\n    <Portal>\n      <Dialog visible={visible} onDismiss={hideDialog}>\n        <Dialog.Title style={{textAlign: 'center'}}>Виберіть мінімальний рейтинг</Dialog.Title>\n        <Dialog.Content>\n          <View style={styles.rate}>\n            {stars.map((value, index) => (\n              <TouchableOpacity key={index} onPress={() => handleRate(index + 1)}>\n                <Image source={require('../../assets/images/star.png')}\n                       style={{...styles.star, opacity: index < count ? 1 : .3}}\n                />\n              </TouchableOpacity>\n            ))}\n          </View>\n        </Dialog.Content>\n      </Dialog>\n    </Portal>\n  )\n}\n\nconst styles = StyleSheet.create({\n  rate: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n  },\n  star: {\n    width: 20,\n    height: 20\n  },\n})","import React, {useState} from 'react';\nimport {StyleSheet, Text, View, Dimensions, ScrollView} from \"react-native\";\nimport {\n  Button,\n  IconButton,\n  Modal,\n  Portal,\n  TextInput\n} from \"react-native-paper\";\nimport {InstrumentType} from \"../../models/models\";\nimport InstrumentsList from \"./InstrumentsList\";\nimport CustomRating from \"../../components/CustomRating/CustomRating\";\nimport Colors from \"../../constants/Colors\";\n\nexport type SpecialT = 'with' | 'only' | 'without';\n\ninterface PropTypes {\n  hideModal: () => void;\n  visible: boolean;\n  instruments: InstrumentType[];\n  setInstruments: any;\n}\n\nconst windowWidth = Dimensions.get('window').width;\n\nexport default function InstrumentFilters({hideModal, visible, instruments, setInstruments}: PropTypes) {\n  const [isGrandPianoOnly, setIsGrandPianoOnly] = useState(false);\n  const [count, setCount] = useState(0);\n  const [visibleList, setVisibleList] = useState(false);\n  const [visibleRate, setVisibleRate] = useState(false);\n\n  const showModalList = () => setVisibleList(true);\n\n  const hideModalList = () => setVisibleList(false);\n\n  const showModalRate = () => setVisibleRate(true);\n\n  const hideModalRate = () => setVisibleRate(false);\n\n  const addInstrument = () => {\n    const newInstrument = {type: isGrandPianoOnly ? 'GrandPiano' : 'UpRightPiano', rate: count};\n    setInstruments((prevState: InstrumentType[]) => [...prevState, newInstrument]);\n    setCount(0);\n    setIsGrandPianoOnly(false);\n  };\n\n  const removeInstrument = (index: number) => {\n    const newArray = instruments.slice();\n    newArray.splice(index, 1);\n\n    setInstruments(newArray);\n  };\n\n  return <Portal>\n    <Modal visible={visible} onDismiss={hideModal} contentContainerStyle={styles.containerStyle}>\n      <View style={styles.body}>\n        <ScrollView>\n          {instruments.length ? instruments.map((instrument, index) => (\n            <View key={index} style={styles.instrumentRow}>\n              <Text style={{width: '40%'}}>\n                {instrument.type === 'UpRightPiano' ? 'Рояль або піаніно' : 'Рояль'}\n              </Text>\n              <View style={{flexDirection: 'row', alignItems: 'center', width: '20%'}}>\n                <Button icon='star' color={Colors.orange} disabled>\n                  {instrument.rate} +\n                </Button>\n              </View>\n              <IconButton icon='trash-can-outline' onPress={() => removeInstrument(index)}/>\n            </View>\n          )) : <Text style={styles.noInstrumentsLabel}>Інструменти не вибрані</Text>}\n          <View style={styles.newInstrumentRow}>\n            <View style={{width: '40%', flexDirection: 'row', alignItems: 'center'}}>\n              <Text onPress={showModalList}>\n                {!isGrandPianoOnly ? 'Рояль або піаніно' : 'Рояль'}\n              </Text>\n              <IconButton icon='menu-down' onPress={showModalList}/>\n            </View>\n            <View style={{flexDirection: 'row', alignItems: 'center', width: '20%'}}>\n              <Button onPress={showModalRate} icon='star' color={Colors.orange}>{count} +</Button>\n              <CustomRating size={10} count={count} setCount={setCount} hideDialog={hideModalRate}\n                            visible={visibleRate}\n              />\n            </View>\n            <IconButton icon='plus' onPress={addInstrument}/>\n          </View>\n        </ScrollView>\n        <View style={styles.buttons}>\n          <Button mode='contained' onPress={hideModal}>Закрити</Button>\n        </View>\n      </View>\n      <InstrumentsList hideModal={hideModalList} visible={visibleList}\n                       isGrandPianoOnly={isGrandPianoOnly} setIsGrandPianoOnly={setIsGrandPianoOnly} />\n    </Modal>\n  </Portal>\n};\n\nconst styles = StyleSheet.create(({\n  containerStyle: {\n    position: 'absolute',\n    height: 300,\n    width: '90%',\n    backgroundColor: 'white',\n    margin: 20,\n    borderRadius: 8,\n    justifyContent: 'center',\n    alignItems: 'flex-start',\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: '#dddddd',\n    width: '100%',\n    backgroundColor: '#f1f1f1'\n  },\n  body: {\n    padding: 20,\n  },\n  radioItem: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  divider: {\n    borderBottomColor: '#eee',\n    alignSelf: 'center',\n    borderBottomWidth: 1,\n    borderStyle: 'solid',\n    width: windowWidth - 80,\n    height: 1,\n    marginVertical: 16\n  },\n  checkbox: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  buttons: {\n    paddingTop: 16,\n    flexDirection: 'row',\n    justifyContent: 'flex-end'\n  },\n  instrumentRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: '100%',\n    borderBottomWidth: 1,\n    borderBottomColor: '#ccc',\n    padding: 10,\n  },\n  newInstrumentRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: '100%',\n    padding: 10,\n  },\n  countInput: {\n    height: 40,\n    width: 40,\n    backgroundColor: 'transparent',\n    paddingLeft: 5\n  },\n  noInstrumentsLabel: {\n    textAlign: 'center',\n    paddingBottom: 15,\n    color: '#ccc',\n    fontSize: 18,\n    borderBottomColor: '#eee',\n    borderBottomWidth: 1,\n  }\n}));","import React, {useState} from 'react';\nimport {StyleSheet, Text, View, Dimensions} from \"react-native\";\nimport {Button, Checkbox, Divider, Headline, Modal, Portal, RadioButton} from \"react-native-paper\";\nimport InstrumentFilters from \"./InstrumentFilters\";\nimport {InstrumentType} from \"../../models/models\";\n\nexport type SpecialT = 'with' | 'only' | 'without';\n\ninterface PropTypes {\n  hideModal: () => void;\n  visible: boolean;\n  apply: (instruments: InstrumentType[], withWing: boolean, operaStudioOnly: boolean, special: SpecialT) => void;\n}\n\nconst windowWidth = Dimensions.get('window').width;\n\nexport default function Filters({hideModal, visible, apply}: PropTypes) {\n  const [instruments, setInstruments] = useState<InstrumentType[]>([]);\n  const [special, setSpecial] = useState<SpecialT>('with');\n  const [withWing, setWithWing] = useState(true);\n  const [onlyOperaStudio, setOnlyOperaStudio] = useState(false);\n  const [visibleInstrumentFilters, setVisibleInstrumentFilters] = useState(false);\n\n  const showModalInstrumentFilters = () => setVisibleInstrumentFilters(true);\n\n  const hideModalInstrumentFilters= () => setVisibleInstrumentFilters(false);\n\n  const handleApply = () => {\n    apply(instruments, withWing, onlyOperaStudio, special);\n    hideModal();\n  };\n\n  const getEnding = () => {\n    switch (instruments.length) {\n      case 1: return '';\n      case 2: return 'а';\n      case 3: return 'и';\n      case 4: return 'и';\n      case 5: return 'ів';\n      default: return '...';\n    }\n  };\n\n  return <Portal>\n    <Modal visible={visible} onDismiss={hideModal} contentContainerStyle={styles.containerStyle}>\n      <View style={styles.header}>\n        <Headline>Фільтри аудиторій для черги</Headline>\n      </View>\n      <View style={styles.body}>\n        <Button icon='pencil' onPress={showModalInstrumentFilters}>\n          <Text>\n            { !instruments.length\n              ? 'Будь-які або без інструментів'\n              : `${instruments.length} інструмент${getEnding()}` }\n          </Text>\n        </Button>\n        <Divider style={styles.divider}/>\n        <View style={styles.checkbox}>\n          <Checkbox status={!withWing ? 'checked' : 'unchecked'}\n                    onPress={() => setWithWing(prevState => !prevState)}/>\n          <Text>Без флігеля</Text>\n        </View>\n        <View style={styles.checkbox}>\n          <Checkbox status={onlyOperaStudio ? 'checked' : 'unchecked'}\n                    onPress={() => setOnlyOperaStudio(prevState => !prevState)}/>\n          <Text>Тільки оперна студія</Text>\n        </View>\n        <Divider style={styles.divider}/>\n        <RadioButton.Group onValueChange={newValue => setSpecial(newValue as SpecialT)} value={special}>\n          <View style={styles.radioItem}>\n            <RadioButton value='with' />\n            <Text>Зі спеціалізованими (ф-но)</Text>\n          </View>\n          <View style={styles.radioItem}>\n            <RadioButton value='only' />\n            <Text>Тільки спеціалізовані (ф-но)</Text>\n          </View>\n          <View style={styles.radioItem}>\n            <RadioButton value='without' />\n            <Text>Без спеціалізованих (ф-но)</Text>\n          </View>\n        </RadioButton.Group>\n        <Divider style={styles.divider}/>\n        <View style={styles.buttons}>\n          <Button mode='contained' onPress={handleApply}>Застосувати</Button>\n        </View>\n        <InstrumentFilters hideModal={hideModalInstrumentFilters} visible={visibleInstrumentFilters}\n                           instruments={instruments} setInstruments={setInstruments} />\n      </View>\n    </Modal>\n  </Portal>\n};\n\nconst styles = StyleSheet.create({\n  containerStyle: {\n    backgroundColor: 'white',\n    margin: 20,\n    borderRadius: 8,\n    justifyContent: 'center',\n    alignItems: 'flex-start',\n    overflow: 'hidden'\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 20,\n    borderBottomWidth: 1,\n    borderBottomColor: '#dddddd',\n    width: '100%',\n    backgroundColor: '#f1f1f1'\n  },\n  body: {\n    padding: 20,\n  },\n  radioItem: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  divider: {\n    borderBottomColor: '#eee',\n    alignSelf: 'center',\n    borderBottomWidth: 1,\n    borderStyle: 'solid',\n    width: windowWidth - 80,\n    height: 1,\n    marginVertical: 16\n  },\n  checkbox: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  buttons: {\n    flexDirection: 'row',\n    justifyContent: 'center'\n  }\n});","import {ClassroomType, InstrumentType} from \"../../models/models\";\n\ntype InstrumentTypeOrderT = {\n  [index: string]: number;\n};\n\nconst instrumentTypeOrder: InstrumentTypeOrderT = {\n  GrandPiano: 0,\n  UpRightPiano: 1\n};\n\nexport function getClassroomsFilteredByInstruments(classrooms: ClassroomType[],\n                                                   userInstrumentFilterInput: InstrumentType[]) {\n  const instrumentsFilterSorted = sortUserFilterInstruments(userInstrumentFilterInput);\n\n  return classrooms.filter((classroom) => {\n    const instrumentsFilter = [...instrumentsFilterSorted];\n    let classroomInstruments = [...classroom.instruments];\n\n    if (instrumentsFilter.length > classroomInstruments.length) {\n      return false;\n    }\n\n    // first checking all the required grand pianos\n    while (instrumentsFilter[instrumentsFilter.length - 1]?.type === 'GrandPiano') {\n      const classroomGrandPianoInd = getMinimumSatisfactoryInstrumentIndex(\n        classroomInstruments,\n        'GrandPiano',\n        instrumentsFilter[instrumentsFilter.length - 1].rate\n      );\n      if (classroomGrandPianoInd === -1) {\n        return false;\n      }\n\n      instrumentsFilter.pop();\n      classroomInstruments.splice(classroomGrandPianoInd, 1);\n    }\n\n    // checking all the other instruments\n    while (instrumentsFilter.length) {\n      const classroomInstrumentInd = getMinimumSatisfactoryInstrumentIndex(\n        classroomInstruments, null, instrumentsFilter[instrumentsFilter.length - 1].rate\n      );\n      if (classroomInstrumentInd === -1) {\n        return false;\n      }\n\n      instrumentsFilter.pop();\n      classroomInstruments.splice(classroomInstrumentInd, 1);\n    }\n\n    return true;\n  })\n}\n\nfunction sortUserFilterInstruments(instruments: InstrumentType[]) {\n  return instruments.sort((instA, instB) => {\n\n    if (instrumentTypeOrder[instA.type] === instrumentTypeOrder[instB.type]) {\n      return instA.rate - instB.rate;\n    }\n\n    return instrumentTypeOrder[instB.type] - instrumentTypeOrder[instA.type]\n  })\n}\n\nfunction getMinimumSatisfactoryInstrumentIndex(instruments: InstrumentType[],\n                                               instrumentType: string | null, minimumRate: number) {\n  let bestIndex = -1;\n\n  instruments.forEach((instrument, i) => {\n    if (instrumentType && instrument.type !== instrumentType) return;\n\n    if (instrument.rate < minimumRate) return;\n\n    if (bestIndex === -1 || instrument.rate - minimumRate < instruments[bestIndex].rate - minimumRate) {\n      bestIndex = i;\n    }\n  });\n  return bestIndex;\n}","import {gql} from \"@apollo/client\";\n\nexport const GENERAL_QUEUE_POSITION = gql`\n  query generalQueuePosition($userId: Int!){\n    generalQueuePosition(userId: $userId)\n  }\n`;","import {gql} from \"@apollo/client/core\";\n\nexport const FOLLOW_GENERAL_QUEUE_POSITION = gql`\n  subscription generalQueuePosition($userId: Int!) {\n    generalQueuePosition(userId: $userId)\n  }\n`;","import React, {useEffect, useState} from 'react';\nimport {Appbar, Button} from \"react-native-paper\";\nimport {DrawerActions, useNavigation} from \"@react-navigation/native\";\nimport {StyleSheet, View} from \"react-native\";\nimport {useQuery} from \"@apollo/client\";\nimport {GENERAL_QUEUE_SIZE} from \"../../api/operations/queries/generalQueueSize\";\nimport {FOLLOW_GENERAL_QUEUE_SIZE} from \"../../api/operations/subscriptions/generalQueueSize\";\nimport {useLocal} from \"../../hooks/useLocal\";\nimport {ClassroomType, InstrumentType, Mode, User} from \"../../models/models\";\nimport {desirableClassroomIdsVar, isMinimalSetupVar, minimalClassroomIdsVar} from \"../../api/client\";\nimport SavedFilters from \"./SavedFilters\";\nimport Filters, {SpecialT} from \"./Filters\";\nimport {getClassroomsFilteredByInstruments} from \"./helpers\";\nimport {filterDisabledForQueue} from \"../../helpers/filterDisabledForQueue\";\nimport {GENERAL_QUEUE_POSITION} from \"../../api/operations/queries/generalQueuePosition\";\nimport {FOLLOW_GENERAL_QUEUE_POSITION} from \"../../api/operations/subscriptions/generalQueuePosition\";\n\ntype PropTypes = {\n  freeClassroomsAmount: number;\n  classrooms: ClassroomType[];\n  currentUser: User;\n}\n\nconst ClassroomsAppBar: React.FC<PropTypes> = (\n  {\n    freeClassroomsAmount, classrooms, currentUser\n  }\n) => {\n  const navigation = useNavigation();\n  const {data, loading, error, subscribeToMore} = useQuery(GENERAL_QUEUE_SIZE);\n  const {\n    data: dataPosition, loading: loadingPosition,\n    error: errorPosition, subscribeToMore: subscribeToMorePosition\n  } = useQuery(GENERAL_QUEUE_POSITION, {\n    variables: {\n      userId: currentUser.id\n    }\n  });\n  const {data: {mode}} = useLocal('mode');\n  const {data: {isMinimalSetup}} = useLocal('isMinimalSetup');\n  const [visible, setVisible] = useState(false);\n  const [visibleSavedFilters, setVisibleSavedFilters] = useState(false);\n  const [generalQueueSize, setGeneralQueueSize] = useState(0);\n  const [generalQueuePosition, setGeneralQueuePosition] = useState(0);\n\n  useEffect(() => {\n    const unsubscribeSize = subscribeToMore({\n        document: FOLLOW_GENERAL_QUEUE_SIZE,\n        updateQuery: (prev, {subscriptionData}) => {\n          if (!subscriptionData.data) return prev;\n          setGeneralQueueSize(subscriptionData.data.generalQueueSize);\n          return subscriptionData.data.generalQueueSize\n        }\n      }\n      )\n    ;\n    const unsubscribePosition = subscribeToMorePosition({\n        document: FOLLOW_GENERAL_QUEUE_POSITION,\n        variables: {\n          userId: currentUser.id\n        },\n        updateQuery: (prev, {subscriptionData}) => {\n          if (!subscriptionData.data) return prev;\n          setGeneralQueuePosition(subscriptionData.data.generalQueuePosition);\n          return subscriptionData.data.generalQueuePosition\n        }\n      }\n    );\n\n    return () => {\n      unsubscribeSize();\n      unsubscribePosition();\n    }\n  }, []);\n\n  useEffect(() => {\n    if (!loading && !error) setGeneralQueueSize(data.generalQueueSize);\n  }, [data, loading, error]);\n\n  const applyGeneralFilter = (instruments: InstrumentType[], withWing: boolean,\n                              operaStudioOnly: boolean, special: SpecialT) => {\n\n    const filteredClassroomsByInstruments = instruments.length ?\n      getClassroomsFilteredByInstruments(classrooms, instruments) : classrooms;\n\n    const filteredIds = filteredClassroomsByInstruments\n      .filter(classroom => filterDisabledForQueue(classroom, currentUser))\n      .filter(classroom => withWing ? true : !classroom.isWing)\n      .filter(classroom => operaStudioOnly ? classroom.isOperaStudio : true)\n      .filter(classroom => {\n        switch (special) {\n          case \"with\":\n            return true;\n          case \"only\":\n            return classroom.special;\n          case \"without\":\n            return !classroom.special;\n        }\n      })\n      .map((classroom) => classroom.id);\n\n    if (isMinimalSetup) {\n      minimalClassroomIdsVar(filteredIds);\n    } else {\n      desirableClassroomIdsVar(filteredIds);\n    }\n  };\n\n  const showModal = () => setVisible(true);\n\n  const hideModal = () => setVisible(false);\n\n  const showModalSavedFilters = () => setVisibleSavedFilters(true);\n\n  const hideModalSavedFilters = () => setVisibleSavedFilters(false);\n\n  return (\n    <Appbar style={styles.top}>\n      <Appbar.Action icon=\"menu\" onPress={() => navigation.dispatch(DrawerActions.openDrawer())}\n                     color='#fff'\n      />\n      {mode === Mode.INLINE && (\n        <Appbar.Content title={`Ваша позиція в черзі: ${generalQueuePosition}`}\n                        color='#fff'\n        />\n      )}\n      {mode === Mode.PRIMARY && (\n        <Appbar.Content title={`Людей в черзі: ${generalQueueSize}`}\n                        subtitle={`Вільних аудиторій: ${freeClassroomsAmount}`}\n                        color='#fff'\n        />\n      )}\n      {mode === Mode.QUEUE_SETUP && (\n        <>\n          <View style={{flexDirection: 'row', justifyContent: 'space-between', width: '88%'}}>\n            <View style={styles.queueSwitcher}>\n              <Button mode={isMinimalSetup ? 'contained' : 'text'}\n                      style={{position: 'relative', width: '45%'}}\n                      color='#fff'\n                      onPress={() => isMinimalSetupVar(true)}\n              >\n                Мінімальні\n              </Button>\n              <Button\n                mode={!isMinimalSetup ? 'contained' : 'text'}\n                style={{position: 'relative', width: '35%'}}\n                color='#fff'\n                onPress={() => isMinimalSetupVar(false)}\n              >\n                Бажані\n              </Button>\n            </View>\n          </View>\n          <Appbar.Action icon=\"content-save\" onPress={showModalSavedFilters} color='#fff'\n                         style={{position: 'absolute', right: 40, top: 28}}/>\n          <Appbar.Action icon=\"filter\" onPress={showModal} color='#fff'\n                         style={{position: 'absolute', right: 0, top: 28}}/>\n        </>\n      )}\n      <SavedFilters hideModal={hideModalSavedFilters} visible={visibleSavedFilters} currentUser={currentUser}/>\n      <Filters hideModal={hideModal} visible={visible} apply={applyGeneralFilter}/>\n    </Appbar>\n  );\n}\n\nconst styles = StyleSheet.create({\n  top: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    paddingTop: 26,\n    height: 80,\n    backgroundColor: 'transparent',\n    zIndex: 1\n  },\n  queueSwitcher: {\n    flexDirection: 'row',\n    width: '76%',\n    justifyContent: 'center',\n    paddingHorizontal: 5,\n    marginHorizontal: 20,\n    alignItems: 'center',\n  },\n});\n\nexport default ClassroomsAppBar;","import {View, StyleSheet, Text, ScrollView, Dimensions} from \"react-native\";\nimport React from \"react\";\n\nexport default function Log({data}: any) {\n  return JSON.stringify(data).length > 2 ?\n    <View style={styles.container}>\n      <ScrollView>\n        <Text style={styles.text}>\n          {typeof data === 'object' ? JSON.stringify(data) : data}\n        </Text>\n      </ScrollView>\n    </View>\n    : <></>\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    width: '50%',\n    backgroundColor: '#00000099',\n    position: 'absolute',\n    zIndex: 99999999,\n    top: 70,\n    elevation: 1000,\n    right: 16,\n    padding: 16,\n    maxHeight: (Dimensions.get('window').height / 100) * 85\n  },\n  text: {\n    color: '#00ff65'\n  }\n});","import {Button, Dialog, Paragraph, Portal} from \"react-native-paper\";\nimport {Mode} from \"../models/models\";\nimport React, {useState} from \"react\";\nimport {modeVar} from \"../api/client\";\nimport removeFromLine from \"../helpers/queue/removeFromLine\";\nimport WaitDialog from \"./WaitDialog\";\n\nexport default function ConfirmContinueDesiredQueue() {\n  const [loading, setLoading] = useState(false);\n\n  const handleLeave = async () => {\n    setLoading(true);\n    await removeFromLine();\n    modeVar(Mode.PRIMARY);\n    setLoading(false);\n  };\n\n  const handleOk = () => {\n    //TODO: handle continue for DESIRED\n  };\n\n  return <Portal>\n    <Dialog visible={true}>\n      <Dialog.Title>Увага!</Dialog.Title>\n      <Dialog.Content>\n        <Paragraph>Ви отримали аудиторію і можете продовжити стояти в черзі за бажаними аудиторіями. Продовжити?</Paragraph>\n      </Dialog.Content>\n      <Dialog.Actions>\n        <Button onPress={handleLeave}>Покинути чергу</Button>\n        <Button onPress={handleOk}>Так</Button>\n      </Dialog.Actions>\n    </Dialog>\n    <WaitDialog visible={loading}/>\n  </Portal>\n};","import * as React from 'react';\nimport {Portal, Button, Modal} from 'react-native-paper';\nimport {View, Text, StyleSheet} from \"react-native\";\nimport {useState} from \"react\";\n\ninterface PropTypes {\n  visible: boolean;\n  hideDialog: () => void;\n}\n\nexport default function InlineDialog({visible, hideDialog}: PropTypes) {\n  return (\n    <Portal>\n      <Modal visible={visible} onDismiss={hideDialog} contentContainerStyle={styles.containerStyle}>\n        <View>\n          <Text style={styles.header}>Вітаємо!</Text>\n          <Text style={styles.paragraph}>Ви успішно стали в чергу!</Text>\n          <View style={styles.buttons}>\n            <Button mode='contained' onPress={hideDialog}>Закрити</Button>\n          </View>\n        </View>\n      </Modal>\n    </Portal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  containerStyle: {\n    backgroundColor: 'white',\n    padding: 20,\n    margin: 20,\n    borderRadius: 8\n  },\n  header: {\n    textAlign: 'center',\n    fontSize: 30,\n    fontWeight: 'bold',\n    marginBottom: 10,\n  },\n  paragraph: {\n    textAlign: 'center',\n    marginBottom: 5,\n    fontSize: 16\n  },\n  buttons: {\n    marginTop: 20,\n    flexDirection: 'row',\n    justifyContent: 'center'\n  }\n});","import * as React from 'react';\nimport {Portal, Button, Modal} from 'react-native-paper';\nimport {View, Text, StyleSheet} from \"react-native\";\nimport {useState} from \"react\";\n\ninterface PropTypes {\n  visible: boolean;\n  hideDialog: () => void;\n}\n\nexport default function QueueOutDialog({visible, hideDialog}: PropTypes) {\n  return (\n    <Portal>\n      <Modal visible={visible} onDismiss={hideDialog} contentContainerStyle={styles.containerStyle}>\n        <View>\n          <Text style={styles.header}>Увага!</Text>\n          <Text style={styles.paragraph}>Ви покинули чергу!</Text>\n          <View style={styles.buttons}>\n            <Button mode='contained' onPress={hideDialog}>Закрити</Button>\n          </View>\n        </View>\n      </Modal>\n    </Portal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  containerStyle: {\n    backgroundColor: 'white',\n    padding: 20,\n    margin: 20,\n    borderRadius: 8\n  },\n  header: {\n    textAlign: 'center',\n    fontSize: 30,\n    fontWeight: 'bold',\n    marginBottom: 10,\n  },\n  paragraph: {\n    textAlign: 'center',\n    marginBottom: 5,\n    fontSize: 16\n  },\n  buttons: {\n    marginTop: 20,\n    flexDirection: 'row',\n    justifyContent: 'center'\n  }\n});","import React, {useEffect, useState} from 'react';\nimport {Dimensions, ImageBackground, ScrollView, StyleSheet, TouchableOpacity, View} from \"react-native\";\nimport {ActivityIndicator} from \"react-native-paper\";\nimport {ClassroomType, DisabledState, Mode, OccupiedState, User, UserQueueState} from \"../../models/models\";\nimport {createStackNavigator} from \"@react-navigation/stack\";\nimport {RootStackParamList} from \"../../types\";\nimport ClassroomInfo from \"../../components/ClassroomInfo\";\nimport {useQuery} from \"@apollo/client\";\nimport ClassroomsBrowser from \"../../components/ClassroomsBrowser/ClassroomsBrowser\";\nimport {GET_CLASSROOMS_NO_SCHEDULE} from \"../../api/operations/queries/classrooms\";\nimport {FOLLOW_CLASSROOMS} from \"../../api/operations/subscriptions/classrooms\";\nimport {GET_USER_BY_ID} from \"../../api/operations/queries/users\";\nimport {FOLLOW_USER} from \"../../api/operations/subscriptions/user\";\nimport {getItem} from \"../../api/asyncStorage\";\nimport {hasOwnClassroom, isEnabledForCurrentDepartment, isEnabledForQueue} from \"../../helpers/helpers\";\nimport Buttons from \"./Buttons\";\nimport {useLocal} from \"../../hooks/useLocal\";\nimport {modeVar} from \"../../api/client\";\nimport ClassroomsAppBar from \"./ClassroomsAppBar\";\nimport Log from \"../../components/Log\";\nimport ConfirmContinueDesiredQueue from \"../../components/ConfirmContinueDesiredQueue\";\nimport {usePrevious} from \"../../hooks/usePrevious\";\nimport InlineDialog from \"../../components/InlineDialog\";\nimport QueueOutDialog from \"../../components/QueueOutDialog\";\n\nconst Stack = createStackNavigator<RootStackParamList>();\n\nconst windowHeight = Dimensions.get(\"window\").height;\n\nexport default function Home() {\n  const [currentUserId, setCurrentUserId] = useState(null);\n\n  useEffect(() => {\n    getItem('user').then((data: User) => setCurrentUserId(data.id));\n  }, []);\n  if (!currentUserId) return null;\n  // @ts-ignore\n  return <Stack.Navigator screenOptions={{headerShown: false}} initialRouteName='ClassroomsList'>\n    <Stack.Screen\n      name={'ClassroomsList' as any}\n      component={ClassroomsList}\n      initialParams={{currentUserId}}\n    />\n    <Stack.Screen\n      name={'ClassroomInfo' as any}\n      component={ClassroomInfo}\n      initialParams={{currentUserId}}\n    />\n  </Stack.Navigator>\n}\n\ntype QueryClassroomsData = {\n  classrooms: ClassroomType[];\n}\n\nconst ClassroomsList: React.FC = ({route}: any) => {\n  const {data: {mode}} = useLocal('mode');\n  const [showLog, setShowLog] = useState(false);\n  const [freeClassroomsAmount, setFreeClassroomsAmount] = useState(0);\n  const [showQueueInSuccess, setShownQueueInSuccess] = useState(false);\n  const [showQueueOutSuccess, setShownQueueOutSuccess] = useState(false);\n  const {\n    data,\n    loading,\n    error,\n    subscribeToMore\n  } = useQuery<QueryClassroomsData>(GET_CLASSROOMS_NO_SCHEDULE);\n  const {\n    data: userData,\n    loading: userLoading,\n    error: userError,\n    subscribeToMore: subscribeToMoreUser\n  } = useQuery(GET_USER_BY_ID, {\n    variables: {\n      where: {\n        id: route.params.currentUserId\n      }\n    }\n  });\n  const prevUserData: { user: User } = usePrevious(userData);\n\n  useEffect(() => {\n    if (userData && prevUserData) {\n      const {currentSession} = userData.user.queueInfo;\n      const {currentSession: prevSession} = prevUserData.user.queueInfo;\n      if (!prevSession && currentSession?.state === UserQueueState.IN_QUEUE_MINIMAL) {\n        setShownQueueInSuccess(true);\n      }\n      if (!currentSession &&\n        (prevSession?.state === UserQueueState.IN_QUEUE_MINIMAL ||\n          prevSession?.state === UserQueueState.IN_QUEUE_DESIRED_AND_OCCUPYING)) {\n        setShownQueueOutSuccess(true);\n      }\n    }\n  }, [userData]);\n\n  useEffect(() => {\n    const unsubscribeClassrooms = subscribeToMore({\n      document: FOLLOW_CLASSROOMS,\n    });\n    const unsubscribeUser = subscribeToMoreUser({\n      document: FOLLOW_USER,\n      variables: {\n        userId: route.params.currentUserId\n      }\n    });\n    return () => {\n      unsubscribeClassrooms();\n      unsubscribeUser();\n    };\n  }, []);\n\n  useEffect(() => {\n    if (!loading && !error && userData) {\n      const freeClassrooms = data.classrooms.filter(classroom => {\n        return classroom.occupied.state === OccupiedState.FREE\n          && classroom.disabled.state === DisabledState.NOT_DISABLED\n          && isEnabledForCurrentDepartment(classroom, userData.user)\n      });\n      setFreeClassroomsAmount(freeClassrooms.length);\n    }\n  }, [data, userData]);\n\n  useEffect(() => {\n    if (userData) {\n      if (!!userData.user.queue.length) modeVar(Mode.INLINE);\n      if (!userData.user.queue.length && mode === Mode.INLINE) modeVar(Mode.PRIMARY);\n    }\n  }, [userData]);\n\n  /**\n   * Find occupied classroom for current user (OCCUPIED or RESERVED)\n   * */\n  const own = ({id}: ClassroomType) => {\n    return id === hasOwnClassroom(userData.user.occupiedClassrooms);\n  };\n\n  /**\n   * Filter classrooms for primary state (not in queue and not in queue setup)\n   * Hidden shown when is occupied\n   * Without occupied by current user\n   * */\n  const primary = (classroom: ClassroomType) => {\n    const ownClassroomId = hasOwnClassroom(userData.user.occupiedClassrooms);\n    const fullHidden = classroom.occupied.state === OccupiedState.FREE && classroom.isHidden;\n\n    return classroom.id !== ownClassroomId && !fullHidden &&\n      !(userData.user.occupiedClassrooms.some((data: any) => {\n        return data.classroom.id === classroom.id && data.state === OccupiedState.PENDING\n      }))\n  };\n\n  /**\n   * From BE queue data\n   * Filter chosen classrooms in queue setup mode (MINIMAl and DESIRED)\n   * */\n  const chosen = (classroom: ClassroomType) => {\n\n    return userData.user.queue.some(({classroom: {id}, ...queueRecord}: any) => classroom.id === id)\n      && !(userData.user.occupiedClassrooms.some(({id}: ClassroomType) => classroom.id === id));\n  };\n\n  /**\n   * Others not in queue classrooms\n   * */\n  const notChosen = (classroom: ClassroomType) => {\n    const ownClassroomId = hasOwnClassroom(userData.user.occupiedClassrooms);\n\n    return !(userData.user.queue.some(({classroom: {id}}: any) => classroom.id === id)) &&\n      classroom.id !== ownClassroomId;\n  };\n\n  /**\n   * Filter action pending classrooms for current user\n   * */\n  const pending = ({id}: ClassroomType) => {\n    return userData.user.occupiedClassrooms.some((data: any) => {\n      return data.classroom.id === id && data.state === OccupiedState.PENDING\n    });\n  };\n\n  const handleShowLog = () => {\n    setShowLog(prevState => !prevState);\n  }\n\n  return (\n    <ImageBackground source={require('../../assets/images/bg.jpg')}\n                     style={{width: '100%', height: '100%'}}>\n      {!loading && !error && !userLoading && !userError\n      && userData.user.queueInfo.currentSession?.state === UserQueueState.IN_QUEUE_DESIRED_AND_OCCUPYING\n      && <ConfirmContinueDesiredQueue/>}\n      {!userLoading && !userError && (\n        <>\n          <InlineDialog visible={showQueueInSuccess}\n                        hideDialog={() => setShownQueueInSuccess(false)}\n          />\n          <QueueOutDialog visible={showQueueOutSuccess}\n                          hideDialog={() => setShownQueueOutSuccess(false)}\n          />\n        </>\n      )}\n      {mode !== Mode.QUEUE_SETUP && (\n        <TouchableOpacity style={styles.hiddenLogButton} onLongPress={handleShowLog}\n                          delayLongPress={3000}>\n        </TouchableOpacity>\n      )}\n      {!loading && !error && !userLoading && !userError && (\n        <ClassroomsAppBar freeClassroomsAmount={freeClassroomsAmount} classrooms={data.classrooms}\n                          currentUser={userData.user}\n        />\n      )}\n\n      <View style={styles.wrapper}>\n        {showLog && (\n          <Log data={JSON.stringify({...userData.user.queueInfo, ...userData.user.queue})}/>\n        )}\n        {!loading && !error && !userLoading && !userError && (\n          <ScrollView>\n            {/**\n             My classroom: OCCUPIED or RESERVED classroom by current user\n             Shown anytime except QUEUE_SETUP mode.\n             */}\n            {mode !== Mode.QUEUE_SETUP && (\n              <ClassroomsBrowser classrooms={data.classrooms.filter(own)} currentUser={userData.user}\n                                 title='Моя аудиторія'\n              />\n            )}\n\n            {/**\n             Pending classroom: PENDING for approval by current user\n             Shown in QUEUED mode\n             */}\n            {mode === Mode.INLINE && (\n              <ClassroomsBrowser classrooms={data.classrooms.filter(pending)} currentUser={userData.user}\n                                 title='Аудиторії, що очікують підтвердження'\n              />\n            )}\n\n            {/**\n             Classrooms browser shown when current user is not in queue\n             Shown all classrooms except classrooms of current user (OCCUPIED, PENDING and RESERVED)\n             and hidden and FREE at same time\n             */}\n            {mode === Mode.PRIMARY && (\n              <ClassroomsBrowser classrooms={data.classrooms.filter(primary)} currentUser={userData.user}\n                                 title='Всі аудиторії'\n              />\n            )}\n\n            {/**\n             Classrooms browser shown when current user is in QUEUE_SETUP mode\n             Shown all classrooms except classrooms of current user (OCCUPIED, PENDING and RESERVED),\n             hidden, free, disabled and disabled for current department\n             */}\n            {mode === Mode.QUEUE_SETUP && (\n              <ClassroomsBrowser classrooms={data.classrooms.filter((classroom => {\n                return isEnabledForQueue(classroom, userData.user);\n              }))} currentUser={userData.user}/>\n            )}\n\n            {/**\n             All chosen for queue classrooms when IN_QUEUE mode is enabled\n             */}\n            {mode === Mode.INLINE && (\n              <ClassroomsBrowser classrooms={data.classrooms.filter(chosen)} currentUser={userData.user}\n                                 title='Аудиторії, за якими я стою в черзі'\n              />\n            )}\n\n            {/**\n             All NOT chosen for queue classrooms when IN_QUEUE mode is enabled\n             */}\n            {mode === Mode.INLINE && (\n              <ClassroomsBrowser classrooms={data.classrooms.filter(notChosen)} currentUser={userData.user}\n                                 title='Інші аудиторії'\n              />\n            )}\n          </ScrollView>\n        )}\n        {loading && <ActivityIndicator animating color='#fff' size={64}/>}\n      </View>\n      {!!userData && !loading && !error && (\n        <Buttons currentUser={userData.user} classrooms={data.classrooms}/>\n      )}\n    </ImageBackground>\n  )\n}\n\nconst styles = StyleSheet.create(\n  {\n    grid: {\n      marginBottom: 80,\n      marginLeft: 2,\n      flexDirection: 'row',\n      flexWrap: 'wrap',\n      justifyContent: 'flex-start'\n    },\n    getInLine: {\n      position: 'absolute',\n      zIndex: 1,\n      bottom: 15,\n      width: '55%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    getOutLine: {\n      position: 'absolute',\n      zIndex: 1,\n      bottom: 15,\n      left: 20,\n      width: '43%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    getOutLineSingle: {\n      position: 'absolute',\n      zIndex: 1,\n      bottom: 15,\n      width: '55%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    approve: {\n      position: 'absolute',\n      zIndex: 1,\n      right: 20,\n      bottom: 15,\n      width: '43%',\n      height: 50,\n      justifyContent: 'center',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    wrapper: {\n      width: '100%',\n      height: '100%',\n      alignItems: 'center',\n      justifyContent: 'center',\n      backgroundColor: 'transparent',\n      paddingTop: 80,\n    },\n    queueSwitcher: {\n      flexDirection: 'row',\n      width: '76%',\n      justifyContent: 'center',\n      paddingHorizontal: 5,\n      marginHorizontal: 20,\n      alignItems: 'center',\n    },\n    gridDivider: {\n      color: '#fff',\n      marginBottom: 10,\n      marginLeft: 3,\n      marginRight: 3,\n      paddingLeft: 17,\n      borderBottomWidth: 1,\n      borderBottomColor: '#ffffff77',\n      paddingBottom: 10\n    },\n    hiddenLogButton: {\n      position: \"absolute\",\n      zIndex: 1000,\n      width: 100,\n      height: 50,\n      top: 16,\n      right: 16,\n    }\n  }\n);","import {useEffect, useRef} from \"react\";\n\nexport function usePrevious(value: any) {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n};","import React, {useEffect, useState} from 'react';\nimport {View, Text, StyleSheet, ImageBackground} from \"react-native\";\nimport {Appbar, Button, Title} from \"react-native-paper\";\nimport {client, meVar} from \"../../api/client\";\nimport {GET_USER_BY_ID} from \"../../api/operations/queries/users\";\nimport {getItem, removeItem, setItem} from \"../../api/asyncStorage\";\nimport { useNavigation } from '@react-navigation/native';\n\nexport default function Frozen() {\n  const message1 = 'Ваш аккаунт заблоковано. Для отримання доступу разблокуйте аккаунт в учбовій частині. Ваш номер:';\n  const message2 = 'Після разблокування оновіть сторінку або поверніться на сторінку входу.';\n  const [storageUser, setStorageUser] = useState<any>(null);\n  const [update, setUpdate] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const navigation = useNavigation();\n\n  useEffect(() => {\n    getItem('user').then(u => setStorageUser(u));\n  },[]);\n\n  useEffect(() => {\n    if (storageUser) {\n      setIsLoading(true);\n      client.query({\n        query: GET_USER_BY_ID,\n        variables: {\n          where: {id: storageUser.id}\n        },\n        fetchPolicy: 'network-only',\n      }).then(({data: {user}}) => {\n        setItem('user', user).then(() => {\n          setIsLoading(false);\n        });\n      });\n    }\n  }, [update]);\n\n  const navigateToLogin = async () => {\n    await removeItem('user');\n    meVar(null);\n  };\n\n  return <ImageBackground source={require('../../assets/images/bg.jpg')}\n                          style={{width: '100%', height: '100%'}}>\n    <View style={styles.container}>\n      <View style={styles.wrapper}>\n        <Title style={styles.title}>Аккаунт заблоковано</Title>\n        <Text style={styles.message}>{message1}</Text>\n        <Title style={styles.number}>{storageUser ? storageUser.id : ''}</Title>\n        <Text style={styles.message}>{message2}</Text>\n        <Button mode='contained' style={styles.button} loading={isLoading} disabled={isLoading}\n                onPress={() => setUpdate(prevState => !prevState)}\n        >\n          Оновити\n        </Button>\n        <Button mode='contained' style={styles.button} onPress={navigateToLogin}>\n          На сторінку входу\n        </Button>\n      </View>\n    </View>\n  </ImageBackground>\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n  },\n  top: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    paddingTop: 26,\n    height: 80,\n    backgroundColor: 'transparent',\n    elevation: 0\n  },\n  wrapper: {},\n  title: {\n    textAlign: 'center',\n    fontSize: 32,\n    padding: 10,\n    lineHeight: 40,\n    fontWeight: 'bold',\n    color: '#fff',\n    marginBottom: 15\n  },\n  number: {\n    textAlign: 'center',\n    fontSize: 50,\n    padding: 30,\n    lineHeight: 60,\n    marginHorizontal: 20,\n    marginBottom: 12,\n    color: '#fff',\n    borderRadius: 8,\n    borderStyle: \"solid\",\n    borderColor: '#ffffff33',\n    borderWidth: 1,\n  },\n  message: {\n    textAlign: 'center',\n    borderRadius: 8,\n    backgroundColor: '#b5e3ff77',\n    padding: 8,\n    marginHorizontal: 20,\n    marginBottom: 10,\n    fontSize: 20,\n  },\n  button: {\n    width: 200,\n    alignSelf: 'center',\n    marginTop: 10,\n    height: 50,\n    justifyContent: 'center'\n  }\n});","import React from 'react';\nimport {StyleSheet, Text, ImageBackground, View} from \"react-native\";\nimport {ProgressBar} from \"react-native-paper\";\n\nexport default function Loading() {\n\n  return (\n    <ImageBackground source={require('../assets/images/bg.jpg')} style={styles.background}>\n      <Text style={styles.text}>Loading...</Text>\n      <View style={{width: '70%', marginTop: 40}}>\n        <ProgressBar indeterminate color='#fff'/>\n      </View>\n    </ImageBackground>\n  )\n}\n\nconst styles = StyleSheet.create({\n  background: {\n    width: '100%',\n    height: '100%',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  text: {\n    color: '#fff',\n    fontSize: 24\n  }\n});","import React from 'react';\nimport {ImageBackground, Image, View} from \"react-native\";\nimport {ProgressBar} from \"react-native-paper\";\n\nexport default function Splash() {\n\n  return (\n    <ImageBackground source={require('./../assets/images/bg.jpg')} style={{\n      width: '100%',\n      height: '100%',\n      alignItems: 'center',\n      justifyContent: 'center'\n    }}>\n      <Image source={require('./../assets/images/au_logo_shadow.png')} style={{\n        width: '80%',\n        resizeMode: 'contain',\n        height: 130,\n      }}/>\n      <View style={{width: '70%', marginTop: 40}}>\n        <ProgressBar indeterminate color='#fff'/>\n      </View>\n    </ImageBackground>\n  )\n};","import React from 'react';\nimport {ScrollView, StyleSheet, View} from \"react-native\";\nimport {Appbar, Paragraph, Title} from \"react-native-paper\";\n\nexport default function PrivacyPolicy({ navigation }: any) {\n\n  const goBack = () => navigation.goBack();\n\n  return (\n    <View>\n      <Appbar style={styles.top}>\n        <Appbar.BackAction onPress={goBack}/>\n        <Appbar.Content\n          title='Політика конфіденційності'\n        />\n      </Appbar>\n      <ScrollView style={styles.wrapper}>\n          <Title>Privacy Policy for Auditorium</Title>\n          <Paragraph>At auditorium, accessible from http://auditorium.com.ua, one of our main priorities is the privacy of our visitors. This Privacy Policy document contains types of information that is collected and recorded by auditorium and how we use it.\n          </Paragraph>\n          <Paragraph>\n          If you have additional questions or require more information about our Privacy Policy, do not hesitate to contact us.\n          </Paragraph>\n          <Paragraph>\n          This Privacy Policy applies only to our online activities and is valid for visitors to our website with regards to the information that they shared and/or collect in auditorium. This policy is not applicable to any information collected offline or via channels other than this website. Our Privacy Policy was created with the help of the Privacy Policy Generator.\n          </Paragraph>\n          <Paragraph>\n          Consent\n          By using our website, you hereby consent to our Privacy Policy and agree to its terms.\n          </Paragraph>\n          <Paragraph>\n          Information we collect\n          The personal information that you are asked to provide, and the reasons why you are asked to provide it, will be made clear to you at the point we ask you to provide your personal information.\n          </Paragraph>\n          <Paragraph>\n          If you contact us directly, we may receive additional information about you such as your name, email address, phone number, the contents of the message and/or attachments you may send us, and any other information you may choose to provide.\n          </Paragraph>\n          <Paragraph>\n          When you register for an Account, we may ask for your contact information, including items such as name, company name, address, email address, and telephone number.\n          </Paragraph>\n          <Paragraph>\n          How we use your information\n          We use the information we collect in various ways, including to:\n          </Paragraph>\n          <Paragraph>\n          Provide, operate, and maintain our website\n          Improve, personalize, and expand our website\n          Understand and analyze how you use our website\n          Develop new products, services, features, and functionality\n          Communicate with you, either directly or through one of our partners, including for customer service, to provide you with updates and other information relating to the website, and for marketing and promotional purposes\n          Send you emails\n          Find and prevent fraud\n          Log Files\n          auditorium follows a standard procedure of using log files. These files log visitors when they visit websites. All hosting companies do this and a part of hosting services' analytics. The information collected by log files include internet protocol (IP) addresses, browser type, Internet Service Provider (ISP), date and time stamp, referring/exit pages, and possibly the number of clicks. These are not linked to any information that is personally identifiable. The purpose of the information is for analyzing trends, administering the site, tracking users' movement on the website, and gathering demographic information.\n          </Paragraph>\n          <Paragraph>\n          Advertising Partners Privacy Policies\n          You may consult this list to find the Privacy Policy for each of the advertising partners of auditorium.\n          </Paragraph>\n          <Paragraph>\n          Third-party ad servers or ad networks uses technologies like cookies, JavaScript, or Web Beacons that are used in their respective advertisements and links that appear on auditorium, which are sent directly to users' browser. They automatically receive your IP address when this occurs. These technologies are used to measure the effectiveness of their advertising campaigns and/or to personalize the advertising content that you see on websites that you visit.\n          </Paragraph>\n          <Paragraph>\n          Note that auditorium has no access to or control over these cookies that are used by third-party advertisers.\n          </Paragraph>\n          <Paragraph>\n          Third Party Privacy Policies\n          auditorium's Privacy Policy does not apply to other advertisers or websites. Thus, we are advising you to consult the respective Privacy Policies of these third-party ad servers for more detailed information. It may include their practices and instructions about how to opt-out of certain options.\n          </Paragraph>\n          <Paragraph>\n          You can choose to disable cookies through your individual browser options. To know more detailed information about cookie management with specific web browsers, it can be found at the browsers' respective websites.\n          </Paragraph>\n          <Paragraph>\n          CCPA Privacy Rights (Do Not Sell My Personal Information)\n          Under the CCPA, among other rights, California consumers have the right to:\n          </Paragraph>\n          <Paragraph>\n          Request that a business that collects a consumer's personal data disclose the categories and specific pieces of personal data that a business has collected about consumers.\n          </Paragraph>\n          <Paragraph>\n          Request that a business delete any personal data about the consumer that a business has collected.\n          </Paragraph>\n          <Paragraph>\n          Request that a business that sells a consumer's personal data, not sell the consumer's personal data.\n          </Paragraph>\n          <Paragraph>\n          If you make a request, we have one month to respond to you. If you would like to exercise any of these rights, please contact us.\n          </Paragraph>\n          <Paragraph>\n          GDPR Data Protection Rights\n          We would like to make sure you are fully aware of all of your data protection rights. Every user is entitled to the following:\n          </Paragraph>\n          <Paragraph>\n          The right to access – You have the right to request copies of your personal data. We may charge you a small fee for this service.\n          </Paragraph>\n          <Paragraph>\n          The right to rectification – You have the right to request that we correct any information you believe is inaccurate. You also have the right to request that we complete the information you believe is incomplete.\n          </Paragraph>\n          <Paragraph>\n          The right to erasure – You have the right to request that we erase your personal data, under certain conditions.\n          </Paragraph>\n          <Paragraph>\n          The right to restrict processing – You have the right to request that we restrict the processing of your personal data, under certain conditions.\n          </Paragraph>\n          <Paragraph>\n          The right to object to processing – You have the right to object to our processing of your personal data, under certain conditions.\n          </Paragraph>\n          <Paragraph>\n          The right to data portability – You have the right to request that we transfer the data that we have collected to another organization, or directly to you, under certain conditions.\n          </Paragraph>\n          <Paragraph>\n          If you make a request, we have one month to respond to you. If you would like to exercise any of these rights, please contact us.\n          </Paragraph>\n          <Paragraph>\n          Children's Information\n          Another part of our priority is adding protection for children while using the internet. We encourage parents and guardians to observe, participate in, and/or monitor and guide their online activity.\n          </Paragraph>\n          <Paragraph>\n          auditorium does not knowingly collect any Personal Identifiable Information from children under the age of 13. If you think that your child provided this kind of information on our website, we strongly encourage you to contact us immediately and we will do our best efforts to promptly remove such information from our records.\n          </Paragraph>\n      </ScrollView>\n    </View>\n  )\n}\n\nconst styles = StyleSheet.create({\n  top: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    paddingTop: 26,\n    height: 80,\n    backgroundColor: '#2e287c',\n  },\n  wrapper: {\n    marginTop: 100,\n    marginLeft: 16,\n    marginRight: 16,\n  },\n});","import {DarkTheme, DefaultTheme, NavigationContainer} from '@react-navigation/native';\nimport {createStackNavigator} from '@react-navigation/stack';\nimport * as React from 'react';\nimport {useEffect, useState} from 'react';\nimport {ColorSchemeName, StyleSheet} from 'react-native';\nimport {RootStackParamList} from '../types';\nimport Login from \"../screens/Login\";\nimport SignUp from \"../screens/Signup/SignUp\";\nimport ForgotPassword from \"../screens/ForgotPassword\";\nimport ForgotPasswordSuccess from \"../screens/ForgotPasswordSuccess\";\nimport {createDrawerNavigator} from \"@react-navigation/drawer\";\nimport Users from \"../screens/Users\";\nimport CustomSidebarMenu from \"./CustomSidebarMenu\";\nimport Profile from \"../screens/Profile\";\nimport {getItem} from \"../api/asyncStorage\";\nimport {AccountStatuses, User} from \"../models/models\";\nimport SignUpStepTwo from \"../screens/Signup/SignUpStepTwo\";\nimport Verification from \"../screens/Signup/Verification\";\nimport Home from \"../screens/ClassroomsList/ClassroomsList\";\nimport {meVar} from \"../api/client\";\nimport {useQuery} from \"@apollo/client\";\nimport {GET_ME} from \"../api/operations/queries/me\";\nimport Frozen from \"../screens/Signup/Frozen\";\nimport Loading from \"../screens/Loading\";\nimport * as SplashScreen from \"expo-splash-screen\";\nimport Splash from \"../screens/Splash\";\nimport PrivacyPolicy from \"../screens/PrivacyPolicy\";\n\nexport default function Navigation({colorScheme}: { colorScheme: ColorSchemeName }) {\n  return (\n    <NavigationContainer\n      theme={colorScheme === 'dark' ? DarkTheme : DefaultTheme}>\n      <RootNavigator/>\n    </NavigationContainer>\n  );\n}\n\nconst Drawer = createDrawerNavigator();\nconst Stack = createStackNavigator<RootStackParamList>();\n\n\nfunction RootNavigator() {\n  const [accountStatus, setAccountStatus] = useState<AccountStatuses | null>(null);\n  const {data: {me}} = useQuery(GET_ME);\n  const [appIsReady, setAppIsReady] = useState(false);\n\n  const getAccountStatus = (user: User) => {\n    //@ts-ignore\n    const {studentInfo, employeeInfo} = user;\n\n    const isStudent = !!studentInfo;\n    const status = isStudent ? studentInfo?.accountStatus : employeeInfo?.accountStatus;\n    setAccountStatus(status);\n  }\n\n  const getMe = async () => {\n    if (!me) {\n      try {\n        const user: User | undefined = await getItem('user')\n        if (user) {\n          getAccountStatus(user);\n          meVar(user);\n        } else {\n        }\n      } catch (e) {\n        alert(JSON.stringify(e));\n      }\n    } else {\n      getAccountStatus(me);\n    }\n  }\n\n  useEffect(() => {\n    getMe();\n  }, [me]);\n\n  const checkStatus = ((accountStatus: AccountStatuses) => {\n    switch (accountStatus) {\n      case AccountStatuses.UNVERIFIED:\n        return Verification;\n      case AccountStatuses.FROZEN:\n      case AccountStatuses.ACADEMIC_LEAVE:\n        return Frozen;\n      case AccountStatuses.ACTIVE:\n        return Home;\n      default:\n        return Loading;\n    }\n  });\n\n\n  useEffect(() => {\n    async function prepare() {\n      try {\n        await getMe();\n        await SplashScreen.preventAutoHideAsync();\n      } catch (e) {\n        console.warn(e);\n      } finally {\n        setAppIsReady(true);\n      }\n    }\n\n    prepare();\n  }, []);\n\n return (\n    me ? <Drawer.Navigator initialRouteName=\"Home\" drawerStyle={styles.drawer} drawerContentOptions={{\n        activeBackgroundColor: '#2b5dff',\n        labelStyle: {\n          fontSize: 20,\n          color: '#fff'\n        },\n      }}\n                           drawerContent={(props: any) => <CustomSidebarMenu {...props}/>}\n      >\n        <Drawer.Screen name=\"Home\"\n          //TODO set !== to ===\n                       component={checkStatus(accountStatus as AccountStatuses)}\n                       options={{\n                         title: 'Аудиторії',\n                       }}\n                       initialParams={{id: meVar()?.id}}\n        />\n        <Drawer.Screen name=\"Users\" component={Users} options={{\n          title: 'Довідник',\n        }}/>\n        {/*<Drawer.Screen name=\"Schedule\" component={Schedule} options={{*/}\n        {/*  title: 'Розклад'*/}\n        {/*}}/>*/}\n        <Drawer.Screen name=\"Profile\" component={Profile} options={{\n          title: 'Мій профіль'\n        }}/>\n        <Drawer.Screen name=\"PrivacyPolicy\" component={PrivacyPolicy} options={{\n          title: 'Політика конфіденційності'\n        }}/>\n      </Drawer.Navigator>\n      : <Stack.Navigator screenOptions={{headerShown: false}} initialRouteName=\"Login\">\n        <Stack.Screen\n          name=\"Login\"\n          component={appIsReady ? Login : Splash}\n        />\n        <Stack.Screen\n          name=\"SignUp\"\n          component={SignUp}\n        />\n        <Stack.Screen\n          name=\"SignUpStepTwo\"\n          component={SignUpStepTwo}\n        />\n        <Stack.Screen\n          name=\"ForgotPassword\"\n          component={ForgotPassword}\n        />\n        <Stack.Screen\n          name=\"ForgotPasswordSuccess\"\n          component={ForgotPasswordSuccess}\n        />\n      </Stack.Navigator>\n  );\n}\n\nconst styles = StyleSheet.create({\n  drawer: {\n    backgroundColor: '#2e287c',\n  }\n});\n","import {StatusBar} from 'expo-status-bar';\nimport React from 'react';\nimport {SafeAreaProvider} from 'react-native-safe-area-context';\n\nimport useColorScheme from './hooks/useColorScheme';\nimport Navigation from './navigation';\nimport {ApolloProvider} from \"@apollo/client\";\nimport {client} from \"./api/client\";\nimport {Provider, DefaultTheme} from \"react-native-paper\";\nimport PushNotification from \"./screens/PushNotification\";\n\nexport default function App() {\n  const colorScheme = useColorScheme();\n\n  const theme = {\n    ...DefaultTheme,\n    roundness: 8,\n    colors: {\n      ...DefaultTheme.colors,\n      primary: '#2b5dff',\n      accent: '#ffc000',\n    },\n  };\n\n  return (\n    <ApolloProvider client={client}>\n      <SafeAreaProvider>\n        <Provider theme={theme}>\n          <Navigation colorScheme={colorScheme}/>\n          <StatusBar/>\n        </Provider>\n      </SafeAreaProvider>\n    </ApolloProvider>\n  );\n}\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOAAAACICAYAAAD+iufWAAAB6klEQVR4Xu3TsS1AUQBA0T+ERIE5xBg6pVKisYAYxwB6iULQiE4kFKIwxuN/hQ3ebU5xijvAXQ6vnsdyejd2zu+BSdbntvf2Lx7GcnILTLa9Z0BoGBBCBoSQASFkQAgZEEIGhJABIWRACBkQQgaEkAEhZEAIGRBCBoSQASFkQAgZEEIGhJABIWRACBkQQgaEkAEhZEAIGRBCBoSQASFkQAgZEEIGhJABIWRACBkQQgaEkAEhZEAIGRBCBoSQASFkQAgZEEIGhJABIWRACBkQQgaEkAEhZEAIGRBCBoSQASFkQAgZEEIGhJABIWRACBkQQgaEkAEhZEAIGRBCBoSQASH0P+DxIzDZ9t7R5c3YPbsGJlvfW75f9sbX0wJMtr63jI9lAI2/AV+B6QwIIQNCyIAQMiCEDAghA0LIgBAyIIQMCCEDQsiAEDIghAwIIQNCyIAQMiCEDAghA0LIgBAyIIQMCCEDQsiAEDIghAwIIQNCyIAQMiCEDAghA0LIgBAyIIQMCCEDQsiAEDIghAwIIQNCyIAQMiCEDAghA0LIgBAyIIQMCCEDQsiAEDIghAwIIQNCyIAQMiCEDAghA0LIgBAyIIQMCCEDQsiAEDIghAwIIQNCyIAQMiCEtgE/D8Z4+413YJr1ud/3fgCFyrWhM9fD5QAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/en.d565fadc.png\";","var map = {\n\t\"./af\": 267,\n\t\"./af.js\": 267,\n\t\"./ar\": 268,\n\t\"./ar-dz\": 269,\n\t\"./ar-dz.js\": 269,\n\t\"./ar-kw\": 270,\n\t\"./ar-kw.js\": 270,\n\t\"./ar-ly\": 271,\n\t\"./ar-ly.js\": 271,\n\t\"./ar-ma\": 272,\n\t\"./ar-ma.js\": 272,\n\t\"./ar-sa\": 273,\n\t\"./ar-sa.js\": 273,\n\t\"./ar-tn\": 274,\n\t\"./ar-tn.js\": 274,\n\t\"./ar.js\": 268,\n\t\"./az\": 275,\n\t\"./az.js\": 275,\n\t\"./be\": 276,\n\t\"./be.js\": 276,\n\t\"./bg\": 277,\n\t\"./bg.js\": 277,\n\t\"./bm\": 278,\n\t\"./bm.js\": 278,\n\t\"./bn\": 279,\n\t\"./bn-bd\": 280,\n\t\"./bn-bd.js\": 280,\n\t\"./bn.js\": 279,\n\t\"./bo\": 281,\n\t\"./bo.js\": 281,\n\t\"./br\": 282,\n\t\"./br.js\": 282,\n\t\"./bs\": 283,\n\t\"./bs.js\": 283,\n\t\"./ca\": 284,\n\t\"./ca.js\": 284,\n\t\"./cs\": 285,\n\t\"./cs.js\": 285,\n\t\"./cv\": 286,\n\t\"./cv.js\": 286,\n\t\"./cy\": 287,\n\t\"./cy.js\": 287,\n\t\"./da\": 288,\n\t\"./da.js\": 288,\n\t\"./de\": 289,\n\t\"./de-at\": 290,\n\t\"./de-at.js\": 290,\n\t\"./de-ch\": 291,\n\t\"./de-ch.js\": 291,\n\t\"./de.js\": 289,\n\t\"./dv\": 292,\n\t\"./dv.js\": 292,\n\t\"./el\": 293,\n\t\"./el.js\": 293,\n\t\"./en-au\": 294,\n\t\"./en-au.js\": 294,\n\t\"./en-ca\": 295,\n\t\"./en-ca.js\": 295,\n\t\"./en-gb\": 296,\n\t\"./en-gb.js\": 296,\n\t\"./en-ie\": 297,\n\t\"./en-ie.js\": 297,\n\t\"./en-il\": 298,\n\t\"./en-il.js\": 298,\n\t\"./en-in\": 299,\n\t\"./en-in.js\": 299,\n\t\"./en-nz\": 300,\n\t\"./en-nz.js\": 300,\n\t\"./en-sg\": 301,\n\t\"./en-sg.js\": 301,\n\t\"./eo\": 302,\n\t\"./eo.js\": 302,\n\t\"./es\": 303,\n\t\"./es-do\": 304,\n\t\"./es-do.js\": 304,\n\t\"./es-mx\": 305,\n\t\"./es-mx.js\": 305,\n\t\"./es-us\": 306,\n\t\"./es-us.js\": 306,\n\t\"./es.js\": 303,\n\t\"./et\": 307,\n\t\"./et.js\": 307,\n\t\"./eu\": 308,\n\t\"./eu.js\": 308,\n\t\"./fa\": 309,\n\t\"./fa.js\": 309,\n\t\"./fi\": 310,\n\t\"./fi.js\": 310,\n\t\"./fil\": 311,\n\t\"./fil.js\": 311,\n\t\"./fo\": 312,\n\t\"./fo.js\": 312,\n\t\"./fr\": 313,\n\t\"./fr-ca\": 314,\n\t\"./fr-ca.js\": 314,\n\t\"./fr-ch\": 315,\n\t\"./fr-ch.js\": 315,\n\t\"./fr.js\": 313,\n\t\"./fy\": 316,\n\t\"./fy.js\": 316,\n\t\"./ga\": 317,\n\t\"./ga.js\": 317,\n\t\"./gd\": 318,\n\t\"./gd.js\": 318,\n\t\"./gl\": 319,\n\t\"./gl.js\": 319,\n\t\"./gom-deva\": 320,\n\t\"./gom-deva.js\": 320,\n\t\"./gom-latn\": 321,\n\t\"./gom-latn.js\": 321,\n\t\"./gu\": 322,\n\t\"./gu.js\": 322,\n\t\"./he\": 323,\n\t\"./he.js\": 323,\n\t\"./hi\": 324,\n\t\"./hi.js\": 324,\n\t\"./hr\": 325,\n\t\"./hr.js\": 325,\n\t\"./hu\": 326,\n\t\"./hu.js\": 326,\n\t\"./hy-am\": 327,\n\t\"./hy-am.js\": 327,\n\t\"./id\": 328,\n\t\"./id.js\": 328,\n\t\"./is\": 329,\n\t\"./is.js\": 329,\n\t\"./it\": 330,\n\t\"./it-ch\": 331,\n\t\"./it-ch.js\": 331,\n\t\"./it.js\": 330,\n\t\"./ja\": 332,\n\t\"./ja.js\": 332,\n\t\"./jv\": 333,\n\t\"./jv.js\": 333,\n\t\"./ka\": 334,\n\t\"./ka.js\": 334,\n\t\"./kk\": 335,\n\t\"./kk.js\": 335,\n\t\"./km\": 336,\n\t\"./km.js\": 336,\n\t\"./kn\": 337,\n\t\"./kn.js\": 337,\n\t\"./ko\": 338,\n\t\"./ko.js\": 338,\n\t\"./ku\": 339,\n\t\"./ku.js\": 339,\n\t\"./ky\": 340,\n\t\"./ky.js\": 340,\n\t\"./lb\": 341,\n\t\"./lb.js\": 341,\n\t\"./lo\": 342,\n\t\"./lo.js\": 342,\n\t\"./lt\": 343,\n\t\"./lt.js\": 343,\n\t\"./lv\": 344,\n\t\"./lv.js\": 344,\n\t\"./me\": 345,\n\t\"./me.js\": 345,\n\t\"./mi\": 346,\n\t\"./mi.js\": 346,\n\t\"./mk\": 347,\n\t\"./mk.js\": 347,\n\t\"./ml\": 348,\n\t\"./ml.js\": 348,\n\t\"./mn\": 349,\n\t\"./mn.js\": 349,\n\t\"./mr\": 350,\n\t\"./mr.js\": 350,\n\t\"./ms\": 351,\n\t\"./ms-my\": 352,\n\t\"./ms-my.js\": 352,\n\t\"./ms.js\": 351,\n\t\"./mt\": 353,\n\t\"./mt.js\": 353,\n\t\"./my\": 354,\n\t\"./my.js\": 354,\n\t\"./nb\": 355,\n\t\"./nb.js\": 355,\n\t\"./ne\": 356,\n\t\"./ne.js\": 356,\n\t\"./nl\": 357,\n\t\"./nl-be\": 358,\n\t\"./nl-be.js\": 358,\n\t\"./nl.js\": 357,\n\t\"./nn\": 359,\n\t\"./nn.js\": 359,\n\t\"./oc-lnc\": 360,\n\t\"./oc-lnc.js\": 360,\n\t\"./pa-in\": 361,\n\t\"./pa-in.js\": 361,\n\t\"./pl\": 362,\n\t\"./pl.js\": 362,\n\t\"./pt\": 363,\n\t\"./pt-br\": 364,\n\t\"./pt-br.js\": 364,\n\t\"./pt.js\": 363,\n\t\"./ro\": 365,\n\t\"./ro.js\": 365,\n\t\"./ru\": 366,\n\t\"./ru.js\": 366,\n\t\"./sd\": 367,\n\t\"./sd.js\": 367,\n\t\"./se\": 368,\n\t\"./se.js\": 368,\n\t\"./si\": 369,\n\t\"./si.js\": 369,\n\t\"./sk\": 370,\n\t\"./sk.js\": 370,\n\t\"./sl\": 371,\n\t\"./sl.js\": 371,\n\t\"./sq\": 372,\n\t\"./sq.js\": 372,\n\t\"./sr\": 373,\n\t\"./sr-cyrl\": 374,\n\t\"./sr-cyrl.js\": 374,\n\t\"./sr.js\": 373,\n\t\"./ss\": 375,\n\t\"./ss.js\": 375,\n\t\"./sv\": 376,\n\t\"./sv.js\": 376,\n\t\"./sw\": 377,\n\t\"./sw.js\": 377,\n\t\"./ta\": 378,\n\t\"./ta.js\": 378,\n\t\"./te\": 379,\n\t\"./te.js\": 379,\n\t\"./tet\": 380,\n\t\"./tet.js\": 380,\n\t\"./tg\": 381,\n\t\"./tg.js\": 381,\n\t\"./th\": 382,\n\t\"./th.js\": 382,\n\t\"./tk\": 383,\n\t\"./tk.js\": 383,\n\t\"./tl-ph\": 384,\n\t\"./tl-ph.js\": 384,\n\t\"./tlh\": 385,\n\t\"./tlh.js\": 385,\n\t\"./tr\": 386,\n\t\"./tr.js\": 386,\n\t\"./tzl\": 387,\n\t\"./tzl.js\": 387,\n\t\"./tzm\": 388,\n\t\"./tzm-latn\": 389,\n\t\"./tzm-latn.js\": 389,\n\t\"./tzm.js\": 388,\n\t\"./ug-cn\": 390,\n\t\"./ug-cn.js\": 390,\n\t\"./uk\": 391,\n\t\"./uk.js\": 391,\n\t\"./ur\": 392,\n\t\"./ur.js\": 392,\n\t\"./uz\": 393,\n\t\"./uz-latn\": 394,\n\t\"./uz-latn.js\": 394,\n\t\"./uz.js\": 393,\n\t\"./vi\": 395,\n\t\"./vi.js\": 395,\n\t\"./x-pseudo\": 396,\n\t\"./x-pseudo.js\": 396,\n\t\"./yo\": 397,\n\t\"./yo.js\": 397,\n\t\"./zh-cn\": 398,\n\t\"./zh-cn.js\": 398,\n\t\"./zh-hk\": 399,\n\t\"./zh-hk.js\": 399,\n\t\"./zh-mo\": 400,\n\t\"./zh-mo.js\": 400,\n\t\"./zh-tw\": 401,\n\t\"./zh-tw.js\": 401\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 568;","module.exports = __webpack_public_path__ + \"static/media/au_logo.de05cb10.png\";","module.exports = __webpack_public_path__ + \"static/media/key.5df04324.png\";"],"sourceRoot":""}